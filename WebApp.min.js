var pas={$libimports:{}};var rtl={version:20200,quiet:false,debug_load_units:false,debug_rtti:false,$res:{},debug:function(){if(rtl.quiet||!console||!console.log)return;console.log(arguments);},error:function(s){rtl.debug('Error: ',s);throw s;},warn:function(s){rtl.debug('Warn: ',s);},checkVersion:function(v){if(rtl.version!=v)throw "expected rtl version "+v+", but found "+rtl.version;},hiInt:Math.pow(2,53),hasString:function(s){return rtl.isString(s)&&(s.length>0);},isArray:function(a){return Array.isArray(a);},isFunction:function(f){return typeof(f)==="function";},isModule:function(m){return rtl.isObject(m)&&rtl.hasString(m.$name)&&(pas[m.$name]===m);},isImplementation:function(m){return rtl.isObject(m)&&rtl.isModule(m.$module)&&(m.$module.$impl===m);},isNumber:function(n){return typeof(n)==="number";},isObject:function(o){var s=typeof(o);return(typeof(o)==="object")&&(o!=null);},isString:function(s){return typeof(s)==="string";},getNumber:function(n){return typeof(n)==="number"?n:NaN;},getChar:function(c){return((typeof(c)==="string")&&(c.length===1))?c:"";},getObject:function(o){return((typeof(o)==="object")||(typeof(o)==='function'))?o:null;},isTRecord:function(type){return(rtl.isObject(type)&&type.hasOwnProperty('$new')&&(typeof(type.$new)==='function'));},isPasClass:function(type){return(rtl.isObject(type)&&type.hasOwnProperty('$classname')&&rtl.isObject(type.$module));},isPasClassInstance:function(type){return(rtl.isObject(type)&&rtl.isPasClass(type.$class));},hexStr:function(n,digits){return("000000000000000"+n.toString(16).toUpperCase()).slice(-digits);},m_loading:0,m_loading_intf:1,m_intf_loaded:2,m_loading_impl:3,m_initializing:4,m_initialized:5,module:function(module_name,intfuseslist,intfcode,impluseslist){if(rtl.debug_load_units)rtl.debug('rtl.module name="'+module_name+'" intfuses='+intfuseslist+' impluses='+impluseslist);if(!rtl.hasString(module_name))rtl.error('invalid module name "'+module_name+'"');if(!rtl.isArray(intfuseslist))rtl.error('invalid interface useslist of "'+module_name+'"');if(!rtl.isFunction(intfcode))rtl.error('invalid interface code of "'+module_name+'"');if(!(impluseslist==undefined)&&!rtl.isArray(impluseslist))rtl.error('invalid implementation useslist of "'+module_name+'"');if(pas[module_name])
rtl.error('module "'+module_name+'" is already registered');var r=Object.create(rtl.tSectionRTTI);var module=r.$module=pas[module_name]={$name:module_name,$intfuseslist:intfuseslist,$impluseslist:impluseslist,$state:rtl.m_loading,$intfcode:intfcode,$implcode:null,$impl:null,$rtti:r};if(impluseslist)module.$impl={$module:module,$rtti:r};},exitcode:0,run:function(module_name){try{if(!rtl.hasString(module_name))module_name='program';if(rtl.debug_load_units)rtl.debug('rtl.run module="'+module_name+'"');rtl.initRTTI();var module=pas[module_name];if(!module)rtl.error('rtl.run module "'+module_name+'" missing');rtl.loadintf(module);rtl.loadimpl(module);if((module_name=='program')||(module_name=='library')){if(rtl.debug_load_units)rtl.debug('running $main');var r=pas[module_name].$main();if(rtl.isNumber(r))rtl.exitcode=r;}}catch(re){if(!rtl.showUncaughtExceptions){throw re}else{if(!rtl.handleUncaughtException(re)){rtl.showException(re);rtl.exitcode=216;}}}
return rtl.exitcode;},showException:function(re){var errMsg=rtl.hasString(re.$classname)?re.$classname:'';errMsg+=((errMsg)?': ':'')+(re.hasOwnProperty('fMessage')?re.fMessage:re);alert('Uncaught Exception : '+errMsg);},handleUncaughtException:function(e){if(rtl.onUncaughtException){try{rtl.onUncaughtException(e);return true;}catch(ee){return false;}}else{return false;}},loadintf:function(module){if(module.$state>rtl.m_loading_intf)return;if(rtl.debug_load_units)rtl.debug('loadintf: "'+module.$name+'"');if(module.$state===rtl.m_loading_intf)
rtl.error('unit cycle detected "'+module.$name+'"');module.$state=rtl.m_loading_intf;rtl.loaduseslist(module,module.$intfuseslist,rtl.loadintf);if(rtl.debug_load_units)rtl.debug('loadintf: run intf of "'+module.$name+'"');module.$intfcode(module.$intfuseslist);module.$state=rtl.m_intf_loaded;},loaduseslist:function(module,useslist,f){if(useslist==undefined)return;var len=useslist.length;for(var i=0;i<len;i++){var unitname=useslist[i];if(rtl.debug_load_units)rtl.debug('loaduseslist of "'+module.$name+'" uses="'+unitname+'"');if(pas[unitname]==undefined)
rtl.error('module "'+module.$name+'" misses "'+unitname+'"');f(pas[unitname]);}},loadimpl:function(module){if(module.$state>=rtl.m_loading_impl)return;if(module.$state<rtl.m_intf_loaded)rtl.error('loadimpl: interface not loaded of "'+module.$name+'"');if(rtl.debug_load_units)rtl.debug('loadimpl: load uses of "'+module.$name+'"');module.$state=rtl.m_loading_impl;rtl.loaduseslist(module,module.$impluseslist,rtl.loadintf);rtl.loaduseslist(module,module.$intfuseslist,rtl.loadimpl);rtl.loaduseslist(module,module.$impluseslist,rtl.loadimpl);if(rtl.debug_load_units)rtl.debug('loadimpl: run impl of "'+module.$name+'"');if(rtl.isFunction(module.$implcode))module.$implcode(module.$impluseslist);if(rtl.debug_load_units)rtl.debug('loadimpl: run init of "'+module.$name+'"');module.$state=rtl.m_initializing;if(rtl.isFunction(module.$init))module.$init();module.$state=rtl.m_initialized;},createCallback:function(scope,fn){var cb;if(typeof(fn)==='string'){if(!scope.hasOwnProperty('$events'))scope.$events={};cb=scope.$events[fn];if(cb)return cb;scope.$events[fn]=cb=function(){return scope[fn].apply(scope,arguments);};}else{cb=function(){return fn.apply(scope,arguments);};};cb.scope=scope;cb.fn=fn;return cb;},createSafeCallback:function(scope,fn){var cb;if(typeof(fn)==='string'){if(!scope.hasOwnProperty('$events'))scope.$events={};cb=scope.$events[fn];if(cb)return cb;scope.$events[fn]=cb=function(){try{return scope[fn].apply(scope,arguments);}catch(err){if(!rtl.handleUncaughtException(err))throw err;}};}else{cb=function(){try{return fn.apply(scope,arguments);}catch(err){if(!rtl.handleUncaughtException(err))throw err;}};};cb.scope=scope;cb.fn=fn;return cb;},eqCallback:function(a,b){if(a===b){return true;}else{return(a!=null)&&(b!=null)&&(a.fn)&&(a.scope===b.scope)&&(a.fn===b.fn);}},initStruct:function(c,parent,name){if((parent.$module)&&(parent.$module.$impl===parent))parent=parent.$module;c.$parent=parent;if(rtl.isModule(parent)){c.$module=parent;c.$name=name;}else{c.$module=parent.$module;c.$name=parent.$name+'.'+name;};return parent;},initClass:function(c,parent,name,initfn,rttiname){parent[name]=c;c.$class=c;c.$classname=rttiname?rttiname:name;parent=rtl.initStruct(c,parent,name);c.$fullname=parent.$name+'.'+name;if(rtl.debug_rtti)rtl.debug('initClass '+c.$fullname);var t=c.$module.$rtti.$Class(c.$classname,{"class":c});c.$rtti=t;if(rtl.isObject(c.$ancestor))t.ancestor=c.$ancestor.$rtti;if(!t.ancestor)t.ancestor=null;initfn.call(c);},createClass:function(parent,name,ancestor,initfn,rttiname){var c=null;if(ancestor!=null){c=Object.create(ancestor);c.$ancestor=ancestor;}else{c={$ancestor:null};c.$create=function(fn,args){if(args==undefined)args=[];var o=Object.create(this);o.$init();try{if(typeof(fn)==="string"){o[fn].apply(o,args);}else{fn.apply(o,args);};o.AfterConstruction();}catch($e){if(o.Destroy)o.Destroy();o.$final();throw $e;}
return o;};c.$destroy=function(fnname){this.BeforeDestruction();if(this[fnname])this[fnname]();this.$final();};};rtl.initClass(c,parent,name,initfn,rttiname);},createClassExt:function(parent,name,ancestor,newinstancefnname,initfn,rttiname){var isFunc=rtl.isFunction(ancestor);var c=null;if(isFunc){c=Object.create(ancestor.prototype);c.$ancestorfunc=ancestor;c.$ancestor=null;}else if(ancestor.$func){isFunc=true;c=Object.create(ancestor);c.$ancestor=ancestor;}else{c=Object.create(ancestor);c.$ancestor=null;}
c.$create=function(fn,args){if(args==undefined)args=[];var o=null;if(newinstancefnname.length>0){o=this[newinstancefnname](fn,args);}else if(isFunc){o=new this.$func(args);}else{o=Object.create(c);}
if(o.$init)o.$init();try{if(typeof(fn)==="string"){this[fn].apply(o,args);}else{fn.apply(o,args);};if(o.AfterConstruction)o.AfterConstruction();}catch($e){if(o.Destroy)o.Destroy();if(o.$final)o.$final();throw $e;}
return o;};c.$destroy=function(fnname){if(this.BeforeDestruction)this.BeforeDestruction();if(this[fnname])this[fnname]();if(this.$final)this.$final();};rtl.initClass(c,parent,name,initfn,rttiname);if(isFunc){function f(){}
f.prototype=c;c.$func=f;}},createHelper:function(parent,name,ancestor,initfn,rttiname){var c=null;if(ancestor!=null){c=Object.create(ancestor);c.$ancestor=ancestor;}else{c={$ancestor:null};};parent[name]=c;c.$class=c;c.$classname=rttiname?rttiname:name;parent=rtl.initStruct(c,parent,name);c.$fullname=parent.$name+'.'+name;var t=c.$module.$rtti.$Helper(c.$classname,{"helper":c});c.$rtti=t;if(rtl.isObject(ancestor))t.ancestor=ancestor.$rtti;if(!t.ancestor)t.ancestor=null;initfn.call(c);},tObjectDestroy:"Destroy",free:function(obj,name){if(obj[name]==null)return null;obj[name].$destroy(rtl.tObjectDestroy);obj[name]=null;},freeLoc:function(obj){if(obj==null)return null;obj.$destroy(rtl.tObjectDestroy);return null;},hideProp:function(o,p,v){Object.defineProperty(o,p,{enumerable:false,configurable:true,writable:true});if(arguments.length>2){o[p]=v;}},recNewT:function(parent,name,initfn,full){var t={};if(parent)parent[name]=t;var h=rtl.hideProp;if(full){rtl.initStruct(t,parent,name);t.$record=t;h(t,'$record');h(t,'$name');h(t,'$parent');h(t,'$module');h(t,'$initSpec');}
initfn.call(t);if(!t.$new){t.$new=function(){return Object.create(t);};}
t.$clone=function(r){return t.$new().$assign(r);};h(t,'$new');h(t,'$clone');h(t,'$eq');h(t,'$assign');return t;},is:function(instance,type){return type.isPrototypeOf(instance)||(instance===type);},isExt:function(instance,type,mode){if(instance==null)return false;if((typeof(type)!=='object')&&(typeof(type)!=='function'))return false;if(instance===type){if(mode===1)return false;if(mode===2)return rtl.isPasClass(instance);return true;}
if(type.isPrototypeOf&&type.isPrototypeOf(instance)){if(mode===1)return rtl.isPasClassInstance(instance);if(mode===2)return rtl.isPasClass(instance);return true;}
if((typeof type=='function')&&(instance instanceof type))return true;return false;},Exception:null,EInvalidCast:null,EAbstractError:null,ERangeError:null,EIntOverflow:null,EPropWriteOnly:null,raiseE:function(typename){var t=rtl[typename];if(t==null){var mod=pas.SysUtils;if(!mod)mod=pas.sysutils;if(mod){t=mod[typename];if(!t)t=mod[typename.toLowerCase()];if(!t)t=mod['Exception'];if(!t)t=mod['exception'];}}
if(t){if(t.Create){throw t.$create("Create");}else if(t.create){throw t.$create("create");}}
if(typename==="EInvalidCast")throw "invalid type cast";if(typename==="EAbstractError")throw "Abstract method called";if(typename==="ERangeError")throw "range error";throw typename;},as:function(instance,type){if((instance===null)||rtl.is(instance,type))return instance;rtl.raiseE("EInvalidCast");},asExt:function(instance,type,mode){if((instance===null)||rtl.isExt(instance,type,mode))return instance;rtl.raiseE("EInvalidCast");},createInterface:function(module,name,guid,fnnames,ancestor,initfn){var i=ancestor?Object.create(ancestor):{};module[name]=i;i.$module=module;i.$name=name;i.$fullname=module.$name+'.'+name;i.$guid=guid;i.$guidr=null;i.$names=fnnames?fnnames:[];if(rtl.isFunction(initfn)){if(rtl.debug_rtti)rtl.debug('createInterface '+i.$fullname);var t=i.$module.$rtti.$Interface(name,{"interface":i,module:module});i.$rtti=t;if(ancestor)t.ancestor=ancestor.$rtti;if(!t.ancestor)t.ancestor=null;initfn.call(i);}
return i;},strToGUIDR:function(s,g){var p=0;function n(l){var h=s.substr(p,l);p+=l;return parseInt(h,16);}
p+=1;g.D1=n(8);p+=1;g.D2=n(4);p+=1;g.D3=n(4);p+=1;if(!g.D4)g.D4=[];g.D4[0]=n(2);g.D4[1]=n(2);p+=1;for(var i=2;i<8;i++)g.D4[i]=n(2);return g;},guidrToStr:function(g){if(g.$intf)return g.$intf.$guid;var h=rtl.hexStr;var s='{'+h(g.D1,8)+'-'+h(g.D2,4)+'-'+h(g.D3,4)+'-'+h(g.D4[0],2)+h(g.D4[1],2)+'-';for(var i=2;i<8;i++)s+=h(g.D4[i],2);s+='}';return s;},createTGUID:function(guid){var TGuid=(pas.System)?pas.System.TGuid:pas.system.tguid;var g=rtl.strToGUIDR(guid,TGuid.$new());return g;},getIntfGUIDR:function(intfTypeOrVar){if(!intfTypeOrVar)return null;if(!intfTypeOrVar.$guidr){var g=rtl.createTGUID(intfTypeOrVar.$guid);if(!intfTypeOrVar.hasOwnProperty('$guid'))intfTypeOrVar=Object.getPrototypeOf(intfTypeOrVar);g.$intf=intfTypeOrVar;intfTypeOrVar.$guidr=g;}
return intfTypeOrVar.$guidr;},addIntf:function(aclass,intf,map){function jmp(fn){if(typeof(fn)==="function"){return function(){return fn.apply(this.$o,arguments);};}else{return function(){rtl.raiseE('EAbstractError');};}}
if(!map)map={};var t=intf;var item=Object.create(t);if(!aclass.hasOwnProperty('$intfmaps'))aclass.$intfmaps={};aclass.$intfmaps[intf.$guid]=item;do{var names=t.$names;if(!names)break;for(var i=0;i<names.length;i++){var intfname=names[i];var fnname=map[intfname];if(!fnname)fnname=intfname;item[intfname]=jmp(aclass[fnname]);}
t=Object.getPrototypeOf(t);}while(t!=null);},getIntfG:function(obj,guid,query){if(!obj)return null;var maps=obj.$intfmaps;if(!maps)return null;var item=maps[guid];if(!item)return null;if(typeof item==='function')return item.call(obj);var intf=null;if(obj.$interfaces){intf=obj.$interfaces[guid];}
if(!intf){intf=Object.create(item);intf.$o=obj;if(!obj.$interfaces)obj.$interfaces={};obj.$interfaces[guid]=intf;}
if(typeof(query)==='object'){var o=null;if(intf.QueryInterface(rtl.getIntfGUIDR(query),{get:function(){return o;},set:function(v){o=v;}})===0){return o;}else{return null;}}else if(query===2){if(intf.$kind==='com')intf._AddRef();}
return intf;},getIntfT:function(obj,intftype){return rtl.getIntfG(obj,intftype.$guid);},queryIntfT:function(obj,intftype){return rtl.getIntfG(obj,intftype.$guid,intftype);},queryIntfIsT:function(obj,intftype){var i=rtl.getIntfG(obj,intftype.$guid);if(!i)return false;if(i.$kind==='com')i._Release();return true;},asIntfT:function(obj,intftype){var i=rtl.getIntfG(obj,intftype.$guid);if(i!==null)return i;rtl.raiseEInvalidCast();},intfIsIntfT:function(intf,intftype){return(intf!==null)&&rtl.queryIntfIsT(intf.$o,intftype);},intfAsIntfT:function(intf,intftype){if(!intf)return null;var i=rtl.getIntfG(intf.$o,intftype.$guid);if(i)return i;rtl.raiseEInvalidCast();},intfIsClass:function(intf,classtype){return(intf!=null)&&(rtl.is(intf.$o,classtype));},intfAsClass:function(intf,classtype){if(intf==null)return null;return rtl.as(intf.$o,classtype);},intfToClass:function(intf,classtype){if((intf!==null)&&rtl.is(intf.$o,classtype))return intf.$o;return null;},intfRefs:{ref:function(id,intf){var old=this[id];if(old){delete this[id];old._Release();}
if(intf){this[id]=intf;}
return intf;},free:function(){for(var id in this){if(this.hasOwnProperty(id)){var intf=this[id];if(intf){intf._Release();}}}}},createIntfRefs:function(){return Object.create(rtl.intfRefs);},setIntfP:function(path,name,value,skipAddRef){var old=path[name];if(old===value)return;if(old!==null){path[name]=null;old._Release();}
if(value!==null){if(!skipAddRef)value._AddRef();path[name]=value;}},setIntfL:function(old,value,skipAddRef){if(old!==value){if(value!==null){if(!skipAddRef)value._AddRef();}
if(old!==null){old._Release();}}else if(skipAddRef){if(old!==null){old._Release();}}
return value;},_AddRef:function(intf){if(intf)intf._AddRef();return intf;},_Release:function(intf){if(intf)intf._Release();return intf;},trunc:function(a){return a<0?Math.ceil(a):Math.floor(a);},checkMethodCall:function(obj,type){if(rtl.isObject(obj)&&rtl.is(obj,type))return;rtl.raiseE("EInvalidCast");},oc:function(i){if((Math.floor(i)===i)&&(i>=-0x1fffffffffffff)&&(i<=0x1fffffffffffff))return i;rtl.raiseE('EIntOverflow');},rc:function(i,minval,maxval){if((Math.floor(i)===i)&&(i>=minval)&&(i<=maxval))return i;rtl.raiseE('ERangeError');},rcc:function(c,minval,maxval){if((typeof(c)==='string')&&(c.length===1)){var i=c.charCodeAt(0);if((i>=minval)&&(i<=maxval))return c;}
rtl.raiseE('ERangeError');},rcSetCharAt:function(s,index,c){if((typeof(s)!=='string')||(index<0)||(index>=s.length))rtl.raiseE('ERangeError');return rtl.setCharAt(s,index,c);},rcCharAt:function(s,index){if((typeof(s)!=='string')||(index<0)||(index>=s.length))rtl.raiseE('ERangeError');return s.charAt(index);},rcArrR:function(arr,index){if(Array.isArray(arr)&&(typeof(index)==='number')&&(index>=0)&&(index<arr.length)){if(arguments.length>2){arr=arr[index];for(var i=2;i<arguments.length;i++)arr=rtl.rcArrR(arr,arguments[i]);return arr;}
return arr[index];}
rtl.raiseE('ERangeError');},rcArrW:function(arr,index,value){for(var i=3;i<arguments.length;i++){arr=rtl.rcArrR(arr,index);index=arguments[i-1];value=arguments[i];}
if(Array.isArray(arr)&&(typeof(index)==='number')&&(index>=0)&&(index<arr.length)){return arr[index]=value;}
rtl.raiseE('ERangeError');},length:function(arr){return(arr==null)?0:arr.length;},arrayRef:function(a){if(a!=null)rtl.hideProp(a,'$pas2jsrefcnt',1);return a;},arraySetLength:function(arr,defaultvalue,newlength){var stack=[];var s=9999;for(var i=2;i<arguments.length;i++){var j=arguments[i];if(j==='s'){s=i-2;}
else{stack.push({dim:j+0,a:null,i:0,src:null});}}
var dimmax=stack.length-1;var depth=0;var lastlen=0;var item=null;var a=null;var src=arr;var srclen=0,oldlen=0;do{if(depth>0){item=stack[depth-1];src=(item.src&&item.src.length>item.i)?item.src[item.i]:null;}
if(!src){a=[];srclen=0;oldlen=0;}else if(src.$pas2jsrefcnt>0||depth>=s){a=[];srclen=src.length;oldlen=srclen;}else{a=src;srclen=0;oldlen=a.length;}
lastlen=stack[depth].dim;a.length=lastlen;if(depth>0){item.a[item.i]=a;item.i++;if((lastlen===0)&&(item.i<item.a.length))continue;}
if(lastlen>0){if(depth<dimmax){item=stack[depth];item.a=a;item.i=0;item.src=src;depth++;continue;}else{if(srclen>lastlen)srclen=lastlen;if(rtl.isArray(defaultvalue)){for(var i=0;i<srclen;i++)a[i]=src[i];for(var i=oldlen;i<lastlen;i++)a[i]=[];}else if(rtl.isObject(defaultvalue)){if(rtl.isTRecord(defaultvalue)){for(var i=0;i<srclen;i++)a[i]=defaultvalue.$clone(src[i]);for(var i=oldlen;i<lastlen;i++)a[i]=defaultvalue.$new();}else{for(var i=0;i<srclen;i++)a[i]=rtl.refSet(src[i]);for(var i=oldlen;i<lastlen;i++)a[i]={};}}else{for(var i=0;i<srclen;i++)a[i]=src[i];for(var i=oldlen;i<lastlen;i++)a[i]=defaultvalue;}}}
while((depth>0)&&(stack[depth-1].i>=stack[depth-1].dim)){depth--;};if(depth===0){if(dimmax===0)return a;return stack[0].a;}}while(true);},arrayEq:function(a,b){if(a===null)return b===null;if(b===null)return false;if(a.length!==b.length)return false;for(var i=0;i<a.length;i++)if(a[i]!==b[i])return false;return true;},arrayClone:function(type,src,srcpos,endpos,dst,dstpos){if(type==='refSet'){for(;srcpos<endpos;srcpos++)dst[dstpos++]=rtl.refSet(src[srcpos]);}else if(rtl.isTRecord(type)){for(;srcpos<endpos;srcpos++)dst[dstpos++]=type.$clone(src[srcpos]);}else{for(;srcpos<endpos;srcpos++)dst[dstpos++]=src[srcpos];};},arrayConcat:function(type){var a=[];var l=0;for(var i=1;i<arguments.length;i++){var src=arguments[i];if(src!==null)l+=src.length;};a.length=l;l=0;for(var i=1;i<arguments.length;i++){var src=arguments[i];if(src===null)continue;rtl.arrayClone(type,src,0,src.length,a,l);l+=src.length;};return a;},arrayConcatN:function(){var a=null;for(var i=0;i<arguments.length;i++){var src=arguments[i];if(src===null)continue;if(a===null){a=rtl.arrayRef(src);}else{a=a.concat(src);}};return a;},arrayCopy:function(type,srcarray,index,count){if(srcarray===null)return[];if(index<0)index=0;if(count===undefined)count=srcarray.length;var end=index+count;if(end>srcarray.length)end=srcarray.length;if(index>=end)return[];if(type===0){return srcarray.slice(index,end);}else{var a=[];a.length=end-index;rtl.arrayClone(type,srcarray,index,end,a,0);return a;}},arrayInsert:function(item,arr,index){if(arr){arr.splice(index,0,item);return arr;}else{return[item];}},setCharAt:function(s,index,c){return s.substr(0,index)+c+s.substr(index+1);},getResStr:function(mod,name){var rs=mod.$resourcestrings[name];return rs.current?rs.current:rs.org;},createSet:function(){var s={};for(var i=0;i<arguments.length;i++){if(arguments[i]!=null){s[arguments[i]]=true;}else{var first=arguments[i+=1];var last=arguments[i+=1];for(var j=first;j<=last;j++)s[j]=true;}}
return s;},cloneSet:function(s){var r={};for(var key in s)r[key]=true;return r;},refSet:function(s){rtl.hideProp(s,'$shared',true);return s;},includeSet:function(s,enumvalue){if(s.$shared)s=rtl.cloneSet(s);s[enumvalue]=true;return s;},excludeSet:function(s,enumvalue){if(s.$shared)s=rtl.cloneSet(s);delete s[enumvalue];return s;},diffSet:function(s,t){var r={};for(var key in s)if(!t[key])r[key]=true;return r;},unionSet:function(s,t){var r={};for(var key in s)r[key]=true;for(var key in t)r[key]=true;return r;},intersectSet:function(s,t){var r={};for(var key in s)if(t[key])r[key]=true;return r;},symDiffSet:function(s,t){var r={};for(var key in s)if(!t[key])r[key]=true;for(var key in t)if(!s[key])r[key]=true;return r;},eqSet:function(s,t){for(var key in s)if(!t[key])return false;for(var key in t)if(!s[key])return false;return true;},neSet:function(s,t){return!rtl.eqSet(s,t);},leSet:function(s,t){for(var key in s)if(!t[key])return false;return true;},geSet:function(s,t){for(var key in t)if(!s[key])return false;return true;},strSetLength:function(s,newlen){var oldlen=s.length;if(oldlen>newlen){return s.substring(0,newlen);}else if(s.repeat){return s+' '.repeat(newlen-oldlen);}else{while(oldlen<newlen){s+=' ';oldlen++;};return s;}},spaceLeft:function(s,width){var l=s.length;if(l>=width)return s;if(s.repeat){return ' '.repeat(width-l)+s;}else{while(l<width){s=' '+s;l++;};return s;};},floatToStr:function(d,w,p){if(arguments.length>2){return rtl.spaceLeft(d.toFixed(p),w);}else{var pad="";var ad=Math.abs(d);if(((ad>1)&&(ad<1.0e+10))||((ad>1.e-10)&&(ad<1))){pad='00';}else if((ad>1)&&(ad<1.0e+100)||(ad<1.e-10)){pad='0';}
if(arguments.length<2){w=24;}else if(w<9){w=9;}
var p=w-8;var s=(d>0?" ":"")+d.toExponential(p);s=s.replace(/e(.)/,'E$1'+pad);return rtl.spaceLeft(s,w);}},valEnum:function(s,enumType,setCodeFn){s=s.toLowerCase();for(var key in enumType){if((typeof(key)==='string')&&(key.toLowerCase()===s)){setCodeFn(0);return enumType[key];}}
setCodeFn(1);return 0;},lw:function(l){return l<0?l+0x100000000:l;},and:function(a,b){var hi=0x80000000;var low=0x7fffffff;var h=(a/hi)&(b/hi);var l=(a&low)&(b&low);return h*hi+l;},or:function(a,b){var hi=0x80000000;var low=0x7fffffff;var h=(a/hi)|(b/hi);var l=(a&low)|(b&low);return h*hi+l;},xor:function(a,b){var hi=0x80000000;var low=0x7fffffff;var h=(a/hi)^(b/hi);var l=(a&low)^(b&low);return h*hi+l;},shr:function(a,b){if(a<0)a+=rtl.hiInt;if(a<0x80000000)return a>>b;if(b<=0)return a;if(b>54)return 0;return Math.floor(a/Math.pow(2,b));},shl:function(a,b){if(a<0)a+=rtl.hiInt;if(b<=0)return a;if(b>54)return 0;var r=a*Math.pow(2,b);if(r<=rtl.hiInt)return r;return r%rtl.hiInt;},initRTTI:function(){if(rtl.debug_rtti)rtl.debug('initRTTI');rtl.tTypeInfo={name:"tTypeInfo",kind:0,$module:null,attr:null};function newBaseTI(name,kind,ancestor){if(!ancestor)ancestor=rtl.tTypeInfo;if(rtl.debug_rtti)rtl.debug('initRTTI.newBaseTI "'+name+'" '+kind+' ("'+ancestor.name+'")');var t=Object.create(ancestor);t.name=name;t.kind=kind;rtl[name]=t;return t;};function newBaseInt(name,minvalue,maxvalue,ordtype){var t=newBaseTI(name,1,rtl.tTypeInfoInteger);t.minvalue=minvalue;t.maxvalue=maxvalue;t.ordtype=ordtype;return t;};newBaseTI("tTypeInfoInteger",1);newBaseInt("shortint",-0x80,0x7f,0);newBaseInt("byte",0,0xff,1);newBaseInt("smallint",-0x8000,0x7fff,2);newBaseInt("word",0,0xffff,3);newBaseInt("longint",-0x80000000,0x7fffffff,4);newBaseInt("longword",0,0xffffffff,5);newBaseInt("nativeint",-0x10000000000000,0xfffffffffffff,6);newBaseInt("nativeuint",0,0xfffffffffffff,7);newBaseTI("char",2);newBaseTI("string",3);newBaseTI("tTypeInfoEnum",4,rtl.tTypeInfoInteger);newBaseTI("tTypeInfoSet",5);newBaseTI("double",6);newBaseTI("boolean",7);newBaseTI("tTypeInfoProcVar",8);newBaseTI("tTypeInfoMethodVar",9,rtl.tTypeInfoProcVar);newBaseTI("tTypeInfoArray",10);newBaseTI("tTypeInfoDynArray",11);newBaseTI("tTypeInfoPointer",15);var t=newBaseTI("pointer",15,rtl.tTypeInfoPointer);t.reftype=null;newBaseTI("jsvalue",16);newBaseTI("tTypeInfoRefToProcVar",17,rtl.tTypeInfoProcVar);rtl.tTypeMember={attr:null};function newMember(name,kind){var m=Object.create(rtl.tTypeMember);m.name=name;m.kind=kind;rtl[name]=m;};newMember("tTypeMemberField",1);newMember("tTypeMemberMethod",2);newMember("tTypeMemberProperty",3);rtl.tTypeMembers={};var tis=newBaseTI("tTypeInfoStruct",0);tis.$addMember=function(name,ancestor,options){if(rtl.debug_rtti){if(!rtl.hasString(name)||(name.charAt()==='$'))throw 'invalid member "'+name+'", this="'+this.name+'"';if(!rtl.is(ancestor,rtl.tTypeMember))throw 'invalid ancestor "'+ancestor+':'+ancestor.name+'", "'+this.name+'.'+name+'"';if((options!=undefined)&&(typeof(options)!='object'))throw 'invalid options "'+options+'", "'+this.name+'.'+name+'"';};var t=Object.create(ancestor);t.name=name;this.members[name]=t;this.names.push(name);if(rtl.isObject(options)){for(var key in options)if(options.hasOwnProperty(key))t[key]=options[key];};return t;};tis.addField=function(name,type,options){var t=this.$addMember(name,rtl.tTypeMemberField,options);if(rtl.debug_rtti){if(!rtl.is(type,rtl.tTypeInfo))throw 'invalid type "'+type+'", "'+this.name+'.'+name+'"';};t.typeinfo=type;this.fields.push(name);return t;};tis.addFields=function(){var i=0;while(i<arguments.length){var name=arguments[i++];var type=arguments[i++];if((i<arguments.length)&&(typeof(arguments[i])==='object')){this.addField(name,type,arguments[i++]);}else{this.addField(name,type);};};};tis.addMethod=function(name,methodkind,params,result,flags,options){var t=this.$addMember(name,rtl.tTypeMemberMethod,options);t.methodkind=methodkind;t.procsig=rtl.newTIProcSig(params,result,flags);this.methods.push(name);return t;};tis.addProperty=function(name,flags,result,getter,setter,options){var t=this.$addMember(name,rtl.tTypeMemberProperty,options);t.flags=flags;t.typeinfo=result;t.getter=getter;t.setter=setter;t.params=rtl.isArray(t.params)?rtl.newTIParams(t.params):null;this.properties.push(name);if(!rtl.isString(t.stored))t.stored="";return t;};tis.getField=function(index){return this.members[this.fields[index]];};tis.getMethod=function(index){return this.members[this.methods[index]];};tis.getProperty=function(index){return this.members[this.properties[index]];};newBaseTI("tTypeInfoRecord",12,rtl.tTypeInfoStruct);newBaseTI("tTypeInfoClass",13,rtl.tTypeInfoStruct);newBaseTI("tTypeInfoClassRef",14);newBaseTI("tTypeInfoInterface",18,rtl.tTypeInfoStruct);newBaseTI("tTypeInfoHelper",19,rtl.tTypeInfoStruct);newBaseTI("tTypeInfoExtClass",20,rtl.tTypeInfoClass);},tSectionRTTI:{$module:null,$inherited:function(name,ancestor,o){if(rtl.debug_rtti){rtl.debug('tSectionRTTI.newTI "'+(this.$module?this.$module.$name:"(no module)")
+'"."'+name+'" ('+ancestor.name+') '+(o?'init':'forward'));};var t=this[name];if(t){if(!t.$forward)throw 'duplicate type "'+name+'"';if(!ancestor.isPrototypeOf(t))throw 'typeinfo ancestor mismatch "'+name+'" ancestor="'+ancestor.name+'" t.name="'+t.name+'"';}else{t=Object.create(ancestor);t.name=name;t.$module=this.$module;this[name]=t;}
if(o){delete t.$forward;for(var key in o)if(o.hasOwnProperty(key))t[key]=o[key];}else{t.$forward=true;}
return t;},$Scope:function(name,ancestor,o){var t=this.$inherited(name,ancestor,o);t.members={};t.names=[];t.fields=[];t.methods=[];t.properties=[];return t;},$TI:function(name,kind,o){var t=this.$inherited(name,rtl.tTypeInfo,o);t.kind=kind;return t;},$Int:function(name,o){return this.$inherited(name,rtl.tTypeInfoInteger,o);},$Enum:function(name,o){return this.$inherited(name,rtl.tTypeInfoEnum,o);},$Set:function(name,o){return this.$inherited(name,rtl.tTypeInfoSet,o);},$StaticArray:function(name,o){return this.$inherited(name,rtl.tTypeInfoArray,o);},$DynArray:function(name,o){return this.$inherited(name,rtl.tTypeInfoDynArray,o);},$ProcVar:function(name,o){return this.$inherited(name,rtl.tTypeInfoProcVar,o);},$RefToProcVar:function(name,o){return this.$inherited(name,rtl.tTypeInfoRefToProcVar,o);},$MethodVar:function(name,o){return this.$inherited(name,rtl.tTypeInfoMethodVar,o);},$Record:function(name,o){return this.$Scope(name,rtl.tTypeInfoRecord,o);},$Class:function(name,o){return this.$Scope(name,rtl.tTypeInfoClass,o);},$ClassRef:function(name,o){return this.$inherited(name,rtl.tTypeInfoClassRef,o);},$Pointer:function(name,o){return this.$inherited(name,rtl.tTypeInfoPointer,o);},$Interface:function(name,o){return this.$Scope(name,rtl.tTypeInfoInterface,o);},$Helper:function(name,o){return this.$Scope(name,rtl.tTypeInfoHelper,o);},$ExtClass:function(name,o){return this.$Scope(name,rtl.tTypeInfoExtClass,o);}},newTIParam:function(param){var t={name:param[0],typeinfo:param[1],flags:(rtl.isNumber(param[2])?param[2]:0)};return t;},newTIParams:function(list){var params=[];if(rtl.isArray(list)){for(var i=0;i<list.length;i++)params.push(rtl.newTIParam(list[i]));};return params;},newTIProcSig:function(params,result,flags){var s={params:rtl.newTIParams(params),resulttype:result?result:null,flags:flags?flags:0};return s;},addResource:function(aRes){rtl.$res[aRes.name]=aRes;},getResource:function(aName){var res=rtl.$res[aName];if(res!==undefined){return res;}else{return null;}},getResourceList:function(){return Object.keys(rtl.$res);}}
rtl.addResource({name:"website",unit:"models",format:"application/javascript",encoding:"base64",data:"eyAibWV0YURhdGEiIDogeyAiZmllbGRzIiA6IFt7ICJuYW1lIiA6ICJJZCIsICJ0eXBlIiA6ICJpbnQiIH0sIHsgIm5hbWUiIDogIlBhdGgiLCAidHlwZSIgOiAic3RyaW5nIiB9LCB7ICJuYW1lIiA6ICJUaXRsZSIsICJ0eXBlIiA6ICJzdHJpbmciIH0sIHsgIm5hbWUiIDogIkNyZWF0ZWQiLCAidHlwZSIgOiAiZGF0ZSIgfSwgeyAibmFtZSIgOiAiTW9kaWZpZWQiLCAidHlwZSIgOiAiZGF0ZSIgfSwgeyAibmFtZSIgOiAiQ29udGVudFR5cGUiLCAidHlwZSIgOiAiaW50IiB9LCB7ICJuYW1lIiA6ICJDb250ZW50IiwgInR5cGUiIDogInN0cmluZyIgfV0sICJyb290IiA6ICJEYXRhIiB9LCAiRGF0YSIgOiBbeyAiSWQiIDogMywgIlBhdGgiIDogIi9pbmRleCIsICJUaXRsZSIgOiAia3Zlcm9uZWF1LmdpdGh1Yi5pbyIsICJDb250ZW50VHlwZSIgOiAxLCAiQ3JlYXRlZCIgOiAiMjAyNC0wMi0wNVQxODo1NTowNC40NTQtMDY6MDAiLCAiTW9kaWZpZWQiIDogIjIwMjQtMDMtMjRUMDA6MTM6MjMuOTI5LTA2OjAwIiwgIkNvbnRlbnQiIDogIldlbGNvbWUgdG8gbXkgc21hbGwgc3BhY2Ugb24gKkdpdEh1Yiogd2hlcmUgSSBjYW4gc2hvd2Nhc2UgdmFyaW91cyBwcm9ncmFtcyBJJ3ZlIGRvbmUgd2l0aCBhbnlvbmUgd2hvbSBtaWdodCBiZSBpbnRlcmVzdGVkLlxuXG5XaGlsZSB0aGlzIHdlYnNpdGUgbWlnaHQgbG9vayBzaW1wbGUgZnJvbSB0aGUgZmlyc3QgbG9vaywgaXQgaXMgaW5mYWN0IGEgZGF0YS1kcml2ZW4gd2Vic2l0ZSBidWlsdCB1c2luZyBbT2JqZWN0IFBhc2NhbF0oIy9PYmplY3RQYXNjYWwpLCBhIGxhbmd1YWdlIG1vc3QgcGVvcGxlIGRlZW1lZCBkZWFkIGJ5IHRoZSBlYXJseSAyMDAwcy4gIEl0IGlzIGluZGVlZCBzdGlsbCB3ZWxsIGFuZCBhbGl2ZSBhbmQgYmVpbmcgdXBkYXRlZCB3aXRoIG1hbnkgbW9kZXJuIHN0YW5kYXJkcyB1bnRpbCB0aGlzIHZlcnkgZGF5LiAgSSBoaWdobHkgcmVjb21tZW5kIHRha2luZyBhIGxvb2sgYXQgdGhlIHNvdXJjZSBjb2RlIGZvciB0aGlzIHdlYnNpdGUsIHdoaWNoIGNhbiBiZSBmb3VuZCBvbiBteSBbR2l0SHViXShodHRwczovL2dpdGh1Yi5jb20va3Zlcm9uZWF1L2t2ZXJvbmVhdS5naXRodWIuaW8pLlxuXG5Zb3UgY2FuIGxlYXJuIG1vcmUgYWJvdXQgW3RoaXMgd2Vic2l0ZV0oIy9BYm91dFNpdGUpIHRoZXJlLiAgWW91IG1pZ2h0IGJlIHN0YXJ0aW5nIHRvIGFzayB5b3Vyc2VsZiwgXCJXaGF0IHVwIHdpdGggdGhpcyB3ZWJzaXRlP1wiICBUaGF0IGlzIGEgZ3JlYXQgYW5kIG1vc3QgbmF0dXJhbCBxdWVzdGlvbiB0byBiZSBhc2tpbmcuICBGaXJzdGx5LCBJIGRvbid0IGJlbGlldmUgaW4gb3ZlcndoZWxtaW5nIHRoZSB1c2VyIHdpdGggdG9vIG11Y2gsIHNvIGFzIGEgcmVzdWx0LCB0aGlzIHdlYnNpdGUgdGFrZXMgYSAqaHVnZWx5IG5hdHVyYWwqIHRha2Ugb24gY29udGVudCBleHBsb3JhdGlvbiBhbmQgY29uc3VtcHRpb24sIGEgbm92ZWwgY29uY2VwdCBJIGtub3cuICBSYXRoZXIgdGhhbiBtYWtpbmcgYWxsIHRoZSBjb250ZW50IGF2YWlsYWJsZSBvbiB0aGUgd2Vic2l0ZSBhdmFpbGFibGUgcmlnaHQgZnJvbSB0aGUgZ2V0LWdvLCBpbnN0ZWFkIHRoZSB3ZWJzaXRlIHdvcmtzIG1vcmUgb3Igc28gbGlrZSBob3cgb25lIHdvdWxkIHBsYXkgYSB0eXBpY2FsIFtaZWxkYV0oIy9aZWxkYSkgZ2FtZSwgd2hlcmVhcyB0aGUgZ2FtZSB3b3JsZCBiZWNvbWVzIHRvIG9wZW4gdXAgYXMgeW91IGJlZ2luIHRvIHByb2dyZXNzIGluIHRoZSBzdG9yeSB0byBnYWluIG5ldyBpdGVtcyBhbmQgYWJpbGl0aWVzLCBlbmZvcmNpbmcgeW91IHRvIHVzZSB0aGVzZSBuZXcgYWJpbGl0aWVzIHRvIGtlZXAgYmVpbmcgY3VyaW91cyBhbmQgZXhwbG9yaW5nIHBsYWNlcyB5b3UgY291bGRuJ3Qgd2l0aCB5b3VyIHByZXZpb3VzIGFiaWxpdGllcy4gIFRoaXMgd2Vic2l0ZSBjYW4gYWxzbyBrZWVwIHRyYWNrIG9mIHdoZXJlIGV4YWN0bHkgeW91IGFyZSwgYXMgeW91IHdpbGwgbm90aWNlIGJ5IHRoZSAqTG9jYXRpb24qIGNoYW5naW5nIGluIHlvdXIgYnJvd3NlciwgYXMgYSByZXN1bHQsIGlmIHlvdSBkbyBmaW5kIGFuIGFydGljbGUgeW91J2QgbG92ZSB0byBzaGFyZSB3aXRoIGEgZnJpZW5kIG9yIGZhbWlseSwgb3IgdG8ganVzdCBtYWtlIGZ1biBvZiBvbiBzb21lIGNvbW11bml0eSBmb3J1bSBzb21lcGxhY2Ugb24gdGhlIEludGVybmV0LCB0aGVuIEkgaW1wbG9yZSB0aGF0IHlvdSBqdXN0IGhpdCB0aGF0IHNoYXJlIGJ1dHRvbiBpbiB5b3VyIGJyb3dzZXIgYW5kIHNoYXJlIGl0IGFtb25nIHlvdXIgcGVlcnMuICBTaW5jZSBtb3N0IHBlb3BsZSBicm93c2Ugb24gbW9iaWxlIGRldmljZXMgdGhlc2UgZGF5cywgdGhlIGVhc2Ugb2Ygc2hhcmluZyB3ZWIgbGlua3MgdG8gdmFyaW91cyBhcHBzIGFuZCBzZXJ2aWNlcyBoYXNuJ3QgYmVlbiBlYXNpZXIuICBUaGlzIHdlYnNpdGUgYWxzbyBjb21lcyB3aXRoIGFub3RoZXIgYmVuZWZpdCBtb3N0IHdlYnNpdGVzIGNvdWxkIG5ldmVyLiAgVGhlIGVudGlyZSB3ZWJzaXRlIHJpZ2h0IG5vdyBhcyB5b3UgYXJlIHJlYWRpbmcgdGhpcywgaXMgbm93IGZ1bGx5IGRvd25sb2FkZWQgb250byB5b3VyIGRldmljZSBhbmQgMTAwJSBhdmFpbGFibGUgb2ZmbGluZSB3aXRoIG5vIGFkZGl0aW9uYWwgZWZmb3J0IGZyb20geW91LiAgVGhpcyBtZWFucyB0aGF0IGlmIHlvdSBzbyBoYXBwZW4gdG8gYmUgcmVhZGluZyB0aGlzIG9uIGFuIGFlcm9wbGFuZSB3aXRoIG5vIFdpRmksIG9yIGFyZSB0cmF2ZWxsaW5nIGluIGEgU3Vid2F5IHN5c3RlbSwgeW91IGNhbiBmZWVsIHJlc3QgYXNzdXJlZCB0aGF0IHlvdXIgbmV4dCBjbGljayBvbiB0aGlzIHdlYnNpdGUoKmFzIGxvbmcgYXMgaXQncyBhbiBpbnRlcm5hbCBsaW5rKikgd2lsbCBsb2FkIHdpdGhvdXQgYW55IGlzc3VlcyBvciByZXF1aXJlIGFueSBhZGRpdGlvbmFsIGNvbm5lY3Rpb24gdG8gdGhlIEludGVybmV0LiAgVGhlIG90aGVyIGFkdmFudGFnZSB0byB0aGlzIGFwcHJvYWNoIGlzICp1c2VyIHByaXZhY3kqLCBtZSwgbm9yIGFueWJvZHkgYnV0IHlvdSB3aWxsIGtub3cgZXhhY3RseSB3aGF0IHBhZ2VzIG9uIHRoaXMgd2Vic2l0ZSB5b3UndmUgc2Vlbi4gIEFzIG5vIGRhdGEgYWJvdXQgd2hhdCBwYWdlIHlvdSBhcmUgYWJvdXQgdG8gbG9hZCBpcyBldmVyIHRyYW5zbWl0dGVkLlxuXG4jIyMjIEhlcmUgaXMgYSBiYXNpYyBzaXRlLW1hcCB0byBnZXQgeW91IHN0YXJ0ZWQgb24geW91ciBleHBsb3JhdGlvbjpcblxuICAqIFtQcm9qZWN0c10oIy9Qcm9qZWN0cylcbiAgKiBbeFByb2plY3QgRjldKCMveFByb2plY3QtRjkpXG4gICogW0ludHJhV2ViXSgjL0ludHJhV2ViKVxuICAqIFtBSSBpbiBQYXNjYWxdKCMvUGFzY2FsQUkpXG4gICogW0RvY2tlciBTdHVmZl0oIy9Eb2NrZXIpXG5cbiMjIyMgTGludXggVGlwIGFuZCBUcmlja3M6XG5cbiAgKiBbWCBXaW5kb3cgU3lzdGVtXSgjL1doeUlMb3ZlWClcblxuIiB9LCB7ICJJZCIgOiA0LCAiUGF0aCIgOiAiL09iamVjdFBhc2NhbCIsICJUaXRsZSIgOiAiT2JqZWN0UGFzY2FsIiwgIkNvbnRlbnRUeXBlIiA6IDEsICJDcmVhdGVkIiA6ICIyMDI0LTAyLTA1VDE5OjAzOjUxLjg0NS0wNjowMCIsICJNb2RpZmllZCIgOiAiMjAyNC0wMi0yNVQyMzoxMDo0OC4yNDEtMDY6MDAiLCAiQ29udGVudCIgOiAiTm93IHlvdSBhcmUgcHJvYmFibHkgc2NyYXRjaGluZyB5b3VyIGhlYWQgYXNraW5nIHlvdXJzZWxmLCBcIldoeSwgSSBoYXZlbid0IGhlYXJkIGFib3V0ICpQYXNjYWwqIGluIGRlY2FkZXMsIHdoeSB3b3VsZCBhbnlib2R5IGluIHRoZSByaWdodCBtaW5kIGJlIHdhbnRpbmcgdG8gdXNlIHN1Y2ggYW5jaWVudCB0ZWNobm9sb2d5IG15IGdyYW5kZmF0aGVyIG9uY2UgdXNlZCBvbiBhbiBvbGQgbWFpbmZyYW1lIGNvbXB1dGVyLlwiXG5cbipNb2Rlcm4gT2JqZWN0UGFzY2FsKiBpcyBqdXN0IHRoYXQsIGEgbW9kZXJuIHZlcnNpb24gb2YgdGhlIFBhc2NhbCBsYW5ndWFnZSB3aXRoIGZ1bGwgT2JqZWN0IE9yaWVudGVkIHByb2dyYW1taW5nIHlvdSBzZWUgaW4gbW9kZXJuIGxhbmd1YWdlcy4gIFdoYXQgaXMgYWN0dWFsbHkgYW1hemluZyB0aG91Z2ggaXMgdGhhdCBPYmplY3RQYXNjYWwgaXMgZnVsbHkgYmFja3dhcmRzIGNvbXBhdGlibGUgd2l0aCByZWd1bGFyIFBhc2NhbCwgaW5jbHVkaW5nIE1TLURPUyBUdXJib1Bhc2NhbCB2ZXJzaW9ucy4gIFlvdSBjYW4gdGFrZSBtb3N0IGNvZGUgd3JpdHRlbiBmb3IgTVMtRE9TIEJvcmxhbmQgVHVyYm9QYXNjYWwgNC4wIGFuZCB1cCBhbmQgaXQgd2lsbCB1c3VhbGx5IGNvbXBpbGUgd2l0aCBsaXR0bGUgdG8gbm8gZXJyb3JzIG9uIHRoZSBmaXJzdCB0cnkuICBJZiB0aGUgcHJvZ3JhbSB1c2VzIHRoZSBgZ3JhcGhgIHVuaXQsIHRoZW4gYSBmZXcgc2xpZ2h0IG1vZGlmaWNhdGlvbnMgZG8gbmVlZCB0byBiZSBtYWRlLCBvciBpZiB5b3UgZG8gcnVuIGl0IG9uIExpbnV4LCB5b3Ugd2lsbCBuZWVkIHRvIGRvIHNvIGluIHlvdXIgY29uc29sZSBhbmQgb3V0c2lkZSBvZiBYMTEvV2F5bGFuZCBzbyB0aGF0IHRoZSBwcm9ncmFtIGNhbiBzcGVhayB3aXRoIHlvdXIgdmlkZW8gaGFyZHdhcmUgYXMgZGlkIHRoZSBvcmlnaW5hbCBgZ3JhcGhgIHVuaXQuICBPbiBXaW5kb3dzIGl0IG1heSBub3Qgd29yaywgYXMgY29uc29sZSBFWEVzIHdyaXR0ZW4gZm9yIFdpbmRvd3MgZG8gbm90IGhhdmUgYWNjZXNzIHRvIHN1Y2ggYSBmcmFtZWJ1ZmZlciwgYnV0IGlmIHlvdSBjb21waWxlIHRoZSBwcm9ncmFtIGZvciAzMi1iaXQgTVMtRE9TIEdvMzIsIHRoZW4gaXQgc2hvdWxkIGp1c3Qgd29yaywgYnV0IHdpdGggdGhlIGFkZGVkIGJlbmVmaXQgb2Ygbm93IGJlaW5nIDMyLWJpdCBpbnN0ZWFkIG9mIHRoZSAxNi1iaXQgcHJvZ3JhbXMgVHVyYm9QYXNjYWwgZ2VuZXJhdGVkLiAgSG93ZXZlciwgaXQgaXMgZW50aXJlbHkgcG9zc2libGUgdG8gZ2V0IHRoZXNlIGBncmFwaGAgTVMtRE9TIHByb2dyYW1zIHRvIHJ1biBuYXRpdmVseSBvbiBtb2Rlcm4gb3BlcmF0aW5nIHN5c3RlbXMgdXNpbmcgdmFyaW91cyBbYWJzdHJhY3Rpb25dKCMvQWJzdHJhY3Rpb24pIHVuaXRzLiAgSWYgeW91IHRha2UgYW55IHByb2dyYW0gd2hpY2ggdXNlcyB0aGUgYGNydGAgdW5pdCwgdGhlIHN0YW5kYXJkIHVuaXQgdXNlZCB0byBjb250cm9sIHRoZSAqY2hhcmFjdGVyIGRpc3BsYXkqIGFuZCBjb21waWxlIGl0IG9uIExpbnV4LCBpdCB3aWxsIHJ1biBwZXJmZWN0bHkgZmluZSBhcyBhIExpbnV4IGNvbnNvbGUgYXBwbGljYXRpb24gd2hpY2ggbWF5IGF0IGZpcnN0IGFwcGVhciBsaWtlIGl0J3MgdXNpbmcgYG5jdXJzZXNgLCBidXQgaW5zdGVhZCBpdCdzIHdyaXRpbmcgKnJhdyBBTlNJKiBjb2RlcyB0byB0aGUgdGVybWluYWwsIGFuZCB0aHVzIGhhcyBubyBleHRlcm5hbCBkZXBlbmRlbmNpZXMgYW5kIHJldGFpbnMgYWxtb3N0IGZ1bGwgY29tcGF0aWJpbGl0eSB3aXRoIGl0J3MgTVMtRE9TIGNvdW50ZXJwYXJ0LCBtYWtpbmcgcG9ydGluZyBzdWNoIGZ1bGwtc2NyZWVuIHRleHQgYXBwcyBvdmVyIHRvIGEgbW9kZXJuIG9wZXJhdGluZyBzeXN0ZW0gYSBjYWtlIHdhbGsuXG5cbiMjIyBXaHkgT2JqZWN0IFBhc2NhbD9cblxuV2h5IG5vdD8gIEkgdXNlZCAqVHVyYm8gUGFzY2FsIDQuMCogd2hlbiBJIHdhcyBhYm91dCAxNywgYnV0IHdhcyBhbHdheXMgaW50cmlndWVkXG5pbiB0aGUgbGFuZ3VhZ2UgZm9yIG1hbnkgeWVhcnMgcHJpb3Igd2hlbiBJIG1ldCBteSBwYXJlbnQncyBmcmllbmRzIHdob20gd2VyZVxuaW4gZWl0aGVyIGEgc29mdHdhcmUgZGV2ZWxvcG1lbnQgam9iLCBvciB3ZXJlIHRha2luZyBjb21wdXRlciBzY2llbmNlIGluIHVuaXZlcnNpdHkuXG5UaGlzIHdhcyBiYWNrIGluIHRoZSBoZXlkYXkgd2hlbiBCb3JsYW5kIHdhcyAqKnRoZSoqIHNvZnR3YXJlIGRldmVsb3BtZW50IGtpdCBraW5nLlxuTW9kZXJuIGRheSBQYXNjYWwgaXMganVzdCBhcyBmYXN0IHdoZW4gaXQgY29tZXMgZG93biB0byBjb21waWxpbmcgdmVyeSBsYXJnZVxucHJvZ3JhbXMsIHdoaWNoIHdhcyBvbmUgcmVhc29uIGl0IHdhcyBleHRyZW1lbHkgcG9wdWxhciBpbiB0aGUgODBzIGFuZCA5MHMuIEluIHRoZVxubW9kZXJuIGRheSB3aGVuIGNvbXBhcmluZyBhIGxhcmdlIE9iamVjdFBhc2NhbCBwcm9ncmFtIHRvIGEgQysrIHByb2dyYW0gaW4gdGVybXNcbm9mIGNvbXBpbGUgdGltZSwgT2JqZWN0UGFzY2FsIHN0aWxsIGJlYXRzIEMrKywgSmF2YSwgYW5kIG1hbnkgb3RoZXIgbW9kZXJuIGNvbXBpbGluZ1xubGFuZ3VhZ2VzLiAgSGVyZSdzIGEgbmljZSBvdmVydmlldyBvZiBzb21lIG9mIHRoZSBmZWF0dXJlcyBpbiBQYXNjYWwvT2JqZWN0UGFzY2FsXG5JIHJlYWxseSBsaWtlOlxuXG4gICogVW5pdCBmaWxlcyBhcmUgZWFzaWVyIHRoYW4gaGVhZGVyIGZpbGVzXG4gICogQWxsIHZhcmlhYmxlcyBhcmUgZGVjbGFyZWQgaW4gYSAqa25vd24gbG9jYXRpb24qXG4gICogRWFzaWx5IHN1cHBvcnRzIGJvdGggc3RydWN0dXJlZCBhbmQgb2JqZWN0IHByb2dyYW1taW5nXG4gICogRXh0cmVtZWx5IGVhc3kgdG8gdXNlIHN0YW5kYXJkIEMgbGlicmFyaWVzLCAqKmgycGFzKipcbiAgKiBPdmVyYWxsIHN5bnRheCBpcyBhIHBsZWFzdXJlIHRvIHdyaXRlLCByZWFkLCBhbmQgdW5kZXJzdGFuZFxuICAqIEhhcyBhIHZlcnkgbGFyZ2Ugc3RhbmRhcmQgbGlicmFyeSBpbmNsdWRlZCBvdXQgb2YgdGhlIGJveFxuICAqIENhbiB0cnVseSBjcmVhdGUgY29tcGlsZWQgbmF0aXZlIGNyb3NzLXBsYXRmb3JtIGJpbmFyeSBwcm9ncmFtc1xuICAgICogSSBjYW5ub3Qgc3RhdGUgdGhpcyBwb2ludCBlbm91Z2gsIGhhcyBtYW55IHRhcmdldHMgYXMgd2VsbC5cbiAgKiBIYXMgYSB2ZXJ5IHBvd2VyZnVsICpSQUQgSURFKiB0byBkZXNpZ24gYW5kIGRldmVsb3AgY3Jvc3MtcGxhdGZvcm0gR1VJIGFwcHMuXG4gICogRGVscGhpIFhFIGNhbiBhY3R1YWxseSB0dXJuIGEgZGVza3RvcCBhcHAgaW50byBhIG5hdGl2ZSBpT1MgYW5kIEFuZHJvaWQgYXBwLlxuICAqIEZ1bGwgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aCBwYXN0IHZlcnNpb25zLCBhbGwgdGhlIHdheSBiYWNrIHRvIFR1cmJvIFBhc2NhbC5cbiAgICAqIE5vIG90aGVyIHByb2dyYW1taW5nIGxhbmd1YWdlIGNhbiBzYXkgdGhhdCB0aGV5IGFyZSB0aGlzIGJhY2t3YXJkcyBjb21wYXRpYmxlLlxuICAgICogWW91ciBjb2RlIHdpbGwgYWx3YXlzIHJlLWNvbXBpbGUgaW4gdGhlIGxhdGVzdCB2ZXJzaW9uIG9mIHRoZSBjb21waWxlciFcbiAgKiBBbmQgbXVjaCBtb3JlLi4uXG5cbiMjIyBDcm9zcy1wbGF0Zm9ybSBHVUkgbWFkZSBlYXN5XG5cblRoaXMgaXMgd2hhdCB1bHRpbWF0ZWx5IGxlZCBtZSB0byBkaXZlIGJhY2sgaW50byBQYXNjYWwgb25jZSBhZ2FpbiBpbiBteSBhZHVsdFxueWVhcnMuICBNeSBoYXMgUGFzY2FsIGV2b2x2ZWQsIG5vdCBvbmx5IGNhbiBJIGNvbXBpbGUgYSBUdXJibyBQYXNjYWwgNC4wIHByb2dyYW1cbmluICoqRnJlZVBhc2NhbCoqLCBidXQgSSBjYW4gYWxzbyBjb21waWxlIG1vZGVybiAqKkRlbHBoaSoqIGFuZCAqKk9iamVjdFBhc2NhbCoqXG5wcm9ncmFtcyB3aXRoIGxpdHRsZSB0byBubyBleHRyYSBlZmZvcnQuICBIYXZlIEkgZm91bmQgaGVhdmVuIG9uIEVhcnRoPyAgSSBoYXZlbid0XG5zZWVuIGFueSBwcm9ncmFtbWluZyBsYW5ndWFnZSB0YWtlIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHNvIHNlcmlvdXNseSBhcyBJJ3ZlIHNlZW5cbmluIHRoZSBGcmVlUGFzY2FsIGNvbW11bml0eS4gIEkgbGlrZSB0byBrbm93IHRoYXQgaWYgSSBidWlsZCBhIHByb2dyYW0gdG9kYXksXG50aGF0IGl0IGNhbiBiZSBlYXNpbHkgcmVjb21waWxlZCBvbiBhIGNvbXB1dGVyIG9mIHRoZSBmdXR1cmUgd2l0aCBubyBhZGRpdGlvbmFsXG5lZmZvcnQsIGFuZCB0aGlzIGlzIHdoYXQgRnJlZVBhc2NhbCB0cnVseSBkZWxpdmVycy5cblxuTm93IGxldHMgYWRkIHNvbWUgZmFuY3kgaWN5aW5nIHRvIHRoZSBjYWtlLi4uICBXaXRoIExhemFydXMsIHRoZSBGcmVlUGFzY2FsIFJBRFxuSURFLCB5b3UgZG8gbm90IG5lZWQgdG8gd29ycnkgYWJvdXQgd2hpY2ggR1VJIFRvb2xraXQgeW91IG5lZWQgdG8gdGFyZ2V0LCB5b3UganVzdFxubmVlZCB0byB0aGluayBhYm91dCB0aGUgbGF5b3V0LCBidXNpbmVzcyBsb2dpYywgYW5kIG1vc3QgaW1wb3J0YW50bHkgaG93IHlvdXIgcHJvZ3JhbVxud2lsbCB3b3JrLiAgVGhlIExDTCBUb29sa2l0IHRha2VzIGNhcmUgb2YgbWFraW5nIHN1cmUgeW91ciBjb21waWxlZCBwcm9ncmFtIGxvb2tzXG5uYXRpdmUgb24gZXZlcnkgb3BlcmF0aW5nIHN5c3RlbSB5b3UgYnVpbGQgb24uICBPbiBMaW51eCwgeW91IGNhbiBtb3N0IGRlZmluYXRlbHlcbmNob29zZSBiZXR3ZWVuIGVpdGhlciBHVEsgYW5kIFF0LCB3aGljaCBpcyBncmVhdCwgYXMgeW91IGNhbiBlYXNpbHkgdXNlIHRoZSBzYW1lXG5zb3VyY2UgY29kZSBhbmQgYnVpbGQgdGhlIHByb2dyYW0gZm9yIGJvdGggS0RFIGFuZCBHTk9NRSB1c2VycyB3aXRoIG5vIGFkZGl0aW9uYWxcbmVmZm9ydC4gIE9uY2UgeW91IGFyZSByZWFkeSB0byB0YWtlIHlvdXIgcHJvZ3JhbSBtYWluc3RyZWFtIGFuZCBqdW1wIHRvIGJvdGhcbk1hY09TIFggYW5kIFdpbmRvd3MsIGluIG1vc3QgY2FzZXMgeW91IGNhbiBhY3R1YWxseSBnZW5lcmF0ZSB0aGUgLmFwcCBhbmQgLmV4ZVxuZmlsZXMgZGlyZWN0bHkgb24geW91ciBMaW51eCBib3guICBIb3dldmVyLCBJIHBlcnNvbmFsbHkgcHJlZmVyIHRvIGRvIHRoZSBidWlsZGluZ1xub24gdGhvc2Ugb3BlcmF0aW5nIHN5c3RlbXMgcmVzcGVjdGl2ZWx5LCBhcyBJIGNhbiBzZWUgaG93IHRoZSBHVUkgcmVuZGVycyBuYXRpdmVseS5cblRoaXMgaXMgZXNwZWNpYWxseSB0cnVlIGZvciBPUyBYLCBhcyBpdCBoYXMgdGhlICpnbG9iYWwgbWVudSBiYXIqIHlvdSBuZWVkIHRvIHdvcnJ5XG5hYm91dCwgc28geW91IG1pZ2h0IG5lZWQgdG8gc2xpZ2h0bHkgYWRqdXN0IHlvdXIgRm9ybSB0byByZW1vdmUgdGhlIGdhcCB3aGVyZVxudGhlIGVtYmVkZGVkIG1lbnUgYmFyIG9uIG1vc3Qgb3BlcmF0aW5nIHN5c3RlbXMgdXN1YWxseSBpcy4gIEJ1dCBvdmVyYWxsLCB0aGF0IGlzXG5yZWFsbHkgYWxsIHRoYXQgbmVlZHMgdG8gYmUgZG9uZS4gIElmIHlvdSB1c2UgdGhlIHN0YW5kYXJkIEdVSSBjb21wb25lbnRzLCBhbmQgdGhlXG5wcm9wZXIgT2JqZWN0UGFzY2FsIGNsYXNzZXMsIGFsbCB5b3VyIGNvZGUgd2lsbCBqdXN0IGNvbXBpbGUgZmluZSBvbiBldmVyeSBPUy5cblxuQW5kIHRoYXQgZmluYWwgc3RhdGVtZW50IGFib3ZlIGlzIGV4YWN0bHkgd2h5IEkgY2hvc2UgKipPYmplY3RQYXNjYWwqKiBvdmVyXG5hbnl0aGluZyBlbHNlLiAgTm8gb3RoZXIgbGFuZ3VhZ2UgdGhhdCBJIGFtIGF3YXJlIG9mIGNhbiBkbyB0aGlzIHdpdGggc3VjaCBsaXR0bGVcbmVmZm9ydC4gIEl0J3Mgbm90aGluZyBzaG9ydCBvZiBhbWF6aW5nIHRvIHNlZSBhIEdVSSBwcm9ncmFtIGNyZWF0ZWQgb24geW91ciBMaW51eFxuYm94IGp1c3QgY29tcGlsZSB3aXRoIG5vIGNvZGUgY2hhbmdlcyBvbiBXaW5kb3dzIGFuZCBPUyBYLCBhbmQgYWxzbyB1c2UgdGhlaXJcbm5hdGl2ZSBsb29rIGFuZCBmZWVsLiAgSXQgbWFrZXMgeW91ciBwcm9ncmFtIGxvb2sgbW9yZSBwcm9mZXNzaW9uYWwgd2hlbiB0aGVcbmVuZC11c2VyIHNlZXMgaXQgdXNpbmcgdGhlIG5hdGl2ZSBHVUkgdG9vbGtpdCBvZiB0aGVpciBPUywgdGhlIHByb2dyYW0gZml0cyBpblxud2l0aCB0aGUgdXNlcidzIG90aGVyIGFwcGxpY2F0aW9ucy4gIEJlY2F1c2Ugb2YgdGhpcywgT2JqZWN0UGFzY2FsIGZlZWxzIGxpa2VcblB5dGhvbiwgd2hlcmUgSSBjYW4gcnVuIGEgc2NyaXB0IG9uIGFub3RoZXIgb3BlcmF0aW5nIHN5c3RlbSwgYW5kIGl0IHdpbGwgdXN1YWxseVxucnVuIGZpbmUgaWYgSSB1c2UgdGhlIGxpYnJhcmllcyBwcm92aWRlZCBieSBQeXRob24sIGJ1dCBpcyBuYXRpdmUgY29kZSwgYW5kIGFcbm11Y2ggc21hbGxlciBkaXN0cmlidXRpb24gc2l6ZS5cbiIgfSwgeyAiSWQiIDogNSwgIlBhdGgiIDogIi9BYm91dFNpdGUiLCAiVGl0bGUiIDogIkFib3V0IHRoaXMgV2Vic2l0ZSIsICJDb250ZW50VHlwZSIgOiAxLCAiQ3JlYXRlZCIgOiAiMjAyNC0wMi0wNVQxOTo0NjoyNi41NTQtMDY6MDAiLCAiTW9kaWZpZWQiIDogIjIwMjQtMDItMDZUMTk6NTg6MzUuMTQyLTA2OjAwIiwgIkNvbnRlbnQiIDogIkFzIHN0YXRlZCBvbiB0aGUgcHJpb3IgcGFnZSwgdGhpcyBlbnRpcmUgd2Vic2l0ZSBpcyBidWlsdCB1c2luZyBbT2JqZWN0UGFzY2FsXSgjL09iamVjdFBhc2NhbCkgdGVjaG5vbG9neS4gIEluIHRoaXMgYXJ0aWNsZSBoZXJlLCBJIHdpbGwgZXhwbGFpbiBob3cgaXQgYWxsIHdvcmtzIGV4YWN0bHkgZm9yIHRob3NlIHdob20gYXJlIGN1cmlvdXMgYW5kIHdvdWxkIGxpa2UgdG8gYmUgbW9yZSBlbmxpZ2h0ZW5lZC4gIEluIHRoZSBjdXJyZW50IGl0ZXJhdGlvbiBvZiB0aGlzIHdlYnNpdGUsIGFuZCBtb3N0IGxpa2VseSBpbiBmdXR1cmUgaXRlcmF0aW9ucywgYW55b25lIHdhbnRpbmcgdG8gaG9zdCBzdWNoIGEgKnN1ZG8tc3RhdGljIHdlYnNpdGUqIGNhbiBlYXNpbHkgd2l0aCB0aGUgaGVscCBvZiB0aGlzIFdlYiBBcHBsaWNhdGlvbi4gIEl0IGlzIGEgYml0IGVhc2llciB0byBzZXQtdXAgYW5kIGNvbmZpZ3VyZSB0aGFuIGEgdHlwaWNhbCBzdGF0aWMgc2l0ZSBnZW5lcmF0b3IuICBSYXRoZXIgdGhhbiBoYXZpbmcgdG8gKnJlLWNvbXBpbGUgeW91ciB3ZWJzaXRlKiBlYWNoIHRpbWUgeW91IGFkZCBhIG5ldyBibG9nIHBvc3QsIHRoaXMgZnJhbWV3b3JrIHRha2VzIGEgZGlmZmVyZW50IGFwcHJvYWNoLiAgVGhlIHdlYnNpdGUgaXRzZWxmIGlzIG9ubHkgY29tcGlsZWQgd2hlbiBhIGZlYXR1cmUgY2hhbmdlIHRvIHRoZSBmcmFtZXdvcmsgaXRzZWxmIGlzIG5lZWRlZCwgYWxsIGNvbnRlbnQgZGF0YSBpcyBzdG9yZWQgb3V0c2lkZSBvZiB0aGUgZnJhbWV3b3JrIGluIGFuIGV4dGVybmFsICoqSlNPTioqIGZpbGUuICBUaGlzIGRhdGFiYXNlIGZpbGUgY2FuIGVpdGhlciBiZSBnZW5lcmF0ZWQgYnkgaGFuZCwgcHJvZ3JhbW1hdGljYWxseSB1c2luZyBhIHRvb2wgdG8gYnVpbGQgaXQsIG9yIGJ5IHVzaW5nIHRoZSBpbmNsdWRlZCBbQWRtaW5Ub29sXSgjL0FkbWluVG9vbCkgd2hpY2ggaXMgYWJsZSB0byBib3RoIHN0b3JlIHRoZSBkYXRhYmFzZSBhbmQgY2FuIGNyZWF0ZSBuZXcgZXhwb3J0cyBvZiB0aGUgKipKU09OKiogZGF0YSB3aGVuIGRhdGEgaGFzIGJlZW4gY2hhbmdlZCBvbiB0aGUgc2l0ZS4gIFRoaXMgdG9vbCBpcyB3cml0dGVuIGluICpPYmplY3RQYXNjYWwqIGFuZCBjYW4gYmUgY3Jvc3MtY29tcGlsZWQgdG8gYWxsIHN1cHBvcnRlZCBvcGVyYXRpbmcgc3lzdGVtcy4gIE9uY2UgYSBjb21wYXRpYmxlICoqSlNPTioqIGRhdGEgZmlsZSBpcyByZWFkeSwgaXQgY2FuIGJlIHBsYWNlZCBhdCB0aGUgc2FtZSBwb3NpdGlvbiBhcyB0aGUgKipIVE1MKiogZmlsZSB0byBiZSBsb2FkZWQgaW4uICBIZXJlIGlzIGFuIGV4YW1wbGUgb2YgYSB0eXBpY2FsIHdlYiB0cmVlIHdpdGggdGhpcyBmcmFtZXdvcms6XG5cbmBgYFxuL1xuICBpbmRleC5odG1sXG4gIFdlYkFwcC5taW4uanNcbiAgd2Vic2l0ZS5qc29uXG5gYGBcblxuWW91IGNhbiBzdHlsZSB5b3VyIEhUTUwgcGFnZSBob3dldmVyIHlvdSBwbGVhc2UsIGluY2x1ZGluZyBhZGRpbmcgbWFueSBtb3JlIGxpbmtzIHRvIGNvbnRlbnQgcGFnZXMgdXNpbmcgdGhlIGhhc2ggcm91dGluZyBzeXN0ZW0uICBPa2F5LCBzbyB3aXRoIHRoZSBob3cgdG8gZ2V0IGl0IGFsbCB1cCBhbmQgcnVubmluZyBiaXQgb3V0IG9mIHRoZSB3YXksIGhvdyBkb2VzIGl0IHdvcmsgZXhhY3RseT9cblxuW1NvdXJjZSBDb2RlXShodHRwczovL2dpdGh1Yi5jb20va3Zlcm9uZWF1L2t2ZXJvbmVhdS5naXRodWIuaW8vYmxvYi9tYWluL3NyYy9XZWJBcHAubHByKVxuXG5UaGVyZSdzIG5vdCByZWFsbHkgbXVjaCBjb2RlIHRoZXJlLCBpcyB0aGVyZT8gIFRoYXQncyB0aGUgYmVhdXR5IG9mICpPYmplY3RQYXNjYWwqLCBpdCBpcyBleHRyZW1lbHkgZnVuY3Rpb25hbCBpZiBwdXQgdG8gZ29vZCB1c2UuXG5cblRoZSBgV2ViUm91dGVyYCBpcyBhbiBpbmNyZWRpYmxlIHVzZWZ1bCBhbmQgc3VwZXIgZWFzeSB0byB1c2UgY2xpZW50LXNpZGUgaGFzaCByb3V0ZXIuICBJdCBhbGxvd3MgZW5kLXVzZXJzIHRvIGVhc2lseSBzaGFyZSBhbmQgYm9va21hcmsgcGFnZXMgb24gYSBzaW5nbGUgcGFnZSBhcHBsaWNhdGlvbiBzdWNoIGFzIHRoaXMuICBJdCBhbHNvIGludGVncmF0ZXMgcmVhbGx5IHdlbGwgd2l0aCBicm93c2VyIGhpc3RvcnksIHNvIHRoZSBlbmQtdXNlciBjYW4gc3RpbGwgdXNlIHRoZWlyIGJhY2sgYW5kIGZvcndhcmQgYnV0dG9ucyBhcyB0aGV5J2QgZXhwZWN0IGZyb20gYSByZWd1bGFyIHdlYnNpdGUuXG5cbk9uZSB0aGluZyB3aGljaCB3b3JrcyByZWFsbHkgd2VsbCBpbiBPYmplY3RQYXNjYWwgaXMgKkRhdGFTZXRzKiwgYW5kIGJlaW5nIGFibGUgdG8gZWFzaWx5IGJpbmQgYW5kIHVzZSB0aGVtIGluIHZhcmlvdXMgd2F5cyBhbmQgYXBwbGljYXRpb25zLiAgSW4gdGhpcyBwcm9ncmFtIEkgYW0gdXNpbmcgYSBzcGVjaWFsIERhdGFzZXQgd2hpY2ggY2FuIGFsc28gYmUgdXNlZCBpbiB0aGUgZGVza3RvcCBPYmplY3RQYXNjYWwgcHJvZ3JhbXMgYXMgd2VsbCwgdGhlIGBURXh0SlNPTkRhdGFTZXRgLiAgVGhpcyBpcyBhbiBleHRlbmRlZCB2ZXJzaW9uIG9mICoqSlNPTioqIHRvIHN1cHBvcnQgZW1iZWRkZWQgKm1ldGFEYXRhKiwgd2hpY2ggZGVzY3JpYmUgdGhlIHNjaGVtYSBvZiB0aGUgdGFibGUgYmVpbmcgbG9hZGVkIGFuZCB1c2VkLiAgRXNzZW50aWFsbHkgdGhlIGVudGlyZSB3ZWJzaXRlIGNvbnRlbnQgaXMgZG93bmxvYWRlZCB0byB0aGUgZW5kLXVzZXIgUEMgd2hlbiB0aGV5IHZpc2l0IHRoZSB3ZWJzaXRlLCBhbmQgaXMgdGhlbiBjYWNoZWQgdW50aWwgdGhlIHdlYnNpdGUgY29udGVudCBoYXMgYmVlbiB1cGRhdGVkLiAgT24gYSBzbG93IGNvbm5lY3Rpb24gaXQgY2FuIGxlYWQgdG8gYSBzbGlnaHQgZGVsYXkgdXBvbiBmaXJzdCB2aXNpdGluZyB0aGUgd2Vic2l0ZSBmb3IgYSBuZXcgdXNlciwgaG93ZXZlciBvbmNlIGl0IGlzIGxvYWRlZCwgdGhlIGVuZC11c2VyIHdpbGwgbmV2ZXIgbmVlZCB0byBtYWtlIGFub3RoZXIgcmVxdWVzdCB0byB0aGUgc2VydmVyLiAgVGhpcyBhbGxvd3MgdGhlIGFwcGxpY2F0aW9uIHRvIGJlIG1vcmUgcmVzcG9uc2UsIGJ1dCBhbHNvIGhhcyB0aGUgYWRkZWQgYmVuZWZpdCBvZiB3b3JraW5nIGNvbXBsZXRlbHkgb2ZmLWxpbmUuICBGb3IgZXhhbXBsZSwgaWYgc29tZW9uZSB3YXMgcmVhZGluZyB0aGlzIHdlYnNpdGUgd2hpbGUgdGhleSB3ZXJlIHJpZGluZyB0aGUgc3Vid2F5LCBldmVuIGlmIHRoZXkgbG9zZSBjb25uZWN0aW9uIHRvIHRoZSBJbnRlcm5ldCBlbnRpcmVseSwgdGhleSBjYW4gc3RpbGwgY2xpY2sgYW5kIGNvbnRpbnVlIHJlYWRpbmcgbW9yZSBhcnRpY2xlcyB3aXRob3V0IGZlYXIgb2YgaXQgbm90IGxvYWRpbmcuICBBbm90aGVyIHJlYWwgbmVhdCBmZWF0dXJlIG9mIHRoZXNlICpEYXRhU2V0cyogaXMgdGhhdCB0aGV5IGNhbiBiZSBlYXNpbHkgZmlsdGVyZWQgb24gdGhlIGNsaWVudC1zaWRlIGFmdGVyIGl0J3MgYWxsIGRvd25sb2FkZWQuICBJIGFtIHBsYW5uaW5nIG9uIGFkZGluZyBzb21lIGFkZGl0aW9uYWwgZmVhdHVyZXMgdG8gdGhpcyB3ZWJzaXRlIGZyYW1ld29yayBpbiB0aGUgY29taW5nIGRheXMgd2hpY2ggd2lsbCBhbGxvdyB0byB1c2UgcmVhbC10aW1lIGZpbHRlcnMgb24gdGhlIHdlYnNpdGUgZGF0YSBhbmQgdG8gcGVyZm9ybSByZWFsLXRpbWUgc2VhcmNoZXMuXG5cblNvLCB0aGF0J3MgYmFzaWNhbGx5IGhvdyB0aGlzIHdlYnNpdGUgd29ya3MgaW4gYSBudXRzaGVsbC4gIEkgaGlnaGx5IHJlY29tbWVuZCBqdXN0IHRha2luZyBhIGxvb2sgYXQgdGhlIHNvdXJjZSBjb2RlIGFuZCBtYXliZSB0cnlpbmcgdG8gY29tcGlsZSBpdCB5b3Vyc2VsZi4gIEkgd2lsbCBzb29uIGJlIHJlbGVhc2luZyBhIHN0YW5kLWFsb25lIHZlcnNpb24gd2hpY2ggY2FuIGp1c3QgYmUgdXNlZCBvbiBhIHdlYnNpdGUgYWxvbmcgd2l0aCBhIFt3ZWJzaXRlLmpzb25dKCMvd2Vic2l0ZS5qc29uKSBmaWxlIHRvIGltbWVkaWF0ZSB3b3JrIGFzIHRoaXMgb25lIGRvZXMgYnV0IHdpdGggdG90YWxseSBkaWZmZXJlbnQgY29udGVudC5cblxuIyMjIFRlY2huaWNhbCBEZWVwIERpdmVcblxuT2theSwgc28gYWZ0ZXIgYW5vdGhlciBkYXkgb2Ygd29ya2luZyBvbiB0aGlzIGZyYW1ld29yaywgaXQgbm93IGhhcyBzdXBwb3J0IGZvciBtdWx0aXBsZSAqQ29udGVudC1UeXBlcyogd2hpY2ggdGhlIGZyYW1ld29yayBoYW5kbGVzIGFmdGVyIGJlaW5nIHNldCBjb3JyZWN0bHkgd2l0aGluIHRoZSBwcm92aWRlZCAqRGF0YVNldCouICBIZXJlIGlzIGEgbGlzdCBvZiBjdXJyZW50bHkga25vd24gKkNvbnRlbnQtVHlwZXMqIGF2YWlsYWJsZTpcblxuICAqIFtIVE1MXSgjL19fREVCVUdfXy9IVE1MKVxuICAqICoqTWFya2Rvd24qKiAgVGhpcyBkb2N1bWVudCBzaG91bGQgYmUgYSBwcmV0dHkgZ29vZCBleGFtcGxlLlxuICAqIFtKYXZhU2NyaXB0IFByb2dyYW1dKCMvX19ERUJVR19fL0pTUHJvZylcbiAgKiBbQnJ5dGhvbiBBcHBsaWNhdGlvbl0oIy9fX0RFQlVHX18vUHlBcHApXG4gICogW1Bhc2NhbCBTb3VyY2UgQ29kZV0oIy9fX0RFQlVHX18vUGFzY2FsKVxuICAqIFtCYXNoIFNjcmlwdF0oIy9fX0RFQlVHX18vQmFzaClcbiAgKiBbUHl0aG9uIFNvdXJjZSBDb2RlXSgjL19fREVCVUdfXy9QeXRob24pXG4gICogW1J1YnkgU291cmNlIENvZGVdKCMvX19ERUJVR19fL1J1YnkpXG4gICogW0MgU291cmNlIENvZGVdKCMvX19ERUJVR19fL0MpXG4gICogW01ha2VmaWxlXSgjL19fREVCVUdfXy9NYWtlZmlsZSlcbiAgKiBbSmF2YVNjcmlwdF0oIy9fX0RFQlVHX18vSmF2YVNjcmlwdClcbiAgKiBbRW1iZWRkaW5nIEV4YW1wbGVdKCMvX19ERUJVR19fL0FsbFNvdXJjZSlcblxuTW9yZSBjYW4gYmUgc3VwcG9ydGVkIGJ5IHVwZGF0ZWQgdGhlIGFwcGxpY2F0aW9uIGNvZGUgYW5kIHJlLWNvbXBpbGluZy4gIEkgaGF2ZSBwcm92aWRlZCBhbiBleGFtcGxlIHRvIGVhY2ggb25lIHNvIHlvdSBjYW4gc2VlIGhvdyBlYWNoIGlzIHJlbmRlcmVkIGJ5IHRoZSBmcmFtZXdvcmsgaW4gdGhlIGJyb3dzZXIuXG5cblVuZm9ydHVuYXRlbHkgaXQgc2VlbXMgdGhhdCB0aGUgY3VycmVudCBzb3VyY2UgY29kZSBoaWdobGlnaHRlciBkb2VzIG5vdCBzdXBwb3J0IHNpbmdsZSBwYWdlIGFwcGxpY2F0aW9ucyBhbmQgYXMgYSByZXN1bHQgaXQgY2FuIG9ubHkgcGVyZm9ybSBhIGhpZ2hsaWdodCBvbmNlIHBlciBsaWJyYXJ5IGxvYWQuICBUbyBzZWUgdGhlIGhpZ2hsaWdodGluZyBvZiB0aG9zZSB0eXBlcyBpbiBhY3Rpb24sIGp1c3QgcmVsb2FkIHRoZSBwYWdlIGFmdGVyIGdvaW5nIHRvIHRoZSByZXNwZWN0IGNvbnRlbnQgcGFnZS5cbiIgfSwgeyAiSWQiIDogNiwgIlBhdGgiIDogIi9BZG1pblRvb2wiLCAiVGl0bGUiIDogIkRCQWRtaW4gVG9vbCIsICJDb250ZW50VHlwZSIgOiAxLCAiQ3JlYXRlZCIgOiAiMjAyNC0wMi0wNVQxOTo0OTowMy4yMTEtMDY6MDAiLCAiTW9kaWZpZWQiIDogIjIwMjQtMDItMDZUMTY6MjE6NTkuMjc1LTA2OjAwIiwgIkNvbnRlbnQiIDogIiFbQWRtaW4gVG9vbF0oc3JjL0FkbWluQXBwL1NjcmVlbnNob3QucG5nKVxyXG5cclxuVGhpcyBpcyB0aGUgQWRtaW4gVG9vbCBjb21waWxlZCBvbiAqRGViaWFuIExpbnV4KiwgaXQgaXMgYXQgdGhlIGN1cnJlbnQgbW9tZW50IGEgdmVyeSBzaW1wbGUsIGJ1dCBhbHNvIGEgdmVyeSBlZmZlY3RpdmUgdG9vbC4gIEl0IHN0b3JlcyBpdCdzIGRhdGEgaW4gYSBsb2NhbCBkYXRhYmFzZSBmaWxlIHdoaWNoIGlzIHRoZW4gY29ubmVjdGVkIHRocm91Z2ggdXNpbmcgdGhlIHN0YW5kYXJkICpEYXRhU2V0cyogc3lzdGVtIHRvIG1ha2UgdGhlIGVudGlyZSBmb3JtIHdvcmsgd2l0aCBhbG1vc3Qgbm8gY29kZS5cclxuXHJcbltTb3VyY2UgQ29kZV0oaHR0cHM6Ly9naXRodWIuY29tL2t2ZXJvbmVhdS9rdmVyb25lYXUuZ2l0aHViLmlvL2Jsb2IvbWFpbi9zcmMvQWRtaW5BcHAvZGJhZG1pbndpbmRvdy5wYXMpXHJcblxyXG5BbHRob3VnaCBtb3N0IG9mIHRoZSBmdW4gaGFwcGVucyBkdXJpbmcgdGhlIFtEZXNpZ24gUGhhc2VdKGh0dHBzOi8vZ2l0aHViLmNvbS9rdmVyb25lYXUva3Zlcm9uZWF1LmdpdGh1Yi5pby9ibG9iL21haW4vc3JjL0FkbWluQXBwL2RiYWRtaW53aW5kb3cubGZtKS5cclxuXHJcbkkgd2lsbCBiZSBzb29uIHJlbGVhc2luZyBhIHZpZGVvIHdoaWNoIHdpbGwgZ28gb3ZlciBob3cgdGhpcyB3ZWJzaXRlIGlzIHVwZGF0ZWQgaW4gYSBudXRzaGVsbCwgdGhlIHZpZGVvIHdoaWNoIHdpbGwgYmUgY3JlYXRlZCBhbmQgdXBsb2FkZWQgc29vbiB3aWxsIHJlcGxhY2UgdGhpcyB0ZXh0IGFuZCB0aGUgdmlkZW8gd2lsbCBzaG93IG1lIGRvaW5nIGp1c3QgdGhhdCBhcyBJIHJlcGxhY2UgaXQgd2l0aCBhIHZpZGVvIGxpbmsgYW5kIHNob3dzIHRoZSBwcm9jZXNzIG9mIGEgdHlwaWNhbCB3ZWJzaXRlIHVwZGF0ZS5cclxuXHJcbkVzc2VudGlhbGx5IHRoaXMgcHJvZ3JhbSBnaXZlcyBtZSBhIGxvY2FsIHBlcnNpc3RlbnQgZGF0YWJhc2Ugd2hpY2ggSSBjYW4gdXBkYXRlIHVzaW5nIHRoaXMgcHJvZ3JhbS4gIFRoZW4gd2hlbiBJIGFtIHJlYWR5IHRvIGRlcGxveSBvdXQsIEkganVzdCBoaXQgdGhhdCBsb3ZlbHkgKipFeHBvcnQqKiBidXR0b24gYW5kIGl0IHdpbGwgZ2VuZXJhdGUgYSB3b3JraW5nIFt3ZWJzaXRlLmpzb25dKCMvd2Vic2l0ZS5qc29uKS5cclxuIFxyXG5UaGUgQWRtaW5Ub29sIGFsc28gd29ya3Mgd2VsbCB1bmRlciB0aGUgb2JzZWN1cmUgKk1pY3Jvc29mdCogb3BlcmF0aW5nIHN5c3RlbSwgZm9yIGFueW9uZSB3aXRoIGEgcmlnaHQgbWluZCB0byBiZSBydW5uaW5nIHRoYXQsIG90aGVyIHRoYW4gZm9yIGVkdWNhdGlvbmFsIGFuZCByZXNlYXJjaCBwdXJwb3NlcyB0aGF0IGlzLi4uICBJIGxpa2UgdG8gdW5kZXJzdGFuZCB3aHkgc28tY2FsbGVkICpyZWd1bGFyIHBlb3BsZSogdGVuZCB0byBkbyB0aGUgdGhpbmdzIHRoZXkgZG8sIHN1Y2ggYXMgdXNlIHN1Y2ggYW4gb3BlcmF0aW5nIHN5c3RlbS4gIEl0J3MgYSBmdW4gdG95IGF0IGJlc3QgdGhhdCBtb3N0IGJ1c2luZXNzZXMgcHJlZmVyIHRoZWlyIGRyb25lcyB0byB1c2UuICBJIGd1ZXNzIGl0IGNhbiBhbHNvIHBsYXkgdmlkZW8gZ2FtZXMgd2VsbCwgYnV0ICpTdGVhbU9TKiBpcyByZWFsbHkgc2hvd2luZyB0aGF0IGl0IGlzIGFsc28gbm90IHdlbGwgYXQgdGhlIG9uZSB0aGluZyBpdCB1c2VkIHRvIGJlIHdlbGwgYXQsIHdpdGggKlN0ZWFtT1MqIGhhdmluZyBzaWduaWZpY2FudGx5IG1vcmUgcGVyZm9ybWFuY2Ugb24gdGhlIHNhbWUgaGFyZHdhcmUgd2l0aCB0aGUgc2FtZSBnYW1lLiAgQW55d2F5cywgZW5qb3kgdGhlICpBZG1pblRvb2wqIHJ1bnMgb24gV2luZG93cyAxMCBpbiBhbGwgaXQncyBhd2UgYW5kIHdvbmRlcjpcclxuXHJcbiFbQWRtaW4gVG9vbF0oc3JjL0FkbWluQXBwL1NjcmVlbnNob3RfV2luMTAucG5nKVxuIiB9LCB7ICJJZCIgOiA3LCAiUGF0aCIgOiAiL3dlYnNpdGUuanNvbiIsICJUaXRsZSIgOiAid2Vic2l0ZS5qc29uIGZvcm1hdCBpbmZvcm1hdGlvbiIsICJDb250ZW50VHlwZSIgOiAwLCAiQ3JlYXRlZCIgOiAiMjAyNC0wMi0wNVQyMTowMDo1MC44MzctMDY6MDAiLCAiTW9kaWZpZWQiIDogIjIwMjQtMDItMThUMTM6Mjk6MTkuOTk2LTA2OjAwIiwgIkNvbnRlbnQiIDogIkZvcm1hdCBvZiB0aGUgPGI+d2Vic2l0ZS5qc29uPC9iPiBmaWxlOjxoci8+XG48cHJlPlxueyAgICBcbiAgXCJtZXRhRGF0YVwiOiB7XG4gICAgXCJmaWVsZHNcIjogW1xuICAgICAgICB7XCJuYW1lXCI6XCJJZFwiLCBcInR5cGVcIjpcImludFwifSxcbiAgICAgICAge1wibmFtZVwiOlwiUGF0aFwiLCBcInR5cGVcIjpcInN0cmluZ1wifSxcbiAgICAgICAge1wibmFtZVwiOlwiVGl0bGVcIiwgXCJ0eXBlXCI6XCJzdHJpbmdcIn0sXG4gICAgICAgIHtcIm5hbWVcIjpcIkNyZWF0ZWRcIiwgXCJ0eXBlXCI6XCJkYXRlXCJ9LFxuICAgICAgICB7XCJuYW1lXCI6XCJNb2RpZmllZFwiLCBcInR5cGVcIjpcImRhdGVcIn0sXG4gICAgICAgIHtcIm5hbWVcIjpcIkNvbnRlbnRUeXBlXCIsIFwidHlwZVwiOlwiaW50XCJ9LFxuICAgICAgICB7XCJuYW1lXCI6XCJDb250ZW50XCIsIFwidHlwZVwiOlwic3RyaW5nXCJ9XG4gICAgXSxcbiAgICBcInJvb3RcIjogXCJEYXRhXCJcbiAgfSxcbiAgXCJEYXRhXCI6IFsgLi4uIF1cbn1cbjwvcHJlPlxuPHA+VGhpcyBpcyB3aGF0IHdvdWxkIGJlIGNhbGxlZCB0aGUgPGk+c3RhbmRhcmQgaGVhZGVyPC9pPiBmb3IgdGhlIEpTT04gZmlsZSwgbXVjaCBsaWtlIGhvdyBvdGhlciBmaWxlIHR5cGVzIG1heSBjb250YWluIGEgaGVhZGVyIG9mIHNvcnRzIHdoaWNoIGNhbiBjb250YWluIGFkZGl0aW9uYWwgPGk+bWV0YURhdGE8L2k+IGFzIGRvZXMgdGhlIHVzZSBvZiA8aT5EYXRhU2V0czwvaT4uPC9wPlxuPHA+VGhlIEFycmF5IGxvY2F0ZWQgaW4gdGhlIDxpPkRhdGE8L2k+IGlzIHdoZXJlIGFsbCB0aGUgYWN0dWFsIGRhdGEgZ29lcywgYW5kIGVhY2ggcm93IGluIHRoZSBhcnJheSBzaG91bGQgdGFrZSBvbiB0aGlzIGZvcm1hdDo8L3A+XG48cHJlPlxue1xuICBcIklkXCI6IDEsXG4gIFwiUGF0aFwiOiBcIi9oZWxsb1wiLFxuICBcIlRpdGxlXCI6IFwiSGVsbG8gV29ybGRcIixcbiAgXCJDb250ZW50VHlwZVwiOiAxLFxuICBcIkNyZWF0ZWRcIjogXCIyMDI0LTAyLTA1VDE5OjAzOjUxLjg0NS0wNzowMFwiLFxuICBcIk1vZGlmaWVkXCIgOiBcIjIwMjQtMDItMDVUMTk6MTg6NDkuMzI4LTA3OjAwXCIsXG4gIFwiQ29udGVudFwiIDogXCIjIEhlbGxvIFdvcmxkXFxuXFxuTWFya2Rvd24gd2lsbCBhbHNvIGJlIHN1cHBvcnRlZCFcXG5cIlxufVxuPC9wcmU+XG48cD5FYWNoIGl0ZW0gc2hvdWxkIGhhdmUgYSB1bmlxdWUgPGI+SWQ8L2I+IGFuZCA8Yj5QYXRoPC9iPi4gIFRoZSBjb250ZW50IHR5cGUgaXMgdXNlZCB0byBkZXRlcm1pbmUgaG93IHRoZSB3ZWIgYXBwbGljYXRpb24gd2lsbCBoYW5kbGUgdGhlIGNvbnRlbnQgaXRzZWxmLiAgSGVyZSBpcyBhIGN1cnJlbnQgbGlzdCBvZiBzdXBwb3J0ZWQgY29udGVudCB0eXBlIG51bWJlcnM6PC9wPlxuPHRhYmxlIGJvcmRlcj1cIjFcIiBiZ2NvbG9yPVwiI2FlYWVhZVwiPlxuICA8dGhlYWQ+XG4gICAgPHRyPjx0aD5UeXBlPC90aD48dGg+RGVzY3JpcHRpb24gLyBQdXJwb3NlPC90aD48L3RyPlxuICA8L3RoZWFkPlxuICA8dGJvZHk+XG4gICAgPHRyPjx0ZD4wPC90ZD48dGQ+SFRNTDwvdGQ+PC90cj5cbiAgICA8dHI+PHRkPjE8L3RkPjx0ZD5NYXJrZG93bjwvdGQ+PC90cj5cbiAgICA8dHI+PHRoIGNvbHNwYW49XCIyXCI+Q2xpZW50LXNpZGUgQXBwbGljYXRpb24gVHlwZXM8L3RoPjwvdHI+XG4gICAgPHRyPjx0ZD41MDwvdGQ+PHRkPjxhIGhyZWY9XCIjL1dlYnNpdGUvSlNBcHBcIj5KYXZhU2NyaXB0IEFwcGxpY2F0aW9uPC9hPjwvdGQ+PC90cj5cbiAgICA8dHI+PHRkPjUxPC90ZD48dGQ+PGEgaHJlZj1cIiMvV2Vic2l0ZS9QeUFwcFwiPlB5dGhvbiBXZWIgQXBwbGljYXRpb248L2E+PC90ZD48L3RyPlxuICAgIDx0cj48dGggY29sc3Bhbj1cIjJcIj5Tb3VyY2UgQ29kZSBIaWdobGlnaHRlcnM8L3RoPjwvdHI+XG4gICAgPHRyPjx0ZD4xMDA8L3RkPjx0ZD5QYXNjYWwgU291cmNlIENvZGU8L3RkPjwvdHI+XG4gICAgPHRyPjx0ZD4xMDE8L3RkPjx0ZD5CYXNoIFNjcmlwdCBTb3VyY2U8L3RkPjwvdHI+XG4gICAgPHRyPjx0ZD4xMDI8L3RkPjx0ZD5QeXRob24gU291cmNlPC90ZD48L3RyPlxuICAgIDx0cj48dGQ+MTAzPC90ZD48dGQ+UnVieSBTb3VyY2U8L3RkPjwvdHI+XG4gICAgPHRyPjx0ZD4xMDQ8L3RkPjx0ZD5DIFNvdXJjZTwvdGQ+PC90cj5cbiAgICA8dHI+PHRkPjEwNTwvdGQ+PHRkPk1ha2VmaWxlPC90ZD48L3RyPlxuICAgIDx0cj48dGQ+MTA2PC90ZD48dGQ+SmF2YVNjcmlwdCBTb3VyY2U8L3RkPjwvdHI+XG4gIDwvdGJvZHk+XG48L3RhYmxlPlxuPHA+VGhlc2UgY29udGVudCB0eXBlcyBhcmUgc2V0dGFibGUgdmlhIGEgZHJvcC1kb3duIGluIHRoZSA8YSBocmVmPVwiIy9BZG1pblRvb2xcIj5BZG1pbiBUb29sPC9hPiwgYW5kIHRoZSB0b29sIHdpbGwgZXZlbiBzdXBwb3J0IEhUTUwgc3ludGF4IGhpZ2hsaWdodGluZyB0byBtYWtlIHdyaXRpbmcgcHVyZSBIVE1MIGNvbnRlbnQgcGFnZXMgbXVjaCBlYXNpZXIuICBJJ2QgYWxzbyBoaWdobHkgcmVjb21tZW5kIGNoZWNraW5nIG91dCBteSA8YSBocmVmPVwiIy9GdXR1cmVGZWF0dXJlc1wiPkZ1dHVyZSBGZWF0dXJlczwvYT4gcGFnZSB0byBzZWUgd2hhdCB0byBleHBlY3QgaW4gdXBjb21pbmcgcmVsZWFzZXMgb2YgdGhpcyB3ZWIgYXBwbGljYXRpb24uPC9wPlxuIiB9LCB7ICJJZCIgOiA4LCAiUGF0aCIgOiAiL0Z1dHVyZUZlYXR1cmVzIiwgIlRpdGxlIiA6ICJGdXR1cmUgRmVhdHVyZXMiLCAiQ29udGVudFR5cGUiIDogMSwgIkNyZWF0ZWQiIDogIjIwMjQtMDItMDVUMjE6MTM6NDguOTkyLTA2OjAwIiwgIk1vZGlmaWVkIiA6ICIyMDI0LTAyLTIzVDIxOjU1OjE3LjUzOC0wNjowMCIsICJDb250ZW50IiA6ICIjIyMgSGVyZSBpcyBhIGxpc3Qgb2YgcG90ZW50aWFsIGZ1dHVyZSBmZWF0dXJlcyBmb3IgdGhpcyB3ZWJzaXRlIGZyYW1ld29yazpcblxuICAqIFNvdXJjZSBIaWdobGlnaHQgQ29udGVudC1UeXBlICoqQ29tcGxldGVkKipcbiAgKiBUYWJsZSBHZW5lcmF0b3IgQ29udGVudC1UeXBlXG4gICAgLSBTdGlsbCB1bnN1cmUgb2YgdGhlIG92ZXJhbGwgZm9ybWF0IG9mIHRoZSBDb250ZW50IHRvIG1ha2UgaXQgcmVuZGVyLlxuICAqIEVhc3kgd2F5IHRvIGVtYmVkIG1hY3JvcyBpbnRvIENvbnRlbnQgd2hpY2ggY2FuIGJlIHBhcnNlZC5cbiAgICAtIENhbiBiZSB1c2VkIGluIHNheSBIVE1MIHRvIGxvYWQvZW1iZWQgYW5vdGhlciByZXNvdXJjZSBsaWtlIGEgdGFibGUuXG4gICogQ3JlYXRlIGEgcHJvcGVyIHJlbGVhc2UgYnVpbGQgdGhhdCBkb2VzIHVzZSBhbiBleHRlcm5hbCBbd2Vic2l0ZS5qc29uXSgjL3dlYnNpdGUuanNvbikuXG4gICAgLSBUaGUgY3VycmVudCB2ZXJzaW9uIG9mIHRoaXMgd2Vic2l0ZSB5b3UgYXJlIHZpZXdpbmcgaGFzIHRoZSBkYXRhYmFzZSBlbWJlZGRlZC5cblxuIyMjIFNvbWUgZmVhdHVyZXMgZm9yIHRoZSB3ZWJzaXRlLCB3aGljaCBtYXkgbmVlZCBuZXcgZnJhbWV3b3JrIGZlYXR1cmVzOlxuXG4gICogKipNb3JlIENvbnRlbnQhKipcblxuIyMjIEZlYXR1cmVzIGZvciB0aGUgW0FkbWluIFRvb2xdKCMvQWRtaW5Ub29sKTpcblxuICAqIEltcHJvdmUgdGhlIG92ZXJhbGwgVUkgdG8gaGF2ZSBhIGxhcmdlciBNZW1vIHZpZXcuICoqTm93IFJlc2l6YWJsZSoqXG4gICogUG90ZW50aWFsbHkgcmVwbGFjZSB0aGUgVERCTWVtbyB3aXRoIGEgU3luRWRpdCBpbnN0ZWFkLiAgKipTdXBwb3J0ZWQgQWRkZWQqKlxuICAgIC0gVGhpcyBtZWFucyB0aGF0IEkgd2lsbCBuZWVkIHRvIG1hbmFnZSB0aGUgbW92ZW1lbnQgb2YgZGF0YSBmcm9tIHRoaXMgZmllbGQgbWFudWFsbHkuXG4gICogQWRkIG1hbnkgc2VhcmNoIGZlYXR1cmVzIGluIGEgbmV3ICoqU2VhcmNoKiogdGFiLlxuICAgIC0gKlBsZWFzZSBpdGVyYXRlKlxuIiB9LCB7ICJJZCIgOiA5LCAiUGF0aCIgOiAiL0Fic3RyYWN0aW9uIiwgIlRpdGxlIiA6ICJBYnN0cmFjdGlvbiIsICJDb250ZW50VHlwZSIgOiAxLCAiQ3JlYXRlZCIgOiAiMjAyNC0wMi0wNVQyMTo0NjozNy43NjMtMDY6MDAiLCAiTW9kaWZpZWQiIDogIjIwMjQtMDItMDVUMjE6NDc6MDAuMDIwLTA2OjAwIiwgIkNvbnRlbnQiIDogIkJvdGggW0ZyZWVQYXNjYWxdKCMvRnJlZVBhc2NhbCkgYW5kIFtMYXphcnVzXSgjL0xhemFydXMpIGhhdmUgYW1hemluZyBhYnN0cmFjdGlvbiBsYXllcnMuICBUaGUgYWJzdHJhY3Rpb24gbGF5ZXIgaW4gKkZyZWVQYXNjYWwqIG1ha2VzIGl0IHBvc3NpYmxlIHRvIHRha2UgdGhlIHNhbWUgc291cmNlIGNvZGUgYW5kIGNhbiBjb21waWxlIGl0IG9uIGEgZGlmZmVyZW50IHByb2Nlc3NvciBhbmQgb3BlcmF0aW5nIHN5c3RlbSwgYW5kIGl0IHdpbGwgd29yayBhbG1vc3QgdGhlIHNhbWUgYXMgaXQgZGlkIG9mIHRoZSBzeXN0ZW0gd2hpY2ggaXQgd2FzIG9yaWdpbmFsbHkgcHJvZ3JhbW1lZCBvbi4gIFRoaXMgYWJzdHJhY3Rpb24gbGF5ZXIgY29uY2VwdCBJIGJlbGlldmUgZ29lcyBiYWNrIGF0IGxlYXN0IHVudGlsICpUdXJib1Bhc2NhbCA0LjAqIHdoZXJlIGl0IGhhZCB0d28gdW5pdHMgd2hpY2ggd2VyZSBpbiBhIHNlbnNlIGhhcmR3YXJlIGluZGVwZW5kZW50LCBgY3J0YCBhbmQgYGdyYXBoYC5cblxuVGhlIGBjcnRgIHVuaXQgd2FzIHVzZWQgbGlrZSBob3cgYG5jdXJzZXNgIGlzIHVzZWQgdG9kYXksIGFuZCBpZiB5b3UgdGFrZSBhICpUdXJib1Bhc2NhbCogcHJvZ3JhbSB3aGljaCB1c2VzIHRoZSBgY3J0YCB1bml0IGZyb20gYmFjayBpbiB0aGUgODBzIGFuZCBjb21waWxlIGl0IHdpdGggKkZyZWVQYXNjYWwqLCBpdCB3aWxsIHJ1biBhbG1vc3QgZXhhY3RseSBhcyBpdCBkaWQgYmFjayB0aGVuLiAgVGhlcmUgYWxzbyBleGlzdHMgYSBtb3JlIG1vZGVybiB1bml0IGNhbGxlZCBgbmNydGAgd2hpY2ggaXMgYSBkcm9wLWluIHJlcGxhY2VtZW50IGZvciB0aGUgYGNydGAgdW5pdCwgYnV0IGluc3RlYWQgb2YgY29udHJvbGxpbmcgdGhlIHRlcm1pbmFsIGRpcmVjdGx5LCBpdCBpbnN0ZWFkIGxpbmtzIGFuZCB1c2VzIGBuY3Vyc2VzYCBBUEkgY2FsbHMuXG5cblRoZSBgZ3JhcGhgIHVuaXQgb3JpZ2luYWxseSB1c2VkIHdoYXQgd2VyZSBjYWxsZWQgYEJHSWAgb3IgKkJvcmxhbmQgR3JhcGdoaWNzIEludGVyZmFjZSogZHJpdmVycyBpbiB0aGUgKlR1cmJvUGFzY2FsKiBlcmEuICBUaGVzZSBkcml2ZXJzIHdlcmUgYWxzbyB1c2VkIHdpdGggKlR1cmJvIEMqIHByb2dyYW1zIGFzIHdlbGwgYXMgdGhlIHN0YW5kYXJkIGdyYXBoaWNzIGRyaXZlcnMuICBUaGUgYGdyYXBoYCB1bml0IHdhcyB0aGUgYWJzdHJhY3Rpb24gQVBJIHdoaWNoIHdvcmtlZCB3aXRoIHRoZXNlIGRyaXZlcnMgdG8gY29udHJvbCB0aGUgZ3JhcGhpY3Mgb24gdGhlIHNjcmVlbi4gIFRoaXMgdW5pdCBzdGlsbCBleGlzdHMgaW4gKkZyZWVQYXNjYWwqLCBhbmQgaWYgY29tcGlsaW5nIGEgMzItYml0IE1TLURPUyBwcm9ncmFtIHdpdGggaXQsIHRoZSBgZ3JhcGhgIHVuaXQgd2lsbCBmdW5jdGlvbiB0aGUgc2FtZSwgbWludXMgdGhlIG5lZWQgZm9yIHRoZSBgQkdJYCBkcml2ZXJzLiAgVGhpcyBhbGxvd3Mgb2xkZXIgMTYtYml0ICpUdXJib1Bhc2NhbCogcHJvZ3JhbXMgdG8gYmUgZGlyZWN0bHkgY29tcGlsZWQgaW50byBtb2Rlcm4gMzItYml0IHByb2dyYW1zLCBlaXRoZXIgZm9yIE1TLURPUyBzdGlsbCwgb3IgZm9yIGEgbW9kZXJuIG9wZXJhdGluZyBzeXN0ZW0sIGFuZCBldmVuIGludG8gdGhlIDY0LWJpdCBlcmEuICAqKlRhbGsgYWJvdXQgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkhKipcblxuSnVzdCBhcyBgY3J0YCBoYXMgYG5jcnRgIHNvIGl0IGNhbiB1c2UgbW9kZXJuIGxpYnJhcmllcywgc28gZG9lcyB0aGUgYGdyYXBoYCB1bml0LiAgSWYgeW91IHdhbnRlZCB5b3VyIE1TLURPUyBncmFwaC1iYXNlZCBwcm9ncmFtIHRvIGFwcGVhciBpbiBhIG5hdGl2ZSB3aW5kb3cgb24gYSBtb2Rlcm4gb3BlcmF0aW5nIHN5c3RlbSB3aXRoIGFtYXppbmcgNjQtYml0IHBvd2VyISAgVGhlbiB0aGVzZSBgZ3JhcGhgIGRyb3AtaW4gdW5pdHMgYXJlIGp1c3Qgd2hhdCB5b3UgbmVlZC4gIFRoZSBgZ2dpZ3JhcGhgIHVuaXQgdXNlcyB0aGUgW0dlbmVyYWwgR3JhcGhpY3MgSW50ZXJmYWNlXShodHRwOi8vaWJpYmxpby5vcmcvZ2dpY29yZS8pLCBhbiBvdGhlciBncmFwaGljcyBzdGFuZGFyZCBvbiBvbGRlciAqKk5JWCoqIFgxMSBtYWNoaW5lcy4gIEFub3RoZXIgb3B0aW9uIGlzIGBwdGNncmFwaGAgdW5pdCB3aGljaCBpcyB0aGUgb25lIHdoaWNoIEkgYmVsaWV2ZSB3b3JrZWQgYmVzdCBmb3IgbWUgdG8gY29tcGlsZSBgR1JERU1PLlBBU2Agb3ZlciBkaXJlY3RseSBmcm9tIE1TLURPUyB0byBteSBtb2Rlcm4gRGViaWFuIExpbnV4IHN5c3RlbS4gIFRoZXJlIGlzIGFsc28gYSB1bml0IHdoaWNoIHVzZXMgKlNETCogYXMgdGhlIGJhY2tlbmQuICBUaGUgaWRlYSBiZWhpbmQgYWxsIHRoZXNlIHVuaXRzIGlzIHRvIHByZXNlcnZlIGZ1bGwgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgYW5kIGVuc3VyZSB0aGF0IHByb2dyYW1zIGNhbiBzdGlsbCBjb21waWxlIG9uIG1vZGVybiB2ZXJzaW9ucyBvZiB0aGUgY29tcGlsZXIuICBJdCdzIGFsc28gdGhpcyB0eXBlIG9mIGFic3RyYWN0aW9uIHRoYXQgYWxsb3dzICpGcmVlUGFzY2FsKiB0byBiZSBhcyBjcm9zcy1wbGF0Zm9ybSBhcyBpdCBpcyBmb3IgYSBuYXRpdmUgYmluYXJ5IGNvbXBpbGVyLiAgSXQgaGFzIGEgaGVjayBvZiBhIGxvdCBvZiB0YXJnZXRzLCBhbG1vc3QgYXMgbWFueSBhcyBEZWJpYW4uXG5cbk9uZSBvZiB0aGUgbGFyZ2VzdCBhYnN0cmFjdGlvbiBsYXllcnMgaW4gKkZyZWVQYXNjYWwqIGhhcyB0byBiZSB0aGUgW0xDTF0oIy9MQ0wpIG9yIHRoZSAqTGF6YXJ1cyBDb21wb25lbnQgTGlicmFyeSouICBMYXphcnVzIGluIGl0J3MgbW9zdCBzaW1wbGVzdCBmb3JtIGlzIGEgY29tcG9uZW50IGxpYnJhcnkgb2YgYWJzdHJhY3Rpb24gbGF5ZXJzIGZvciBldmVyeSBtb2Rlcm4gR1VJLiAgSWYgeW91IGNvbXBpbGUgYSBMYXphcnVzIGFwcGxpY2F0aW9uIG9uIExpbnV4LCBpdCB3aWxsIG5vcm1hbGx5IGNvbXBpbGUgYWdhaW5zdCB0aGUgKkdUSyogZnJhbWV3b3JrLCBhbmQgY2FuIGNvbXBpbGUgYWdhaW5zdCAqUXQqIHRvbyB3aXRoIGp1c3QgYSBzaW5nbGUgY29tcGlsZSBvcHRpb24gY2hhbmdlLiAgVGhpcyBzYW1lIHByb2dyYW0gd2hlbiBjb21waWxlZCBvbiBXaW5kb3dzIHdpbGwgZ2VuZXJhdGUgYSBwcm9ncmFtIHdoaWNoIHVzZXMgdGhlIHN0YW5kYXJkIFdpbmRvd3MgR1VJIEFQSXMgdG8gZHJhdyBpdCdzIHdpZGdldHMsIGNyZWF0aW5nIGFuIGFwcGxpY2F0aW9uIHdoaWNoIGFwcGVhcnMgZW50aXJlbHkgbmF0aXZlLCBhcyB0aGF0IGlzIGV4YWN0bHkgd2hhdCBpdCBpcy4gIFRoZSBzYW1lIGdvZXMgd2hlbiBjb21waWxpbmcgdGhlIHNhbWUgcHJvZ3JhbSBmb3IgTWFjT1MsIGl0IHdpbGwgdXNlIHRoZSBDb2NvYSB0b29sa2l0IGFuZCB3aWxsIHVzZSBuYXRpdmUgTWFjT1MgVUkgd2lkZ2V0cy4gIEFsbCBvZiB0aGlzIHdpdGggbm8gYWRkaXRpb25hbCBlZmZvcnQgZnJvbSB0aGUgZGV2ZWxvcGVyLiAgVGhlIG9ubHkgYWRkaXRpb25hbCBlZmZvcnQgaXMgd2l0aCB0aGUgdGVzdGVycyBhbmQgVVggZGVzaWduZXJzIHdobyBtYXkgbmVlZCB0byBhZGp1c3QgdmFyaW91cyBjb250cm9scyBvbiB0aGUgZm9ybSBmb3IgZWFjaCBvcGVyYXRpbmcgc3lzdGVtIGlmIGN1c3RvbSBjb21wb25lbnRzIGFyZSBiZWluZyB1c2VkIHRvIGVuc3VyZSBpdCBsb29rcyBjb25zaXN0ZW50LlxuXG5JIGRvIHBsYW4gb24gbWFraW5nIGEgdmlkZW8gYXQgc29tZSBwb2ludCBpbiB0aGUgbmVhciBmdXR1cmUgc2hvd2luZyBhbiBhcHBsaWNhdGlvbiBiZWluZyBkZXZlbG9wZWQgb24gb25lIG9wZXJhdGluZyBzeXN0ZW0gc2VhbWxlc3NseSBiZWluZyBjb21waWxlZCBvbiBhbm90aGVyIHdpdGggemVybyBhZGRpdGlvbmFsIGVmZm9ydC5cbiIgfSwgeyAiSWQiIDogMTAsICJQYXRoIiA6ICIvRnJlZVBhc2NhbCIsICJUaXRsZSIgOiAiRnJlZVBhc2NhbCIsICJDb250ZW50VHlwZSIgOiAxLCAiQ3JlYXRlZCIgOiAiMjAyNC0wMi0wNVQyMTo0Nzo1OC4wNzktMDY6MDAiLCAiTW9kaWZpZWQiIDogIjIwMjQtMDItMDVUMjE6NDk6MTAuNzY1LTA2OjAwIiwgIkNvbnRlbnQiIDogIlRoaXMgaXMgbXkgKk9iamVjdFBhc2NhbCogY29tcGlsZXIgb2YgY2hvaWNlLCBpdCBjYW4gYmUgZG93bmxvYWRlZCBmcm9tIHRoZWlyIG9mZmljaWFsIHdlYnNpdGUsIFtmcmVlcGFzY2FsLm9yZ10oaHR0cHM6Ly93d3cuZnJlZXBhc2NhbC5vcmcvKS4iIH0sIHsgIklkIiA6IDExLCAiUGF0aCIgOiAiL0xhemFydXMiLCAiVGl0bGUiIDogIkxhemFydXMgSURFIiwgIkNvbnRlbnRUeXBlIiA6IDEsICJDcmVhdGVkIiA6ICIyMDI0LTAyLTA1VDIxOjQ5OjM5LjA3My0wNjowMCIsICJNb2RpZmllZCIgOiAiMjAyNC0wMi0wNlQxMTozMzo1OC43MDQtMDY6MDAiLCAiQ29udGVudCIgOiAiQW4gKkludGVncmF0ZWQgRGV2ZWxvcG1lbnQgRW52aXJvbm1lbnQqIGZvciB0aGUgW0ZyZWVQYXNjYWxdKCMvRnJlZVBhc2NhbCkgbGFuZ3VhZ2UuICBJdCB3b3JrcyBtb3JlIG9yIGxlc3MgbGlrZSB0aGUgKkRlbHBoaSogSURFLlxuXG4hW0xhemFydXMgSURFIGZyb20gV2lraXBlZGlhXShodHRwczovL3VwbG9hZC53aWtpbWVkaWEub3JnL3dpa2lwZWRpYS9jb21tb25zL3RodW1iLzAvMDEvTGF6YXJ1c18xLjBfQ2FyYm9uLnBuZy8xMDI0cHgtTGF6YXJ1c18xLjBfQ2FyYm9uLnBuZykiIH0sIHsgIklkIiA6IDEyLCAiUGF0aCIgOiAiL0xDTCIsICJUaXRsZSIgOiAiTGF6YXJ1cyBDb21wb25lbnQgTGlicmFyeSIsICJDb250ZW50VHlwZSIgOiAxLCAiQ3JlYXRlZCIgOiAiMjAyNC0wMi0wNVQyMTo1MTozMS42NTYtMDY6MDAiLCAiTW9kaWZpZWQiIDogIjIwMjQtMDItMDVUMjE6NTQ6MTcuMTcxLTA2OjAwIiwgIkNvbnRlbnQiIDogIlRoZSBjcm9zcy1wbGF0Zm9ybSBHVUkgYWJzdHJhY3Rpb24gbGF5ZXIgZm9yIFtGcmVlUGFzY2FsXSgjL0ZyZWVQYXNjYWwpLiAgSXQgaXMgYWxtb3N0IGVudGlyZWx5IGNvbXBhdGlibGUgd2l0aCB0aGUgKkRlbHBoaSogdmVyc2lvbiBjYWxsZWQgKipWQ0wqKiBvciB0aGUgKlZpc3VhbCBDb21wb25lbnQgTGlicmFyeSouICBXaGljaCBpcyBpbiBpdHNlbGYgYSBsaWJyYXJ5IG9mIGNsYXNzZXMgd2hpY2ggYXJlIGFibGUgdG8gY3JlYXRlIGNyb3NzLXBsYXRmb3JtIEdVSSBhcHBsaWNhdGlvbnMgd2l0aCB0aGUgc2FtZSBjb2RlYmFzZS4iIH0sIHsgIklkIiA6IDEzLCAiUGF0aCIgOiAiL1Bhc2NhbFJlc291cmNlcyIsICJUaXRsZSIgOiAiT2JqZWN0UGFzY2FsIFJlc291cmNlcyIsICJDb250ZW50VHlwZSIgOiAxLCAiQ3JlYXRlZCIgOiAiMjAyNC0wMi0wNlQxMDo0MzozNS45NDUtMDY6MDAiLCAiTW9kaWZpZWQiIDogIjIwMjQtMDItMDZUMTA6NDc6MDQuNzg5LTA2OjAwIiwgIkNvbnRlbnQiIDogIlRoaXMgaXMgYSBwYWdlIHdpdGggdmFyaW91cyByZXNvdXJjZXMgd2hpY2ggSSBtYXkgdXNlIG9uIGEgZGFpbHkgYmFzaXMgZHVyaW5nIGNvZGluZyBzZXNzaW9uczpcblxuICAqIFtMYXphcnVzIFRkYmYgVHV0b3JpYWxdKGh0dHBzOi8vd2lraS5mcmVlcGFzY2FsLm9yZy9MYXphcnVzX1RkYmZfVHV0b3JpYWwpICAtIFVzZWZ1bCBpbmZvcm1hdGlvbiBvbiBmaWx0ZXIgY29tbWFuZHMgYW5kIGV4cHJlc3Npb25zLlxuIiB9LCB7ICJJZCIgOiAxNCwgIlBhdGgiIDogIi9MaXZlU3RyZWFtaW5nIiwgIlRpdGxlIiA6ICJMaXZlIFN0cmVhbWluZyIsICJDb250ZW50VHlwZSIgOiAxLCAiQ3JlYXRlZCIgOiAiMjAyNC0wMi0wNlQxMDo0ODoyOC4xMTgtMDY6MDAiLCAiTW9kaWZpZWQiIDogIjIwMjQtMDItMDZUMTA6NTQ6MjIuMTk5LTA2OjAwIiwgIkNvbnRlbnQiIDogIkkgYW0ga25vd24gdG8gKkxpdmUgU3RyZWFtKiBteSBjb2Rpbmcgc2Vzc2lvbnMgb25saW5lIHRocm91Z2ggbXkgb3duIHBlcnNvbmFsIGxpdmUgc3RyZWFtaW5nIHNlcnZpY2UgSSd2ZSBjcmVhdGVkIHRvIGxpbWl0IGFueSBleHRlcm5hbCBkaXN0cmFjdGlvbnMgYXMgdG8gZW5hYmxlIG15IGFiaWxpdHkgdG8gKkh5cGVyIEZvY3VzKiBvbiBhIHNpbmdsZSBjb2RpbmcgdGFzay4gIFlvdSBjYW4gZmluZCB0aGUgZnVsbCB3ZWJzaXRlIGF0IFtsaXZlLnZlcm9uZWF1Lm5ldF0oaHR0cDovL2xpdmUudmVyb25lYXUubmV0LyMvY2hhbm5lbC9jb2RpbmcpLiAgSSB3YXMgZ29pbmcgdG8gaW5jbHVkZSBhIGZlZWQgdG8gdGhlIGxpdmUgc3RyZWFtIG9uIHRoaXMgcGFnZSBoZXJlLCBidXQgaXQgd291bGQgcmVxdWlyZSBtZSB0byBpbmNsdWRlIHRoZSBKYXZhU2NyaXB0IGZpbGVzIGZvciB0aGUgY29kZSByZXF1aXJlZCB0byBlbmFibGUgaXQuICBBbnl3YXlzLCBwZXJoYXBzIHRoaXMgaXMgYSB3YXkgZm9yIHBlb3BsZSB0byB0YWtlIGEgbG9vayBhdCBteSBuZXcgTGl2ZSBTdHJlYW1pbmcgUG9ydGFsIHdlYnNpdGUgdGhhdCBJIHNwdW4gdXAgaW4gYWJvdXQgYSBkYXkncyB3b3JrLlxuIiB9LCB7ICJJZCIgOiAxNSwgIlBhdGgiIDogIi9Qcm9qZWN0cyIsICJUaXRsZSIgOiAiTXkgVmFyaW91cyBQcm9qZWN0cyIsICJDb250ZW50VHlwZSIgOiAxLCAiQ3JlYXRlZCIgOiAiMjAyNC0wMi0wNlQxMToyMzo1Ni43MjItMDY6MDAiLCAiTW9kaWZpZWQiIDogIjIwMjQtMDMtMjRUMDA6MTI6NTYuMjg5LTA2OjAwIiwgIkNvbnRlbnQiIDogIldlbGwsIGZpcnN0bHkgSSBndWVzcyB0aGlzIFt3ZWJzaXRlIGZyYW1ld29ya10oLyNBYm91dFNpdGUpIGhlcmUgY291bnRzIGFzIGEgcHJvamVjdCBvZiBtaW5lLlxuXG4jIyMgTGlicmFyaWVzIC8gUGFja2FnZXNcblxuICAqIFtrbGliXSgjL2tsaWIpXG4gICAgLSBBIFtMYXphcnVzXSgjL0xhemFydXMpIFBhY2thZ2Ugd2hpY2ggY2FuIGFsc28gYmUgdXNlZCBpbiBbRnJlZVBhc2NhbF0oIy9GcmVlUGFzY2FsKSB3aXRoIGFuIGFzc29ydG1lbnQgb2YgdXNlZnVsIHVuaXRzIEkgdXNlIGluIGEgbWFqb3JpdHkgb2YgbXkgcGVyc29uYWwgcHJvamVjdHMuICBJdCB3YXMgbmFtZWQgYXMgc3VjaCBhcyBJIHJlYWxseSBkb24ndCBrbm93IGhvdyB0byBuYW1lIGFueXRoaW5nLCBzbyBhcyBhIGRldmVsb3BlciwgSSBjaG9vc2UgdGhlIG1vc3Qgc2ltcGxlc3Qgb2YgbmFtZXMsIG9mIHdoaWNoIHlvdSB3aWxsIGNvbWUgdG8gc2VlIHdpdGggdGhlIHJlc3Qgb2YgdGhlIHByb2plY3RzIG9uIHRoaXMgbGlzdC5cbiAgKiBba2xpYkxhel0oIy9rbGliKVxuICAgIC0gQSAqTGF6YXJ1cyogcGFja2FnZSB3aGljaCB3aWxsIGFkZCBzZXZlcmFsIGNvbXBvbmVudHMgdW5kZXIgYGtsaWJgIGluIHlvdXIgY29tcG9uZW50IHBhbGV0dGUgd2l0aCB2YXJpb3VzIGNvbXBvbmVudHMgSSd2ZSBjcmVhdGVkLlxuICAqIFtqc2xpYl0oIy9qc2xpYilcbiAgICAtIEEgY29sbGVjdGlvbiBvZiAqRnJlZVBhc2NhbCogdW5pdHMgZm9yIHVzZSB3aXRoIHRoZSB0aXR1bGFyIFtwYXMyanNdKCMvcGFzMmpzKSBjb21waWxlciB0byBidWlsZCB3ZWIgYXBwbGljYXRpb24gc3VjaCBhcyB0aGlzIG9uZS5cblxuIyMjIFNvZnR3YXJlXG5cbiAgKiBbRGV2RGVza3RvcE9TXSgjL0RldkRlc2t0b3BPUylcbiAgICAtIEEgRGViaWFuIExpdmUgQ0Qgd2l0aCBtYW55IGRldmVsb3BlciB0b29scyByaWdodCB0byB1c2UgYW5kIGNvbmZpZ3VyZWQgZnJvbSBib290IHdpdGggZGVjZW50IHNldHRpbmdzLlxuICAqIFtOZXR3b3JrIFNoYXJlZCBIZWFwIFNlcnZlcl0oIy9tY3NlcnZlcilcbiAgICAtIE90aGVyd2lzZSBrbm93biBhcyAqTWVtb3J5IENhcmQgU2VydmVyKiwgd2hpY2ggYWxsb3dzIGFwcGxpY2F0aW9ucyB0byBzdWJzY3JpYmUgdG8gYmxvY2tzIG9mIG1lbW9yeSBvbiB0aGUgbmV0d29yay5cbiAgICAtIENhbiBiZSB2ZXJ5IHVzZWZ1bCBpbiAqbG93IHJlc291cmNlKiBlbnZpcm9ubWVudHMgd2hlcmUgdGhlIHBhcnNpbmcgb2YgY29tcGxleCBkYXRhIHN0cnVjdHVyZXMgc3VjaCBhcyAqKkpTT04qKiBhbmQgKipYTUwqKiBhcmUgdG9vIHRheGluZy5cbiAgKiBbU2ltNjUwMl0oIy9TaW02NTAyKVxuICAgIC0gQSAqKk1PUyA2NTAyKiogZGlzY292ZXJ5IHRveSwgYSBmdW4gbGVhcm5pbmcgZW52aXJvbm1lbnQgZm9yIHRoZSBjaGlwLCBhbGxvd2luZyB0aGUgY3JlYXRpb24gYW5kIHNoYXJpbmcgb2YgNjUwMiBwcm9ncmFtcyBhbmQgbGVhcm5pbmcgc2NlbmFyaW9zIHRvIGJlIGVhc2lseSBzaGFyZWQgYW1vbmdzdCBpdCdzIHVzZXJzLlxuICAqIFtIYWNrZXIgTWFrZXJdKCMvSGFja2VyTWFrZXIpXG4gICAgLSBQbGVhc2UgZG9uJ3QganVkZ2UgbWUgb24gdGhlIG5hbWUsIEkgZG8gbm90IGNvbmRvbmUgc3VjaCBhY3Rpdml0aWVzLCBtdWNoIGxpa2UgaG93IHRoZSBjcmVhdG9ycyBvZiAqR1RBKiBvYnZpb3VzbHkgd291bGQgbmV2ZXIgY29uZG9uZSBtb3N0IGFjdGl2aXRpZXMgcGxheWVycyBkbyBpbiB0aGVpciBnYW1lLlxuICAgIC0gVGhpcyBpcyBnb2luZyB0byBiZSBhbiB1cGNvbWluZyBnYW1lIHByb2plY3QsIEkgYW0gY3VycmVudGx5IGluIHRoZSAqUHJvdG90eXBlKiBzdGFnZXMgb2YgZGV2ZWxvcG1lbnQgYXQgdGhlIG1vbWVudC5cblxuIyMjIERvY3VtZW50YXRpb24gSSBtYWludGFpblxuXG4gICogW2tkb2NzXShodHRwczovL2tkb2NzLnB1dGVyLnNpdGUvaW5kZXgueG1sKVxuICAgIC0gQSBzaXRlIHNpbWlsYXIgdG8gdGhpcyBwZXJoYXBzLCBidXQgd2l0aCBtdWNoIG1vcmUgZG9jdW1lbnRhdGlvbi5cblxuSWYgeW91IGFyZSBsb29raW5nIGZvciBbZmFpbGVkIHByb2plY3RzXSgjL0ZhaWx1cmVzKSwgdGhlbiBJIGhpZ2hseSByZWNvbW1lbmQgY2hlY2tpbmcgb3V0IHRoYXQgcGFnZS5cbiIgfSwgeyAiSWQiIDogMTYsICJQYXRoIiA6ICIvWmVsZGEiLCAiVGl0bGUiIDogIlRoZSBMZWdlbmQgb2YgWmVsZGEiLCAiQ29udGVudFR5cGUiIDogMSwgIkNyZWF0ZWQiIDogIjIwMjQtMDItMDZUMTE6NDU6MjYuMzQ4LTA2OjAwIiwgIk1vZGlmaWVkIiA6ICIyMDI0LTAyLTI1VDEyOjU1OjExLjI0MS0wNjowMCIsICJDb250ZW50IiA6ICJUaGUgdmlkZW8gZ2FtZXMgc2VyaWVzIEkndmUgYmVlbiBwbGF5aW5nIHNpbmNlIEkgd2FzIGEga2lkIHdpdGggdGhlIHJlbGVhc2Ugb3JpZ2luYWwgcmVsZWFzZSBvbiB0aGUgKk5pbnRlbmRvIEVudGVydGFpbm1lbnQgU3lzdGVtKiwgeWVzIEknbSBvbGQgbm93LiAgSSBzdGlsbCBwbGF5IGFsbCB0aGUgZ2FtZXMgaW4gdGhlIHNlcmllcyBhdCB2YXJpb3VzIHBvaW50cyBpZiBJIGZlZWwgSSB3YW50IHRvIHJldmlzaXQgYSBnYW1lIGluIHRoZSBzZXJpZXMuXG5cbkRvIGxvb2sgZm9yd2FyZCB0byBtb3JlIGNvbnRlbnQgb24gdGhpcyBwYWdlIGFzIHRpbWUgZ29lcyBvbi4gIEZvciBub3cgSSBhbSB0cnlpbmcgdG8gZm9jdXMgb24gb3RoZXIgY29udGVudCBhdCB0aGUgc2l0ZSBpcyBicmFuZC1uZXcuXG5cbklmIHlvdSBlbmpveSB0aGUgKnNlbnNlIG9mIHByb2dyZXNzaW9uKiBpbiB5b3VyIGxpZmUgbGlrZSB5b3UgbWF5IGZlZWwgaW4gYSAqWmVsZGEqIGdhbWUsIHRoZW4gSSBoaWdobHkgcmVjb21tZW5kIHRha2luZyBhIGxvb2sgYXQgdGhlIFtRdWludGV0XSgjL1F1aW50ZXQpIGdhbWVzLlxuIiB9LCB7ICJJZCIgOiAxNywgIlBhdGgiIDogIi9wYXMyanMiLCAiVGl0bGUiIDogInBhczJqcyBUcmFuc3BpbGVyIiwgIkNvbnRlbnRUeXBlIiA6IDEsICJDcmVhdGVkIiA6ICIyMDI0LTAyLTA2VDExOjQ5OjE3LjMzMi0wNjowMCIsICJNb2RpZmllZCIgOiAiMjAyNC0wMi0wNlQxMTo1MzoyNS4xMTItMDY6MDAiLCAiQ29udGVudCIgOiAiVGhpcyBpcyB0aGUgY29tcGlsZXIgd2hpY2ggd2FzIHVzZWQgdG8gdHVybiB0aGlzIFt3ZWJzaXRlXSgjL0Fib3V0U2l0ZSkgZnJvbSBbT2JqZWN0UGFzY2FsXSgjL09iamVjdFBhc2NhbCkgY29kZSBpbnRvICpKYXZhU2NyaXB0KiBjb2RlIHdoaWNoIGNhbiBydW4gaW4geW91ciB3ZWIgYnJvd3Nlci4gIEl0IHN1cHBvcnRzIGFsbCB0aGUgbW9kZXJuIGZlYXR1cmVzIG9mICpPYmplY3RQYXNjYWwqIHN1Y2ggYXMgcHJvcGVyIGNsYXNzZXMsIGFuZCBhIHN0YXRpY2FsbHkgdHlwZWQgbGFuZ3VhZ2UgbWFraW5nIGl0IGVhc2llciB0byBkZWJ1ZyBhbmQgdHJvdWJsZXNob290IGFwcGxpY2F0aW9uIGlzc3Vlcy5cblxuSSBoaWdobHkgcmVjb21tZW5kIHRha2luZyBhIGxvb2sgYXQgdGhlIFtzb3VyY2UgY29kZV0oaHR0cHM6Ly9naXRodWIuY29tL2t2ZXJvbmVhdS9rdmVyb25lYXUuZ2l0aHViLmlvL2Jsb2IvbWFpbi9zcmMvV2ViQXBwLmxwcikgZm9yIHRoaXMgd2Vic2l0ZSB0byBsZWFybiBtb3JlLiAgSSBkbyBwbGFuIG9uIG1ha2luZyBzb21lIHVwY29taW5nIHZpZGVvcyB0byBzaG93IHBlb3BsZSBob3cgdG8gZ2V0IHN0YXJ0ZWQuXG4gIiB9LCB7ICJJZCIgOiAxOCwgIlBhdGgiIDogIi9rbGliIiwgIlRpdGxlIiA6ICJLZXZpbidzIExpYnJhcnkgb2YgdXNlZnVsIHVuaXRzIiwgIkNvbnRlbnRUeXBlIiA6IDEsICJDcmVhdGVkIiA6ICIyMDI0LTAyLTA2VDExOjU0OjAwLjY5NC0wNjowMCIsICJNb2RpZmllZCIgOiAiMjAyNC0wMi0wNlQxMjo1MDo1Ny42MjQtMDY6MDAiLCAiQ29udGVudCIgOiAiQSBwYWNrYWdlIHdoaWNoIGNhbiBiZSB1c2VkIHdpdGggdGhlIFtMYXphcnVzIElERV0oIy9MYXphcnVzKSBvciB1c2VkIGJ5IGl0c2VsZiBpZiBjb25maWd1cmVkIGNvcnJlY3RseSBpbiB5b3VyIGBmcGMuY2ZnYCBmaWxlLlxuXG5bR2l0SHViIFJlcG9dKGh0dHBzOi8vZ2l0aHViLmNvbS9rdmVyb25lYXUva2xpYilcblxuSGVyZSBpcyBhIGxpc3Qgb2YgdGhlIHVuaXRzIHByb3ZpZGVkIGluIHRoZSAqcGFja2FnZSo6XG5cbiAgKiAqKmNtZHN5cyoqIHByb3ZpZGVzIHNvbWUgYmFzaWMgbGluZSBwYXJzaW5nIGZvciBjcmVhdGluZyBxdWljayBjb21tYW5kLWxpbmUgcHJvZ3JhbXMuXG4gICogKipjcnRoZWxwZXIqKiBwcm92aWRlcyBvciB3aWxsIHNvb24gcHJvdmlkZSBzb21lIHV0aWxpdHkgYW5kIHdyYXBwZXJzIGFyb3VuZCB0aGUgYGNydGAgdW5pdC5cbiAgKiAqKmVjd2VhdGhlcioqIHByb3ZpZGVzIHdlYXRoZXIgZGF0YSBmb3IgKkNhbGdhcnkqIHVzaW5nIHRoZSAqRW52aXJvbm1lbnQgQ2FuYWRhKiB3ZWJzaXRlLlxuICAqICoqZWdhY29uc29sZSoqIGlzIGEgcG9ydCBvZiBteSAqcHl0aG9uLXZnYWNvbnNvbGUqIGJ1dCByZW5hbWVkIHRvIGJlIHByb3BlciB0byB3aGF0IGl0IGlzIGFzIHdoZW4gSSBtYWRlIHRoZSBQeXRob24gdmVyc2lvbiBJIGRpZG4ndCBrbm93IEkgd2FzIHRlY2huaWNhbGx5IHJlcGxpY2F0aW5nIGFuIEVHQSBmZWF0dXJlIHdoaWNoIGp1c3Qgc28gaGFwcGVucyB0byB3b3JrIG9uIFZHQSBhZGFwdGVycy5cbiAgKiAqKmZvcmVjYXN0KiogaG9sZHMgYSB0eXBlIGFuZCBhIHBvaW50ZXIgdG8gc2FpZCB0eXBlIHdoaWNoIGhvbGRzIGZvcmVjYXN0IGRhdGEgdXNlZCBieSBgZWN3ZWF0aGVyYCB1bml0LlxuICAqICoqaG9tZWN1KiogcHJvdmlkZXMgbXkgcHJvZ3JhbXMgd2l0aCBhY2Nlc3MgdG8gbXkgW0hvbWUgQXV0b21hdGlvbl0oIy9Ib21lQ1UpIHN5c3RlbS5cbiAgKiAqKmh1ZGJ1dHRvbioqIHByb3ZpZGVzIGEgdG91Y2ggZnJpZW5kbHkgYnV0dG9uICpMYXphcnVzIGNvbXBvbmVudCouXG4gICogKipodWR0b2dnbGUqKiBwcm92aWRlcyBhIHRvdWNoIGZyaWVuZGx5IHRvZ2dsZS1idXR0b24gKkxhemFydXMgY29tcG9uZW50Ki5cbiAgKiAqKmthcGkqKiBob2xkcyBhIHR5cGUgYW5kIGEgcG9pbnRlciB0byBzYWlkIHR5cGUgd2hpY2ggaG9sZHMgYW4gQVBJIHN0cnVjdHVyZSB1c2VkIGJ5IGBrc2VydmVyYCBhbmQgYGtjbGllbnRgLlxuICAqICoqa2J1bmRsZSoqIHdhcyBhbiBlYXJseSBhdHRlbXB0IGF0IHRyeWluZyB0byBjcmVhdGUgYSAqY29uc29saWRhdGVkIGZpbGUgZm9ybWF0Ki5cbiAgKiAqKmtjbGllbnQqKiBpcyBhIGNsaWVudCBjbGFzcyB3aGljaCBhbGxvd3MgbXVsdGlwbGUgZm9ybXMgb2Ygb3BlcmF0aW9uIGZvciBuZXR3b3JrIGNsaWVudCBhY2Nlc3Mgcm91dGluZXMuXG4gICogKiprZXZzaGVsbCoqIGlzIHRoZSB0aXR1bGFyIHNoZWxsIHByb2dyYW0gd3JpdHRlbiBieSBbS2V2aW5dKCMvQWJvdXRNZSkgdG8gY3JlYXRlIGFuZCBhdXRvbWF0ZSBtdW5kYW5lIHRhc2tzIHVzaW5nICo2NTAyKiBtYWNoaW5lIGNvZGUuXG4gICogKiprZXZ0ZWwqKiBpcyBhIGNvbm5lY3RvciB0byBLZXZpbidzIG93biAqSW50ZXJhY3RpdmUgVm9pY2UgUmVzcG9uc2UqIHN5c3RlbSBoZSBkZXZlbG9wZWQuXG4gICogKipraXBjKiogcHJvdmlkZXMgYSBsaWdodHdlaWdodCBJUEMgU2VydmVyIGFuZCBDbGllbnQgb3ZlciB0aGUgc3RhbmRhcmQgKlVOSVggZG9tYWluIHNvY2tldCouXG4gICogKiprbG9nZ2VyKiogcHJvdmlkZXMgc2VhbWxlc3MgYWNjZXNzIHRvIHRoZSBgVEV2ZW50TG9nYCBjbGFzcywgbWFraW5nIGl0IG9ubHkgYSBzaW5nbGUgbGluZSBvZiBjb2RlIHRvIGVuYWJsZSBsb2dnaW5nLlxuICAqICoqa29uc29sZSoqIGlzIG5vdCB0byBiZSBjb25mdXNlZCB3aXRoIHRoZSAqS0RFIFBsYXNtYSogcHJvZ3JhbSBvZiB0aGUgc2FtZSBuYW1lLiAgSW5zdGVhZCwgdGhpcyBpcyBhICpMYXphcnVzIGNvbXBvbmVudCogd2hpY2ggZXh0ZW5kcyB0aGUgc3RhbmRhcmQgYFRNZW1vYCB0byBjcmVhdGUgYSBiYXNpYyBjb21tYW5kIHNoZWxsIGluIGEgR1VJIHByb2dyYW0uXG4gICogKiprc2VydmVyKiogaXMgYSBzZXJ2ZXIgY2xhc3Mgd2hpY2ggYWxsb3dzIG11bHRpcGxlIGZvcm1zIG9mIG9wZXJhdGlvbiBmb3IgbmV0d29yayBzZXJ2ZXIgY3JlYXRpb24uXG4gICogKiprc2lnbmFscyoqIG1ha2VzIGl0IGVhc3kgZm9yIHlvdXIgYXBwbGljYXRpb24gdG8gcHJvcGVybHkgdGVybWluYXRlIHdoZW4gaXQgcmVjZWl2ZXMgdGhlIHByb3BlciBVTklYIHNpZ25hbHMuXG4gICAgLSBQcm92aWRlcyBldmVudCBjYWxsYmFjayBmb3Igd2hlbiBwcm9ncmFtIGdldHMgdGhlICoqU0lHVEVSTSoqIG9yIFtDdHJsLUNdKCMvQ3RybC1DKSBzaWduYWxzLlxuICAqICoqa3RocmVhZHMqKiBpcyBhIHRocmVhZGluZyBjbGFzcyB3aXRoIHN1cHBvcnQgZm9yIGNvbW1hbmQgcXVldWluZy5cbiAgKiAqKmt1dGlscyoqIGhhcyB2YXJpb3VzIHV0aWxpdHkgZnVuY3Rpb25zLlxuICAqICoqbGF6NjUwMioqIGlzIHRoZSAqTGF6YXJ1cyBjb21wb25lbnQqIGZvciBgbGliNjUwMmAsIHdoaWNoIGlzIGFsc28gdGhlIG1vc3QgcmVjb21tZW5kZWQgd2F5IHRvIHVzZSB0aGlzIGxpYnJhcnkgaW4gKk9iamVjdFBhc2NhbCouXG4gICogKipsYXprY2xpZW50KiogaXMgYSAqTGF6YXJ1cyBjb21wb25lbnQqIGZvciBga2NsaWVudGAsIGFsbG93cyB0byBjb25maWd1cmUgdGhlIHZhcmlvdXMgcHJvcGVydGllcyBhdCBkZXNpZ24tdGltZS5cbiAgKiAqKmxhem1lbWNhcmQqKiBpcyBhICpMYXphcnVzIGNvbXBvbmVudCogZm9yIGBtZW1jYXJkYCwgYW5kIGl0IGNhbiBhbHNvIGJlIHVzZWQgYXMgYSBjb25uZWN0b3IgZm9yICptZW1jYXJkLWF3YXJlKiBjb21wb25lbnRzLlxuICAqICoqbGF6bmV0Y2FyZCoqIGlzIGEgKkxhemFydXMgY29tcG9uZW50KiBmb3IgYG5ldGNhcmRgLCBhbmQgaXQgY2FuIGFsc28gYmUgdXNlZCBhcyBhIGNvbm5lY3RvciBmb3IgKm5ldGNhcmQtYXdhcmUqIGNvbXBvbmVudHMsIHN1Y2ggYXMgdGhlIGBUTmV0TWVtb2AgY29tcG9uZW50LiAgSXQgZXZlbiBzdXBwb3J0cyAqc2VydmVyIHN1YnNjcmlwdGlvbnMqLCBzbyBpdCBjYW4gYmUgdXNlZCB0byBzYXkgc3luYyBgVE5ldE1lbW9gIHdpZGdldHMgYWNyb3NzIGEgbmV0d29yay5cbiAgKiAqKmxpYjY1MDIqKiBwcm92aWRlcyBib3RoIGxvdy1sZXZlbCBhbmQgY2xhc3MtYmFzZWQgYWNjZXNzIHRvIHRoZSBgbGliNjUwMi5zb2AgbGlicmFyeSwgYWxzbyBjYWxsZWQgYDY1MDIuRExMYCBvbiBXaW5kb3dzLlxuICAqICoqbWVtY2FyZCoqIGlzIGFuIGltcGxlbWVudGF0aW9uIG9mIGEgbWVtb3J5IGNhcmQgc3RvcmFnZSBzeXN0ZW0gZm9yIHN0cnVjdHVyZWQgZGF0YSwgc2ltaWxhciB0byBob3cgZGF0YSB3YXMgc3RvcmVkIG9uIGEgKlBsYXlTdGF0aW9uIDEgTWVtb3J5IENhcmQqLlxuICAqICoqbmV0Y2FyZCoqIGlzIHRoZSBuZXR3b3JrLWF3YXJlIHZlcnNpb24gb2YgYG1lbWNhcmRgLCBhbmQgY2FuIGJlIHVzZWQgaW4gbW9zdCBjYXNlcyBhcyBhIGRyb3AtaW4gcmVwbGFjZW1lbnQgd2l0aCBvbmx5IGEgZmV3IGV4dHJhIGxpbmVzIG5lZWRlZCB0byBzdGF0ZSB0aGUgaG9zdG5hbWUsIHBvcnQsIGFuZCBjcmVkZW50aWFscy5cbiAgKiAqKm5ldG1lbW8qKiBpcyBhICpuZXRjYXJkLWF3YXJlKiBgVE1lbW9gIGNvbXBvbmVudC5cbiAgKiAqKm5vdGlmeWhlbHBlcioqIGJlY2F1c2UgcHJvZ3JhbW1pbmcgKkQtQnVzKiBpcyB0b28gY29tcGxpY2F0ZWQgZnJvbSAqT2JqZWN0UGFzY2FsKiwgb3IgcmF0aGVyIGFueSBjb21waWxlZCBsYW5ndWFnZS4uLlxuICAqICoqcGh1ZSoqIHByb3ZpZGVzIGFjY2VzcyB0byB0aGUgKlBoaWxpcHMgSHVlKiBzeXN0ZW0gb2YgbGlnaHRpbmcgdGhyb3VnaCBpdCdzIGxvY2FsIElvVCBBUEkuXG4gICogKipwaXNlcnZpY2UqKiBwcm92aWRlcyBhY2Nlc3MgdG8gYSBjdXN0b20gZGFlbW9uIHdoaWNoIHJ1bnMgb24gbXkgUGlzIHRvIGNvbnRyb2wgdGhlIGJhY2tsaWdodC5cbiAgKiAqKnBpc291bmQqKiBwcm92aWRlcyBhIHdyYXBwZXIgYXJvdW5kIHRoZSAqUHVsc2VBdWRpbyogY29tbWFuZC1saW5lIHRvb2xzIHRvIHBsYXkgdm9pY2UgYW5kIGF1ZGlvIG9uIGEgUGkuXG4gICogKipxdmZzKiogaXMgYSBRdWljayBWaXJ0dWFsIEZpbGUgU3lzdGVtIGltcGxlbWVudGF0aW9uLCBpdCdzIHZlcnkgbGltaXRpbmcsIGJ1dCB0aGF0J3MgYWxzbyBwYXJ0IG9mIGl0J3MgY2hhcm0gSSB0aGluay5cbiAgKiAqKnF2ZnNqc29uKiogaXMgYSBKU09OIHJlbmRlcmluZyBhZGFwdGVyIGZvciB0aGUgYHF2ZnNgLiAgQ2FuIGJlIHVzZWQgdG8gcHJvdmlkZSBWRlMgYWNjZXNzIGZyb20gYSB3ZWIgc2VydmVyLlxuICAqICoqU2NyaXB0U3lzdGVtKiogaXMgYSB2ZXJ5IGJhc2ljIGFuZCBwcmltaXRpdmUgc2NyaXB0aW5nIHN5c3RlbSB3aGljaCBjYW4gb25seSBtb3ZlIHRoZSBwb2ludGVyIGZvcndhcmQgaW4gdGhlIGNvZGUuICBUaGVyZSBhcmUgbm8gbG9vcHMsIHN1YnJvdXRpbmVzLCBvciBKTVAtbGlrZSBvcC1jb2Rlcy4gIEl0IHdhcyBidWlsdCB0byBiZSBhcyBzaW1wbGUgdG8gcnVuIGEgbGluZWFyIHNldCBvZiBzdGVwcyBhcyBhIGxpdGVyYWwgc2NyaXB0LiAgQSBzY3JpcHQgaW4gcmVhbC1saWZlIGRvZXNuJ3QgaGF2ZSBjb25kaXRpb25hbHMsIGxpa2UgYW4gYWN0b3IgY2FuJ3QganVzdCByZWFkIHRoZWlyIHNjcmlwdCBhbmQgYWxsIG9mIGEgc3VkZGVuIHRoZXkgYXJlIGNoYW5naW5nIGZyb20gcGFnZSAyMCBiYWNrIHRvIHBhZ2UgOCwgdGhhdCdkIGJlIHN0dXBpZCwgc28gbXkgc2NyaXB0aW5nIGVuZ2luZSBmb2xsb3dzIHRoZSB0cnVlIG1lYW5pbmcgb2YgYSBzY3JpcHQuXG4gICAgLSBJdCBhbHNvIGhhcyBmdWxsIElERSBpbnRlZ3JhdGlvbiBhbmQgY2FuIGJlIGVhc2lseSBkcm9wcGVkIG9udG8gYSBzdGFuZGFyZCBgVEZvcm1gIG9yIGBURGF0YU1vZHVsZWAgZm9yIGFkZGVkIGNvbnZlbmllbmNlIGFuZCBkZXNpZ24tdGltZSBjb25maWd1cmF0aW9uLlxuICAqICoqU2VnbWVudERpc3BsYXkqKiBpcyBvbmUgY29tcG9uZW50IEkgYW0gcHJldHR5IHByb3VkIG9mLCBhcyBpdCB3b3JrcyByZWFsbHkgd2VsbCBhcyBhIGRyYWcgYW5kIGRyb3AgKlNlZ21lbnREaXNwbGF5KiBpbiBMYXphcnVzIHdpdGggZGVzaWduLXRpbWUgY29uZmlndXJhdGlvbiB0byBzZWUgdGhlIGRpc3BsYXkgdXBkYXRlIGluIHJlYWwtdGltZSB3aGlsZSBkZXNpZ25pbmcuXG4gICogKipzdW5jYWxjKiogaXMgYSBTdW5yaXNlL1N1bnNldCBjYWxjdWF0aW9uIHdyaXR0ZW4gaW4gKk9iamVjdFBhc2NhbCouXG4gICogKip0d2lsaW9hcGkqKiBjdXJyZW50bHkgcHJvdmlkZXMgb25seSBTTVMgc2VuZGluZyBhYmlsaXRpZXMgdXNpbmcgdGhlIFR3aWxpbyBBUEkuXG4gICogKip1bml4c2lnbmFscyoqIGlzIG15IG9yaWdpbmFsIHZlcnNpb24gb2Ygc2lnbmFsIGhhbmRsaW5nIGJlZm9yZSBga3NpZ25hbHNgIGVudGVyZWQgdGhlIHNjZW5lLlxuICAqICoqdXJsbGliKiogY3VycmVudGx5IG9ubHkgcHJvdmlkZXMgb25lIHVzZWZ1bCB1dGlsaXR5IGZ1bmN0aW9uIGBVUkxHZXRgIHdoaWNoIGRvZXMgZXhhY3RseSBhcyBpdCdzIG5hbWUgaW1wbGllcy5cbiAgIiB9LCB7ICJJZCIgOiAxOSwgIlBhdGgiIDogIi9qc2xpYiIsICJUaXRsZSIgOiAiV2ViIHJlbGF0ZWQgdW5pdHMgZm9yIE9iamVjdFBhc2NhbCIsICJDb250ZW50VHlwZSIgOiAxLCAiQ3JlYXRlZCIgOiAiMjAyNC0wMi0wNlQxMjozMjo0NS4wMjItMDY6MDAiLCAiTW9kaWZpZWQiIDogIjIwMjQtMDItMDZUMTI6NDY6MDIuNjAzLTA2OjAwIiwgIkNvbnRlbnQiIDogIlRoaXMgKnBhY2thZ2UqIGlzIG1lYW50IHRvIGJlIHVzZWQgd2l0aCB0aGUgW3BhczJqc10oIy9wYXMyanMpIGNvbXBpbGVyIHRvIGJ1aWxkIGFwcGxpY2F0aW9ucyBmb3IgdGhlIHdlYiwgcmF0aGVyIHRoYW4gdG8gYmUgdXNlZCB3aXRoIGRlc2t0b3AgZGV2ZWxvcG1lbnQuICBBbHRob3VnaCBzb21lIG9mIHRoZXNlIHVuaXRzLCB0aGUgb25lcyB3aGljaCBkbyBub3QgdXNlIHRoZSBET00gc2hvdWxkIGluIGdlbmVyYWwgY29tcGlsZSBpbiB0aGUgcmVndWxhciBkZXNrdG9wIGNvbXBpbGVyLCBidXQgYmUgd2FybmVkLCB0aGF0IHdhc24ndCB0aGlzIHBhY2thZ2UncyBpbnRlbmRlZCB1c2UtY2FzZS5cblxuIFtHaXRIdWIgUmVwb10oaHR0cHM6Ly9naXRodWIuY29tL2t2ZXJvbmVhdS9qc2xpYilcblxuSGVyZSBpcyBhIGxpc3Qgb2YgdGhlIHVuaXRzIHByb3ZpZGVkIGluIHRoZSAqcGFja2FnZSo6XG5cbiAgKiAqKmFqYXhsaWIqKiBwcm92aWRlcyBhIGZldyBjbGFzc2VzIHRvIG1ha2UgaXQgZWFzaWVyIHRvIG1hbmFnZSBjb25uZWN0aW9ucyB0byBleHRlcm5hbCB3ZWIgcmVzb3VyY2VzLlxuICAqICoqYnVsbWEqKiBwcm92aWRlcyBtYW55ICpPYmplY3RQYXNjYWwqIGNsYXNzZXMgdG8gd29yayB3aXRoIG1hbnkgKkJ1bG1hKiB3aWRnZXRzIHdpdGggZWFzZS5cbiAgKiAqKml1aSoqIHByb3ZpZGVzIHNvbWUgKk9iamVjdFBhc2NhbCogY2xhc3NlcyB0byB3b3JrIHdpdGggdGhlIGlVSSB3ZWIgZnJhbWV3b3JrLlxuICAqICoqanNkb3Nib3gqKiBpcyBhIHVuaXQgd2hpY2ggcHJvdmlkZXMgZWFzeSBhY2Nlc3MgdG8gdGhlICpKUy1ET1NCb3gqIGxpYnJhcnkgZnJvbSAqT2JqZWN0UGFzY2FsKi5cbiAgICAtIEl0IGRvZXMgbm90IHlldCBzdXBwb3J0IGFsbCB0aGUgZnVuY3Rpb25hbGl0eSwgaXQgb25seSBzdXBwb3J0cyB3aGF0IEkgd2FzIG5lZWRpbmcgZnJvbSBpdC5cbiAgICAtIEFsdGhvdWdoIGV4dGVuZGluZyBpdCB0byBzdXBwb3J0IHRoZSByZXN0IG9mIHRoZSBBUEkgc2hvdWxkIGJlIHRyaXZpYWwuXG4gICogKipqc29ubGliKiogbWFrZXMgd29ya2luZyB3aXRoIEpTT04gZGF0YSBpbiAqT2JqZWN0UGFzY2FsKiBtdWNoIGVhc2llci5cbiAgKiAqKmpzb250YWJsZSoqIGlzIGEgaGFuZHkgKkRhdGFTZXQqIHdyYXBwZXIgbWFraW5nIGl0IGVhc3kgdG8gYWNjZXNzICpEYXRhU2V0cyogc3RvcmVkIGluIEpTT04gZm9ybWF0IHN1cGVyIGVhc3kgdG8gYWNjZXNzLlxuICAqICoqanN0ZXJtKiogaXMgYSBuaWNlIGFuZCBlYXN5IHRvIHVzZSB3cmFwcGVyIGFyb3VuZCBganF1ZXJ5LnRlcm1pbmFsYC5cbiAgKiAqKmxpYnZpZGVvanMqKiBpcyBhIHdyYXBwZXIgYXJvdW5kIHNvbWUgdXNlZnVsIGZ1bmN0aW9ucyBpbiB0aGUgYHZpZGVvanNgIEphdmFTY3JpcHQgbGlicmFyeS5cbiAgKiAqKm1hcmtlZCoqIGEgc2ltcGxlIHdyYXBwZXIgYXJvdW5kIHRoZSBgbWFya2VkLmpzYCBKYXZhU2NyaXB0IGxpYnJhcnkuXG4gICogKipteG1sKiogYSB3cmFwcGVyIGFyb3VuZCBgTWFnaWNYTUxgIEphdmFTY3JpcHQgbGlicmFyeS5cbiAgKiAqKm5vdGlmaWNhdGlvbnMqKiBpcyBteSBhdHRlbXB0IGF0IHRyeWluZyB0byBnZXQgKkhUTUw1IE5vdGlmaWNhdGlvbnMqIHdvcmtpbmcuXG4gICogKipxdmZzKiogaGFzIHNvbWUgY29ubmVjdG9ycyB0byB0YWxrIHRvIGEgc2VydmVyIHVzaW5nIHRoZSBmb3JtYXQgaW4gYHF2ZnNqc29uYCBmcm9tIGBrbGliYC5cbiAgKiAqKnZ0d2lkZ2V0cyoqIGlzIGEgc2V0IG9mIHdpZGdldHMgaW1wbGVtZW50ZWQgdXNpbmcgVlQtY29tbWFuZHMgb250b3Agb2YgdGhlIGB3ZWJ2dDEwMGAgdW5pdC5cbiAgKiAqKndlYnNjcmlwdCoqIGlzIHRoZSBicm93c2VyLXNpZGUgdmVyc2lvbiBvZiB0aGUgYFNjcmlwdFN5c3RlbWAgZm91bmQgaW4gYGtsaWJgIHRvIGFsbG93IHNpbWlsYXIgc2NyaXB0cyB0byBydW4gaW4gdGhlIGNvbnRleHQgb2YgdGhlIGJyb3dzZXIuXG4gICogKip3ZWJ2dDEwMCoqIHByb3ZpZGVzIGJvdGggYSB3cmFwcGVyIGFyb3VuZCAqU2hlbGxJbkFCb3hlcycqIGB2dDEwMC5qc2AgSmF2YVNjcmlwdCBsaWJyYXJ5IGFuZCBhICpPYmplY3RQYXNjYWwqIGNsYXNzIHRvIG1ha2Ugd29ya2luZyB3aXRoIGl0IG11Y2ggZWFzaWVyLlxuIiB9LCB7ICJJZCIgOiAyMCwgIlBhdGgiIDogIi9DdHJsLUMiLCAiVGl0bGUiIDogIkNvbnRyb2wtQyIsICJDb250ZW50VHlwZSIgOiAxLCAiQ3JlYXRlZCIgOiAiMjAyNC0wMi0wNlQxMjo0NzowNC40MDUtMDY6MDAiLCAiTW9kaWZpZWQiIDogIjIwMjQtMDItMDZUMTI6NTA6MzAuNTI5LTA2OjAwIiwgIkNvbnRlbnQiIDogIklmIHlvdSBhcmUgZmFpcmx5IG5ldyB0byBjb21wdXRlcnMgYW5kIHRlY2hub2xvZ3kgdGhlbiB3aGVuIHNvbWVvbmUgc2F5cyAqQ29udHJvbCBDKiBhbG91ZCwgeW91IG1pZ2h0IGp1c3QgdGhpbmsgdGhhdCB0aGV5IGFyZSB0YWxraW5nIGFib3V0IG9uZSBvZiB0aGUgbW9zdCBjb21tb24gYWN0aXZpdGllcyBvbiBhIG1vZGVybiBQQywgKipwbGFnaWFyaXNtKiouICBCdXQgYmVmb3JlIHRoZSBlcmEgb2YgdGhlICpjb3B5L3Bhc3RlIHByb2dyYW1tZXIqLCAqc2VhcmNoIFN0YWNrT3ZlcmZsb3cqLCBhbmQgKmNvcHkgb3V0cHV0IGZyb20gQ2hhdEdQVCosIHRoaXMga2V5IGNvbWJpbmF0aW9uIGhhZCBvdGhlciBpbmZhbW91cyB1c2VzLi4uXG4iIH0sIHsgIklkIiA6IDIxLCAiUGF0aCIgOiAiL0hvbWVDVSIsICJUaXRsZSIgOiAiS2V2aW4ncyBIb21lIENvbnRyb2wgVW5pdCIsICJDb250ZW50VHlwZSIgOiAxLCAiQ3JlYXRlZCIgOiAiMjAyNC0wMi0wNlQxMjo1MjowMC41MzktMDY6MDAiLCAiTW9kaWZpZWQiIDogIjIwMjQtMDItMDZUMTM6MDI6NDAuMDcwLTA2OjAwIiwgIkNvbnRlbnQiIDogIk15IEhvbWUgQXV0b21hdGlvbiBTeXN0ZW0gd2VudCB0aHJvdWdoICBmZXcgaXRlcmF0aW9ucyB0aHJvdWdob3V0IHRoZSB5ZWFycyBmcm9tIDIwMTUgd2hlbiBJIGZpcnN0IGJlZ2FuIHRvIHdvcmsgb24gaXQuICBJdCBvcmlnaW5hbGx5IHN0YXJ0ZWQgYXMgYSBiYXNpYyBgYm90dGxlLnB5YCB3ZWIgYXBwbGljYXRpb24gdGhhdCByYW4gb24gYSBsb2NhbCBvcmlnaW5hbCBnZW5lcmF0aW9uIFJhc3BiZXJyeSBQaSBpbiBteSBob21lLiAgQWZ0ZXIgSSBwdXJjaGFzZWQgdGhlICpQaGlsaXBzIEh1ZSogbGlnaHRpbmcgc3lzdGVtLCBhIGNvLXdvcmtlciBhdCB3b3JrIG9uZSBkYXkgbWVudGlvbmVkIHRoYXQgdGhlICpJb1QqIGRldmljZSBpbiBteSBob21lIGFjdHVhbGx5IGhhcyBhIGhpZGRlbiBmZWF0dXJlLiAgSXQgZXhwb3NlcyBhbiBlYXN5IHRvIHVzZSAqKlJFU1QgQVBJKiohICBCZWZvcmUga25vd2luZyB0aGlzLCBJIHdhcyBjb250cm9sbGluZyBteSBsaWdodHMgbGlrZSBhbiBhdmVyYWdlIEpvZSwgb3BlbmluZyB0aGUgYXBwIG9uIG15IHBob25lIGEgc2V0dGluZyB0aGUgbW9vZCBJIHdhbnRlZC4gIEhvd2V2ZXIsIEkgd2FudGVkIGFuIGVhc2llciB3YXkgdG8gY29udHJvbCBteSBsaWdodHMgd2l0aG91dCBuZWVkaW5nIHRvIG9wZW4gYW4gYXBwLiAgSXQgd2FzIGFsc28gYXJvdW5kIHRoaXMgdGltZSB0aGF0IEkgd2FzIGV4cGVyaW1lbnRpbmcgd2l0aCAqKk5GQyBUYWdzKiogYW5kIGFuIGFwcCB3aGljaCBhbGxvd3MgbWUgdG8gc2F5IHRhcCBteSBwaG9uZSBvbiBhIHRhZyBhbmQgaGF2ZSBpdCBjb25uZWN0IHRvIGEgVVJMIGVuZHBvaW50LiAgSSBnb3QgdG8gd29yayBhbmQgY3JlYXRlZCB0aGUgZmlyc3QgdmVyc2lvbiBvZiB0aGUgYXV0b21hdGlvbiBzeXN0ZW0gd2hpY2ggaGFkIHNvbWUgYmFzaWMgSFRUUCBlbmRwb2ludHMgd2hpY2ggbXkgcGhvbmUgY291bGQgdGhlbiBjb25uZWN0IHRvIGJ5IHVzaW5nIHRoZSBORkMgdGFwcyB0byBjb250cm9sIG15IGxpZ2h0cyBvdmVyIHRoaXMgQVBJLlxuXG5PdmVyIHRoZSB5ZWFycyB0aGlzIHByb2plY3QgZ3JldyBtdWNoIGxhcmdlciB0aGFuIEkgY291bGQgZXZlciBpbWFnaW5lIGludG8gd2hhdCBpdCBjdXJyZW50bHkgaXMgdG9kYXkuICBUaGUgbmV4dCBmZWF0dXJlIEkgYWRkZWQgdG8gaGF2ZSBzb21lIHNvcnQgb2Ygb3V0cHV0IGZyb20gbXkgTkZDIGFjdGlvbnMgd2FzIHRvIGVuYWJsZSBhdWRpbyBvdXRwdXQgaW4gdGhlIGZvcm0gb2YgcnVubmluZyB0aGUgcG9wdWxhciBgZXNwZWFrYCBjb21tYW5kIHRvIGRpY2F0ZSBub3RpZmljYXRpb25zIG9uIHdoYXQgZWFjaCBlbmRwb2ludCB3YXMgZG9pbmcgd2hlbiB0cmlnZ2VyZWQgdG8gZW5zdXJlIHRoYXQgaXQgd2FzIHdvcmtpbmcgYW5kIEkgZ290IG1vcmUgZmVlZGJhY2sgdGhhbiB0aGUgbGlnaHRzIGNoYW5nZXMuICBUaGlzIHNvb24gZXZvbHZlZCBpbnRvIG1lIGFkZGluZyB0aHJlYWRzIGludG8gdGhlIFB5dGhvbiBwcm9ncmFtIHRvIHBlcmZvcm0gYWN0aW9ucyB3aGljaCBkaWRuJ3QgcmVseSBvbiBtZSB0YXBwaW5nIG15IHBob25lLCBidXQgY291bGQgZG8gYSB2YXJpZXR5IG9mIHRhc2tzIGVhY2ggbWludXRlLiAgVGhlc2UgdGFza3MgaW5jbHVkZWQgdGhlIGNoZWNraW5nIG9mIHRoZSBsaWdodHMgdG8gc2VlIGhvdyBsb25nIHRoZXkgaGF2ZSBiZWVuIHR1cm5lZCBvbiBmb3IsIGFuZCBpZiBpZiBhIGxpZ2h0IGluIGEgcm9vbSB3aGljaCBJIGFtIG5vdCBjdXJyZW50bHkgYWN0aXZlIGlzIG90aGVyd2lzZSBsZWZ0IG9uLCB0aGUgYXV0b21hdGlvbiBzeXN0ZW0gd291bGQgdGhlbiBraW5kbHkgdHVybiBvZmYgdGhvc2Ugb3RoZXIgbGlnaHRzIGZvciBtZS4gIEZvciBtYW55IHllYXJzIEkgY29tcGxldGVseSBmb3Jnb3Qgd2hhdCBhICpsaWdodCBzd2l0Y2gqIGV2ZW4gd2FzLCBhcyBJIG5ldmVyIG5lZWRlZCB0byBldmVyIHRvdWNoIG9uZSBmb3IgeWVhcnMuXG5cblRvZGF5IG15IGhvbWUgYXV0b21hdGlvbiBzeXN0ZW0gaXMgc3RpbGwgYWN0aXZlLCBhbHRob3VnaCB3aXRoIGxlc3Mgb3ZlcmFsbCB1cGRhdGVzLiAgSSB3YXMgcGxhbm5pbmcgYSBmdWxsIHJld3JpdGUgdGhhdCBnb3QgcHJldHR5IGZhciwgYnV0IG5ldmVyIGZ1bGx5IGRlcGxveWVkIGl0LiAgVGhlcmUgaXMgYSBodWdlIHBvdGVudGlhbCBvZiBtZSBnb2luZyBob21lbGVzcyBpbiB0aGUgbmV4dCBtb250aCBkdWUgdG8gdGhlIGxhY2sgb2YgZmluZGluZyBwcm9wZXIgZW1wbG95bWVudCwgc28gSSBoYXZlIHRha2VuIG15IGZvY3VzIG9mZiBvZiB0aGluZ3Mgd2hpY2ggbWF5IG5ldmVyIGV2ZW4gbWF0dGVyIGluIHRoZSBsb25nIHJ1bi4gIElmIHlvdSBhcmUgY3VyaW91cyBvbiB0aGUgY29kZSwgSSBkaWQgcHV0IGl0IHVwIG9uIG15IFtHaXRIdWJdKGh0dHBzOi8vZ2l0aHViLmNvbS9rdmVyb25lYXUvaG9tZWF1dG9tYXRpb24pIGF0IG9uZSBwb2ludC5cbiIgfSwgeyAiSWQiIDogMjIsICJQYXRoIiA6ICIvQWJvdXRNZSIsICJUaXRsZSIgOiAiQSBsaXR0bGUgYml0IGFib3V0IEtldmluIFZlcm9uZWF1IiwgIkNvbnRlbnRUeXBlIiA6IDEsICJDcmVhdGVkIiA6ICIyMDI0LTAyLTA2VDEzOjAyOjUxLjg0MS0wNjowMCIsICJNb2RpZmllZCIgOiAiMjAyNC0wMi0yNVQyMzowMzo0Ni43NjAtMDY6MDAiLCAiQ29udGVudCIgOiAiTXkgbmFtZSBieSBub3cgc2hvdWxkIGF0IGxlYXN0IGJlIGtub3duIHRvIHlvdS4gIEkgYW0gbm90IHJlYWxseSB0aGF0IGdvb2QgYXQgd3JpdGluZyBhYm91dCBteXNlbGYgZm9yIGEgcHVibGljIGNvbnRleHQgc3VjaCBhcyB0aGlzIHdlYnNpdGUuICBUaHJvdWdob3V0IG15IGxpZmUgSSBoYXZlIGJlZW4gd29ya2luZyB3aXRoIHZhcmlvdXMgZGlmZmVyZW50IHRlY2hub2xvZ2llcy4gIEdyb3dpbmcgdXAgaW4gdGhlIDgwcyBhbmQgOTBzIGludHJvZHVjZWQgbWUgdG8gdGhlIGVhcmx5IGRheXMgb2YgdGhlICpwZXJzb25hbCBjb21wdXRlciosIGFuZCBib3RoIHRvICpNaWNyb3NvZnQgV2luZG93cyogYW5kIHRoZSB2YXJpb3VzICpBcHBsZSogZGV2aWNlcyBhdCB0aGUgdGltZSwgc3VjaCBhcyB0aGUgZXZlciBwb3B1bGFyICoqQXBwbGUgXVsqKiBzZXJpZXMgb2YgY29tcHV0ZXJzLCBhbmQgb2YgY291cnNlIHRoZSB0aGVuICpmdXR1cmlzdGljKiAqKk1hY2ludG9zaCoqIHdpdGggaXQncyBmdWxseSBhbmltYXRlZCBoaWdoIHJlc29sdXRpb24gZ3JhcGhpY3Mgb24gdGhlc2UgbXVsdGltZWRpYSBkaXNjcyB0aGV5IGNhbGxlZCAqKkNELVJPTXMqKi4gIEluIGNvbnRyYXN0LCB0aGUgKipJQk0gUENzKiogaW4gbXkgc2Nob29scyBjb21wdXRlciBsYWIgd2VyZSBhbGwgKjgwMjg2KiBzeXN0ZW1zIHdpdGggb25seSBhIGxhbWUgKjMuNVwiIGZsb3BweSBkaXNrKiBydW5uaW5nIHRoZSAqKk1TLURPUyoqIG9wZXJhdGluZyBzeXN0ZW0gd2hpY2ggYm9vdGVkIHRvICoqRE9TU2hlbGwqKiBhcyB0aGUgbWFpbiBpbnRlcmZhY2UuICBJZiB5b3UgbG9vayBvbmxpbmUgbm93IGFuZCBzZWFyY2ggZm9yIGltYWdlcyBvZiAqKk1TLURPU1NoZWxsKiogYW5kICoqU3lzdGVtIDcuNS4wKiogd2hpY2ggSSBiZWxpZXZlIHRoZSBtdWx0aW1lZGlhIG1hY3MgcmFuLCB5b3UnbGwgc2VlIHdoeSBJIG1lbnRpb25lZCBpdCBhcyBJIGRpZC4gIEl0IHdhcyBxdWl0ZSBsaXRlcmFsbHkgKm5pZ2h0IGFuZCBkYXkqIGluIHRlcm1zIG9mIHZpc3VhbHMgYW5kIGhvdyAqZnV0dXJpc3RpYyogb25lIHdhcyB3aGVuIGNvbXBhcmVkIHRvIHRoZSBvdGhlci5cblxuQW55d2F5cywgdGhhdCB3YXMgYmFzaWNhbGx5IG15IGludHJvZHVjdGlvbiByaWdodCB0aGVyZSBncm93aW5nIHVwIHRvIHdoYXQgYSAqY29tcHV0ZXIqIGV2ZW4gd2FzLiAgQW5kIG9mIGNvdXJzZSB0aGUgcmVzdCBpcyBoaXN0b3J5LiAgU2luY2UgdGhlbiBJIGhhdmUgdXNlZCBzbyBtYW55IGRpZmZlcmVudCBvcGVyYXRpbmcgc3lzdGVtcyBhbmQgdGVjaG5vbG9naWVzIHRocm91Z2hvdXQgdGhlIHllYXJzLCBldmVudHVhbGx5IHNldHRsaW5nIHdpdGggKipEZWJpYW4gR05VL0xpbnV4KiogYXMgbXkgb3BlcmF0aW5nIHN5c3RlbSBvZiBjaG9pY2UgSSBwcmVmZXIgdG8gcnVuIG9uIGJvdGggbXkgaG9tZSB3b3Jrc3RhdGlvbiBhbmQgbXkgc2VydmVycy4gIEkgaGF2ZSBiZWVuIHVzaW5nICpMaW51eCogc2luY2UgYXJvdW5kICoyMDAzKiBtYXliZSwgYnV0IG5vdCBmdWxsLXRpbWUsIGFzIEkgZGlkIGR1YWwtYm9vdCBiZXR3ZWVuIHVzdWFsbHkgKldpbmRvd3MgOTgqIGF0IHRoZSB0aW1lLiAgSSBhbHNvIGRpZG4ndCBqdXN0IHRyeSBvdXQgKkxpbnV4KiBlaXRoZXIsIGF0IG9uZSB0aW1lIEkganVzdCByYW4gKipPcGVuQlNEKiogc3lzdGVtcyBpbiBteSBob21lLCBhbmQgYXQgZmlyc3QgSSBmb3VuZCB0aGF0IG15IHRoZW4gbmV3ICpDRCBCdXJuZXIqIG9ubHkgd29ya2VkIG9uICoqT3BlbkJTRCoqIGFuZCBJIGNvdWxkbid0IGZpZ3VyZSBvdXQgaG93IHRvIGdldCBpdCB0byBvcGVyYXRlIG9uICpMaW51eCouICBJIGxhdGVyIGZvdW5kIG91dCB0aGUgdHJpY2sgaXMgdG8gdGVsbCB0aGUgTGludXgga2VybmVsLCBhdCB0aGUgdGltZSAqMi40KiB0byB1c2UgKlNDU0kgZW11bGF0aW9uKiBvbiB0aGF0ICpJREUgZGV2aWNlKiwgYXMgdGhhdCBpcyB0aGUgb25seSB3YXkgYnVybmVycyBjYW4gb3BlcmF0ZSB1bmRlciBVTklYLWxpa2Ugb3BlcmF0aW5nIHN5c3RlbXMsIGF0IGxlYXN0IGF0IHRoZSB0aW1lLiAgSXQgaXMgbm93IHNlYW1sZXNzIHRvIGdldCBhIGJ1cm5lciB0byB3b3JrIG9uIExpbnV4LCBidXQgYmFjayB0aGVuLCB1bmxlc3MgeW91IGtuZXcgdGhpcyBsaXR0bGUgZmFjdCwgeW91J2QgZWl0aGVyIG5lZWQgdG8gc2VhcmNoIGFyb3VuZCBvciBiZSBoZWxwbGVzcyBhbmQgbm90IHVzZSB0aGUgYnVybmVyIGF0IGFsbC4gICoqT3BlbkJTRCoqIGFsc28gaGFkIG90aGVyIGFkdmFudGFnZXMgYXQgdGhlIHRpbWUgb3ZlciAqTGludXgqIGFzIHdlbGwsIG5hbWVseSB2aWRlbyBjYXJkIGFjY2Vsb3JhdGlvbiBmb3IgbXkgKkFUSSBSYWdlIDEyOCogY2FyZCwgd2hpY2ggSSBjb3VsZCBub3QgZ2V0IHdvcmtpbmcgb24gKipEZWJpYW4qKiBhdCB0aGUgdGltZSwgaW4gcmV0cm9zcGVjdCwgSSBiZWxpZXZlIGl0IHdhcyBtb3N0IGxpa2VseSBiZWNhdXNlIEkgd2FzIHVuYXdhcmUgb2Ygd2hpY2ggb2YgdGhlIGtlcm5lbCBtb2R1bGVzIEkgbmVlZGVkIHRvIHNlbGVjdCBkdXJpbmcgdGhlIGluc3RhbGxhdGlvbi4gIFlvdSBzZWUsIHRoZXNlIHJlYWxseSBlYXJseSB2ZXJzaW9ucyBvZiAqRGViaWFuKiBkaWQgbm90IGhhdmUgYXV0by1kZXRlY3Rpb24gb2YgaGFyZHdhcmUsIGFuZCB1bmxlc3MgeW91IGtuZXcgeW91ciBoYXJkd2FyZSByZWFsbHkgd2VsbCBhbmQga25ldyB3aGljaCBtb2R1bGVzIHRvIHVzZSwgaXQgd2FzIGEgYml0IG9mIGEgcGFpbiBmb3IgbWFueSBuZXcgdXNlcnMsIG15c2VsZiBpbmNsdWRlZC4gIE9kZGx5LCAqT3BlbkJTRCogd2FzIG11Y2ggbW9yZSBtb2Rlcm4gaW4gdGhlc2UgdGVybXMgYXQgdGhlIHRpbWUsIHdoZXJlIGl0IHdhcyBhYmxlIHRvIGJvdGggZWZmb3J0bGVzc2x5IGJ1cm4gYW5kIGNvdWxkIGF1dG8tZGV0ZWN0IGFsbCBteSBoYXJkd2FyZSB3aXRoIG5vIGlzc3VlcyB0aGF0IEkgY2FuIHJlYWxseSBtYWtlIG5vdGUgb2YuXG5cblNvLCB0aGVyZSBpcyBteSBicmllZiBoaXN0b3J5IG9uIG15IGZpcnN0IGpvdXJuZXkgaW50byB0aGUgd29ybGQgb2YgKkxpbnV4KiBvciByYXRoZXIgKlVOSVgtbGlrZSogb3BlcmF0aW5nIHN5c3RlbXMuXG5cbiMjIyBQZXJzb25hbCBEZXZlbG9wbWVudCBIaXN0b3J5XG5cbkZvciB0aG9zZSB3aG9tIGRvIG5vdCBrbm93IG1lLCBJIGhhdmUgYmVlbiBwcm9ncmFtbWluZyBpbiBQeXRob24gc2luY2UgYWJvdXQgMjAxMCxcbml0IHdhcyBteSBzb2xlIGxhbmd1YWdlIG9mIGNob2ljZSBmb3IgbWFueSBtYW55IHllYXJzLiAgUHJpb3IgdG8gUHl0aG9uLCBJIHdhc1xuZGV2ZWxvcGluZyB3ZWJzaXRlcyBpbiBQSFAoKlNvIGdsYWQgSSBtb3ZlZCBvbiopIGZvciBtYW55IHllYXJzIHNpbmNlIGFib3V0IDIwMDEuXG5CZWZvcmUgUEhQLCBJIHdhcyBwbGF5aW5nIGFyb3VuZCB3aXRoIFBlcmwgQ0dJLCBBU1AsIGFuZCBvZiBjb3Vyc2UgVmlzdWFsIEJhc2ljLlxuQWN0dWFsbHksIHByaW9yIHRvIFBIUCwgSSB3YXMgbWFpbmx5IGEgQkFTSUMgZGV2ZWxvcGVyIGluIG15IGNoaWxkaG9vZCwgYW5kIGhhdmluZ1xudGhlIGNoYW5jZSB0byBwbGF5IGFyb3VuZCB3aXRoIFR1cmJvIFBhc2NhbCBpbiB0aG9zZSBkYXlzIHdhcyBhIHJlYWwgZXllLW9wZW5lci5cblxuSW4gcmVjZW50IHllYXJzLCBJIGhhdmUgYmVlbiB3YW50aW5nIHRvIGNyZWF0ZSByZWRpc3RyaWJ1dGFibGUgcHJvZ3JhbXMsIHdoaWxlXG50aGlzIGNhbiB3b3JrIGluIFB5dGhvbiwgaXQgaXMgZGVmaW5hdGVseSBub3QgdGhlIGJlc3QgdG9vbCBmb3IgdGhlIGpvYi4gIEl0IG1heVxucnVuIHBlcmZlY3RseSBvbiBteSBEZWJpYW4gbWFjaGluZSwgYnV0IGlmIEkgZGVjaWRlZCB0byBoYXZlIGl0IHJ1biBvbiBlaXRoZXJcbk1hY09TIG9yIFdpbmRvd3MuLi4gIEl0IGlzIGEgKipIVUdFKiogcGFpbi4gIFB5dGhvbiBhbHNvIGRvZXMgbm90IGZ1bGx5IHN1cHBvcnRcbnRoZSBuYXRpdmUgR1VJIG9uIHRoZXNlIG9wZXJhdGluZyBzeXN0ZW1zLCBhcyBhIHJlc3VsdCBJIG5lZWQgdG8gZWl0aGVyIGxlYXJuXG4qR1RLKiBvciAqUXQqLiAgUHl0aG9uIGRvZXMgaGF2ZSAqVGsqIGluY2x1ZGVkLCBhbG9uZyB3aXRoIHN1cHBvcnQgZm9yICp3eFdpbmRvd3MqLFxuYnV0IHRoZXNlIEdVSSB0b29sa2l0cyBhcmUgZmFyIGZyb20gaWRlYWwgd2hlbiB5b3Ugd2lzaCB0byBwb3J0IHlvdXIgcHJvZ3JhbSB0b1xub3RoZXIgb3BlcmF0aW5nIHN5c3RlbXMuICBUaGlzIGlzIHdoZXJlIG15IHJlc2VhcmNoIGludG8gYSB0b29sIG9yIGxhbmd1YWdlIHdoaWNoXG5pcyBib3RoIG9wZXJhdGluZyBzeXN0ZW0gYW5kIEdVSSB0b29sa2l0IGFnbm9zdGljIGNvbWVzIGludG8gcGxheS4uLlxuXG5CZWZvcmUgc2V0dGxpbmcgb24gT2JqZWN0UGFzY2FsLCBJIGRpZCBsb29rIGludG8gYSBmZXcgb3RoZXIgb3B0aW9ucy4gIEkgY2hlY2tlZFxub3V0IEphdmEsIGFzIEkgd2FzIGFsc28gaW50ZXJlc3RlZCBpbiBkZXZlbG9waW5nIGZvciBBbmRyb2lkLCBhbmQgdGhvdWdodCBsZWFybmluZ1xuSmF2YSB3b3VsZCBiZSBnb29kIGZvciBib3RoIGNyZWF0aW5nIGRlc2t0b3AgYXBwcyBhbmQgQW5kcm9pZCBhcHBzLi4uIEhvd2V2ZXIsXG5hcyBzb21lIG9mIHlvdSBtaWdodCBrbm93LCBKYXZhIG9uIHRoZSBkZXNrdG9wIGlzIHNvcnQgb2YgYSBkeWluZyBiZWFzdC4gIFVzZXJzXG5ub3cgbmVlZCB0byBpbnN0YWxsIHRoZSBKYXZhIFJ1bnRpbWUgRW52aXJvbm1lbnQgb24gdGhlaXIgUENzLCBvciB0aGUgaW5zdGFsbGVyXG5uZWVkcyB0byBpbmNsdWRlIGl0LiAgVGhpcyBsZWFkcyB0byBhIHZlcnkgbGFyZ2UgcHJvZ3JhbSBzaXplLCB3aXRoIGEgbm90IHNvIGdvb2RcbnRyYWRlLW9mZi4gIEl0IHdvcmtlZCBmb3IgTWluZWNyYWZ0LCBidXQgSSBkb3VidCBpdCB3b3VsZCB3b3JrIGZvciByZWd1bGFyIGRlc2t0b3BcbmFwcGxpY2F0aW9ucy4uLiAgU28gdGhlIGh1bnQgY29udGludWVkLlxuXG5JIHRoZW4gbG9va2VkIGludG8gbGVhcm5pbmcgaG93IEMgY29kZSBjb3VsZCBiZSBwb3J0YWJsZSBieSB3b3JraW5nIHdpdGggc29tZVxub3BlbiBzb3VyY2UgQyBwcm9ncmFtcyB3aGljaCBoYXZlIGFscmVhZHkgYmVlbiBwb3J0ZWQgdG8gbXVsdGlwbGUgb3BlcmF0aW5nIHN5c3RlbXMuXG5UaGlzIGlzIHdoZW4gSSBiZWNhbWUgdGhlIHRlbXBvcmFyeSBtYWludGFpbmVyIG9mICoqc2RsQmFzaWMqKiBwcm9qZWN0LCBhIEJBU0lDXG5pbnRlcnByZXRlciBhaW1lZCBhdCBtYWtpbmcgZ2FtZXMgd2l0aCBhIHNpbWlsYXIgZGlhbGVjdCB0byAqQU1PUyBCQVNJQyouICBJIGhhZFxuYSBsb3Qgb2YgdHJvdWJsZSB0cnlpbmcgdG8gZ2V0IGl0IHRvIHByb3Blcmx5IGNvbXBpbGUgb24gV2luZG93cyBhbmQgbGF0ZXIgT1MgWC5cbkluIHRoZSBlbmQsIEkgZ2F2ZSB1cCBvbiB0cnlpbmcgdG8gdXNlIEMgYXMgYSBwb3J0YWJsZSBsYW5ndWFnZSwgYXMgdHJ5aW5nIHRvXG5jb21waWxlIExpbnV4IEdDQyBwcm9ncmFtcyBvbiBXaW5kb3dzIHdhcyBhIGh1Z2UgcGFpbiwgbGV0IGFsb25lIHRyeWluZyB0byBnZXRcblNETCB0byB3b3JrIHByb3Blcmx5LCBJJ2QgaW1hZ2luZSB0cnlpbmcgdG8gY3Jvc3MtY29tcGlsZSBhIGZ1bGwgR1VJIHByb2dyYW1cbndvdWxkIGhhdmUgYmVlbiBhIG5pZ2h0bWFyZSB0byBtYWludGFpbi5cbiIgfSwgeyAiSWQiIDogMjYsICJQYXRoIiA6ICIvX19ERUJVR19fL0hUTUwiLCAiVGl0bGUiIDogIkV4YW1wbGUgSFRNTCBQYWdlIiwgIkNvbnRlbnRUeXBlIiA6IDAsICJDcmVhdGVkIiA6ICIyMDI0LTAyLTA2VDE5OjI4OjI4LjA2MC0wNjowMCIsICJNb2RpZmllZCIgOiAiMjAyNC0wMi0wNlQxOToyOTo0My44NDQtMDY6MDAiLCAiQ29udGVudCIgOiAiPHA+XG5UaGlzIHBhZ2UgaXMgZW50aXJlbHkgc3RvcmVkIGFzIHB1cmUgSFRNTCB3aXRoaW4gdGhlIGRhdGFiYXNlIGFuZCBpbiB0aGUgPGk+RGF0YVNldDwvaT4sIGFuZCBhcyBzdWNoIGl0IGNhbiB1c2UgYW55IEhUTUwgZWxlbWVudHMuICBUaGlzIHBhZ2Ugd2lsbCBjb250YWluIGV4YW1wbGVzIG9mIHN1Y2ggZWxlbWVudHMgaW4gdGhlIG5lYXIgZnV0dXJlLlxuPC9wPlxuIiB9LCB7ICJJZCIgOiAyNywgIlBhdGgiIDogIi9fX0RFQlVHX18vSlNQcm9nIiwgIlRpdGxlIiA6ICJFeGFtcGxlIEphdmFTY3JpcHQgUHJvZ3JhbSIsICJDb250ZW50VHlwZSIgOiA1MCwgIkNyZWF0ZWQiIDogIjIwMjQtMDItMDZUMTk6MzA6MTYuNDQ0LTA2OjAwIiwgIk1vZGlmaWVkIiA6ICIyMDI0LTAyLTE4VDEzOjQ5OjUxLjIxNC0wNjowMCIsICJDb250ZW50IiA6ICJTZXRUaXRsZSgnRXhhbXBsZSBKYXZhU2NyaXB0IFByb2dyYW0nKTtcbnZhciBidWY9R2V0Q29udGVudCgnL1dlYnNpdGUvSlNBcHAnKTtcbmJ1Zj1idWYrJzxoND5FeGFtcGxlIENvZGU6PC9oND4nK0dldENvbnRlbnQoJy9XZWJzaXRlL0pTRXhhbXBsZScpO1xuU2V0Q29udGVudChidWYpO1xuIiB9LCB7ICJJZCIgOiAyOCwgIlBhdGgiIDogIi9fX0RFQlVHX18vUHlBcHAiLCAiVGl0bGUiIDogIkV4YW1wbGUgQnJ5dGhvbiBQcm9ncmFtIiwgIkNvbnRlbnRUeXBlIiA6IDUxLCAiQ3JlYXRlZCIgOiAiMjAyNC0wMi0wNlQxOTozMjo0My4xMTYtMDY6MDAiLCAiTW9kaWZpZWQiIDogIjIwMjQtMDItMThUMTM6NTM6NTguMDE5LTA2OjAwIiwgIkNvbnRlbnQiIDogImZyb20gYnJvd3NlciBpbXBvcnQgZG9jdW1lbnQsIHdpbmRvd1xuZnJvbSB3ZWJzaXRlIGltcG9ydCBTZXRUaXRsZSwgU2V0Q29udGVudCwgR2V0Q29udGVudFxuXG5ibG9jazEgPSBHZXRDb250ZW50KCcvV2Vic2l0ZS9QeUFwcCcpXG5ibG9jazIgPSAnPGg0PkV4YW1wbGUgQ29kZTo8L2g0PicrR2V0Q29udGVudCgnL1dlYnNpdGUvUHlFeGFtcGxlJylcblxuU2V0Q29udGVudCgnVGhpcyB3YXMgd3JpdHRlbiB0byB0aGUgRE9NIHZpYSA8aT5Ccnl0aG9uPC9pPiBjb2RlLjxici8+JytibG9jazErYmxvY2syKVxuIiB9LCB7ICJJZCIgOiAyOSwgIlBhdGgiIDogIi9fX0RFQlVHX18vUGFzY2FsIiwgIlRpdGxlIiA6ICJQYXNjYWwgU291cmNlIEV4YW1wbGUiLCAiQ29udGVudFR5cGUiIDogMTAwLCAiQ3JlYXRlZCIgOiAiMjAyNC0wMi0wNlQxOTozNTozMC41OTItMDY6MDAiLCAiTW9kaWZpZWQiIDogIjIwMjQtMDItMDZUMTk6Mzc6NTAuNDI1LTA2OjAwIiwgIkNvbnRlbnQiIDogInByb2dyYW0gY29vbGFwcDtcbnsgIFRoaXMgaXMgYW4gZXhhbXBsZSBvZiBob3cgUGFzY2FsIGNvZGUgY2FuIGJlIGVhc2lseSBoaWdobGlnaHRlZCB3aXRoIHRoaXMgZnJhbWV3b3JrLiB9XG5cbnVzZXMgY3J0O1xuXG5wcm9jZWR1cmUgSGVsbG8obmFtZTogc3RyaW5nKTtcbmJlZ2luXG4gIFdyaXRlTG4oJ0hlbGxvLCAnLG5hbWUsJyEnKTtcbmVuZDtcblxuYmVnaW5cbiAgLy8gRXhwZWN0IGEgYmV0dGVyIGNvZGUgZXhhbXBsZSBpbiB0aGUgZnV0dXJlLlxuICBIZWxsbygnV2Vic2l0ZSBWaXNpdG9yIScpO1xuZW5kLlxuIiB9LCB7ICJJZCIgOiAzMCwgIlBhdGgiIDogIi9fX0RFQlVHX18vQmFzaCIsICJUaXRsZSIgOiAiQmFzaCBFeGFtcGxlIiwgIkNvbnRlbnRUeXBlIiA6IDEwMSwgIkNyZWF0ZWQiIDogIjIwMjQtMDItMDZUMTk6Mzg6MDEuNTM5LTA2OjAwIiwgIk1vZGlmaWVkIiA6ICIyMDI0LTAyLTA2VDE5OjM4OjQwLjA3Ni0wNjowMCIsICJDb250ZW50IiA6ICIjIS9iaW4vc2hcblxuZWNobyBcIlNvbWUgY29vbCBzY3JpcHQgc2hvdWxkIGJlIGhlcmUgc29vbiB0byByZXBsYWNlIG1lLlwiXG5cbmV4aXQgMFxuIiB9LCB7ICJJZCIgOiAzMSwgIlBhdGgiIDogIi9fX0RFQlVHX18vUHl0aG9uIiwgIlRpdGxlIiA6ICJQeXRob24gQ29kZSBFeGFtcGxlIiwgIkNvbnRlbnRUeXBlIiA6IDEwMiwgIkNyZWF0ZWQiIDogIjIwMjQtMDItMDZUMTk6Mzg6NDYuNjk0LTA2OjAwIiwgIk1vZGlmaWVkIiA6ICIyMDI0LTAyLTI1VDE0OjMwOjQ5LjU0NS0wNjowMCIsICJDb250ZW50IiA6ICIjIFRoaXMgaXMgYWN0dWFsbHkgdGhlIGNvZGUgdGhhdCBydW5zIHRvIGRpc3BsYXkgdGhlIEVtYmVkZGluZyBFeGFtcGxlLlxuXG5mcm9tIGJyb3dzZXIgaW1wb3J0IGRvY3VtZW50LCB3aW5kb3dcbmZyb20gd2Vic2l0ZSBpbXBvcnQgU2V0VGl0bGUsIFNldENvbnRlbnRcblxuU2V0Q29udGVudCgnVGhpcyB3YXMgd3JpdHRlbiB0byB0aGUgRE9NIHZpYSA8aT5Ccnl0aG9uPC9pPiBjb2RlLjxici8+QSBiZXR0ZXIgZXhhbXBsZSB3aWxsIHNvb24gZm9sbG93LicpO1xuZnJvbSBicm93c2VyIGltcG9ydCB3aW5kb3dcbmZyb20gd2Vic2l0ZSBpbXBvcnQgU2V0Q29udGVudCwgR2V0Q29udGVudFxuXG5idWYgPSAnPGk+VGhpcyBjb250ZW50IGlzIGdlbmVyYXRlZCBieSBhIGJyb3dzZXIgcnVuIFB5dGhvbiBTY3JpcHQuPC9pPjxoci8+JztcblxuZm9yIGxhbmcgaW4gKCdIVE1MJywgJ1Bhc2NhbCcsICdCYXNoJywgJ1B5dGhvbicsICdDJywgJ01ha2VmaWxlJywgJ0phdmFTY3JpcHQnKTpcbiAgICBidWYrPSc8aDQ+RXhhbXBsZSBDb2RlIGZvciAnK2xhbmcrJzo8L2g0PidcbiAgICBidWYrPUdldENvbnRlbnQoJy9fX0RFQlVHX18vJytsYW5nKVxuXG5TZXRDb250ZW50KGJ1ZilcbndpbmRvdy5obGpzLmluaXRIaWdobGlnaHRpbmcoKVxuIiB9LCB7ICJJZCIgOiAzMiwgIlBhdGgiIDogIi9fX0RFQlVHX18vQyIsICJUaXRsZSIgOiAiQyBDb2RlIEV4YW1wbGUiLCAiQ29udGVudFR5cGUiIDogMTA0LCAiQ3JlYXRlZCIgOiAiMjAyNC0wMi0wNlQxOTo0MDo0NS40OTEtMDY6MDAiLCAiTW9kaWZpZWQiIDogIjIwMjQtMDItMDZUMTk6NDE6NDkuODkyLTA2OjAwIiwgIkNvbnRlbnQiIDogIiNpbmNsdWRlIDxzdGRpby5oPlxuXG5pbnQgbWFpbigpe1xuICAgIHByaW50ZihcIlRoaXMgaXMgYW4gYXdmdWwgQyBDb2RlIGV4YW1wbGVcXG5cIik7XG4gICAgcmV0dXJuKDApO1xufVxuIiB9LCB7ICJJZCIgOiAzMywgIlBhdGgiIDogIi9fX0RFQlVHX18vTWFrZWZpbGUiLCAiVGl0bGUiIDogIk1ha2VmaWxlIEV4YW1wbGUiLCAiQ29udGVudFR5cGUiIDogMTA1LCAiQ3JlYXRlZCIgOiAiMjAyNC0wMi0wNlQxOTo0MTo1Ni4wMzYtMDY6MDAiLCAiTW9kaWZpZWQiIDogIjIwMjQtMDItMDZUMTk6NDI6MjcuMDI3LTA2OjAwIiwgIkNvbnRlbnQiIDogImRlYnVnOiBXZWJBcHAuanNcbiAgICAgICAgcHl0aG9uMyAtbSBodHRwLnNlcnZlclxuXG5kZXBsb3k6IFdlYkFwcC5taW4uanNcbiAgICAgICAgY3AgJF4gLi4vXG4gICAgICAgIHNlZCAncy9XZWJBcHBcXC5qcy9XZWJBcHBcXC5taW5cXC5qcy8nIGluZGV4Lmh0bWwgfCBzZWQgJ3MvYXBpXFwuanMvc3JjXFwvYXBpXFwuanMvJyA+IC4uL2luZGV4Lmh0bWxcblxuV2ViQXBwLmpzOiBXZWJBcHAubHByXG4gICAgICAgIHBhczJqcyAtVGJyb3dzZXIgLVBlY21hc2NyaXB0NSAtTU9iakZQQyAtU2MgLU8yIC1sIC12ZXduaGlicSAtRmlqcyAtRnUuLi8uLi9qc2xpYiAtRnUuIC1GVWpzIC1GRS4gLW9XZWJBcHAuanMgLWRQYXMyanMgLWRQYXMyanMgLUpldXRmLTggLUppcnRsLmpzIC1KYyAtSm0tIC1KUmpzIFdlYkFwcC5scHJcblxuV2ViQXBwLm1pbi5qczogV2ViQXBwLmpzXG4gICAgICAgIGNhdCAkXiB8IG1pbmlmeSAtLXR5cGUganMgPiAkQFxuXG5jbGVhbjpcbiAgICAgICAgcm0gLWYgV2ViQXBwLm1pbi5qcyBXZWJBcHAuanNcbiIgfSwgeyAiSWQiIDogMzQsICJQYXRoIiA6ICIvX19ERUJVR19fL0phdmFTY3JpcHQiLCAiVGl0bGUiIDogIkphdmFTY3JpcHQgRXhhbXBsZSBDb2RlIiwgIkNvbnRlbnRUeXBlIiA6IDEwNiwgIkNyZWF0ZWQiIDogIjIwMjQtMDItMDZUMTk6NDM6MDYuMjExLTA2OjAwIiwgIk1vZGlmaWVkIiA6ICIyMDI0LTAyLTA2VDE5OjQ0OjA5LjI5Mi0wNjowMCIsICJDb250ZW50IiA6ICIvLyBUaGlzIGlzIGFjdHVhbGx5IHRoZSBjb2RlIHRoYXQgcnVucyB3aGVuIHlvdSBnbyB0byB0aGUgSmF2YVNjcmlwdCBQcm9ncmFtLlxuXG53aW5kb3cuY2xpY2ttZSA9IGZ1bmN0aW9uKCl7XG4gICAgd2luZG93LmFsZXJ0KCdUaGlzIGlzIGFsbCBjb250YWluZWQgd2l0aGluIHRoZSBkYXRhc2V0IGFzIGEgY29udGVudC10eXBlIScpO1xuICAgIFNldFRpdGxlKCdTY2FyeSBET00hISEnKTtcbiAgICBTZXRDb250ZW50KCdBbmQgaXQgaGFzIGZ1bGwgc2NhcnkgRE9NIGFjY2VzcyB0b28hJyk7XG59XG5cblNldENvbnRlbnQoJzxidXR0b24gb25jbGljaz1cIndpbmRvdy5jbGlja21lKCk7XCI+Q2xpY2sgbWUhPC9idXR0b24+Jyk7XG4iIH0sIHsgIklkIiA6IDM1LCAiUGF0aCIgOiAiL19fREVCVUdfXy9BbGxTb3VyY2UiLCAiVGl0bGUiIDogIkVtYmVkZGVkIFRlc3QiLCAiQ29udGVudFR5cGUiIDogNTEsICJDcmVhdGVkIiA6ICIyMDI0LTAyLTA2VDE5OjU1OjMzLjg1Ny0wNjowMCIsICJNb2RpZmllZCIgOiAiMjAyNC0wMi0yNVQxNDoyOToxOS41MDEtMDY6MDAiLCAiQ29udGVudCIgOiAiZnJvbSBicm93c2VyIGltcG9ydCB3aW5kb3dcbmZyb20gd2Vic2l0ZSBpbXBvcnQgU2V0Q29udGVudCwgR2V0Q29udGVudFxuXG5idWYgPSAnPGk+VGhpcyBjb250ZW50IGlzIGdlbmVyYXRlZCBieSBhIGJyb3dzZXIgcnVuIFB5dGhvbiBTY3JpcHQuPC9pPjxoci8+JztcblxuZm9yIGxhbmcgaW4gKCdIVE1MJywgJ1Bhc2NhbCcsICdCYXNoJywgJ1B5dGhvbicsICdDJywgJ01ha2VmaWxlJywgJ0phdmFTY3JpcHQnKTpcbiAgICBidWYrPSc8aDQ+RXhhbXBsZSBDb2RlIGZvciAnK2xhbmcrJzo8L2g0PidcbiAgICBidWYrPUdldENvbnRlbnQoJy9fX0RFQlVHX18vJytsYW5nKVxuXG5TZXRDb250ZW50KGJ1ZilcbndpbmRvdy5obGpzLmluaXRIaWdobGlnaHRpbmcoKVxuIiB9LCB7ICJJZCIgOiAzNiwgIlBhdGgiIDogIi9CdWdzL0FkbWluVG9vbCIsICJUaXRsZSIgOiAiREJBZG1pbiBUb29sIEJ1ZyBUcmFja2VyIiwgIkNvbnRlbnRUeXBlIiA6IDEsICJDcmVhdGVkIiA6ICIyMDI0LTAyLTA2VDIxOjQ2OjU4LjAxOS0wNjowMCIsICJNb2RpZmllZCIgOiAiMjAyNC0wMi0yM1QyMTo1Mjo0OS4zNTgtMDY6MDAiLCAiQ29udGVudCIgOiAiVmFyaW91cyBidWdzIEkndmUgdGFrZW4gbm90ZSBvZjpcblxuICAqIEZpbHRlcmluZyBmb3IgY29udGVudC10eXBlIGRvZXMgbm90IHdvcmssIEluZGV4IGlzc3VlLiAqKkNvbXBsZXRlZCoqXG5cbk5ldyBGZWF0dXJlcyBJJ2QgbGlrZSBhZGRlZDpcblxuICAqIEJ1dHRvbiB0byBvcGVuIENvbnRlbnQgaW4gYSBTeW5FZGl0IHNvdXJjZSBjb2RlIGVkaXRvciB3aW5kb3csIG9yIHNlZSBpZiBTeW5FZGl0IGhhcyBhIERhdGEtYXdhcmUgY29tcG9uZW50LiAqKkNvbXBsZXRlZCoqXG4iIH0sIHsgIklkIiA6IDM4LCAiUGF0aCIgOiAiL3hQcm9qZWN0LUY5IiwgIlRpdGxlIiA6ICJNb2Rlcm4gV2ViIEFwcGxpY2F0aW9ucz8iLCAiQ29udGVudFR5cGUiIDogMSwgIkNyZWF0ZWQiIDogIjIwMjQtMDItMDhUMjA6MzU6NDUuNDI0LTA2OjAwIiwgIk1vZGlmaWVkIiA6ICIyMDI0LTAyLTA4VDIwOjQxOjEyLjMwNy0wNjowMCIsICJDb250ZW50IiA6ICJUb2RheSBhcyBJIHdhcyBvbiB0aGUgKkZyZWVQYXNjYWwqIGZvcnVtcyB0byBtYWtlIGEgcG9zdCBhYm91dCB0aGlzIHdlYnNpdGUgaGVyZSBhbmQgaXQncyBzb3VyY2UgY29kZSwgSSByZWFkIHNvbWUgcmVwbGllcyB0byBhbiBvbGRlciBwb3N0IGFib3V0IGNvbXBpbGluZyBhY3R1YWwgTENMIGFwcGxpY2F0aW9ucyB0byBIVE1MNSB1c2luZyB0aGUgQ2FudmFzLCBhbmQgZ3Vlc3Mgd2hhdD8gIFNvbWUgY29tcGFueSB3ZW50IGFuZCBkaWQgaXQsIGFuZCBpdCdzIG5vdCBhIGZyZWUgbm9yIG9wZW4gc291cmNlIHByb2R1Y3QsIGFjdHVhbGx5IGNvbWUgdG8gdGhpbmsgb2YgaXQsIG5vdCBtYW55ICpPYmplY3RQYXNjYWwqIHByb2dyYW1zIGFyZSBvcGVuIHNvdXJjZWQsIGFueXdheXMuLi5cblxuVGhpcyBhZGQtb24gZm9yICpMYXphcnVzKiwgd2hpY2ggY2FuIGFsc28gYmUgdXNlZCB3aXRoICpWaXN1YWwgU3R1ZGlvIENvZGUqIGNhbiBjcmVhdGUgd2Vic2l0ZXMgd2hpY2ggbG9vayBlbnRpcmVseSBsaWtlIGEgcnVuIG9mIHRoZSBtaWxsIGRlc2t0b3AgcHJvZ3JhbSB5b3UgbWlnaHQgc2VlIGp1c3QgcnVubmluZyBvbiB5b3VyIGRlc2t0b3AuICBJdCdzIGluY3JlZGlibGUgdG8gc2VlIHRoaXMgdGVjaG5vbG9neSwgaGF2ZSBhIGxvb2sgZm9yIHlvdXJzZWxmOlxuXG5beFByb2plY3QgRjkgRGVtb3NdKGh0dHBzOi8vZ3JlZW4taGlsbC5zcmwvZGVtb3MvaW5kZXguaHRtbClcblxuQ2xpY2sgb250byBhbiBpbmRpdmlkdWFsIGRlbW8gdG8gZnJvbSB0aGUgbGluayBhYm92ZSB0byBzZWUgd2hhdCBJIG1lYW4uICBDYWxsIG1lIGltcHJlc3NlZCwgYW5kIG5vdCB0aGF0IG11Y2ggc2VlbXMgdG8gcmVhbGx5IGltcHJlc3MgbWUgdGhlc2UgZGF5cy5cbiIgfSwgeyAiSWQiIDogMzksICJQYXRoIiA6ICIvRGV2RGVza3RvcE9TIiwgIlRpdGxlIiA6ICJEZXZEZXNrdG9wT1MiLCAiQ29udGVudFR5cGUiIDogMSwgIkNyZWF0ZWQiIDogIjIwMjQtMDItMTBUMDA6MDE6NTIuNjU0LTA2OjAwIiwgIk1vZGlmaWVkIiA6ICIyMDI0LTAyLTEwVDAwOjAyOjQyLjgzMy0wNjowMCIsICJDb250ZW50IiA6ICIjIERldkRlc2t0b3BPU1xuXG5bR2l0SHViIFJlcG9dKGh0dHBzOi8vZ2l0aHViLmNvbS9rdmVyb25lYXUvRGV2RGVza3RvcE9TKVxuXG5BIEN1c3RvbSBzcGluIG9mIHRoZSBEZWJpYW4gTGl2ZSBDRCB0YWlsb3JlZCBzcGVjaWZpY2FsbHkgZm9yIGRldmVsb3BtZW50IHdpdGggYXMgbWluaW1hbCBjb25maWd1cmF0aW9uIG5lZWRlZCB0byBnZXQgdXAgYW5kIHJ1bm5pbmcuXG5cblRoZSBpZGVhIGJlaGluZCB0aGlzIHByb2plY3QgZXZlbnR1YWxseSBpcyB0byBwcm92aWRlIHBlb3BsZSB3aG8gd2FudCB0byBnZXQgdXAgYW5kIHJ1bm5pbmcgd2l0aCBhIGRldmVsb3BtZW50IHN5c3RlbSBhcyBxdWlja2x5IGFzIHBvc3NpYmxlIGFuZCB3aXRoIGFzIGxpdHRsZSBjb25maWd1cmF0aW9uIGFzIHBvc3NpYmxlLiAgVGhlIGlkZWEgaXMgdG8gaGF2ZSBzYW5lIGRlZmF1bHRzIHRoYXQgY2FuIHRhaWxvciB0byBtb3N0IGRldmVsb3BlcnMsIGFuZCBzaW5jZSBpdCBpcyBiYXNlZCBvbiB0aGUgRGViaWFuIExpdmUgcHJvamVjdCwgaXQgaGFzIHN1cHBvcnQgZm9yIHBlcnNpc3RlbmNlLCBhbGxvd2luZyBkZXZlbG9wZXJzIHRvIGFsdGVyIHRoZSBjb25maWd1cmF0aW9uIGluIHRoZSBlbnZpcm9ubWVudCB3aGljaCBjYW4gdGhlbiBiZSB1c2VkIGFjcm9zcyByZWJvb3RzLlxuXG5bRGViaWFuIExpdmUgTWFudWFsXShodHRwczovL2xpdmUtdGVhbS5wYWdlcy5kZWJpYW4ubmV0L2xpdmUtbWFudWFsL2h0bWwvbGl2ZS1tYW51YWwvaW5kZXguZW4uaHRtbClcblxuVGhpcyBpcyBhbHNvIGEgZ2l0IHByb2plY3QsIHNvIGlmIHlvdSBmZWVsIHRoYXQgeW91J2QgcHJlZmVyICoqR05PTUUqKiBvdmVyICoqUGxhc21hKiosIG9yIHdhbnQgYSBtb3JlIG1pbmltYWwgV2luZG93IE1hbmFnZXIgbGlrZSAqKkF3ZXNvbWUqKi4gIFlvdSBjYW4gZm9yayB0aGUgcmVwbyBhbmQgbWFrZSB0aGUgbmVlZGVkIHBhY2thZ2UgdXBkYXRlcyB3aXRoaW4gdGhlIGBjb25maWcvcGFja2FnZS1saXN0c2AgZGlyZWN0b3J5LiAgU2luY2UgdGhpcyBpcyBqdXN0IGJ1aWxkaW5nIGEgbGl2ZSBlbnZpcm9ubWVudCwgd2hpY2ggb24gYSBkZWNlbnRseSBwb3dlcmZ1bCBtYWNoaW5lLCBkb2VzIG5vdCB0YWtlIHZlcnkgbG9uZywgdGhlcmUgaXMgbGVzcyByaXNrcyB0byBleHBlcmltZW50IHdpdGggZGlmZmVyZW50IHBhY2thZ2UgY29uZmlndXJhdGlvbnMgaW4gYSBmb3JrLlxuXG5BdCB0aGUgbW9tZW50LCBpdCBpcyB2ZXJ5IGJhcmVib25lcywgdGhlIG1haW4gaGlnaGxpZ2h0IGZlYXR1cmVzIG9mIHRoaXMgdmVyeSBlYXJseSBhbHBoYSByZWxlYXNlKCppZiB5b3UgY2FuIGV2ZW4gY2FsbCBpdCB0aGF0KikgaXMgdGhlIGZvbGxvd2luZzpcblxuICAqIEZ1bGx5IGNvbmZpZ3VyZWQgYW5kIHJlYWR5IHRvIHVzZSAqKmxpYnZpcnQqKiBhbmQgKipWaXJ0dWFsIE1hY2hpbmUgTWFuYWdlcioqLlxuICAgIC0gVmlydHVhbCBNYWNoaW5lIE1hbmFnZXIgaXMgYSBHVUkgVk0gbWFuYWdlciB3aGljaCBjYW4gbWFuYWdlIHRoZSBmb2xsb3dpbmcgdmlydHVhbGl6YXRpb24gdGVjaDpcbiAgICAgIC0gUUVNVS9LVk1cbiAgICAgIC0gTFhDXG4gICAgICAtIFhlblxuICAgICAgLSBIeXBlci1WXG4gICAgICAtIEFuZCBJIHRoaW5rIGEgZmV3IG1vcmUuXG4gICAgLSBJbiBhIGZ1dHVyZSB2ZXJzaW9uIHRoZXJlIHdpbGwgYmUgZnVsbCBzdXBwb3J0IGZyb20gYm9vdCB0byB1c2UgYHZhZ3JhbnRgIHRvIHNwaW4gdXAgYGxpYnZpcnRgIGNvbXBhdGlibGUgaW1hZ2VzIHdpdGggaXQgZm9yIGRldmVsb3BtZW50IGFuZCB0ZXN0aW5nIHB1cnBvc2VzLlxuICAgIC0gVGhlIExpdmUgVXNlciBpcyBwYXJ0IG9mIHRoZSBgbGlidmlydGAgZ3JvdXAgd2hpY2ggd2lsbCBnaXZlIHlvdSBhY2Nlc3MgdG8gVmlydC1NYW5hZ2VyLlxuICAqIEZ1bGx5IGNvbmZpZ3VyZWQgYW5kIHdvcmtpbmcgRG9ja2VyIGZvciBMaW51eC5cbiAgICAtIFRoZSBMaXZlIHVzZXIgd2lsbCBiZSBhIHBhcnQgb2YgdGhlIGBkb2NrZXJgIGdyb3VwLCBhbGxvd2luZyBub3JtYWwgZG9ja2VyIGNvbW1hbmRzIHRvIGJlIHBlcmZvcm1lZCBmcm9tIElERXMgYW5kIHN1Y2guXG4gICogT0JTIFN0dWRpbyBhbmQgS0RFbkxpdmVcbiAgICAtIEFsbG93cyBmb3IgdGhlIGVhc3kgcmVjb3JkaW5nIGFuZCBzdHJlYW1pbmcgb2YgY29kaW5nIHNlc3Npb25zIGlmIG5lZWRlZC4gIFRoaXMgY2FuIGJlIGVhc2lseSByZW1vdmVkIGJ5IHJlbW92aW5nIHRoZSBwYWNrYWdlcyBmcm9tIHRoZSBwYWNrYWdlcy1saXN0IGJlZm9yZSBidWlsZGluZy5cbiAgKiBWZXJ5IGJhc2ljIHNldCBvZiBkZXYgdG9vbHMgZm9yIG5vdywgc3RpbGwgZGVjaWRpbmcgb24gaG93IG11Y2ggSSB3YW50IHRvIGluY2x1ZGUuICBJIGFtIGd1ZXNzaW5nIG1hbnkgd2lsbCBleHBlY3QgdGhlIENocm9tZSBicm93c2VyLCBidXQgSSBkb24ndCB0aGluayBJIGNhbiBkaXJlY3RseSBpbmNsdWRlIGl0LCBidXQgSSBjYW4gZXhwbGFpbiBob3cgdG8gYnVpbGQgaXQgaW50byB5b3VyIG93biBsaXZlIGltYWdlIG9uIHlvdXIgb3duLCBpdCdzIHJlYWxseSBlYXN5IHRvIGFkZC5cblxuIyMgV2hhdCBhcmUgdGhlIG90aGVyIGJlbmVmaXRzIG9mIHRoaXMgb3ZlciBhIHJlZ3VsYXIgc3lzdGVtP1xuXG5XZWxsLCBpdCBpcyBtdWNoIG1vcmUgZGlmZmljdWx0IHRvIGJyZWFrIGEgc3lzdGVtIHdoaWNoIGJvb3RzIGZyb20gYSBMaXZlIG1lZGlhLCBvciByYXRoZXIgYSByZWFkLW9ubHkgZmlsZSBzeXN0ZW0uICBUaGlzIGltYWdlIGNvdWxkIGZvciBleGFtcGxlIGJlIHVzZWQgYXMgYSBiYXNlIGZvciBhIGNvbXBhbnktd2lkZSBkZXZlbG9wZXIgaW1hZ2UsIHdoaWNoIGNhbiBjb250YWluIGFsbCB0aGUgbmVlZGVkIHRvb2xzIHRoZSBkZXZlbG9wZXIgd291bGQgbmVlZCwgYW5kIHRoZSBMaW51eCBhZG1pbmlzdHJhdG9ycyBjYW4gdGhlbiBoYW5kbGUgdGhlIHVwZGF0ZXMgdmlhIHRoZSB1cGRhdGUgYW5kIGRpc3RyaWJ1dGlvbiBvZiBhIG5ldyBsaXZlIGltYWdlLiAgSXQgY2FuIGFsc28gYmUgYm9vdGVkIHVwIHdpdGhpbiBhIHZpcnR1YWwgbWFjaGluZSBvbiBhIFdpbmRvd3MgZGVza3RvcCB0byBoYXZlIGEgZnVsbCBMaW51eCBkZXNrdG9wIGZvciBkZXZlbG9wbWVudCByZWFkeSB0byBnby4gIEl0IGFsc28gbWFrZXMgaXQgZWFzaWVyIHRvIGJvdGggb25ib2FyZCBhbmQgZ2V0IGEgZGV2ZWxvcGVyIHdob20gbWlnaHQgaGF2ZSBhIGRvd24gc3lzdGVtIGJhY2sgdXAgYW5kIGRldmVsb3BpbmcsIHNhdmluZyB0aGUgY29tcGFueSBtb25leS5cblxuIyMgSWRlYXMgZm9yIHRoZSBmdXR1cmU6XG5cbkknZCBwZXJzb25hbGx5IGxvdmUgdG8gZ3JvdyB0aGlzIGludG8gYSBzcGVjaWFsaXplZCBEZWJpYW4tYmFzZWQgTGludXggZGlzdHJvIG1hZGUgYnkgZGV2ZWxvcGVycyBmb3IgZGV2ZWxvcGVycy4gIElmIHRoZXJlIGlzIGVub3VnaCBpbnRlcmVzdCBpbiBzdWNoIGEgTGl2ZSBTeXN0ZW0sIGFuZCBpZiB0aGVyZSBpcyBhIHBsYWNlIHdoZXJlIEkgY2FuIGZyZWVseSBob3N0IElTT3MsIEkgY2FuIGRvIGFsbCB0aGUgaW1hZ2UgYnVpbGRpbmcuICBBcyBpdCBzdGFuZHMsIHdpdGhvdXQgYSBhdWRpZW5jZSwgYnVpbGRpbmcgYW5kIGhvc3RpbmcgYW4gSVNPIGlzbid0IHdvcnRoIGFzIG11Y2ggZWZmb3J0IGFzIGl0IHdvdWxkIGJlIHRvIGFkZCBuZXcgZmVhdHVyZXMgdG8gdGhpcyBsaXZlIGltYWdlIGZvciB3aGVuIHBlb3BsZSBkbyBzdHVtYmxlIGFjcm9zcyBpdC5cblxuSGVyZSBpcyBhbiBvdXRsaW5lIG9mIG90aGVyIHBvc3NpYmxlIGlkZWFzOlxuXG4gICogVmFyaW91cyBEZXZEZXNrdG9wT1MgKnNwaW5zKlxuICAgIC0gU3VjaCBhcyBvbmUgd2hpY2ggaXMgZm9yIHdlYiBkZXZlbG9wbWVudCwgY29udGFpbmluZyAqbm9kZS5qcyosICpucG0qLCBldGMuLi5cbiAgICAtIE9uZSBmb3IgbXVsdGltZWRpYSBkZXZlbG9wbWVudCwgd2l0aCB0b29scyBsaWtlIEJsZW5kZXIgYW5kIHN1Y2ggcHJlbG9hZGVkIGFuZCBjb25maWd1cmVkLlxuICAgIC0gRGlmZmVyZW50IHRlY2huaWNhbCBwcm9mZXNzaW9ucywgc3VjaCBhcyBEZXZPcHMgd2l0aCByZWxhdGVkIGRlcGxveW1lbnQgdG9vbHMuXG5cblRoZSBtYWluIGlkZWEgaXMgZm9yIHRoZSBlbnZpcm9ubWVudCB0byBiZSBmdWxseSBmdW5jdGlvbmFsIGZvciBhbG1vc3QgYW55IHVzZXIgcmlnaHQgZnJvbSBib290LiAgTXVjaCBsaWtlIHRoZSBzcGlyaXQgb2Ygb2xkIFNsYWNrd2FyZSBhbmQgb3RoZXIgc3BlY2lhbGl6ZWQgTGl2ZSBkaXN0cm9zIGxpa2UgKkR5bmU6Qm9saWMqLCB3aGljaCB3ZXJlIGJvdGggYSBjZWxlYnJhdGlvbiBhbmQgYSBzaG93Y2FzZSBvZiBtYW55IG9wZW4gc291cmNlIHByb2plY3RzIGluIGEgc3VwZXIgZWFzeSB0byBjb25zdW1lIGZvcm1hdCwgYSBMaXZlQ0QuICBJIGFsd2F5cyBmb3VuZCBpdCByZWFsbHkgY29vbCB0byBib290IHVwIGEgc3BlY2lhbGl6ZWQgTGl2ZUNEIGxpa2UgKkR5bmU6Qm9saWMqIGFuZCB3YXMgYWJsZSB0byBleHBsb3JlIGEgd29ybGQgb2YgZnVuIG9wZW4gc291cmNlIG11bHRpbWVkaWEgc29mdHdhcmUgSSd2ZSBuZXZlciBzZWVuIGFuZCBzb21ldGltZXMgbmV2ZXIgaGVhcmQgb2YgYmVmb3JlLiAgSSBtaXNzIHRob3NlIGRheXMgd2hlbiBMaW51eCBMaXZlQ0RzIGhhZCBhbiBhbWF6aW5nIHB1cnBvc2UsIHRvIG5vdCBqdXN0IGludHJvZHVjZSBwZW9wbGUgdG8gTGludXgsIGJ1dCB0byBpbnRyb2R1Y2UgcGVvcGxlIHRvIHRlY2hub2xvZ3kgaW4gYSByZWFsbHkgZWFzeSwgcmlzayBmcmVlIHdheS4gIFRoZXJlIHdhcyBubyBkcml2ZXJzIHRvIGluc3RhbGwsIG5vIHNvZnR3YXJlIHRvIGluc3RhbGwsIG5vIGNvbXBsZXggY29uZmlndXJhdGlvbnMgdG8gbWFuYWdlLCBubyBuZWVkaW5nIHRvIGhvcCBvbiBtdWx0aXBsZSBmb3J1bXMgdG8gZmluZCBhIHNwZWNpZmljIGNvbmZpZ3VyYXRpb24sIGluIG1vc3QgY2FzZXMgYSBsb3Qgb2YgdGhlc2UgTGl2ZUNEcyBkaWQgd29yayBmb3IgdGhlIG1ham9yaXR5IG9mIHBlb3BsZSB3aXRoIG5vIGFkZGl0aW9uYWwgZWZmb3J0LiAgVGhpcyBpcyB0aGUgc3Bpcml0IEkgd2FudCB0byB0cnkgYW5kIGJyaW5nIGJhY2sgd2l0aCAqRGV2RGVza3RvcE9TKiwgYSBMaXZlIENEIHRvIGFsbG93IHRoYXQgZnVuIHNlbnNlIG9mIGV4cGxvcmF0aW9uIGFnYWluLCBwZXJoYXBzIGZpbmRpbmcgb3IgdXNpbmcgc29tZSBvcGVuIHNvdXJjZSBzb2Z0d2FyZSB5b3UgbWF5IG5ldmVyIGhhdmUgb3RoZXJ3aXNlIHRyaWVkLlxuXG4jIyBDdXJyZW50IHByb2plY3QgcGxhbnNcblxuRXNzZW50aWFsbHkgc2luY2UgSSBhbSBjdXJyZW50bHkgb25seSBidWlsZGluZyB0aGlzIGZvciBteXNlbGYgYXQgdGhlIG1vbWVudCwgYW5kIGl0IGlzbid0IHJlYWxseSBkaWZmaWN1bHQgdG8gY2hhbmdlIGlmIGl0IGdhaW5zIGF0dGVudGlvbi4gIEkgd2lsbCBiZSBmb2N1c2luZyBvbiB0cnlpbmcgdG8gcmVwbGljYXRlIG15IGN1cnJlbnQgYGJ1c3RlcmAgTGludXggd29ya3N0YXRpb24gYXMgYSBmdWxsIGBib29rd29ybWAgTGl2ZUNELCB3aGljaCB3aWxsIGluY2x1ZGUgbW9zdCBvZiB0aGUgc29mdHdhcmUgcGFja2FnZXMgSSBoYXZlIGluc3RhbGxlZCBvbiBteSBub3JtYWwgZGV2ZWxvcG1lbnQgc3lzdGVtLCBzb21lIHByZS1jb25maWd1cmVkIHdpdGggc29tZSBvZiBteSBwcmVzZXRzIG9mIGNvdXJzZS4gIFRoaXMgcHJvamVjdCBjYW4gb3RoZXJ3aXNlIGJlIGEgZ29vZCBzdGFydGluZyBwb2ludCBmb3IgYW55b25lIHdhbnRpbmcgdG8gYnVpbGQgYSBEZWJpYW4gTGl2ZSBpbWFnZSBvZiB0aGVpciBvd24uICBBcyB0aGUgb2ZmaWNpYWwgZG9jdW1lbnRhdGlvbiBjYW4gYmUgYSBiaXQgbXVjaCB0byBnbyB0aHJvdWdoLlxuIiB9LCB7ICJJZCIgOiA0MCwgIlBhdGgiIDogIi9Eb2NrZXIiLCAiVGl0bGUiIDogIkRvY2tlciBDb250YWluZXJzIiwgIkNvbnRlbnRUeXBlIiA6IDEsICJDcmVhdGVkIiA6ICIyMDI0LTAyLTE4VDEzOjExOjA4LjcyMC0wNjowMCIsICJNb2RpZmllZCIgOiAiMjAyNC0wMi0xOFQxMzoyMDo0OS40MjEtMDY6MDAiLCAiQ29udGVudCIgOiAiRG9ja2VyIGlzIGEgY29udGFpbmVyIHRlY2hub2xvZ3kgSSBmaXJzdCBiZWdhbiB0byBsZWFybiBiYWNrIGluIDIwMTYgb3Igc28gYWZ0ZXIgSSBmaXJzdCBoZWFyZCBhYm91dC4gIEF0IGZpcnN0IEkgdHJpZWQgbGVhcm5pbmcgaXQgYXMgSSB3b3VsZCBzb21lIG90aGVyIHZpcnR1YWxpemF0aW9uIHRlY2hub2xvZ3ksIGFzIEkgZGlkbid0IHF1aXRlIGtub3cgd2hhdCBhICpjb250YWluZXIqIGV2ZW4gd2FzLCBhbmQgd2hhdCBhbGwgdGhlIGNvbmNlcHRzIG1lYW50IGF0IGZpcnN0LiAgT2YgY291cnNlIG5vdywgSSBhbSB2ZXJ5IGZhbWlsYXIgd2l0aCBob3cgRG9ja2VyIHdvcmtzIGFuZCBmdW5jdGlvbnMuICBJIGhhdmUgaW5zdGFsbGVkIHRoZSBEb2NrZXIgZW5naW5lIG9uIHZhcmlvdXMgRGViaWFuIHNlcnZlcnMgYW5kIGNvbmZpZ3VyZWQgYSBjb21wbGV0ZSBzdGFjayBmcm9tIHRoZXJlLiAgSGVyZSBhcmUgc29tZSBvZiBteSBmYXZvcml0ZSBkb2NrZXIgaW1hZ2VzLCBlaXRoZXIgZm9yIGFzc2lzdGluZyB3aXRoIHNpbmdsZSBzZXJ2ZXIgaG9zdGluZywgb3IganVzdCBhIHJlYWxseSBuaWNlIERvY2tlciBpbWFnZSB0aGF0IEkganVzdCB1c2UgcGVyc29uYWxseTpcblxuICAqIFtQb3J0YWluZXJdKCMvUG9ydGFpbmVyKSAgLSBBIHJlYWxseSBuaWNlIERvY2tlciBtYW5hZ2VtZW50IFVJIGZvciB0aGUgd2ViLlxuICAqIFtGb2NhbEJvYXJkXSgjL0ZvY2FsQm9hcmQpIC0gQSBzaW1wbGUsIGJ1dCBzdGlsbCBwb3dlcmZ1bCBlbm91Z2ggS2FuYmFuIGJvYXJkLlxuXG5Ob3QgcmVhbGx5IHN1cmUgd2hhdCBvdGhlciBpbWFnZXMgdG8gcmVhbGx5IHBsYWNlIGhlcmUsIGFzIGltYWdlcyBzdWNoIGFzICpHaXRMYWIqIGNhbiBjbGVhcmx5IGJlIHJ1biBzdGFuZC1hbG9uZSwgYW5kIEknbSBzdXJlIEZvY2FsQm9hcmQgY2FuIGFsc28gcnVuIHN0YW5kLWFsb25lLiAgV2hpY2ggYnJpbmdzIG1lIHRvIGEgZmVhdHVyZSBJIHJlYWxseSBkbyBsaWtlIGFib3V0IERvY2tlciwgc2luY2UgSSBtYWlubHkgcnVuIHRoZSBzdGFibGUgdmVyc2lvbiBvZiBEZWJpYW4gb24gbXkgcGVyc29uYWwgc3lzdGVtcywgdXNpbmcgZG9ja2VyIGFsbG93cyBtZSB0byBlYXNpbHkgcnVuIG1hbnkgdmVyc2lvbnMgb2YgcHJvZ3JhbXMgd2hpY2ggYXJlbid0IHlldCBpbmNsdWRlZCB3aXRoIERlYmlhbiBzdGFibGUuICBJIGFsc28gZG8gbGlrZSB0aGUgc29mdHdhcmUgZGlzY292ZXJ5IHdpdGggRG9ja2VyLiAgSSBvbmx5IGZvdW5kIG91dCBhYm91dCBzb21lIG5pY2hlIHdlYiBhcHAgYmVjYXVzZSBJIHNhdyBpdCBpbiBhIERvY2tlciB3ZWIgYWRtaW5pc3RyYXRpb24gaW50ZXJmYWNlIGxpa2UgKlBvcnRhaW5lciogYXMgYW4gYXBwbGljYXRpb24gd2hpY2ggaGFzIGFuIGVhc3kgaW5zdGFsbCBwcm9jZXNzLlxuXG5NeSBsYXRlc3Qgd2ViIHNlcnZlciByZWxhdW5jaCBpcyBnb2luZyB0byBiZSB1c2luZyBzb2xlbHkgZG9ja2VyIGZvciBhbGwgdGhlIGFwcGxpY2F0aW9ucyBhbmQgY29tcG9zZSBmaWxlcyB0byBkZXBsb3kgYW5kIG9yY2hlc3RyYXRlIG15IHZhcmlvdXMgcGVyc29uYWwgYXBwcyBhcyBzdGFja3MuICBJIGFtIHJlYWxseSBleGNpdGVkIHRvIGhhdmUgc3RhcnRlZCB0aGlzIHByb2Nlc3MsIGFuZCBjYW4ndCB3YWl0IHRvIHNlZSBpdCB0byBjb21wbGV0aW9uLlxuIiB9LCB7ICJJZCIgOiA0MSwgIlBhdGgiIDogIi9Qb3J0YWluZXIiLCAiVGl0bGUiIDogIlBvcnRhaW5lciIsICJDb250ZW50VHlwZSIgOiAxLCAiQ3JlYXRlZCIgOiAiMjAyNC0wMi0xOFQxMzoyMToxNi42MTMtMDY6MDAiLCAiTW9kaWZpZWQiIDogIjIwMjQtMDItMThUMTM6MjM6MzMuOTEwLTA2OjAwIiwgIkNvbnRlbnQiIDogIlRoaXMgYSBzaW1wbGUsIGJ1dCB2ZXJ5IHBvd2VyZnVsIGRvY2tlciBtYW5hZ2VtZW50IHdlYiBjb25zb2xlLCB3aGljaCBpcyB3ZWxsIHN1aXRlZCBmb3Igc3RhbmQtYWxvbmUgZG9ja2VyIGluc3RhbGxzLiAgSXQgaGFzIGEgbG90IG9mIGZlYXR1cmVzLCBhbmQgZXZlbiBoYXMgYSAqcHJvKiBwYWlkIHZlcnNpb24gd2hpY2ggb2ZmZXJzIGV2ZW4gbW9yZS5cblxuW1BvcnRhaW5lciBIb21lIFBhZ2VdKGh0dHBzOi8vd3d3LnBvcnRhaW5lci5pby8pXG5cblRoaXMgd2ViIGFwcCBpcyBncmVhdCBmb3IgYW5kIGR1cmluZyBkZXZlbG9wbWVudCBhcyBpdCBkb2VzIHNob3cgYW4gYXBwJ3MgdG90YWwgbWVtb3J5LCBDUFUsIGFuZCBuZXR3b3JrIHVzYWdlLiAgVGhpcyBjYW4gYWxsb3cgc2NhbGluZyB0byBwb3RlbnRpYWxseSBiZSBjYWxjdWF0ZWQgdG8gZGV0ZXJtaW5lIHRoZSBzZXJ2ZXIgbGF5b3V0IGFuZCBjb25maWd1cmF0aW9uIHRvIGVuc3VyZSBvcHRpbWFsIHJlc3VsdHMuXG4iIH0sIHsgIklkIiA6IDQyLCAiUGF0aCIgOiAiL0ZvY2FsQm9hcmQiLCAiVGl0bGUiIDogIkZvY2FsQm9hcmQiLCAiQ29udGVudFR5cGUiIDogMSwgIkNyZWF0ZWQiIDogIjIwMjQtMDItMThUMTM6MjM6NDcuNjc2LTA2OjAwIiwgIk1vZGlmaWVkIiA6ICIyMDI0LTAyLTE4VDEzOjI1OjU1LjU2MS0wNjowMCIsICJDb250ZW50IiA6ICJBIHNpbXBsZSwgYnV0IHN0aWxsIHBvd2VyZnVsIGVub3VnaCBLYW5iYW4gYm9hcmQgZm9yIHBlcnNvbmFsIGFuZCBzbWFsbCB0ZWFtcy4gIEl0IHVzZXMgYSB2ZXJ5IGZhbWlsYXIgbGF5b3V0IG1vc3Qgc2NydW0gbWFzdGVycyBhcmUgZmFtaWxpYXIgd2l0aCwgYW5kIGlzIGVhc3kgZm9yIGFueSBkZXZlbG9wbWVudCwgZXZlbiB0aG9zZSBub3QgZmFtaWxhciB3aXRoIGEga2FuYmFuIGJvYXJkIHRvIGVhc2lseSBwaWNrIGl0IHVwLlxuXG5bRm9jYWxCb2FyZCBXZWJzaXRlXShodHRwczovL3d3dy5mb2NhbGJvYXJkLmNvbS8pXG5cbkZvciBtYW5hZ2luZyBhIHBlcnNvbmFsIHByb2plY3QsIG9yIGEgc21hbGwgdGVhbSBwcm9qZWN0LCAqRm9jYWxCb2FyZCogY2FuIGJlIHRoZXJlIGZvciB5b3UuXG4iIH0sIHsgIklkIiA6IDQzLCAiUGF0aCIgOiAiL1dlYnNpdGUvSlNBcHAiLCAiVGl0bGUiIDogIkphdmFTY3JpcHQgQXBwbGljYXRpb24iLCAiQ29udGVudFR5cGUiIDogMSwgIkNyZWF0ZWQiIDogIjIwMjQtMDItMThUMTM6Mjk6MzUuMjYwLTA2OjAwIiwgIk1vZGlmaWVkIiA6ICIyMDI0LTAyLTE4VDEzOjM1OjE1LjA2OC0wNjowMCIsICJDb250ZW50IiA6ICJUaGlzICpjb250ZW50LXR5cGUqIHdpbGwgcnVuIGEgSmF2YVNjcmlwdCBwcm9ncmFtIGluIHRoZSBjbGllbnQgYnJvd3Nlci4gIFRoaXMgY2FuIGJlIHVzZWQgZm9yIGFuIGFzb3J0bWVudCBvZiBwdXJwb3Nlcywgc3VjaCBhcyBtaXhpbmcgbXVsdGlwbGUgY29udGVudC10eXBlcyB0b2dldGhlciBpbnRvIGEgc2luZ2xlIHVuaWZpZWQgZG9jdW1lbnQsIGFuZCB0byBwcm92aWRlIGEgaW50ZXJhY3RpdmUgZXhwZXJpZW5jZSB0byBhIHVzZXIsIHN1Y2ggYXMgYSBxdWl6IG9yIHNvbWV0aGluZyBlbHNlLlxuXG5UaGUgKkFQSSogZm9yIHRoaXMgaXMgc3RpbGwgaW4gZGV2ZWxvcG1lbnQsIGJ1dCBvdGhlcndpc2UsIGV2ZXJ5IG5vcm1hbCBKYXZhU2NyaXB0IGZ1bmN0aW9uL2NhbGwgc2hvdWxkIHdvcmsgaWYgaXQgd29ya3MgaW4gYW55IG90aGVyIHdlYiBwYWdlLiAgSGF2ZSBhIHBlZWsgaW4gdGhlIGBhcGkuanNgIGZpbGUgd2l0aGluIHRoZSBzb3VyY2UgY29kZSB0byBzZWUgd2hhdCBbT2JqZWN0UGFzY2FsXSgjL09iamVjdFBhc2NhbCkgQVBJcyBhcmUgYWxzbyBleHBvcnRlZCB0byBKYXZhU2NyaXB0IGNvbXBvbmVudHMuXG5cbltTb3VyY2UgRXhhbXBsZV0oIy9XZWJzaXRlL0pTRXhhbXBsZSlcblxuW1J1biBFeGFtcGxlXSgjL19fREVCVUdfXy9KU1Byb2cpXG4iIH0sIHsgIklkIiA6IDQ0LCAiUGF0aCIgOiAiL1dlYnNpdGUvSlNFeGFtcGxlIiwgIlRpdGxlIiA6ICJFeGFtcGxlIEphdmFTY3JpcHQgUHJvZ3JhbSIsICJDb250ZW50VHlwZSIgOiAxMDYsICJDcmVhdGVkIiA6ICIyMDI0LTAyLTE4VDEzOjMzOjMwLjM2Mi0wNjowMCIsICJNb2RpZmllZCIgOiAiMjAyNC0wMi0xOFQxMzo1MDoxMC44NDAtMDY6MDAiLCAiQ29udGVudCIgOiAiU2V0VGl0bGUoJ0V4YW1wbGUgSmF2YVNjcmlwdCBQcm9ncmFtJyk7XG52YXIgYnVmPUdldENvbnRlbnQoJy9XZWJzaXRlL0pTQXBwJyk7XG5idWY9YnVmKyc8aDQ+RXhhbXBsZSBDb2RlOjwvaDQ+JytHZXRDb250ZW50KCcvV2Vic2l0ZS9KU0V4YW1wbGUnKTtcblNldENvbnRlbnQoYnVmKTsiIH0sIHsgIklkIiA6IDQ1LCAiUGF0aCIgOiAiL1dlYnNpdGUvUHlBcHAiLCAiVGl0bGUiIDogIlB5dGhvbiBXZWIgQXBwbGljYXRpb24iLCAiQ29udGVudFR5cGUiIDogMSwgIkNyZWF0ZWQiIDogIjIwMjQtMDItMThUMTM6MzU6NTguMTAwLTA2OjAwIiwgIk1vZGlmaWVkIiA6ICIyMDI0LTAyLTE4VDEzOjM5OjIwLjIxMy0wNjowMCIsICJDb250ZW50IiA6ICJUaGlzICpjb250ZW50LXR5cGUqIHdpbGwgYWxsb3cgdGhlIHdlYnNpdGUgYXV0aG9yIHRvIHJ1biAqKlB5dGhvbioqIGNvZGUgZGlyZWN0bHkgd2l0aGluIHRoZSBicm93c2VyIHRvIGludGVyYWN0IHdpdGggdGhlIHVzZXIsIGFtb25nIG90aGVyIHRoaW5ncy4gIFRoZSAqQVBJKiBmb3IgdGhpcyBsaXZlcyBpbnNpZGUgdGhlIGBweWFwaS9gIGRpcmVjdG9yeS4gIEl0IGlzIGFkdmlzZWQgdG8gbG9vayBhdCB0aGUgbW9kdWxlcyBpbiB0aGVyZSBmb3IgY3VycmVudGx5IGF2YWlsYWJsZSAqQVBJIENhbGxzKi4gIFRoZSBBUEkgaXMgZmFyIGZyb20gY29tcGxldGUsIGJ1dCB0aGUgRE9NIHJvdXRpbmVzIGZyb20gW0JyeXRob25dKCMvQnJ5dGhvbikgY2FuIGFsc28gYmUgdXNlZC5cblxuW0V4YW1wbGUgUHl0aG9uIFNvdXJjZV0oIy9XZWJzaXRlL1B5RXhhbXBsZSlcblxuW1J1biBFeGFtcGxlXSgjL19fREVCVUdfXy9QeUFwcClcbiIgfSwgeyAiSWQiIDogNDYsICJQYXRoIiA6ICIvV2Vic2l0ZS9QeUV4YW1wbGUiLCAiVGl0bGUiIDogIlB5dGhvbiBXZWIgQXBwbGljYXRpb24gRXhhbXBsZSIsICJDb250ZW50VHlwZSIgOiAxMDIsICJDcmVhdGVkIiA6ICIyMDI0LTAyLTE4VDEzOjM5OjUzLjYyNS0wNjowMCIsICJNb2RpZmllZCIgOiAiMjAyNC0wMi0xOFQxMzo1MzoxNC40NzUtMDY6MDAiLCAiQ29udGVudCIgOiAiZnJvbSBicm93c2VyIGltcG9ydCBkb2N1bWVudCwgd2luZG93XG5mcm9tIHdlYnNpdGUgaW1wb3J0IFNldFRpdGxlLCBTZXRDb250ZW50LCBHZXRDb250ZW50XG5cbmJsb2NrMSA9IEdldENvbnRlbnQoJy9XZWJzaXRlL1B5QXBwJylcbmJsb2NrMiA9ICc8aDQ+RXhhbXBsZSBDb2RlOjwvaDQ+JytHZXRDb250ZW50KCcvV2Vic2l0ZS9QeUV4YW1wbGUnKVxuXG5TZXRDb250ZW50KCdUaGlzIHdhcyB3cml0dGVuIHRvIHRoZSBET00gdmlhIDxpPkJyeXRob248L2k+IGNvZGUuPGJyLz4nK2Jsb2NrMStibG9jazIpXG4iIH0sIHsgIklkIiA6IDQ3LCAiUGF0aCIgOiAiL0JyeXRob24iLCAiVGl0bGUiIDogIkJyeXRob246IFB5dGhvbiBmb3IgdGhlIGJyb3dzZXI/IiwgIkNvbnRlbnRUeXBlIiA6IDEsICJDcmVhdGVkIiA6ICIyMDI0LTAyLTE4VDEzOjQyOjUzLjExMS0wNjowMCIsICJNb2RpZmllZCIgOiAiMjAyNC0wMi0xOFQxMzo0NDowMy4wMDYtMDY6MDAiLCAiQ29udGVudCIgOiAiWWVzISAgUHl0aG9uIGNhbiBub3cgcnVuICphbG1vc3QqIG5hdGl2ZWx5IHdpdGhpbiB0aGUgd2ViIGJyb3dzZXIgd2l0aCB0aGUgcG93ZXIgb2YgW0JyeXRob25dKGh0dHBzOi8vYnJ5dGhvbi5pbmZvLykhXG4iIH0sIHsgIklkIiA6IDQ4LCAiUGF0aCIgOiAiL21jc2VydmVyIiwgIlRpdGxlIiA6ICJOZXR3b3JrIFNoYXJlZCBIZWFwIFNlcnZlciIsICJDb250ZW50VHlwZSIgOiAwLCAiQ3JlYXRlZCIgOiAiMjAyNC0wMi0xOFQxNDowNjoxOC4yMzYtMDY6MDAiLCAiTW9kaWZpZWQiIDogIjIwMjQtMDItMThUMTQ6MTg6MjAuMTI0LTA2OjAwIiwgIkNvbnRlbnQiIDogIjxwPlxuVGhpcyBpcyBhIHNlcnZlciBwcm9ncmFtIEkgd3JvdGUgaW4gPGEgaHJlZj1cIiMvT2JqZWN0UGFzY2FsXCI+T2JqZWN0UGFzY2FsPC9hPlxuYWJvdXQgMiB5ZWFycyBhZ28uICBJdCBpcyB2ZXJ5IHNpbXBsZSBpbiBjb25jZXB0LCBhIHNlcnZlciB3aGljaCBjYW4gc2VuZCBhbmRcbnJlY2VpdmUgYmxvY2tzIG9mIG1lbW9yeSwgYW5kIGFsc28gPGk+c3Vic2NyaWJlPC9pPiB0byBzYWlkIGJsb2NrcyBvZiBtZW1vcnkgYW5kXG5yZWNlaXZlIGEgbGl2ZSBub3RpZmljYXRpb24gd2hlbiBhbm90aGVyIGNsaWVudCBjaGFuZ2VzIHRoYXQgYmxvY2sgb24gdGhlIHNlcnZlcixcbmFsbG93aW5nIG11bHRpcGxlIGFwcGxpY2F0aW9ucyBvdmVyIGEgbmV0d29yayB0byBlYXNpbHkgc2hhcmUgYSBzdGF0ZSBhbmQga2VlcFxuaW4gc3luYy4gIFRoaW5rIG9mIDxiPklvVDwvYj4gYXBwbGljYXRpb25zIGZvciBleGFtcGxlLCB3aGVyZSBhIDxpPmNlbnRyYWwgdW5pdDwvaT5cbm9mIHNvcnRzIHJ1bnMgdGhpcyBzZXJ2ZXIgYW5kIHN1YnNjcmliZXMgdG8gY2hhbmdlcyBmcm9tIGFub3RoZXIgcHJvZ3JhbSB0byBjaGFuZ2VcbnRoZSB2YXJpb3VzIGhvbWUgYXV0b21hdGlvbiBmZWF0dXJlcy4gIFRoZXNlIGJsb2NrcyBjYW4gdGhlbiBiZSByZWFkIGJ5IG90aGVyXG5kZXZpY2VzIHRvIGtlZXAgYSBzaW1pbGFyIHN0YXRlIHNoYXJlZCBiZXR3ZWVuIGVhY2ggZGV2aWNlLiAgVGhlIHRyYW5zZmVyIGlzXG5pbmNyZWRpYmx5IHNpbXBsZSBmb3IgPGI+U29DczwvYj4gdG8gdXNlLCBhcyBpdCBjYW4gbG9hZCB0aGUgYmxvY2sgZnJvbSB0aGVcbm5ldHdvcmsgZGlyZWN0bHkgaW50byBtZW1vcnkgd2l0aG91dCBuZWVkaW5nIHRvIHBhcnNlLiAgQ3VycmVudGx5LCBpdCBpcyBub3RcbndlbGwgc3VpdGVkIGZvciB1c2Ugb3ZlciBwdWJsaWMgaW50ZXJuZXRzLCBhcyB0aGUgc2VjdXJpdHkgb2YgdGhlIHByb3RvY29sIGlzXG5jdXJyZW50bHkgdmVyeSBsb3cuICBIb3dldmVyLCBJIGRpZCByZWNlbnRseSBvcGVuIHNvdXJjZSB0aGUgc2VydmVyIG9uIG15IEdpdEh1YixcbnNvIEkgaG9wZSB0aGF0IHBlb3BsZSBpbnRlcmVzdGVkIGluIHN1Y2ggYSBjb25jZXB0IGNhbiBjb250cmlidXRlIGFuZCBhZHZhbmNlXG50aGUgaWRlYSBmb3J3YXJkLlxuPC9wPlxuXG48aWZyYW1lIHdpZHRoPVwiNDIwXCIgaGVpZ2h0PVwiMzE1XCIgc3JjPVwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvaXR6REpsRWxNWmtcIj48L2lmcmFtZT5cblxuPHA+XG48YSBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL2t2ZXJvbmVhdS9tY3NlcnZlclwiPlNvdXJjZSBDb2RlIFJlbGVhc2U8L2E+XG48L3A+XG5cbiIgfSwgeyAiSWQiIDogNDksICJQYXRoIiA6ICIvU2ltNjUwMiIsICJUaXRsZSIgOiAiU2ltNjUwMiIsICJDb250ZW50VHlwZSIgOiAwLCAiQ3JlYXRlZCIgOiAiMjAyNC0wMi0xOFQxNDoxODo0NS45NDktMDY6MDAiLCAiTW9kaWZpZWQiIDogIjIwMjQtMDItMThUMTQ6MjM6MjkuNDI3LTA2OjAwIiwgIkNvbnRlbnQiIDogIjxwPlxuVGhpcyBwcm9qZWN0IHdhcyBzdGFydGVkIGluIGVhcmx5IDIwMjMgYWZ0ZXIgSSBsZWZ0IG15IGxhc3Qgam9iIGFzIGEgcG90ZW50aWFsXG48aT5mb3ItcHJvZml0PC9pPiBwcm9qZWN0LiAgSXQgd2FzIHRvIGJlIGFuIDxpPmVkdXRhaW5tZW50IGdhbWUvcHJvZHVjdDwvaT4sXG53aGljaCB3b3VsZCBhbHNvIGhhdmUgYW4gYXBwZWFsIHRvIHZhcmlvdXMgPGI+TU9TIDY1MDI8L2I+IGhvYmJpc3RzLiAgSWYgeW91IGV2ZXJcbmVuam95ZWQgd29ya2luZyB3aXRoIHRoZSA8aT42NTAyPC9pPiwgdGhlbiBJIGhpZ2hseSByZWNvbW1lbmQgY2hlY2tpbmcgaXQgb3V0LlxuPC9wPlxuXG48aWZyYW1lIHdpZHRoPVwiNDIwXCIgaGVpZ2h0PVwiMzE1XCIgc3JjPVwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvSGtGYmxvazlVeGdcIj48L2lmcmFtZT5cblxuPHA+XG5UaGlzIHByb2plY3QgcmVtYWlucyBjbG9zZWQgc291cmNlLCBhcyBJIHN0aWxsIGZpcm1seSBiZWxpZXZlIHRoYXQgb25lIGRheSBJXG5taWdodCB0dXJuIHRoaXMgaW50byBhIGZ1biA8aT5jb21wdXRlciBzY2llbmNlPC9pPiBsZWFybmluZyBhaWQuICBBbmQgb25jZSBBSVxudGFrZXMgb3ZlciBjb2RpbmcsIHRoZW4gYSBmdW4gaG9iYnkgdG95IGZvciBwZW9wbGUgdGhhdCBqdXN0IGVuam95IHByb2dyYW1taW5nXG5hcyBib3RoIGEgaG9iYnkgYW5kIGFzIGEgcGFzc2lvbiwgYmVjYXVzZSBBLkkuIGNhbiBuZXZlciB0YWtlIHRob3NlIGF3YXkgZnJvbVxudXMuXG48L3A+XG5cbiIgfSwgeyAiSWQiIDogNTAsICJQYXRoIiA6ICIvWW91VHViZUxpa2VzIiwgIlRpdGxlIiA6ICJZb3VUdWJlIFNtYXJ0VFYgYXBwIGlzIGFubm95aW5nIiwgIkNvbnRlbnRUeXBlIiA6IDEsICJDcmVhdGVkIiA6ICIyMDI0LTAyLTIzVDE1OjQ1OjQ3LjY4Ni0wNjowMCIsICJNb2RpZmllZCIgOiAiMjAyNC0wMy0wNVQxOTo0MjozNS43MDItMDY6MDAiLCAiQ29udGVudCIgOiAiSWYgeW91IGhhdmUgZXZlciB1c2VkIHRoZSAqWW91VHViZSogYXBwIG9uIHlvdXIgQW5kcm9pZCBUViwgeW91IG1heSBhbHJlYWR5IGtub3cgd2hlcmUgSSBhbSBjb21pbmcgZnJvbSB3aXRoIHRoaXMgdGl0bGUuICBBZnRlciBhIFlvdVR1YmUgdmlkZW8gZW5kcyBvbiBBbmRyb2lkIFRWLCBpZiB5b3UgdGhlIHZpZXdlciBjb21wbGV0ZWx5IGZvcmdldCB0byBwdXQgYSAqTGlrZSogb24gdGhhdCB2aWRlbyBiZWZvcmUgaXQgZW5kcywgeW91IGNhbiB0aGVuIG1ha2Ugb25lIG9mIHRoZSBmb2xsb3dpbmcgY2hvaWNlczpcblxuICAqIE5vdCBjYXJlIGFuZCBtb3ZlIG9uIHdpdGggbm8gbGlrZS5cbiAgKiBHbyBiYWNrIHRvIHRoZSB2aWRlbywgZWl0aGVyIHRocm91Z2ggdGhlIGxpc3QgeW91IGZvdW5kIGl0IG9uLCBvciBpZiBpdCdzIHJlZnJlc2hlZCwgYWxsIHRoZSB3YXkgaW4geW91ciAqSGlzdG9yeSosIHdhdGNoIGl0IGFnYWluLCBvciBqdXN0IG9wZW4gaXQgcXVpY2tseSB0byBsZWF2ZSB0aGF0ICpMaWtlKi5cblxuSW4gbW9zdCBjYXNlcyBJIHVzdWFsbHkgZ3Jhdml0YXRlIHRvd2FyZHMgdGhlIGZvcm1lciwgYXMgaW4gbW9zdCBjYXNlcyBteSBzaW5nbGUgKmxpa2UqIGlzbid0IGdvaW5nIHRvIHJlYWxseSBhZmZlY3QgYW55dGhpbmcsIGFzIGl0IGp1c3QgYWRkcyBpdCB0byBteSBwZXJzb25hbCAqTGlrZXMgcGxheWxpc3QqLCB3aGljaCBJIG5ldmVyIHJlYWxseSB1c3VhbGx5IHJlZmVyIHRvIGFueXdheXMuICBTb21lIFlvdVR1YmVycyBJIGZpbmQgYXJlIHJlYWxseSBiYWQgd2l0aCB0aGVpciB2aWRlbyBlbmRpbmdzLCB1bnByZXBhcmluZyB0aGUgdmlld2VyIGZvciB3aGVuIHRoYXQgdmlkZW8gZW5kcywgbWFraW5nIGl0IGRpZmZpY3VsdCB0byBwcm9wZXJseSB1c2UgdGhlIHNvbWV3aGF0IGNsdW5reSBVSSB0byBjbGljayBvbiB0aGUgKnRodW1icyB1cCogaWNvbi4gIE9uZSBZb3VUdWJlciBJIHdpbGwgY2FsbCBpdCBhcyBhIGdyZWF0IGV4YW1wbGUgaXMgKlNhdGNoT25TaW1zKiwgd2hpbGUgYW4gYWJzb2x1dGVseSBhbWF6aW5nIGNoYW5uZWwgd2l0aCBzb21lIGdyZWF0IGNvbW1lbnRhcmllcyBvbiB0aGUgKlNpbXMgc2VyaWVzKiBhcyB3ZWxsIGFzIHNvbWUgY29tbWVudGFyaWVzIG9uICpzZXh1YWxpdHkqIGFzIGhlIGRvZXMgaWRlbnRpZnkgYXMgKmdheSosIGFzIGRvIEkuICBUaGUgZW5kIG9mIGhpcyB2aWRlbyBlbmRzIHJlYWxseSBxdWlja2x5LCBhbmQgdGhlcmUgd2VyZSBtYW55IHRpbWVzIHdoZXJlIEkgY29tcGxldGVseSBmYWlsZWQgdG8gbGVhdmUgYSBsaWtlIEkgd2FudGVkIHRvIGxlYXZlIGhpbSwgYnV0IEkganVzdCBsZWZ0IGl0IGFuZCBtb3ZlZCBvbi5cblxuSSdtIG5vdCBzdXJlIGlmIGl0J3MganVzdCB0aGUgYXNzdW1wdGlvbiB0aGF0IG1vc3Qgdmlld2VycyB3aWxsIGJlIHdhdGNoaW5nIFlvdVR1YmUgaW4gdGhlaXIgYnJvd3Nlciwgb3IgYSBtb2JpbGUgYXBwLCBidXQgdGhyb3VnaCBBbmRyb2lkIFRWLCBpdCBjYW4gYmUgYSBiaXQgdHJpY2t5IHNvbWV0aW1lcyB0byBsZWF2ZSBhIGxpa2UsIGVzcGVjaWFsbHkgaWYgdGhlIG9wZXJhdGluZyBzeXN0ZW0gYmVnaW5zIHRvIGxhZywgd2hpY2ggaGFzIGhhcHBlbmVkIG9uIG11bHRpcGxlIG9jY2F0aW9ucywgc28gd2hlbiBJIGRpZCBoYXZlIHNvbWUgdGltZSB0byBzYXkgbGVhdmUgYSBsaWtlLCBpdCB3YXMgc3RpbGwgZGlmZmljdWx0IGFzIHRoZSBVSSBsYWdnZWQgdG9vIG11Y2ggYmVoaW5kIG15IGNvbnRyb2xsZXIgY2xpY2tzLCBqdXN0IG1ha2luZyB0aGUgZW50aXJlIHByb2Nlc3MgYSBiaXQgZnJ1c3R1cmF0aW5nIHRvIHNheSB0aGUgbGVhc3QuXG5cbkEgcmVjZW50IGV4YW1wbGUgb2YgdGhpcyBoYXBwZW5pbmcsIHdoaWNoIG1heSBoYXZlIGFuIGVmZmVjdCBvbiB0aGUgYWxnb3JpdGhtIGZvciBteSBZb3VUdWJlIHByb2ZpbGUsIGlzIHRoYXQgdGhlICpQcmVtaWVyKiBvZiBteSByZXNpZGluZyBwcm92aW5jZSBsZWZ0IGEgc2hvcnQgWW91VHViZSB2aWRlbyBvZiB0aGUgY3VycmVudCBzdGF0ZSBvZiBlY29ub21pY3MgaW4gbXkgcHJvdmluY2UuICBXaGlsZSBJIGRpZG4ndCBhZ3JlZSB3aXRoIGFic29sdXRlbHkgZXZlcnl0aGluZyBzaGUgYnJvdWdodCB1cCwgSSBkaWQgYWdyZWUgd2l0aCBtb3N0IG9mIGhlciBzdGF0ZW1lbnRzLiAgVW5mb3J0dW5hdGVseSwgSSB3YXMgdW5wcmVwYXJlZCBmb3IgdGhlIHZpZGVvIGVuZGluZywgYW5kIGFzIGEgcmVzdWx0LCBmYWlsZWQgdG8gbGVhdmUgYSBsaWtlLiAgUGVyc29uYWxseSwgSSBhbSBwb2xpdGljYWxseSBhbGlnbmVkIGFzICpjZW50ZXIgbGVmdCogaW4gbW9zdCBbcG9saXRpY2FsIGlzc3Vlc10oIy9Qb2xpdGljcyksIGJ1dCBJIHN0aWxsIGhlYXIgdGhlIHBsYXRmb3JtIG9mIHRoZSBvcHBvc2luZyBwYXJ0aWVzLCBhbmQgYmFzZSBteSB2b3RlIG9uIHdoYXQgdGhleSBjYW4gcHJvdmlkZSBmb3IgdGhlIGZ1dHVyZS4gIEluIHRoZSBjdXJyZW50IGVjb25vbWljIGNsaW1hdGUsIEkgYW0gbW9yZSBsaWtlbHkgdG8gbGVhbiBhIGJpdCBtb3JlIHRvIHRoZSByaWdodCwgYXMgc29tZSBvZiB0aGVpciBzb2x1dGlvbnMgSSBmZWVsIGlzIHRoZSByaWdodCBkaXJlY3Rpb24gZm9yIHRoZSBsb25nIHRlcm0gYW5kIGludG8gdGhlIGZ1dHVyZS4gIEkgZG9uJ3QgYWxpZ24gdG8gYSBzcGVjaWZpYyBwYXJ0eSBvciBwb2xpdGljaWFuLlxuXG4jIyMgQmV0dGVyIHNvbHV0aW9uIHRvIGEgbGlrZS9kaXNsaWtlIHN5c3RlbVxuXG5QZXJzb25hbGx5LCBJIHdvdWxkIHByZWZlciBpdCBpZiB2aWRlbyBzaGFyaW5nIHdlYnNpdGUgdXNlZCAqZW1vdGlvbnMqIGluc3RlYWQgb2YgYSBzaW1wbGUgKmxpa2UqIGFuZCAqZGlzbGlrZSogc3lzdGVtLiAgRm9yIGV4YW1wbGUsIHRoZSB2aWRlbyBjb3VsZCBoYXZlIHRoZSBzYW1lIGVtb3Rpb25zIHdoaWNoIHBlb3BsZSB1c2UgdG8gcmVzcG9uZCB0byB2YXJpb3VzIHBvc3RzIG9uIGluc3RhbnQgbWVzc2FnaW5nIHBsYXRmb3Jtcy4gIEVtb3Rpb25zIHN1Y2ggYXMsICp0aGlzIHZpZGVvIG1hZGUgbWUgZmVlbCBoYXBweSosIG9yICp0aGlzIHZpZGVvIG1ha2VzIG1lIGZlZWwgc2FkKiwgb3IgZXZlbiBiZXR0ZXIgKnRoaXMgdmlkZW8gbWFrZXMgbWUgYW5ncnkqLCBhcyBhIGxvdCBvZiBwZW9wbGUgd291bGQgcHJvYmFibHkgdXNlIHRoYXQgZW1vdGlvbiBvbiB0b3BpY3MgdGhleSBhcmUgdmVyeSBlbW90aW9ubHkgc3Ryb25nIG9uLCBzdWNoIGFzIHBvbGl0aWNzIHRoZXkgYXJlIGFnYWluc3QuICBJIHRoaW5rIHVzaW5nIGVtb3Rpb25zIG92ZXIgbGlrZXMgYW5kIGRpc2xpa2VzIHdvdWxkIGJlIGEgbXVjaCBiZXR0ZXIgd2F5IGZvciBhIHZpZXdlciB0byBjb252ZXkgaG93IHRoZXkgYWN0dWFsbHkgKmZlbHQqIGFib3V0IHNhaWQgdmlkZW8uICBUaGUgY3VycmVudCBzeXN0ZW0gcmVhbGx5IGZlZWxzIHRvIGxpbWl0ZWQgaW4gbW9zdCBzY2VuYXJpb3MuXG4iIH0sIHsgIklkIiA6IDUxLCAiUGF0aCIgOiAiL1BvbGl0aWNzIiwgIlRpdGxlIiA6ICJNeSBwZXJzb25hbCBwb2xpdGljYWwgdmlld3MiLCAiQ29udGVudFR5cGUiIDogMSwgIkNyZWF0ZWQiIDogIjIwMjQtMDItMjNUMTU6NTk6NDIuMzM5LTA2OjAwIiwgIk1vZGlmaWVkIiA6ICIyMDI0LTAyLTIzVDIxOjQ3OjU3Ljk5My0wNjowMCIsICJDb250ZW50IiA6ICIqUG9saXRpY3MqIGlzIGFsd2F5cyB0aGUgbW9zdCB0b3VjaGllc3Qgc3ViamVjdCB0byB0YWxrIGFib3V0LCBhcyBhIHJlc3VsdCwgSSB0cnkgdG8gbmV2ZXIgYnJpbmcgaXQgdXAgaW4gd29ya3BsYWNlcyBhbmQgd2l0aCBmcmllbmRzIHdob20gbWF5IHNoYXJlIGRpZmZlcmluZyB2aWV3cy5cblxuSSB1c3VhbGx5IGFsaWduIHdpdGggKmNlbnRlciBsZWZ0KiwgYnV0IGluIHJlY2VudCB0aW1lcyB3aXRoIGEgcG90ZW50aWFsICpsb29taW5nIHdhciosIEkgYW0gbm93IGxlYW5pbmcgbW9yZSB0b3dhcmRzIGEgKmNlbnRlciByaWdodCogcG9pbnQgb2Ygdmlldy4gIEkgZmVlbCB0aGF0IGR1cmluZyAqcGVhY2UgdGltZXMqLCB0aGUgbGVmdCBjYW4gaGF2ZSBzb21lIHByb2dyZXNzIHdoaWNoIEkgY2FuIGdldCBiZWhpbmQuICBUaGUgcmlnaHQgaGFzIHNvbWUgdmlld3MsIGJ1dCB0aGVzZSBhcmUgdXN1YWxseSB0YXJnZXR0ZWQgdG93YXJkcyAqYmlnIGJ1c2luZXNzKiwgKnJlbGlnaW91cyB2b3RlcnMqLCBhbmQgKm1pZGRsZSBjbGFzcyouICBJIGtub3cgdGhlcmUgaXMgbXVjaCBtb3JlLCBhbmQgSSBhbSBub3Qgc2F5aW5nIHRoYXQgSSBkb24ndCBhZ3JlZSB3aXRoIGFueXRoaW5nIHRoZSAqcmlnaHQgcGFydHkqIHNheXMsIGRvZXMsIG9yIHBhc3NlcywgYXMgdGhleSBvYnZpb3VzbHkgaGF2ZSBnb29kIGlkZWFzIHRvIHB1c2ggc29jaWV0eSBmb3J3YXJkLCBhcyBkb2VzIHRoZSAqbGVmdCBwYXJ0eSouICBJIGp1c3Qgc2VlIHRoZSAqbGVmdCBwYXJ0eSogYXMgYmVpbmcgbW9yZSBmb3IgdGhlICpwZW9wbGUqIGluIG1vcmUgd2F5cywgYW5kIEkgZG8gZmlybWx5IGJlbGlldmUgdGhhdCBwZW9wbGUsIHVzIGh1bWFuIGJlaW5ncywgc2hvdWxkIGJlIHRoZSBwcmlvcml0eSBpbiBtb3N0IGNhc2VzLCByYXRoZXIgdGhhbiB0aGUgY29ycG9yYXRpb25zIGhvbGRpbmcgYSBtYWpvcml0eS5cblxuQXMgYSBwb3RlbnRpYWwgd2FyIGlzIGxvb21pbmcgaW4gdGhlIG1vZGVybiBlcmEsIEkgYW0gbGVhbmluZyBtb3JlICpyaWdodCogZm9yIHRoZSBmb2xsb3dpbmcgcmVhc29uczpcblxuICAqIFRoZSByaWdodCBjYW4gYmUgbW9yZSAqcHJvYWN0aXZlKiBhdCB0aW1lcyB0aGFuIHRoZSBsZWZ0LCBhcyBUcnVtcCBkaWQgc3RhdGUgcmVjZW50bHksIGlmIGhlIHdhcyBlbGVjdGVkLCBoZSdkIHB1dCBhbiBlbmQgdG8gdGhlIHdhciwgaGVuY2UgKm1vcmUgcHJvYWN0aXZlKi5cbiAgKiBUaGUgcmlnaHQgaXMgbW9yZSBwcm8tZWNvbW9ueSwgd2hpY2ggZHVyaW5nIHdhciB0aW1lcyBpcyBuZWVkZWQgbW9yZSB0aGFuIHByby1wZW9wbGUgYXMgdGhlIGxlZnQgdXN1YWxseSB0b3V0cy5cbiAgICAtIFRoZSByaWdodCBjYW4gc3BpbiB1cCB0aGUgKndhciBtYWNoaW5lKiBhcyB0aGV5IGNhbGwgaXQsIGZhc3RlciwgYW5kIGJlLWFibGUgdG8gZmFzdGVyIHJhbXAgdXAgcHJvZHVjdGlvbiBvZiB3YXItcmVsYXRlZCBjb21wb25lbnRzIG5lZWRlZCB0byB3aW4gYSB3YXIuXG5cbkkgZ3Vlc3Mgb25lIGNvdWxkIHNheSB0aGF0IG15ICpwb2xpdGljYWwgdmlld3MqIGFyZSB2ZXJ5ICoqY29udGV4dC1zZW5zaXRpdmUqLCB3aGVyZSBJIHRha2UgYm90aCBjb250ZXh0IG9mIGN1cnJlbnQgZXZlbnRzLCBhbmQgYSBwb3RlbnRpYWwgZnV0dXJlIHRvIGRldGVybWluZSB3aGljaCBwYXJ0eSBzZWVtcyBsaWtlIHRoZSByaWdodCBmaXQgdG8gaG9wZWZ1bGx5IG1ha2UgdGhlIHdvcmxkIGEgYmV0dGVyIHBsYWNlIGZvciBldmVyeW9uZS5cblxuQW55d2F5cywgSSBqdXN0IHRob3VnaHQgSSdkIHdyaXRlIHRoaXMsIGFzIEkgYW0gZ2VuZXJhbGx5IHByZXR0eSBhbG9vZiB3aGVuIGl0IGNvbWVzIHRvIHRhbGtpbmcgYWJvdXQgbXkgcGVyc29uYWwgcG9saXRpY2FsIHZpZXdzLCBhcyBJIGp1c3QgdGVuZCB0byBrZWVwIHRob3NlIHRvIG15c2VsZi4gIEl0IGlzIGEgdmVyeSByaXNreSBzb2NpYWwgdG9waWMgdG8gb25seSBoYXZlIHdpdGggc3BlY2lmaWMgcGVvcGxlIHRoYXQgbW9zdGx5IGFsaWduIHdpdGggb25lJ3Mgdmlld3MuICBQb2xpdGljYWwgdmlld3MgcmVjZW50bHkgaGF2ZSBiZWNvbWUgcmF0aGVyIGV4dHJlbWUgYXQgdGltZXMsIGFuZCBJJ2QgcGVyc29uYWxseSBqdXN0IHJhdGhlciBzaXQgb24gdGhlIHNpZGVsaW5lcyBhbmQgd2F0Y2gsIGJ1dCBzdGlsbCB0YWtlIHBhcnQgaW4gZWxlY3Rpb25zIG9mIGNvdXJzZSwgYXMgYW55IGNpdGl6ZW4gaW4gYSBkZW1vY3JhY3kgc2hvdWxkLlxuXG4jIyMgUG9saXRpY3Mgb2YgQWxiZXJ0YVxuXG5JIGhhdmUgdmVyeSByZWNlbnRseSBvYnRhaW5lZCBhIG5ldyBwZXJzcGVjdGl2ZSBvbiB0aGUgQWxiZXJ0YSBlY29ub215IGFuZCB3aHkgaXQncyBwb2xpdGljcyBhcmUgdGhlIHdheSB0aGV5IGFyZS4gIEEgdmlkZW8gSSB3YXRjaGVkIG1lbnRpb25lZCB0aGF0IGR1cmluZyB0aGUgKm9pbCBib29tKiB0aGUgZWNvbm9teSB3YXMgYWJzb2x1dGVseSBmbHVyaXNoaW5nIGFzIGl0J3MgbWFueSBjaXRpemVucyB3ZXJlIG1ha2luZyB1cG1vc3QgdG8gJDEwMC9ociwgd2hpY2ggaXMgYW4gYWJzb2x1dGVseSBjcmF6eSBhbW91bnQgd2hlbiB5b3UgdGhpbmsgb2YgYWxtb3N0IGV2ZXJ5IG90aGVyIGluZHVzdHJ5LiAgSSBoYWQgbm8gaWRlYSB0aGUgcGF5IHdhcyB0aGlzIGhpZ2guICBUaGUgbW9zdCBJJ3ZlIGV2ZXIgbWFkZSBwZXIgeWVhciBpbiBteSBsaWZlIGlzIGp1c3QgYSBsaXR0bGUgdW5kZXIgJDEwMGsveWVhciBzYWxhcnkuICBJIGdlbmVyYWxseSBkb24ndCBhc2sgZm9yIG1vcmUgdGhhbiBJIGJlbGlldmUgSSBuZWVkLCB0aGF0IGlzIGp1c3QgYSBwZXJzb25hbCBvcGlvbmlvbiwgYW5kIGV2ZXJ5b25lJ3MgbGlmZSBpcyB2ZXJ5IGRpZmZlcmVudC4gIEhvd2V2ZXIsIGlmIEkgd2FzIG1ha2luZyBtb3JlLCBJIHdvdWxkIG1vc3QgbGlrZWx5IGJlIGVuam95aW5nIG15c2VsZiBhIGxvdCBtb3JlIGluIGxpZmUgb3ZlcmFsbCwgZ29pbmcgb3V0IHRvIG1hbnkgZXZlbnRzLCBhbmQgSSBjYW4gc2VlIHdoeSBhbiBlY29ub215IHdvdWxkIGZsdXJpc2ggdW5kZXIgdGhlc2UgaGlnaCBwYXkgY29uZGl0aW9ucy4gIEkgY2FuIHNlZSB3aHkgdGhlIHBvcHVsYXRpb24gaGVyZSByZWFsbHkgd2FudHMgYW5vdGhlciAqb2lsIGJvb20qIG9uY2UgYWdhaW4sIGl0IGRvZXMgbWFrZSBjb21wbGV0ZSBzZW5zZSB0byBtZSwgYXMgYSBiZXR0ZXIgYW5kIGhlYWx0aGllciBlY29ub215IGlzIGJldHRlciBmb3IgZXZlcnlvbmUuICBXaGlsZSBtb3N0IG9mIG15IHBlcnNvbmFsIGJlbGllZnMgZG8gbGVhbiBtb3JlIHRvd2FyZHMgYSBiZXR0ZXIgZnV0dXJlIGZvciBvdXIgcGxhbmV0IG92ZXJhbGwsIEkgYmVsaWV2ZSB0aGF0IEkgY291bGQgc3RhbmQgYmVoaW5kIG9pbCBwcm9qZWN0cyB3aGljaCBvdGhlcndpc2UgZG8gbm90IGZ1cnRoZXIgZXhpc3RpbmcgaXNzdWVzLiAgVGhpcyBpcyByZWFsbHkgYSB0b3VjaHkgc3ViamVjdCBpbiBib3RoIHRoaXMgcHJvdmluY2UgYW5kIGFjcm9zcyBDYW5hZGEuICBPbmUgYXNwZWN0IHdoaWNoIHNob3VsZCBhbGxvdyBvaWwgdG8gYmVjb21lIG1vcmUgYWNjZXB0ZWQgbWlnaHQgYmUgdGhlIHVwY29taW5nIHdhciwgYXMgb2lsIHdpbGwgYmUgbmVlZGVkLCBhbmQgaWYgQ2FuYWRhIGNhbiBwcm9kdWNlIHRoZW4gd2UgY2FuIG9uY2UgYWdhaW4gaGF2ZSBhbiAqb2lsIGJvb20qIGluIEFsYmVydGEgYW5kIGEgZ3JlYXQgcG9zdC13YXIgZWNvbm9teS5cbiIgfSwgeyAiSWQiIDogNTIsICJQYXRoIiA6ICIvUXVpbnRldCIsICJUaXRsZSIgOiAiVGhlIFF1aW50ZXQgR2FtZXMiLCAiQ29udGVudFR5cGUiIDogMSwgIkNyZWF0ZWQiIDogIjIwMjQtMDItMjVUMTI6MTk6MzIuMzkyLTA2OjAwIiwgIk1vZGlmaWVkIiA6ICIyMDI0LTAyLTI1VDE0OjAwOjI0LjAyMS0wNjowMCIsICJDb250ZW50IiA6ICJBIGNvbXBhbnkgZnJvbSBKYXBhbiB3aG9tIGhhcywgd2hhdCBzZWVtcywgdG8gaGF2ZSBjb21wbGV0ZWx5IGRpc2FwcGVhcmVkIGFmdGVyIHRoZSBTdXBlciBOaW50ZW5kbywgY3JlYXRlZCBzb21lIG9mIG15IGZhdm91cml0ZSBnYW1lcyBvbiB0aGF0IHN5c3RlbS4gIEkgd2lsbCBnbyB0aHJvdWdoIGVhY2ggdmVyeSBicmllZmx5IGJlbG93IHRvIGV4cGxhaW4gbXkgdGhvdWdodHMgb24gZWFjaCBvZiB0aGVtLlxuXG4jIyBBY3RyYWlzZXIgZ2FtZXNcblxuTW9zdCBmYW5zIG9mIHRoaXMgZ2FtZSBtYXkgaGF0ZSBtZSBmb3IgdGhpcywgYnV0IEkgYmFyZWx5IHBsYXllZCB0aGlzIGdhbWUuICBJIHRyaWVkIHRvIGdldCBpbnRvIGl0IGEgZmV3IHRpbWVzLCBib3RoIGluIHRoZSBlcmEgaXQgd2FzIHJlbGVhc2VkIGFuZCB0aHJvdWdoIGVtdWxhdGlvbiBpbiBteSAyMHMsIGJ1dCBJIGp1c3QgZGlkbid0IGZpbmQgbXlzZWxmIGVuam95aW5nIGl0IGFzIG11Y2ggYXMgdGhlIGZvbGxvd2luZyBnYW1lcyBiZWxvdy5cblxuIyMgU291bCBCbGF6ZXJcblxuVGhpcyBpcyBjb25zaWRlcmVkIHRoZSBmaXJzdCBnYW1lIGluIHdoYXQgc29tZSBmYW5zIGNhbGwgdGhlICpRdWludGV0IFRyaWxvZ3kqIG9yIHRoZSAqR2FpYSBnYW1lcyogSSBiZWxpZXZlIGl0IHdhcyBhbHNvIHJlZmVycmVkIHRvIGFzIGF0IG9uZSBwb2ludCwgYXMgdGhpcyBnYW1lLCBhbG9uZyB3aXRoIHRoZSBuZXh0IGZlYXR1cmUgYSBwcm9taW5hdGUgc3RvcnkgYWJvdXQgbmF0dXJlIGFuZCB0aGUgd29ybGQuICBUaGUgc3Rvcnkgb2YgKlNvdWwgQmxhemVyKiBpcyBpbmNyZWRpYmx5IHNpbXBsZSwgYW5kIGl0J3MgZ2FtZSBtZWNoYW5pY3MgYXJlIGV4dHJlbWVseSBhZGRpY3RpdmUsIHdoaWNoIEkgd2lsbCBnZXQgaW50byBsYXRlci4gIFRoZSBzdG9yeSBpcyBhcyBiYXNpYyBhcyB5b3UgY2FuIGdldCBhdCBpdCdzIHN1cmZhY2UgbGV2ZWwsIGEgKmdyZWVkeSBraW5nKiB3aG9tIHdhbnRzIHRvIGhhdmUgYWxsIHRoZSBnb2xkIGFuZCBhbGwgdGhlIHdlYWx0aCBhc2tzIGEgcHJvbm91bmNlZCBzY2llbnRpc3Qgb2YgdGhlIGdhbWUncyB3b3JsZCB0byBjcmVhdGUgaGltIGEgbWFjaGluZSB3aGljaCBjb3VsZCBjYWxsIHVwb24gKkRlYXRodG9sbCosIGVzc2VudGlhbGx5IHRoaXMgd29ybGQncyB2ZXJzaW9uIG9mIGEgU2F0YW4gb3IgZGV2aWwuICBUaGUga2luZyBjYWxscyB1cG9uIHRoaXMgZW50aXR5IGFuZCBpbiBleGNoYW5nZSBmb3IgYWxsIHRoZSBzb3VscyBpbiBoaXMga2luZ2RvbSwgaGUgY291bGQgaGF2ZSBoaXMgd2lzaCBncmFudGVkLCB1bmtub3dpbmdseSBoaXMgb3duIHNvdWwgd2FzIGFsc28gb24gdGhlIGxpbmUuICBUaHVzLCB0aGUgYWR2ZW50dXJlIHN0YXJ0cyB0byBmcmVlIHRoZSB3b3JsZCBmcm9tIHRoaXMgZXZpbCBhcyB3aGF0IGlzIGVzc2VudGlhbGx5IHRoZSBwbGF5ZXIgaW4gdGhlIHJvbGUgb2YgKkplc3VzKiB3aGVuIHlvdSB0aGluayBvZiBpdCwgYXMgdGhlIHBsYXllciBpcyBndWlkZWQgYnkgd2hhdCBpcyBwcmVzdW1hYmx5ICpHb2QqLCB3aGljaCBpbiB0aGUgZ2FtZSBpcyByZWZlcnJlZCB0byBhcyAqTWFzdGVyKi4gIFRoZSBwbGF5ZXIgdGhlbiB0cmF2ZWxzIGZyb20gYXJlYSB0byBhcmVhLCBnb2luZyB0byBkZXN0cm95IGV2aWwgaW4gdGhlIGR1bmdlb25zIG5lYXIgdGhlc2UgYXJlYXMgdG8gZnJlZSB0aGUgdmFyaW91cyB0cmFwcGVkIHNvdWxzLCBhbmQgdWx0aW1hdGVseSByZWJ1aWxkaW5nIHRoZSB0b3ducy4gIFRoZSBzZW5zZSBvZiBwcm9ncmVzcyBpbiB0aGUgdGl0bGUgaXMgYWJzb2x1dGVseSBpbmNyZWRpYmxlLiAgQXMgeW91IG1vdmUgdGhyb3VnaG91dCB0aGUgZHVuZ2VvbnMgZGVzdHJveWluZyBtb25zdGVycywgdGhlaXIgbGFpcnMgYmVjb21lIHNwb3RzIHdoaWNoIHRoZSBwbGF5ZXIgY2FuIHN0YW5kIHVwb24gdG8gZnJlZSB0aGUgc291bHMgd2hpY2ggd2VyZSB0cmFwcGVkIGJ5IHRob3NlIG1vbnN0ZXJzLiAgVGhpcyBjYW4gZWl0aGVyIGxlZCB0byBhIHBhdGggb3BlbmluZyB1cCBuZWFyIHRoZSBwbGF5ZXIsIG9yIGEgbmV3IGJ1aWxkaW5nIGFuZCBjaGFyYWN0ZXIgYmVpbmcgcmVsZWFzZWQgb250byB0aGUgbWFpbiBhcmVhIGZvciB0aGUgcGxheWVyIHRvIGxhdGVyIGludGVyYWN0IHdpdGguICBUaGUgZ2VuaXVzIGhlcmUgaXMgdGhhdCB3aGVuIHRoZSBwbGF5ZXIgZmlyc3QgYXJyaXZlcyBpbiBhIG5ldyBhcmVhLCBpdCBpcyBjb21wbGV0ZWx5IGVtcHR5LCBhbmQgZGV2b2lkIG9mIGFueSBsaWZlLiAgQXMgdGhlIHBsYXllciBwbGF5cyB0aHJvdWdoIHRoZSBhcmVhLCB0aGV5IGdldCBhIGltbWVkaWF0ZSBzZW5zZSBvZiBwcm9ncmVzc2lvbiBhcyB0aGUgYXJlYSBhYm92ZSBiZWdpbnMgdG8gYmVjb21lIG1vcmUgYW5kIG1vcmUgcG9wdWxhdGVkIGFuZCBmdWxsIG9mIGxpZmUuICBUaGUgbWFpbiBob29rIGZvciB0aGUgZ2FtZSBoZXJlIGlzIHRoZSAqd2hhdCB3aWxsIEkgYmUgcmVsZWFzaW5nIG5leHQ/KiBnYW1lcGxheSBsb29wLCB3aGljaCBpcyBhYnNvbHV0ZWx5IGluY3JlZGlibGUuXG5cbiMjIElsbGlzaW9uIG9mIEdhaWFcblxuVGhpcyBnYW1lIGlzIHdoYXQgdGhlIHNlbGYtY2FsbGVkIHRyaWxvZ3kgaXMgbmFtZWQgYWZ0ZXIuICBMaWtlIGluIHRoZSBwcmV2aW91cyBnYW1lLCB0aGVyZSBpcyB0aGlzIGdvZC1saWtlIGNoYXJhY3RlciB3aG9tIGd1aWRlcyB0aGUgcGxheWVyIHRocm91Z2ggdGhlIGdhbWUuICBUaGUgY2hhcmFjdGVyIGluIHRoaXMgZ2FtZSBpcyBuYW1lZCAqR2FpYSosIHJhdGhlciB0aGFuIHNlZW1pbmcgbW9yZSBnb2QtbGlrZSwgKkdhaWEqIGhhcyBhIGRpZmZlcmVudCBmZWVsIHRvIGhlciwgbXVjaCBtb3JlIG15c3RlcnkuICBUaGUgc3Rvcnkgb2YgdGhpcyBnYW1lIGF0IGl0J3MgY29yZSBpcyByYXRoZXIgc2ltcGxlIGFzIHdlbGwsIGJ1dCBpcyBodWdlbHkgYnVpbHQgdXBvbiBhcyB0aGUgcGxheWVyIGJlZ2lucyB0byBleHBsb3JlIHRoZSB3b3JsZCBhcm91bmQgdGhlbS4gIFRoZSBnYW1lIHN0YXJ0cyBvZmYgd2l0aCB0aGlzIGNoYXJhY3RlciBuYW1lZCAqV2lsbCogd2hvbSBpcyB0aGUgY2hhcmFjdGVyIHRoZSBwbGF5ZXIgd2lsbCBiZSBjb250cm9sbGluZyB0aHJvdWdob3V0IHRoZSBnYW1lLCBhIGZldyB5ZWFycyBhZ28gaGUgd2FzIGF0IHRoZSAqVG93ZXIgb2YgQmFiZWwqIHdpdGggaGlzIGZhdGhlciB3aGVuIHNvbWV0aGluZyBoYXBwZW5lZC4gIEkgY2Fubm90IHJlY2FsbCBpZiB0aGUgZ2FtZSdzIHN0b3J5IHRvdWNoZXMgbXVjaCBvbiB3aGF0IGhhcHBlbmVkLCBidXQgSSBkbyByZWNhbGwgdGhhdCBXaWxsIGRpZCBub3QgcmVjYWxsIGhvdyBoZSBlc2NhcGVkIHRoZSB0b3dlciBhbmQgZ290IGJhY2sgdG8gQ2FwZSBUb3duLCBidXQgd2l0aG91dCBoaXMgZmF0aGVyLiAgSW4gdGhlIGdhbWUsIHRoZSBtYWluIGNoYXJhY3RlciBpcyBsaXZpbmcgd2l0aCBoaXMgYXVudCBhbmQgdW5jbGUgaW4gQ2FwZSBUb3duLCB3aGljaCBpcyBhY3R1YWxseSBhIHJlYWwtd29ybGQgcGxhY2UuICBJJ20gbm90IHN1cmUgaWYgSSBrbmV3IGl0IGF0IHRoaXMgdGltZSBpbiBteSBsaWZlLCBidXQgSSBtdXN0IGhhdmUsIGJ1dCBkaWRuJ3QgdGhpbmsgaXQgd2FzIGJhc2VkIG9uIHRoZSByZWFsLXdvcmxkIGxvY2F0aW9uLCBhcyB0aGUgd29ybGQgb2YgdGhpcyBnYW1lIGlzIG9kZCwgdG8gc2F5IHRoZSBsZWFzdC4gIFNvLCB0aGlzIHdvcmxkIHNlZW1zIHRvIHNoYXJlIGEgbG90IG9mIHJlYWwtd29ybGQgcGxhY2VzIG9mIGVhcnRoLCBob3dldmVyLCB0aGUgZW50aXJlIG1hcCBpcyBub3QgZWFydGggd2hhdHNvZXZlciwgaWYgdGhhdCBtYWtlcyBhbnkgc2Vuc2UuICBJdCdzIGxpa2UgcGxheWluZyAqQ2l2aWxpemF0aW9uKiwgYW5kIGhvdyB0aGF0IHdvcmxkIHR1cm5zIG91dCBpcyB0aGUgd29ybGQgdXNlZCBpbiBhIGZhbnRhc3kgd29ybGQsIHNvIHlvdSBhcmUgbGVmdCB3aXRoIGNvbXBsZXRlbHkgdW5rbm93biBnZW9ncmFwaHksIGJ1dCB3aXRoIHBsYWNlcyB3aGljaCBzb3VuZCBhbmQgbG9vayBpbmNyZWRpYmx5IHNpbWlsYXIgdG8gdGhlIHJlYWwtd29ybGQuICBBbnl3YXlzLi4uICBUaGF0IGlzIG9uZSBodWdlIHBhcnQgdGhhdCByZWFsbHkgbWFrZXMgdGhpcyBnYW1lIHN0YW5kIG91dCwgYXMgbm90IG1hbnkgZ2FtZXMgdGFrZSB0aGlzIGFwcHJvYWNoIHRvIHdvcmxkIGJ1aWxkaW5nLiAgQW55d2F5cywgYmFjayB0byB0aGUgc3RvcnkuICBUaGUgbWFpbiBjaGFyYWN0ZXIgbWVldHMgKkdhaWEqIHJlYWxseSBlYXJseSBvbiwgYW5kIHRoZSBvdmVyYWxsIGludGVyYWN0aW9uIGlzIGtpbmQgb2YgKm1laCogYXQgYmVzdCwgYXMgdGhlcmUgaXNuJ3QgcmVhbGx5IGFueSBjaGFyYWN0ZXIgYnVpbGRpbmcgaW4gdGhlIHNjZW5lIG9yIGFueXRoaW5nIHRoYXQgcmVhbGx5IG1ha2VzIGl0IHN0YW5kIG91dC4gIFdpbGwgZW50ZXJzIHRoZSAqRGFyayBTcGFjZSosIGFuZCBlc3NlbnRpYWxseSBhY3RzIGxpa2UgaGUncyBiZWVuIHRoZXJlIG1hbnkgdGltZXMgcHJpb3IsIHRoZSBzY2VuZSBkb2Vzbid0IHJlYWxseSBjb252ZXkgdGhhdCBtdWNoIGV4Y2l0ZW1lbnQgSSBndWVzcyBmb3Igd2hhdCBpdCB3YXMgdHJ5aW5nIHRvIGRvLiAgQWZ0ZXIgYSBmZXcgc2NlbmVzIHRoZSBhY3R1YWwgc3RvcnkgYmVnaW5zLCBJIGJlbGlldmUgdGhlIGZvbGxvd2luZyBtb3JuaW5nLCBXaWxsIGlzIHNvbW1vbmVkIHRvIGdvIHNlZSB0aGUgS2luZyB3aXRoIGEgaXRlbSB0aGUgS2luZyB0aGlua3MgaGUgaGFzIGZyb20gaGlzIGZhdGhlci4gIFdoZW4gdGhlIEtpbmcgcmVhbGl6ZWQgdGhhdCBXaWxsIGRvZXMgbm90IGhhdmUgdGhlIGl0ZW0sIGhlIGlzIHNlbnQgdG8gcHJpc2lvbiB0byByb3QuICBUaGlzIGlzIHdoZW4gaGlzIGZhdGhlciBjb21tdW5pY2F0ZXMgdG8gaGltIHRocm91Z2ggaGlzIGZsdXRlIG91dCBvZiBhbGwgdGhpbmdzIHRlbGxpbmcgaGltIGhpcyBtYWluIHF1ZXN0LiAgR28gdG8gZWFjaCBvZiB0aGUgYXJlYXMgb2YgdGhlIHdvcmxkIHRvIGNvbGxlY3QgdGhlc2UgYXJ0aWZhY3RzIGFuZCB0byBldmVudHVhbGx5IHJldHVybiB0byB3aGVyZSBpdCBhbGwgc3RhcnRlZCwgKlRoZSBUb3dlciBvZiBCYWJlbCouICBJIGRpZCBub3QgZXZlciBiZWF0IHRoaXMgZ2FtZSwgYnV0IGRpZCByZW50IGl0IG11bHRpcGxlIHRpbWVzIGFuZCBnb3QgZGVjZW50bHkgZmFyLiAgVGhlIHN0b3J5IGhhcyBtYW55IHJlYWxseSB0b3VjaGluZyBtb21lbnRzIGJldHdlZW4gdGhlIHZhcmlvdXMgY2hhcmFjdGVycyBpbnZvbHZlZCwgYW5kIGRvZXMgYnJpbmcgdXAgc29tZSB2ZXJ5IHNlcmlvdXMgc3ViamVjdHMgd2hpY2ggYXJlbid0IGV2ZW4gc2VlbiBpbiBtb2Rlcm4gZ2FtZXMuICBJIGRvIG5vdCB3aXNoIHRvIHNwb2lsIHRoZXNlIHJhdGhlciBkYXJrIHRvcGljcywgYXMgZm9yIGJlaW5nIGEgTmludGVuZG8gbGljZW5zZWQgZ2FtZSBvZiB0aGUgZXJhLCBJJ2QgcmF0aGVyIHlvdSBnbyBpbiBibGluZCB1bmRlcnN0YW5kIGhvdyBOaW50ZW5kbyB3YXMgYmFjayB0aGVuLCBhbmQgeW91IHdpbGwgbW9zdCBpbmRlZWQgaGF2ZSB0aGUgc3VycHJpc2Ugb2YgYSBsaWZlIHRpbWUuICBJZiB5b3UnZCByYXRoZXIgbm90IHBsYXkgdGhyb3VnaCB0aGlzIGluY3JlZGlibGUgZ2FtZSwgdGhlbiBJIGhpZ2hseSByZWNvbW1lbmQganVzdCB3YXRjaGluZyBzb21lIFlvdVR1YmUgdmlkZW9zIG9uIHRoZSBzdWJqZWN0IGFuZCBiZSBzcG9pbGVkIHRoZXJlLlxuXG4jIyBUZXJyYW5pZ21hXG5cblRoZSBsYXN0IGdhbWUgaW4gdGhpcyB0cmlsb2d5LCB3aGljaCB3YXMgbmV2ZXIgcmVsZWFzZWQgaW4gdGhlIHdlc3QsIGFsdGhvdWdoIGl0IHdhcyBmdWxseSB0cmFuc2xhdGVkIHRvIEVuZ2xpc2ggYW5kIHJlbGVhc2VkIGluIEV1cm9wZS4gIEkgaGF2ZSBvbmx5IHBsYXllZCB0aGlzIG9uZSB2ZXJ5IGJyaWVmbHkgdGhyb3VnaCBlbXVsYXRpb24sIGJ1dCBJJ2QgaG9uZXN0bHkgcmF0aGVyIGp1c3QgcGF5IHRoZSBvcmlnaW5hbCBkZXZlbG9wZXJzIHRvIGZ1bGx5IHBsYXkgdGhpcyBnYW1lIGFzIGEgZnVsbHkgcmVtYXN0ZXJlZCBnYW1lLiAgRnJvbSBhbGwgdGhlIHZpZGVvcyBJJ3ZlIHdhdGNoZWQgb24gdGhpcywgSSBoYXZlIGhlYXJkIHRoYXQgaXQgdGFrZXMgYWxsIHRoZSBnb29kIGFzcGVjdHMgb2YgKlNvdWwgQmxhemVyKiBhbmQgKklsbGlzaW9uIG9mIEdhaWEqIHRvIGNyZWF0ZSBvbmUgb2YgdGhlIGJlc3QgZ2FtZXMgb2YgdGhpcyBnZW5yZSBldmVyLiAgSXQgaGFzIHRoZSB0b3duIGJ1aWxkaW5nL3Jlc3RvcmluZyBhc3BlY3RzIG9mICpTb3VsIEJsYXplciogd2l0aCB0aGUgbW9yZSByZWZpbmVkIHN0b3J5IGFuZCBnYW1lcGxheSBvZiAqSWxsaXNpb24gb2YgR2FpYSouICBUaGlzIGdhbWUgZGVzZXJ2ZXMgYSBsb3QgbW9yZSB0aGFuIGl0IGN1cnJlbnRseSBoYXMuICBJdCBuZWVkcyB0byBiZSByZW1hZGUgb3IgcmVtYXN0ZXJlZC4gIEkgaGF2ZSBvbmx5IGhlYXJkIGdvb2QgdGhpbmdzIGFib3V0IGJvdGggdGhlIHN0b3J5IGFuZCBnYW1lcGxheSwgYW5kIEkgZmVlbCBpdCBiZWNhbWUgc28gdW5kZXIgcmVsYXRlZCBhcyB0aGUgd2VzdGVybiB3b3JsZCBuZXZlciBnb3QgYW4gb2ZmaWNpYWwgcmVsZWFzZS5cblxuIyMgUm9ib3RyZWtcblxuUG9rZW1vbiBiZWZvcmUgUG9rZW1vbiwgbm8gcmVhbGx5LCBpdCdzIGxpa2UgaWYgYSAqTWFkIFNjaWVudGlzdCogd2hvbSBrbmV3IGhvdyB0byBidWlsZCByb2JvdHMgdHVybmVkIHRoZW1zZWxmIGludG8gYSAqc2VsZi1wcm9jbGFpbWVkKiBQb2tlbW9uIG1hc3Rlci4gIFNvLCBJIGhhdmVuJ3QgZ290IHRlcnJpYmxlIGZhciBpbiB0aGlzIGdhbWUgZWl0aGVyLCBhcyBpdCB3YXMgdXN1YWxseSBqdXN0IGEgcmVudGFsIGdyb3dpbmcgdXAsIGFuZCBJIGRpZG4ndCBwbGF5IHRocm91Z2ggbXVjaCBvZiBpdCB0aHJvdWdoIGVtdWxhdGlvbiB3aGVuIEkgZGlkIHBsYXkgaXQuICBPdmVyYWxsLCBpdCBpcyBhIHJhdGhlciBhbWJpdG91cyBnYW1lIGZvciBpdCdzIHRpbWUuICBZb3UgcGxheSB0aGUgc29uIG9mIHRoaXMgc2NpZW50aXN0IHdob20ga25vd3MgaG93IHRvIGJ1aWxkIHJvYm90cyBhbW9uZyBvdGhlciB0aGluZ3MuICBZb3UgZ28gdGhyb3VnaCBidWlsZGluZyB5b3VyIG93biBhcm15IG9mIHRoZXNlIHJvYm90cyBhcyB5b3UgcHJvY2VlZCB0aHJvdWdoIHRoZSBnYW1lLiAgRWFjaCByb2JvdCBpcyBhY3R1YWxseSBidWlsdCBhbmQgZnVsbHkgY3VzdG9taXplZCBieSB0aGUgcGxheWVyLiAgQXNwZWN0cyBsaWtlIHN0cmVuZ3RoIGFuZCBvdGhlciBhdHRyaWJ1dGVzIGNhbiBiZSBkaXN0cmlidXRlZCB3aXRoIG1vcmUgcG9pbnRzIGJlaW5nIGF2YWlsYWJsZSBhcyB5b3UgbGV2ZWwgdXAuICBSb2JvdHMgY2FuIGNvbG91cmVkIHdpdGggYW55IGNvbG91cnMgdGhlIHBsYXllciB3aXNoZXMsIGFuZCBjdXN0b20gbW92ZXMgY2FuIGV2ZW4gYmUgY3JlYXRlZCBhbmQgbmFtZWQgYnkgdGhlIHBsYXllci4gIEVhY2ggb2YgdGhlc2Ugcm9ib3RzIGFyZSBhbHNvIHN0b3JlZCBpbiBhIGNpcmN1bGFyIGNvbnRhaW5lciwgd2hpY2ggaXMgdW5saWtlIGEgUG9rZWJhbGwgZnJvbSBQb2tlbW9uLiAgSSBoaWdobHkgcmVjb21tZW5kIGF0IGxlYXN0IGNoZWNraW5nIG91dCB0aGUgZmlyc3QgcGFydCBvZiBpdCBhcyBkaWQgSSwganVzdCBmb3IgdGhlIGV4cGVyaWVuY2Ugb2Ygc2VlaW5nIGp1c3QgaG93IGlubm92YXRpdmUgKlF1aW50ZXQqIHdhcyByZWFsbHkgdHJ5aW5nIHRvIGJlLCBub3Qgd2l0aCBqdXN0IHRoZWlyIHN0b3J5IHRlbGxpbmcsIGJ1dCBhbHNvIHdpdGggZ2FtZXBsYXkgbWVjaGFuaWNzIGxpa2UgdGhpcyBnYW1lIHByb3ZpZGVkLlxuIiB9LCB7ICJJZCIgOiA1MywgIlBhdGgiIDogIi9IYWNrZXJNYWtlciIsICJUaXRsZSIgOiAiSGFja2VyIE1ha2VyOiBNYXJpbyBNYWtlciBmb3IgSGFja2VycyIsICJDb250ZW50VHlwZSIgOiAxLCAiQ3JlYXRlZCIgOiAiMjAyNC0wMi0yNVQxMjo1NzoyMS4zNjktMDY6MDAiLCAiTW9kaWZpZWQiIDogIjIwMjQtMDItMjVUMTQ6MTY6MDQuMzg3LTA2OjAwIiwgIkNvbnRlbnQiIDogIkkgaGFkIHRoaXMgaWRlYSBvbiBteSBtaW5kIGZvciBzZXZlcmFsIHllYXJzLCBhcyBJIHdhcyB3b3JraW5nIG9uIG15ICpIYWNrZXIncyBFZGdlKiBwcm9qZWN0LCB3aGljaCB3YXMgdG8gYmUgdGhlIHdvcmxkJ3MgZmlyc3QgZXZlciBIYWNraW5nIFNpbXVsYXRvciBNdWx0aS1Vc2VyIE9ubGluZSBSb2xlIFBsYXlpbmcgR2FtZSwgdGhpbmsgSSBoYWQgYW5vdGhlciBwaHJhc2UgZm9yIGl0IGF0IG9uZSBwb2ludC4gIEFueXdheXMsIHRoYXQgcHJvamVjdCB3YXMgZnVsbHkgb25saW5lIGFuZCB3YXMgcGxheWVkIGVpdGhlciB0aHJvdWdoIHRoZSBicm93c2VyIG9yIHZpYSB0ZWxuZXQgZm9yIHRob3NlIHdob20gd2FudCBhIG1vcmUgcmVhbGlzdGljIGV4cGVyaWVuY2UuICBJIHdhcyBwbGFubmluZyBvbiBidWlsZGluZyBvdXQgYSBkZXNrdG9wIGNsaWVudCBhbmQgc3VjaCwgYW5kIGl0IHdhcyBwcmV0dHkgZmFyIGFsb25nLiAgVGhlIGluLWdhbWUgdW5pdmVyc2UgcmFuIGVzc2VudGlhbGx5IGEgYnVuY2ggb2YgKk1PUyA2NTAyKiBzeXN0ZW1zIHdoaWNoIHBsYXllcnMgY291bGQgdGhlbiBjb25uZWN0IHRvLCBhbmQgcGVyZm9ybSB2YXJpb3VzIGFjdGl2aXRpZXMsIG9uZSBvZiB3aGljaCB3YXMgdG8gaGFjayBpdC4gIFNpbmNlIGl0IGFsbCByYW4gYWN0dWFsIGNvbXB1dGVyIGNvZGUsIGl0IG1hZGUgdGhlIGluLWdhbWUgdW5pdmVyc2UgYW5kIGdhbWVwbGF5IGZlZWwgbXVjaCBtb3JlIHJlYWxpc3RpYyB0aGFuIHNheSAqV2F0Y2ggRG9ncyogd2hpY2ggd2FzIGdhaW5pbmcgaW4gc29tZSBwb3B1bGFyaXR5IGF0IHRoZSB0aW1lLiAgVGhpcyBvbmxpbmUgZ2FtZSB3YXMgc3VwcG9zZWQgdG8gYmUgYSAqR1RBIE9ubGluZSosIGJ1dCBmb3IgaGFja2Vycy4gIFNvIHJhdGhlciB0aGFuIHVzaW5nIGd1bnMgdG8gcm9iIGEgYmFuaywgdGhlIHBsYXllciB3b3VsZCBpbnN0ZWFkIHVzZSBjeWJlci1hdHRhY2tzIGFuZCB0aGVpciBicmFpbnMgdG8gaW5zdGVhZCBoYWNrIGEgYmFuayB0byByb2IgaXQuICBBdCBsZWFzdCB0aGF0IHdhcyB0aGUgZHJlYW0gSSBoYWQgZm9yICpIYWNrZXIncyBFZGdlKi4gIEFzIGRldmVsb3BtZW50IG9mIGl0IHdlbnQgb24sIGl0IGdvdCBtb3JlIGFuZCBtb3JlIGNvbXBsaWNhdGVkIHRvIGEgcG9pbnQgd2hlcmUgc29tZSBiZXRhIHRlc3RlcnMgd2VyZSByZWFsbHkgZHJhaW5pbmcgbXkgYWJpbGl0aWVzIHdpdGggYW4gb3ZlcmxvYWQgb2YgZmVhdHVyZXMgd2hpY2ggSSBqdXN0IGNvdWxkbid0IGtlZXAgdXAgd2l0aC4gIEFuZCB0aHVzLCBJIGJ1cm50IG91dCBhbmQgbm93IGl0J3MganVzdCBhIHJlbGljLlxuXG5IYWNrZXIgTWFrZXIgaXMgYSBjb21wbGV0ZWx5IG9mZmxpbmUgc2luZ2xlLXBsYXllciBleHBlcmllbmNlLiAgVGhlIGlkZWEgYmVoaW5kIHRoaXMgZ2FtZSBjYW1lIHRvIG1lIGFmdGVyIEkgcGxheWVkIHRoaXMgbGl0dGxlIGtub3duIGhhY2tpbmcgc2ltdWxhdG9yIGdhbWUgb24gbXkgQW5kcm9pZCBwaG9uZSBjYWxsZWQgKipIYWNrUlVOKiouICBJIG9ubHkgcGxheWVkIHRoZSBkZW1vLCBhbmQgaGF2ZSBhdHRlbXB0ZWQgdG8gcmVjcmVhdGUgdGhpcyBkZW1vIGluIG11bHRpcGxlIGxhbmd1YWdlcyBvbiBtdWx0aXBsZSBwbGF0Zm9ybXMgYXMgYSB3YXkgdG8gdGVzdCBteSBjb2Rpbmcgc2tpbGxzIGluIGRpZmZlcmVudCBlbnZpcm9ubWVudHMuICBUaGUgZmlyc3QgdmVyc2lvbiBJIGNyZWF0ZWQgb2YgdGhpcyB3YXMgYW4gSFRNTDUgV2ViU29ja2V0IHZlcnNpb24sIHdoZXJlIGl0IHdhcyBzdGlsbCBhIGZ1bGwgdGVybWluYWwgZ2FtZSwgYXMgaXQgd2FzIG9uIEFuZHJvaWQsIGJ1dCB3cml0dGVuIGluIEhUTUw1IFdlYlNvY2tldHMgYW5kIFB5dGhvbi4gIEl0IHdhcyB0aGlzIHRoYXQgZ2F2ZSBtZSB0aGUgaWRlYSBvZiAqSGFja2VyIE1ha2VyKiwgYXMgSSBqdXN0IGNyZWF0ZWQgd2hhdCB3YXMgZXNzZW50aWFsbHkganVzdCBhICpnYW1lIGVuZ2luZSogZm9yIG1ha2luZyAqSGFja1JVTi1saWtlKiBnYW1lcywgcmlnaHQ/ICBTbyBmb3IgYXdoaWxlIEkgd2FzIGxvb2tpbmcgaW50byB0aGlzIGFzIHNvbWV0aGluZyBJIGNvdWxkIG1ha2UsIGJ1dCBpdCBuZXZlciByZWFsbHkgZ2FpbmVkIGFueSB0cmFjdGlvbiBhZ2FpbiB1bnRpbCByZWNlbnRseS5cblxuSWYgdGhlcmUgaXMgb25lIGdlbnJlIG91dCB0aGVyZSB0aGF0IGRvZXNuJ3QgcmVhbGx5IGhhdmUgd2hhdCBJIHdvdWxkIGNhbGwgaXQncyAqa2lsbGVyIGFwcCosIGl0J3MgdGhlICpoYWNraW5nIHNpbXVsYXRpb24qIGdlbnJlLCB3aGljaCBhY3R1YWxseSBkYXRlcyBiYWNrIHNvIG1hbnkgeWVhcnMuICBXaXRoIGhhY2tpbmcgc2ltdWxhdGlvbnMgcmVsZWFzZWQgZm9yIE1TLURPUyBhbmQgSSB3b3VsZCBpbWFnaW5lIGV2ZW4gb2xkZXIgbWljcm8tY29tcHV0ZXJzLiAgTXkgZmlyc3QgaW50ZXJhY3Rpb24gd2l0aCB0aGUgZ2VucmUgd2FzIHdpdGggdGhlIGFtYXppbmcgZ2FtZSAqVXBsaW5rKiwgd2hpY2ggcmVhbGx5IG1hZGUgeW91IGZlZWwgbGlrZSB5b3Ugd2VyZSBhIHJlYWwtd29ybGQgaGFja2VyLiAgSXQgZGlkIGEgZGVjZW50IGpvYiBhdCB0cnlpbmcgdG8gc2ltdWxhdGUgYSBmdWxsIGluLWdhbWUgd29ybGQuICBGdWxsIHdpdGggdG9ucyBvZiBzeXN0ZW1zIHRvIGFjY2VzcywgZWFjaCB3aXRoIHRoZWlyIG93biBJUCBhZGRyZXNzLCBiYWNrc3RvcmllcywgYW5kIGZpbGVzIHRvIHN0ZWFsLiAgSXQgd2FzIGEgYml0IG9wZW4gd29ybGQgaWYgdGhlIHBsYXllciBqdXN0IHdhbnRlZCB0byBtZXNzIGFyb3VuZCwgYnV0IHRoZXJlIHdhcyBhIGZ1bGwgcXVlc3Qgc3lzdGVtIHRoZSBwbGF5ZXIgc2hvdWxkIGZvbGxvdywgYXMgdGhlIHBsYXllciBkb2VzIG5lZWQgdG8gbWFrZSBtb25leSBpbiB0aGUgZ2FtZSB0byBwdXJjaGFzZSB1cGdyYWRlcyBhbmQgc3VjaCwgYnV0IHRoZSBwbGF5ZXIgaXMgZnJlZSB0byBjaG9vc2Ugd2hpY2ggbWlzc2lvbnMgdGhleSB3YW50IGluIHNvbWUgY2FzZXMuICBUaGVyZSBpcyBvYnZpb3VzbHkgdGhlIGluaXRpYWwgdHV0b3JpYWwgdG8gZ2V0IHRoZSBwbGF5ZXIgdXNlZCB0byB0aGUgZ2VucmUuICBJdCB3YXMgYW4gYW1hemluZyBleGFtcGxlIG9mIGEgaGFja2luZyBzaW11bGF0aW9uIGRvbmUgcmVhbGx5IHdlbGwsIGFuZCBpdCBzdGlsbCBob2xkcyB1cCB0b2RheSwgYW5kIEkgYmVsaWV2ZSBpdCB3YXMgcG9ydGVkIHRvIEFuZHJvaWQsIHdoZXJlIEkgcHVyY2hhc2VkIGEgY29weSBmb3IgbXkgdGFibGV0LCBhcyBpdCB3b3VsZCBub3Qgd29yayBvbiBhIHRpbnkgc2NyZWVuIHdpdGhvdXQgc29tZSBtYWpvciBtb2RpZmljYXRpb25zLlxuXG5NeSBpZGVhIHdpdGggSGFja2VyIE1ha2VyIGlzIHRvIGNyZWF0ZSBib3RoIGEgc2ltdWxhdGlvbiBlbnZpcm9ubWVudC9wbGF0Zm9ybSBhbmQgYWxzbyBhIGhhY2tpbmcgc2ltdWxhdGlvbiBnYW1lLiAgQ3VycmVudGx5IG15IHRob3VnaHRzIG9uIGhvdyB0byBpbXBsZW1lbnQgaXQgYXJlIGFzIGZvbGxvd3M6XG5cbiAgKiBTZW1pLXJlYWxpc3RpYyBnYW1lcGxheVxuICAgIC0gSW4tZ2FtZSBjb21wdXRlcnMgd2lsbCBiZSBhbGwgcnVubmluZyByZWFsICpNT1MgNjUwMiogbWFjaGluZSBjb2RlLCBhbGxvd2luZyBjcmVhdGl2ZSBoYWNrcyB0byBiZSBkb25lLlxuICAgIC0gTmV0d29ya3MgYXJlIG1vcmUgbGltaXRlZCwgZWFjaCBuZXR3b3JrIGNhcmQgY2FuIG9ubHkgbGlzdGVuIG9uIGEgc2luZ2xlIHBvcnQgZnJvbSAxLTI1NS5cbiAgICAgIC0gV2l0aCB0aGF0IHNhaWQsIEkgYW0gY3VycmVudGx5IHdvcmtpbmcgb24gdmlydHVhbCBodWJzIGFuZCBzd2l0Y2hlcywgc28gaXQgd2lsbCBzdGlsbCBiZSBhIGJpdCByZWFsaXN0aWMgaW4gdGhvc2UgdGVybXMuXG4gICAgICAtIE5ldHdvcmsgY29tbXVuaWNhdGlvbiB3b3JrcyBtb3JlIGxpa2UgYSBiaS1kaXJlY3Rpb25hbCBzZXJpYWwgY29ubmVjdGlvbiwgYnV0IGNhbiBjb25uZWN0IHRvIG1vcmUgdGhhbiAxIG1hY2hpbmUgaWYgdGhhdCBtYWtlIHNlbnNlLlxuICAgICAgICAtIFRoaXMgbWVhbnMgaXQgaXMgb3Zlcmx5IHNpbXBsaWZpZWQsIG5vIHNwZWNpYWxpemVkIHBhY2tldHMgdG8ga2VlcCBldmVyeXRoaW5nIHNpbXBsZSBlbm91Z2ggZm9yIGV2ZXJ5b25lIHRvIHVuZGVyc3RhbmQuXG4gICAgLSBSZW1vdGUgY29ubmVjdGlvbnMgaW4gdGhlIG9mZmljaWFsIHJlbGVhc2VkIHdvcmxkcyBhbmQgc2NlbmFyaW9zIHdpbGwgZXNzZW50aWFsbHkgYmUgKmZha2VkKi5cbiAgICAgIC0gV2hhdCB0aGlzIG1lYW5zIGlzIHRoYXQgd2hlbiB0aGUgcGxheWVyIG1ha2VzIGEgcmVtb3RlIGNvbm5lY3Rpb24sIGZpcnN0IGEgY2hlY2sgdG8gc2VlIGlmIGEgY29ubmVjdGlvbiBjYW4gYmUgbWFkZSBpcyBmaXJzdCBkb25lLCB0aGVuIHRoZSBjb25zb2xlIGRpc3BsYXkgaW4gdGhlIGdhbWUgVUkgaXMgbGl0ZXJhbGx5IHN3YXBwZWQgdG8gbm93IGRpc3BsYXlpbmcgdGhlIHJlbW90ZSBzeXN0ZW0gcmF0aGVyIHRoYW4gdGhlIHBsYXllcidzIGxvY2FsaG9zdC5cbiAgICAgIC0gSXQgd2lsbCBiZSBwb3NzaWJsZSBmb3Igd2hlbiBwbGF5ZXJzIHN0YXJ0IGNyZWF0aW5nIHRoZWlyIG93biB3b3JsZHMgYW5kIHNjZW5hcmlvcyB0aGF0IHRoZXkgY2FuIGluc3RlYWQgdXNlIG1vcmUgcmVhbGlzdGljICp0ZWxuZXQvc3NoKiBsaWtlIGNvbm5lY3Rpb25zIG92ZXIgdGhlIHZpcnR1YWwgbmV0d29yay5cbiAgKiBUaGUgd29ybGQgY2FuIGJlIHBvcHVsYXRlZCB3aXRoIG90aGVyIGNoYXJhY3RlcnMgd2hpY2ggd2lsbCBiZSByZWZlcnJlZCB0byBhcyAqQWdlbnRzKiBpbiB0aGUgY3JlYXRvciB0b29sLiAgVGhlc2UgYXJlIGVzc2VudGlhbGx5IGFraW4gdG8gYW4gTlBDIGluIGFuIFJQRyBnYW1lLlxuICAgIC0gVGhlc2UgKmFnZW50cyogY2FuIGJlIHByb2dyYW1tZWQgd2l0aCB2YXJpb3VzIHNjaGVkdWxlcyBhbmQgYXR0cmlidXRlcyB0byBnaXZlIHRoZW0gYSBiaXQgb2YgcGVyc29uYWxpdHkuXG4gICAgLSBUaGV5IGNhbiBiZSBjb25uZWN0ZWQgdG8gaW4tZ2FtZSBldmVudHMgZ2VuZXJhdGVkIGJ5IHRoZSBzY2VuYXJpbyBiZWluZyBwbGF5ZWQuICBTdWNoIGFzIGEgcGxheWVyIGNvbm5lY3Rpb24gdG8gYSBzcGVjaWZpYyBzZXJ2ZXIgY2FuIHRyaWdnZXIgYSAqTmV0d29yayBBZG1pbmlzdHJhdG9yKiBhZ2VudCB0byBiZWdpbiBtb25pdG9yaW5nIHdoaWNoIGNvdWxkIGFmZmVjdCB0aGUgcGxheWVyIGluIHNvbWUgd2F5LlxuICAgIC0gVGhpcyBhbGxvd3MgdmFyb3VzIHJlYWwtd29ybGQgcHJvZ3JhbXMgbGlrZSBgd2hvYCBhbmQgYHdgIHRvIHdvcmsgaW4tZ2FtZSwgYXMgdGhlIHBsYXllciBjYW4gbm93IHNlZSB3aGF0IGFwcGVhcnMgYXMgb3RoZXIgcGVvcGxlIHVzaW5nIHRoZXNlIHN5c3RlbXMuICBBcyBtZW50aW9uZWQgYWJvdmUsIHRoZSByZXN1bHQgb2YgdGhlc2UgY29tbWFuZHMgY2FuIGJlIGNvbnRyb2xsZWQgYnkgdGhlIGNyZWF0b3IgdXNpbmcgYSBzY2hlZHVsZSB0byBkZXRlcm1pbmUgd2hhdCBhbiAqYWdlbnQqIGlzIGRvaW5nIGF0IGFueSBnaXZlbiB0aW1lLiAgVGhpcyBjYW4gYWxsb3cgdmVyeSBjcmVhdGl2ZSBwbGF5ZXJzIHRvIG1hcCBvdXQgdGhlIHNjaGVkdWxlIG9mIGFuICphZ2VudCogdG8gYmV0dGVyIHBsYW4gdGhlaXIgYXR0YWNrcyBhcm91bmQgdGhlaXIgc2NoZWR1bGUuXG4gICogU2VwYXJhdGlvbiBvZiAqV29ybGQqIGFuZCAqU2NlbmFyaW8qXG4gICAgLSBUaGUgaWRlYSBoZXJlIGlzIHRvIGFsbG93IHRob3NlIHdpdGggc2F5IGJldHRlciBzdG9yeSBidXQgbm90IGdvb2Qgd29ybGQgYnVpbGRpbmcgdG8gdXNlIGEgcHJlLWV4aXN0aW5nIHdvcmxkIG1hZGUgYnkgc29tZW9uZSBlbHNlLlxuICAgICAgLSBUaGVzZSB3b3JsZHMgY2FuIGJlIGRpc3RyaWJ1dGVkIGFzIGJhcnJlbiBvciBhcyBwb3B1bGF0ZWQgYXMgdGhlICp3b3JsZCBjcmVhdG9yKiBwbGVhc2VzLiAgU28gaWYgc29tZW9uZSBpcyBtZXJlbHkganVzdCBsb29raW5nIGZvciBhIHdvcmxkIHdpdGggY29tcGFuaWVzIHRoYXQgc2F5IG1pcnJvciB0aGUgcmVhbC13b3JsZCBhcyBhIGJhc2lzIGZvciB0aGVpciBzdG9yeSwgY2FuIGVhc2lseSBkbyB0aGF0LlxuICAgIC0gSXQgY2FuIGFsc28gYWxsb3cgZm9yIGJldHRlciBsYXllcmluZywgYXMgbm93IHBsYXllcnMgZG9uJ3QgbmVlZCB0byBkb3dubG9hZCBhcyBtdWNoIGRhdGEgaWYgdGhleSBhbHJlYWR5IGhhdmUgdGhhdCBzcGVjaWZpYyBuZWVkZWQgd29ybGQgYWxyZWFkeSBpbnN0YWxsZWQuXG4gICogVGhlcmUgd2lsbCBleGlzdCBhIHNlcGVyYXRlICpHYW1lIFBsYXllciogd2l0aCBubyBhYmlsaXR5IHRvIGNyZWF0ZSB3b3JsZHMgb3Igc2NlbmFyaW9zLlxuICAgIC0gVGhpcyBjYW4gYWxsb3cgdGhvc2Ugd2hvbSBhcmUgc29sZWx5IHdhbnRpbmcgdG8gdXNlIHRoZSBlbmdpbmUgdG8gYnVpbGQgdGhlaXIgb3duIGhhY2tpbmcgc2ltdWxhdGlvbnMgd2l0aCB0aGUgYWJpbGl0eSB0byBlYXNpbHkgc2hvdyBmcmllbmRzIGFuZCBmYW1pbHkgd2hhdCB0aGV5IGNyZWF0ZWQgd2l0aG91dCBuZWVkaW5nIHRvIHByb3ZpZGUgdGhlIGZ1bGwtZ2FtZSB0byB0aGVtLlxuICAqIFdpbGwgYmUgZXh0cmVtZWx5IG1vZGRhYmxlIGFuZCBjdXN0b21pemFibGUuXG4gICAgLSBUaGUgZ2FtZSBpdHNlbGYgd2lsbCBob2xkIGEgZGF0YWJhc2Ugb2YgYWxsIHRoZSBhdmFpbGFibGUgKmluLWdhbWUgcHJvZ3JhbXMqIHdoaWNoIGNhbiBiZSBwbGFjZWQgb250byBhbnkgb2YgdGhlIGNyZWF0ZWQgc3lzdGVtcy4gIFRoaXMgZGF0YWJhc2UgY2FuIGJlIHVwZGF0ZWQgYnkgdGhlIHBsYXllciB0byBhZGQgYWRkaXRpb25hbCBwcm9ncmFtcyBmb3IgdXNlIHdpdGhpbiB0aGVpciBvd24gY3JlYXRlZCBnYW1lIHdvcmxkcy5cbiAgICAtIEluIGFkZGl0aW9uIHRvIGNyZWF0aW5nIGN1c3RvbSAqTU9TIDY1MDIqIHByb2dyYW1zIGZvciB0aGVpciBvd24gc2NlbmFyaW9zLCBJIGFtIGhpZ2hseSBjb25zaWRlcmluZyBhZGRpbmcgc3VwcG9ydCBmb3IgZXh0ZXJuYWwgbW9kcyBpbiB0aGUgZm9ybSBvZiBzaGFyZWQgbGlicmFyaWVzLCAqLnNvKiBmb3IgVU5JWCwgYW5kICouZGxsKiBmb3IgV2luZG93cy4gIFRoZSBtYWpvciBwcm9ibGVtIHdpdGggdGhpcywgaXMgdGhhdCBpdCBodXJ0cyB0aGUgZ2FtZSdzIGNyb3NzLXBsYXRmb3JtIGVkZ2UsIGFzIG5vdyBhIHBsYXllciB0aGF0IHdhbnRzIHRvIG1ha2UgdGhlaXIgZ2FtZSBhbmQgdGhlaXIgbW9kIGF2YWlsYWJsZSB0byBldmVyeW9uZSwgbm93IGhhcyB0byBjcm9zcy1jb21waWxlIHRoZWlyIHNoYXJlZCBsaWJyYXJ5IGZvciBhbGwgc3VwcG9ydGVkIHBsYXRmb3Jtcy4gIEkgYW0gc3RpbGwgb24gdGhlIGZlbmNlIHdpdGggdGhpcyBmZWF0dXJlLiAgVGhlIG1haW4gaWRlYSB3aXRoIHRoaXMgaXMgdG8gYWxsb3cgY3VzdG9tICpjYXJkcyogdG8gYmUgY3JlYXRlZCBieSB0aGUgcGxheWVycyB0byBkbyBhbGwgc29ydHMgb2YgdGhpbmdzIHdoaWNoIHRoZSBnYW1lIG5ldmVyIG9yaWdpbmFsbHkgaW50ZW5kZWQuICBJdCBjb3VsZCBhbGxvdyBpbi1nYW1lIHN5c3RlbXMgdG8gc2F5IGNvbnRyb2wgcmVhbC13b3JsZCBjb21wb25lbnRzIGxpa2UgYW4gTEVEIG9uIGEgUGkgZm9yIGV4YW1wbGUuICBPciBzb21lb25lIGNvdWxkIGNyZWF0ZSBhIHZpcnR1YWwgKlotODAqIGNhcmQgbGlrZSBzb21lIG9mIHRoZSAqNjUwMiogbWljcm9jb21wdXRlcnMgaGFkIGluIHRoZSA4MHMuXG5cbiMjIyBUaGUgaW4tZ2FtZSBzeXN0ZW1zXG5cbk9uZSB0aGluZyBJIHNob3VsZCBnbyBvdmVyIGlzIHRoZSBjdXJyZW50IGZlYXR1cmUgc2V0IGZvciBpbi1nYW1lIHN5c3RlbXMsIHdoaWNoIGlzIGN1cnJlbnRseSBiZWluZyBleHBsb3JlZCBhbmQgZGV2ZWxvcGVkIGR1cmluZyB0aGUgcHJvdG90eXBlIHN0YWdlIEkgYW0gY3VycmVudCBpbi5cblxuU28sIGVhY2ggc3lzdGVtIHdpbGwgaGF2ZSB0aGUgZm9sbG93aW5nIGhhcmR3YXJlOlxuXG4gICogQSAqTU9TIDY1MDIqIG1pY3JvcHJvY2Vzc29yIHdpdGggYSB3aG9wcGluZyAqNjRrKiBvZiBSQU0uXG4gICogVmlydHVhbCBST00gY2hpcHMgYXJlIG1lbW9yeSBtYXBwZWQgdG8gdGhlIGFib3ZlIG1lbW9yeSB1cG9uIHN5c3RlbSBib290LlxuICAqIFN0b3JhZ2UgaXMgc3RpbGwgdW5kZWNpZGVkLlxuICAgIC0gQ3VycmVudCBwcm90b3R5cGUgdXNlcyBhICpzdGF0aWMgUkFNKiBhcHByb2FjaC5cbiAgKiBUaGVyZSBjYW4gb25seSBiZSBhIHNpbmdsZSBkZXZpY2UgY29ubmVjdGVkIGRpcmVjdGx5IHRvIHRoZSBDUFUuXG4gICAgLSBIb3dldmVyLCB0aGVyZSBpcyBub3RoaW5nIHNheWluZyB0aGF0IHRoaXMgc2luZ2xlIGRldmljZSBpc24ndCBhIGh1YiBvciBicmlkZ2UgdG8gYWxsb3cgdGhlIGNvbm5lY3Rpb24gb2YgbW9yZSBkZXZpY2VzLlxuICAgIC0gQSBEZXZpY2UgSHViIGFscmVhZHkgZXhpc3RzIGluIHRoZSBwcm90b3R5cGUuXG4gICogQSBiYXNpYyBjYXJkc2xvdC1idXMgc2ltaWxhciB0byBob3cgaXQgd29ya3MgaW4gdGhlICpBcHBsZSBdWyogZmFtaWx5IG9mIGNvbXB1dGVycy5cbiAgICAtIFRoZSBjYXJkc2xvdCBidXMgaXMgZWl0aGVyIGRpcmVjdGx5IGNvbm5lY3RlZCB0byB0aGUgc2luZ2xlIGRldmljZSBvZiB0aGUgQ1BVIG9yIHRocm91Z2ggYSBEZXZpY2UgSHViLlxuICAgIC0gTXVsdGlwbGUgY2FyZHMgZm9yIHRoaXMgYnVzIGFscmVhZHkgZXhpc3QsIGFuZCBpdCBjYW4gc3VwcG9ydCB1cCB0byA4IGNhcmRzIGNvbm5lY3RlZCB0byBpdC5cbiAgICAtIEN1cnJlbnQgY2FyZHMgYXJlICoqVGVybWluYWwgQ2FyZCoqLCAqKlNlZ21lbnQgRGlzcGxheSBDYXJkKiosICoqU2VyaWFsIENhcmQqKiwgYW5kIGEgKipOZXR3b3JrIENhcmQqKi4gIE1vcmUgY2FyZHMgd2lsbCBiZSBjcmVhdGVkLlxuICAgIC0gVGhlIGNhcmRzIGFyZSBjdXJyZW50bHkgaXRlcmF0ZWQgaW4gdGhlIFJPTSB0byBkZXRlcm1pbmUgd2hpY2ggY2FyZHMgYXJlIGluc3RhbGxlZCBhbmQgaW4gd2hpY2ggc2xvdHMuXG4gICAgLSBFYWNoIGNhcmQgaGFzIGEgc2luZ2xlIGJ5dGUgdG8gc3RvcmUgaXQncyAqQ2FyZCBUeXBlKiBpbmZvcm1hdGlvbiB3aGljaCBjYW4gdGhlbiBiZSBwYXJzZWQgYnkgYSBST00gb3Iga2VybmVsIHRvIGxvYWQgZHJpdmVycy5cbiAgKiBUaGVyZSBhbHNvIGV4aXN0cyBhbiAqRUdBLWNvbXBhdGlibGUqIHRleHQgZnJhbWVidWZmZXIgd2hpY2ggY2FuIGJlIHVwZGF0ZWQgaW4gbWVtb3J5IGluIHRoZSBzYW1lIHdheSBhIHJlYWwgb25lIGlzLlxuICAgIC0gQ3VycmVudGx5IGl0IGlzIGFuIGV4YWN0IGNvcHkgb2YgdGhlIEVHQSB0ZXh0IG1lbW9yeSBmcm9tIHg4NiBwbGF0Zm9ybSB3aGljaCBiZWdpbnMgdGhlcmUgYXQgYWRkcmVzcyAqKjB4QjgwMCoqLCBhbmQgaXMgYmxvYWQvYnNhdmUgY29tcGF0aWJsZSBhcyBhIHJlc3VsdC5cbiAgICAtIFRoaXMgbWF5IGNoYW5nZSB0byBpbnN0ZWFkIGJlaW5nIGEgdG90YWwgb2YgKjRrKiBuZWVkZWQgZm9yIHRoaXMgdmlkZW8gbWVtb3J5IHRvIG9ubHkgKjJrKiBpbnN0ZWFkIHRvIHByb3ZpZGUgYSBtb25vY2hyb21lIGRpc3BsYXkgd2l0aCBubyBzcGVjaWFsIGF0dHJpYnV0ZXMuXG4gICogRHVyaW5nIGdhbWVwbGF5LCB0aGUgcGxheWVyIHdpbGwgYmUtYWJsZSB0byB1cGdyYWRlIHRoZWlyIG93biBgbG9jYWxob3N0YCBQQyB3aXRoIGRpZmZlcmVudCBoYXJkd2FyZS5cbiAgKiBEdXJpbmcgdGhlIHdvcmxkIGJ1aWxkaW5nLCBzeXN0ZW1zIGNhbiBiZSBmdWxseSBjdXN0b21pemVkIHdpdGggZGlmZmVyZW50IGhhcmR3YXJlIGNvbmZpZ3VyYXRpb25zLlxuIiB9LCB7ICJJZCIgOiA1NCwgIlBhdGgiIDogIi9GYWlsdXJlcyIsICJUaXRsZSIgOiAiUGVyc29uYWwgRmFpbHVyZXMiLCAiQ29udGVudFR5cGUiIDogMSwgIkNyZWF0ZWQiIDogIjIwMjQtMDItMjVUMjE6MzE6NTAuMzMzLTA2OjAwIiwgIk1vZGlmaWVkIiA6ICIyMDI0LTAyLTI1VDIyOjQ1OjA5LjkxNy0wNjowMCIsICJDb250ZW50IiA6ICJOb3QgZXZlcnl0aGluZyBpbiBsaWZlIGlzIGdvaW5nIHRvIGJlIGEgcnVuYXdheSBzdWNjZXNzLCBpZiBpdCB3ZXJlLCB0aGVuIGV2ZXJ5b25lIGluIHRoaXMgd29ybGQgd291bGQgYmUgc3VjY2Vzc2Z1bCBhbmQgcmljaC4gIEhlcmUgaXMgYSBsaXN0IG9mIG15IG1hbnkgYXR0ZW1wdHMgYXQgYmVpbmcgbm90aWNlZCB0aHJvdWdoIGEgcHJvamVjdCBvZiBtaW5lLCBidXQgdW5mb3J0dW5hdGVseSBpdCBlbmRlZCB1cCBqdXN0IGJlaW5nIGEgZmFpbHVyZS4gIEJ1Y2tsZSB1cCBmb3IgdGhlIG1vc3QgZGVwcmVzc2luZyBhcnRpY2xlIG9uIHRoaXMgd2Vic2l0ZS4uLlxuXG4jIyMgQ2hyb25vYm95IEFkdmVudHVyZXNcblxuQSBKUlBHLWxpa2UgZ2FtZSwgYnVpbHQgaW4gYSBKUlBHIGNlbnRyaWMgZW5naW5lLCBib3Jyb3dpbmcgc29tZSBjb25jZXB0cyBmcm9tIHdlc3Rlcm4gZ2FtZXMgd2l0aCBteSBvd24gZmxhaXIuICBUaGlzIHdhcyBhbiBSUEcgcHJvamVjdCBJIHdhcyB3b3JraW5nIG9uIGluIG15IGxhdGUgMjBzLCBhbmQgaGFzIGJlZW4gZ29uZSBhYmFuZG9uZWQgYWZ0ZXIgdGhlIGNyaXRpY2FsIHJldmlld3MgZnJvbSB0aGUgZ2FtZSBkZXZlbG9wbWVudCBjb21tdW5pdHkgSSB3YXMgYSBwYXJ0IG9mIG9ubHkgcHJvdmlkZWQgZmVlZGJhY2sgb24gdGhlIHZpc3VhbHMgYW5kIGdyYXBoaWNzIG9mIHdoYXQgSSB3YXMgdHJ5aW5nIHRvIGNyZWF0ZSwgcmF0aGVyIHRoYW4gdGhlIHN0b3J5LCBjb25jZXB0LCBhbmQgY29udGVudC4gIEEgZ3JlYXQgZXhhbXBsZSBvbiBob3cgbW9zdCBwZW9wbGUgZG8gc2VlbSB0byBwcmVmZXIgbG9va3Mgb3ZlciBmdW5jdGlvbi4gIEFueXdheXMuLi5cblxuSSBidWlsdCB0aGUgZ2FtZSBpbiBhIHZlcnkgdW5pcXVlIHdheSwgdGhlIGludHJvZHVjdGlvbiBzZXF1ZW5jZSBvZiB0aGUgZ2FtZSB3YXMgZW50aXJlbHkgY3JlYXRlZCB1c2luZyBncmFwaGljIHRpbGVzIHdoaWNoIEkgcGVyc29uYWxseSBoYW5kIGRyZXcsIGFmdGVyIHJlYWxpemluZyB0aGF0IEkgYW0gbm90IHRoYXQgZ3JlYXQgYXQgZHJhd2luZywgSSBkZWNpZGVkIHRvIGNvcHkgYSBzZXQgb2YgZ3JhcGhpY3MgZnJvbSBvbmUgb2YgbXkgZmF2b3VyaXRlIGdhbWVzLCAqVWx0aW1hIFZJKi4gIEl0IHRvb2sgbWUgc2V2ZXJhbCBkYXlzIHRvIGV4dHJhY3QgdGhlIGdyYXBoaWNzIGFuZCBtYWtlIHRoZW0gZml0IHRvIGEgY29tcGxldGVseSBkaWZmZXJlbnQgdGlsZSBzaXplLCBhbGwgdGhlIHdoaWxlIG1ha2luZyBzdXJlIGl0IGRpZG4ndCBsb29rIHRvbyBvZmYuICBUaGUgcmVzdWx0IGlzbid0IGFuIGV4YWN0IHJlcGxpY2Egb2YgdGhlIHNvdXJjZSBtYXRlcmlhbCwgYnV0IGEgbWl4LiAgSSBkaWQgc29tZSBvZiBteSBvd24gdGlsZXMgd2hpY2ggd2VyZSBuZWVkZWQgZm9yIHRoZSBnYW1lIGluIHRoYXQgc3R5bGUgbXlzZWxmLCBzdWNoIGFzIHdoYXQgSSBjYWxsZWQgaW4gZ2FtZSBhcyB0aGUgKldhdGVyIEdhdGVzKiwgYSBjb25jZXB0IHNpbWlsYXIgdG8gKk1vb25nYXRlcyogaW4gVWx0aW1hLiAgVGhlIGdhdGVzIHdlcmUgc3VwcG9zZSB0byBhbGxvdyB0aGUgcGxheWVyIHRvIHVuZGVyc3RhbmQgaG93IHN1Y2ggYSBwb3J0YWwgd291bGQgZmVlbCB3aGVuIG9uZSdzIGJvZHkgbWlnaHQgZ28gdGhyb3VnaCBvbmUsIGxpa2UgZ29pbmcgdGhyb3VnaCBhIHdhbGwgb2Ygc3RhbmRpbmcgd2F0ZXIuXG5cblRoZSBnYW1lIHN0YXJ0cyBvZmYgaW4gdGhlIG1haW4gY2hhcmFjdGVyJ3MgaG9tZSB3b3JsZCwgd2hpY2ggbWF5IG9yIG1heSBub3QgYmUgZWFydGgsIHRoYXQgaXMgbmV2ZXIgbWVudGlvbmVkIGluLWdhbWUsIGFuZCBpcyBtZWFudCBmb3IgdGhlIHBsYXllciB0byBkaXNjZXJuIHRoZW1zZWx2ZXMuICBJdCBiZWdpbnMgd2l0aCBhIG1ldGVvciBmYWxsaW5nIHRvIHRoZSBwbGFuZXQgd2hpY2ggdGhlIG9wZW5pbmcgY3V0IHNjZW5lIEkgY3JlYXRlZCBjbGVhcmx5IGNvbnZleXMuICBJIG1hZGUgaXQgc29tZXdoYXQgc2ltaWxhciB0byB0aGUgb3BlbmluZyBvZiAqRWFydGhib3VuZCogaW4gYSB3YXksIGJ1dCB5b3UgY2FuIGFjdHVhbGx5IHNlZSBpdCBmYWxsaW5nIGFuZCB0aGUgYWZ0ZXIgbWF0aCBhIGJpdCBtb3JlIGJyb2FkbHkuICBJbiB0aGUgZ2FtZSwgdGhlIHBsYXllciBpcyBhd2FrZW5lZCBieSBoaXMgZnJpZW5kIG9uIHRoZSBwaG9uZSwgd2hpY2ggdGhlIGdhbWUgZGV2IGNvbW11bml0eSBhbHNvIGNyaXRpemVkIGFzIG5vdCBiZWluZyB3cml0dGVuIHByb3Blcmx5IHRvIHNvdW5kIGxpa2UgYSByZWFsIHBlcnNvbi4gIFRoZSBtb3N0IHdlaXJkZXN0IHBhcnQgYWJvdXQgdGhpcyBvbmUgaXMgdGhhdCB0aGUgY2hhcmFjdGVyIHdob20gY2FsbHMgdGhlIHBsYXllciBvbiB0aGUgcGhvbmUgd2FzIG15IHRoZW4gcmVhbC13b3JsZCBmcmllbmQgKkphc29uKiBhbmQgdGhhdCBpcyBleGFjdGx5IGhvdyBoZSBzcGVha3MgdG8gbWUgYWxsIHRoZSB0aW1lLCBhbmQgSSBqdXN0IGNvcGllZCBoaXMgZXhhY3QgdG9uZSBvZiB2b2ljZSBmb3IgdGhlIGdhbWUuICBUaGlzIGlzIHdoeSBJIGZvdW5kIHdoYXQgdGhlIGNvbW11bml0eSBzYWlkIGJlaW5nIG1vcmUgZnJvbSBzb21ld2hlcmUgZWxzZSB0aGFuIGFjdHVhbGx5IGNhcmluZyBhYm91dCBtZSBpbXByb3Zpbmcgb3IgYW55dGhpbmcgZWxzZSBvZiBteSBnYW1lLiAgQW55d2F5cy4uLiAgVGhlIHBsYXllciB0aGVuIGdvZXMgb3V0IHRvIGV4cGxvcmUgdGhpcyBtZXRlb3IsIGV2ZW50dWFsbHkgZmluZGluZyB0aGVtc2VsZiBhdCB0aGUgc2l0ZSB3aGVyZSBpdCBoaXQuICBJbnNpZGUgdGhlIGhvbGUgaXQgbGVmdCB0aGUgcGxheWVyIGZpbmRzIGEgaGFycCwgYW5kIHVwb24gcGxheWluZyBpdCwgYSAqV2F0ZXIgR2F0ZSogYXBwZWFycyBiZWZvcmUgdGhlbS4gIEkgZG8gYWdyZWUgaW4gcmV0cm9zcGVjdCB0aGF0IHRoaXMgc3RvcnkgZWxlbWVudCBtaWdodCBiZSBhIGJpdCBvZmYsIGJ1dCBub2JvZHkgbWVudGlvbmVkIHRoaXMgcGFydCBvZGRseS4gIEkgZGlkIHRoaXMgYXMgSSB3YW50ZWQgdGhlIHBsYXllciB0byBmaW5kIHRoZSBpbi1nYW1lIHBsYXlhYmxlIGluc3RydW1lbnQgYW5kIGJlLWFibGUgdG8gdXNlIGl0IGFzIHNvb24gYXMgcG9zc2libGUuICBUaGUgZ2FtZSBoYWQgYSBmdWxseSBpbnRlcmFjdGl2ZSBoYXJwLCBtdWNoIGxpa2UgaG93ICpPY2FyaW5hIG9mIFRpbWUqIGhhZCBhIGZ1bGx5IGludGVyYWN0YWJsZSBvY2FyaW5hLiAgVGhlcmUgd2VyZSA0IGRpZmZlcmVudCBub3RlcyB0aGUgcGxheWVyIGNvdWxkIHBsYXksIGFuZCBJIGNyZWF0ZWQgc2V2ZXJhbCBiYXNpYyBzb25ncyBmb3IgdGhlIGdhbWUgd2hpY2ggd291bGQgcGVyZm9ybSB2YXJpb3VzIGFjdGlvbnMgZGVwZW5kaW5nIG9uIHdoZXJlIHRoZSBwbGF5ZXIgd2FzLCBhbmQgdGhlIHRpbWUgb2YgZGF5LiAgT25jZSB0aGUgcGxheWVyIGVudGVycyB0aGlzIHBvcnRhbCwgdGhleSBhcmUgc2VudCBvZmYgdG8gYSBmYXIgYXdheSB3b3JsZCwgYW5kIHRoaXMgaXMgd2hlcmUgYWxsIHRoZSBpbi1nYW1lIGdyYXBoaWNzIHRha2UgYSBodWdlIGNoYW5nZSB0byBub3cgcmVzZW1ibGUgdGhhdCBvZiAqVWx0aW1hIFZJKi4gIEF0IG9uZSBwb2ludCBJIHdhcyBnb2luZyB0byBzd2FwIGFsbCB0aGVzZSBsaWZ0ZWQgdGlsZXMgZm9yIG5vbi1jb3B5cmlnaHRlZCBvbmVzLiAgSSB0aG91Z2h0IGR1cmluZyBkZXZlbG9wbWVudCBhbmQgdG8ganVzdCBnZXQgdGhlIHN0b3J5IGFuZCBnYW1lIG1lY2hhbmljcyBnb2luZywgSSBqdXN0IG5lZWRlZCBzb21ldGhpbmcsIGFuZCBzbyBhIGZldyBkYXlzIG9mIGNvcHlpbmcgYW5kIEkgaGFkIGEgYmFzaWMgdGlsZXNldCB0byBnZXQgbXlzZWxmIHN0YXJ0ZWQuXG5cbkluIHRoaXMgb3RoZXIgd29ybGQsIHRoZSBwbGF5ZXIgY2FuIGV4cGxvcmUgYW5kIGNoYW5nZSB0aGUgZXZlbnRzIHRocm91Z2hvdXQgYmFzZWQgb24gdmFyaW91cyBjaG9pY2VzIHRoZXkgbWFkZSB0aHJvdWdoIHRoZWlyIGpvdXJuZXkuICBJIGhhZCBhIHNwcmVhZHNoZWV0IG9mIHRoZSBtYXAgY3JlYXRlZCwgYWxvbmcgd2l0aCBob3cgdGhlIHZhcmlvdXMgY2hvaWNlcyB0aGUgcGxheWVyIG1hZGUgY2hhbmdlZCB0aGUgd29ybGQgYXJvdW5kIHRoZW0uICBTaW5jZSB0aGUgcGxheWVyIGlzIG5vdCBvZiB0aGlzIHdvcmxkLCBhbmQgZG9lcyBub3Qga25vdyB0aGUgcGVvcGxlIG5vciB0aGUgY3VzdG9tcywgaXQgYWxsb3dzIHRoZSBwbGF5ZXIgdG8gbWFrZSBhbnkgbW9yYWwgY2hvaWNlcyBiYXNlZCBvbiB3aGF0IHRoZSBwbGF5ZXIgdGhpbmtzIGlzIHRoZSByaWdodCB0aGluZyB0byBkbywgbm90IHdoYXQgdGhpcyB3b3JsZCBiZWxpZXZlcyBpcyB0aGUgcmlnaHQgdGhpbmcgdG8gZG8uICBJbiB0aGUgZmlyc3QgcGFydCBvZiB0aGUgZ2FtZSwgdGhlIGZpcnN0IGNob2ljZSB0aGUgcGxheWVyIHNlZXMsIHdoaWNoIGlzIG9yZ2FuaWNhbGx5IGNob29zZW4gYmFzZWQgb24gdGhlIGFjdGlvbnMgb2YgdGhlIHBsYXllciwgcmF0aGVyIHRoYW4gYSB0ZXh0IGJveCBwb3BwaW5nIHVwIGFza2luZyB0aGUgcGxheWVyIHdoYXQgdGhleSB3YW50IHRvIGRvLiAgVGhlIHNjZW5lIHBsYXlzIG91dCBsaWtlIHRoaXMgYXMgSSByZWNhbGw6ICBQbGF5ZXIgdmlzaXRzIGEgbmVhcmJ5IGNhdmUgd2hlcmUgYSBidW5jaCBvZiByZWJlbHMgb2YgdGhlIGxhbmQgYXJlIHNpdHVhdGVkLCB0aGUgcGxheWVyIGVudGVycyB0aGUgY2F2ZSBhbmQgYXQgYSBjZXJ0YWluIHBvaW50LCB0aGUgcGxheWVyIGNhbiBlYXNlZHJvcCBvbiB0aGlzIGdyb3VwIG9mIHBlb3BsZSB0byBoZWFyIHRoZWlyIHN0b3J5LiAgQWZ0ZXIgdGhpcyBzY2VuZSBwbGF5cyBvdXQsIHRoZSBwbGF5ZXIgY2FuIGVpdGhlciBlbWVyZ2UgZnJvbSB0aGUgc2hhZG93cyBhbmQgb2ZmZXIgdGhlaXIgYXNzaXN0YW5jZSwgb3IgZmxlZSBiYWNrIHRvIHRoZSB2aWxsYWdlIHRvIHRlbGwgdGhlIGxlYWRlciwgb2Ygd2hpY2ggSSBuYW1lZCB0aGUgKkd1YXJkaWFucyogaW4gdGhpcyBnYW1lLiAgSW4gbW9zdCBjYXNlcywgbW9zdCBwbGF5ZXJzIG1heSBub3QgZXZlbiBrbm93IHRoZXkgYXJlIG1ha2luZyBhIGNob2ljZSB0aGF0IHdpbGwgZWZmZWN0IHRoZSB3b3JsZCBhcm91bmQgdGhlbSwgYnV0IGlzbid0IHRoYXQgaG93IHJlYWwtbGlmZSBjaG9pY2UgYXJlIG1hZGU/ICBJbiByZWFsLWxpZmUsIHdlIGFyZW4ndCBqdXN0IGdpdmVuIHRoZSBsaXRlcmFsIGNob2ljZSBsaWtlIGluIG1vc3QgZ2FtZXMgd2hpY2ggcHJvdmlkZSB0aGVzZSB0eXBlIG9mIHdvcmxkIGNoYW5naW5nIGNob2ljZXMsIGluc3RlYWQsIHdlIGp1c3QgYWN0LCB0aGVuIHdlIHNlZSB0aGUgb3V0Y29tZSBvZiBvdXIgYWN0aW9ucyBhcm91bmQgdXMgaW4gdGhlIHdvcmxkLiAgVGhpcyBpcyBob3cgSSB3YXMgY3JlYXRpbmcgdGhpcyBnYW1lLiAgSXQgd291bGQgYWxsb3cgZm9yIGEgbG90IG9mIHBsYXllciBleHBsb3JhdGlvbiBvbmNlIHBsYXllcnMgYmVjb21lIGF3YXJlIG9mIHdoYXQgaXMgZ29pbmcgb24uICBPbmNlIG9uZSBwbGF5ZXIgc2F5cywgXCJCdXQgdGhpcyBoYXBwZW5lZCB0byBtZSwgbm90IHdoYXQgeW91IHNhaWQ/XCIgd2lsbCBnZXQgcGVvcGxlIGludGVyZXN0ZWQgb24gdHJ5aW5nIG90aGVyIGNvbmNlcHRzIGFuZCBjaG9pY2VzIG91dCBpbiB0aGUgZ2FtZSB0byBzZWUgaXQncyBvdXRjb21lLiAgVGhlcmUgd2VyZSBnb2luZyB0byBiZSBhIGxvdCBvZiB2YXJpYWJsZXMgdG8gZHJpdmUgdGhlIGVudGlyZSBzdG9yeSBiYXNlZCBvbiBwbGF5ZXIgYWN0aW9uLiAgSSB3YXMgYWltaW5nIGF0IGNyZWF0aW5nIGEgbGl2aW5nLCBicmVhdGhpbmcgd29ybGQgd2hpY2ggd291bGQgaGF2ZSBtYW55IGRyYXN0aWMgY2hhbmdlcyBtYW55IGdhbWVzIHRoZXNlIGRheXMgZG9uJ3QgZXZlbiB0cnkuICBBbm90aGVyIGV4YW1wbGUgaXMgaW4gdGhlIGZvbGxvd2luZyBjaXR5IHRoZSBwbGF5ZXIgdmlzaXRzLiAgT24gdGhlIGluc2lkZSBvZiB0aGUgY2l0eSB3YWxscywgbGl2ZXMgdGhlIHdlYXRoeSBhbmQgZWxpdGUuICBPbiB0aGUgb3V0c2lkZSBvZiB0aGUgY2l0eSB3YWxscywgbGl2ZXMgdGhlIHBvb3IgYW5kIGltcG92ZXJpc2hlZC4gIFRoZSBwbGF5ZXIgd291bGQgaGF2ZSB0aGUgYWJpbGl0eSB0byBjaGFuZ2UgdGhlIG91dGNvbWUgb2YgYm90aCBvZiB0aGVzZSBwZW9wbGUgdG8gYWxsb3cgZWFjaCBvZiB0aGVtIHRvIHNlZSB3aGVyZSB0aGV5IG1pZ2h0IGhhdmUgd2VudCB3cm9uZyB0byBjcmVhdGUgc3VjaCBhIGxvYi1zaWRlZCBzb2NpZXR5IHRoZXkgY3VycmVudGx5IGxpdmUgaW4uICBBbGwgdGhlc2Ugc3RvcmllcyB3ZXJlIGJlaW5nIHdyaXR0ZW4gYnkgbWUgaW4gbXkgbGF0ZSAyMHMgYXJvdW5kIDIwMDhpc2ggd2hlbiB0aGUgbWFpbiBjaG9pY2UtYmFzZWQgZ2FtZXMgb2YgdGhlIGVyYSB3ZXJlIHRoZSAqRmFibGUgc2VyaWVzKiB3aGljaCB3YXMgc3RpbGwgaW5jcmVkaWJseSBwb3B1bGFyIGF0IHRoZSB0aW1lLiAgSSBkaWQgbGlrZSB0aGUgY29uY2VwdCBvZiB0aGF0IGdhbWUgd2hlcmUgcGxheWVyIGFjdGlvbnMgY2FuIHJlYWxseSBjaGFuZ2UgdGhlIHdvcmxkIGFyb3VuZCB0aGVtLlxuXG5JZiB5b3UgZGlkIHdhbnQgdG8gc2VlIHdoYXQgSSBkaWQgY3JlYXRlIGJhY2sgdGhlbiwgSSB3aWxsIG5vdCBiZSBwcm92aWRpbmcgYSBkb3dubG9hZCBoZXJlLCBidXQgaWYgeW91IHNlYXJjaCBvbmxpbmUsIHRoZXJlIHNob3VsZCBiZSBhIGxpbmsgc29tZXdoZXJlIHdoZXJlIHlvdSBjYW4gc3RpbGwgZG93bmxvYWQgaXQgYW5kIGNoZWNrIGl0IG91dCBmb3IgeW91cnNlbGYuXG5cbiMjIyBCYWNrIHRvIEJhc2ljczogU2F2ZSB0aGUgUHJpbmNlc3NcblxuVGhpcyBnYW1lIHdhcyBlc3NlbnRpYWxseSBhbiBhbnN3ZXIgdG8gdGhlIG5vbi1mZWVkYmFjayBmcm9tIHRoZSBwcmV2aW91cyBnYW1lLCAqQ2hyb25vYm95IEFkdmVudHVyZXMqLiAgVGhlIGFib3ZlIGdhbWUgbWFkZSBoZWF2eSB1c2Ugb2Ygd2hhdCB0aGUgZW5naW5lIGNhbGxlZCAqUGxvdFNjcmlwdGluZyosIGFuZCBJIHNwZW50IGEgbG90IG9mIHRpbWUgd29ya2luZyBvbiB0aGF0LCBpbiBvcmRlciB0byBtYWtlIGFsbCB0aGUgcGxheWVyIGNob2ljZSB3b3JrIGNvcnJlY3RseSBhbmQgdG8gbW9ycGggdGhlIHdvcmxkLCBldmVyeSBhcmVhIHdhcyBtb3N0bHkgYXV0by1nZW5lcmF0ZWQgd2hlbiB0aGUgcGxheWVyIGVudGVyZWQgaXQuICBJIG9ubHkgdXNlZCB0aGUgbWFwIGVkaXRvciB0byBwbGFjZSB0aGUgbWFpbiBzY2VuZXMsIGJ1dCBJIG5ldmVyIHBsYWNlZCBOUENzIG9yIGV2ZW50cywgdGhvc2Ugd2VyZSBhbGwgaGFuZGxlZCBpbiAqUGxvdFNjcmlwdCouICBXZWxsLCB0aGlzIGdhbWUgd2FzIHRoZSBwb2xhciBvcHBvc2l0ZSwgaXQgZGlkIG5vdCB1c2UgYW55ICpQbG90U2NyaXB0KiBhbmQgb25seSB1c2VkIHdoYXQgdGhlIGVuZ2luZSBwcm92aWRlZCwgaGVuY2UgdGhlIG5hbWUgb2YgdGhpcyBuZXcgc2VyaWVzLCAqQmFjayB0byBCYXNpY3MqLCBJIHdhcyBnb2luZyB0byB0YWtlIG1vc3Qgb2YgdGhlIEpSUEcgY2xpY2hlcywgc3VjaCBhcyBzYXZpbmcgYSBwcmluY2VzcywgYW5kIG1ha2luZyBhd2hvbGUgZ2FtZSBhcm91bmQgYSBzaW1wbGUgc3RvcnksIHJhdGhlciB0aGFuIGdvaW5nIGFsbCBvdXQgYXMgSSBkaWQgd2l0aCAqQ2hyb25vYm95IEFkdmVudHVyZXMqLiAgVGhlIHJlc3VsdHMgcmVhbGx5IGltcHJlc3NlZCBtZSBvdmVyYWxsLlxuXG5UaGlzIGdhbWUsIGRlc3BpdGUgaGF2aW5nIG5vIGNvZGluZywgaGFzIGEgZnVsbHkgd29ya2luZyBxdWVzdCBzeXN0ZW0sIGFsb25nIHdpdGggYSBzY3JlZW4gZGV0YWlsaW5nIHRoZSBxdWVzdHMgdGhlIHBsYXllciBhZ3JlZWQgdG8gdGFrZSBvbiwgYWxvbmcgd2l0aCBlYWNoIG9mIHRoZWlyIHJlc3BlY3RpdmUgcHJvZ3Jlc3Nlcy4gIE90aGVyIHRoYW4gdGhhdCwgaXQgZG9lc24ndCBoYXZlIHRvbyBtdWNoIGVsc2UgdG8gb2ZmZXIuICBJIGRpZCBlbmpveSB0aGUgd29ybGQgYnVpbGRpbmcgYW5kIG1hcCBidWlsZGluZywgYXMgSSBmaWxsZWQgdGhlIHdvcmxkIGZ1bGwgb2YgaW50ZXJlc3RpbmcgY2hhcmFjdGVycyBhbmQgcXVlc3RzIHRoZSBwbGF5ZXIgY2FuIHVuZGVydGFrZSB3aGlsZSBzdGlsbCBoYXZpbmcgYW4gb3ZlcmFyY2hpbmcgcXVlc3Qgb2Ygc2F2aW5nIHRoZSBwcmluY2Vzcy4gIFRoaXMgd2FzIGJ1aWx0IGEgYml0IGFmdGVyICpDaHJvbm9ib3kgQWR2ZW50dXJlcyosIGFuZCBzdGlsbCByZW1haW5zIHVuZmluaXNoZWQuXG5cbiMjIyBIYWNrZXIncyBFZGdlXG5cbllvdSBjYW4gYWN0dWFsbHkgcmVhZCBtb3JlIGFib3V0IHRoaXMgZmFpbHVyZSBvbiBteSBbSGFja2VyIE1ha2VyXSgjL0hhY2tlck1ha2VyKSBwYWdlLCBhbG9uZyB3aXRoIGl0J3MgcG90ZW50aWFsIHJlcGxhY2VtZW50IGlmIGl0IGRvZXNuJ3QgYXBwZWFyIGhlcmUgb25lIGRheS5cblxuIyMjIFVhcmljYVxuXG5BbiBpZGVhIHNoYXJpbmcgd2Vic2l0ZSBzaW1pbGFyIHRvICpHaXQqIHdoZXJlIGlkZWFzIGNhbiBsaXRlcmFsbHkgYmUgKmZvcmtlZCogaW50byBhIG5ldyBpZGVhIGFuZCBiZSBkaXNjdXNzZWQuICBJIGJ1aWx0IHRoaXMgYmFjayBpbiAyMDE0LCBidXQgc2luY2UgSSBsYWNrIGFueSBtYXJrZXRpbmcgc2tpbGxzLCBub2JvZHkgZXZlbiBrbmV3IGl0IGV4aXN0ZWQuICBJdCB3YXMgZW50aXJlbHkgYnVpbHQgaW4gUHl0aG9uIGFuZCBEamFuZ28uICBJIGhhZCBpdCBmdWxseSBvbmxpbmUgYW5kIGF2YWlsYWJsZSB0byBhbnlvbmUgdG8gdXNlLCBidXQgSSBmYWlsZWQgdG8gZ2V0IGl0IG5vdGljZWQgYW5kIG5vdyBpdCBqdXN0IHNpdHMgYXMgYSBwcml2YXRlIHJlcG8gb24gbXkgY2xvdWQgc2VydmVyLCBmb3JldmVyIGZvcmdvdHRlbi5cblxuIyMjIERlYmlhbiBEaWFyeVxuXG5BbiBvZmYtc2hvb3Qgc2l0ZSB0byBteSB0aGVuIGN1cnJlbnRseSBwb3B1bGFyaXNoICpQeXRob24gRGlhcnkqIHdoaWNoIHdvdWxkIGhhdmUgYXJ0aWNsZXMgb24gRGViaWFuIGFuZCBnZW5lcmFsIExpbnV4IEFkbWluaXN0cmF0aW9uIGFydGljbGVzLiAgSSBqdXN0IGRpZG4ndCBwdXQgaW4gYXMgbXVjaCBlZmZvcnQgaW50byB0aGlzIHNpdGUgYXMgSSBkaWQgKlB5dGhvbiBEaWFyeSosIHNvIGl0IGRpZWQgc29sZXkgYmVjYXVzZSBvZiBteSBsYWNrIG9mIGVmZm9ydC5cbiIgfSwgeyAiSWQiIDogNTUsICJQYXRoIiA6ICIvT3ZlcmRvc2VzIiwgIlRpdGxlIiA6ICJPdmVyZG9lcyIsICJDb250ZW50VHlwZSIgOiAxLCAiQ3JlYXRlZCIgOiAiMjAyNC0wMi0yNVQyMjo0NTo0My40NzUtMDY6MDAiLCAiTW9kaWZpZWQiIDogIjIwMjQtMDItMjVUMjI6NTI6NDYuNTkyLTA2OjAwIiwgIkNvbnRlbnQiIDogIlRoaXMgYXJ0aWNsZSBpc24ndCBsaW5rZWQgZnJvbSBhbnl3aGVyZSBvbiB0aGUgd2Vic2l0ZSBiZWNhdXNlIG9mIGl0J3MgcmF0aGVyIGRhcmsgY29udGVudC4gIEl0IGNhbiBob3dldmVyIGJlIHZpZXdlZCBpZiB0aGUgcGF0aCBpcyBwcm92aWRlZCBkaXJlY3RseSwgZXh0cmFjdGVkIGZyb20gdGhlIERhdGFiYXNlIEpTT04gbWFudWFsbHksIGV4dHJhY3RlZCBmcm9tIHRoZSBSQVcgZGF0YWJhc2UgZmlsZXMsIG9yIGlmIG15IFtEYXRhYmFzZSBBZG1pbl0oIy9BZG1pblRvb2wpIGlzIGFjdHVhbGx5IHVzZWQgYnkgc29tZW9uZSBvdGhlciB0aGFuIG15c2VsZiwgd2hpY2ggbm9ib2R5IHdpbGwgZXZlciB1c2UgaXQsIGxldCdzIGJlIHJlYWwgaGVyZS5cblxuT3ZlcmRvZXMgaW4gbXkgb3Bpb25pb24gaXMgd2hhdCBoYXBwZW5zIHdoZW4gc29tZW9uZSBiZWdpbnMgdG8gbm90aWNlIHRoYXQgdGhlIGRydWcgdGhleSBhcmUgY29uc3VtaW5nIGlzIG5vIGxvbmdlciB3b3JraW5nIGFzIGl0IHNob3VsZC4gIExldCBpdCBiZSBhIHN0cmVldCBkcnVnLCBvciBldmVuIGFuIGFudGktZGVwcmVzc2FudC4gIElmIHRoZSBkcnVnIHVzZXIgaXMgbm90IHJlbGlldmVkIG9mIHRoZWlyIGRlcHJlc3Npb24gb3IgdGhlIGRydWcgZG9lcyBub3QgbWFrZSB0aGVtIGZlZWwgYmV0dGVyLCBpdCB3b3VsZCBiZSBuYXR1cmFsIHRvIGFzc3VtZSB0aGF0IHRoZXkgbWlnaHQgdHJ5IHRha2luZyBzb21lIG1vcmUgaW4gYXR0ZW1wdHMgdG8gb2J0YWluIHRoZSBmZWVsaW5nIHRoZXkgc2Vlay4gIFRoaXMgbWFrZXMgbWUgYmVsaWV2ZSB0aGF0IGEgbG90IG9mIE92ZXJkb2VzIGFyZSBtb3N0IGxpa2VseSBub3QgYXR0ZW1wdGVkIHN1Y2lkZXMsIGJ1dCByYXRoZXIsIHRoZXkgcmVhbGx5IG5lZWRlZCBoZWxwLiAgSnVkeSBHYXJsYW5kIGFuZCBSb2JpbiBXaWxsaWFtcyBtb3N0IGxpa2VseSBkaWQgbm90IGF0dGVtcHQgc3VjaWRlLCBub3Igd2FudGVkIHRvIGRpZS4gIEl0IHdhcyBqdXN0IGFuIGhvbmVzdCBtaXN0YWtlIG9uIHRoZWlyIHBhcnQgd2hpY2ggbGVkIHRvIHRoZWlyIHVsdGltYXRlIGRlbWlzZS4gIEknbSBub3Qgc3VyZSBpZiB0aGlzIGlzIHRoZSB3YXkgbW9zdCBwZW9wbGUgdGhpbmsgb2YgT3ZlcmRvZXMsIG9yIGlmIGl0IGlzIGp1c3QgbWUuICBPdmVyZG9zZXMgYW5kIHN1Y2lkZSBhcmUgdmVyeSB0YWJib28gc3ViamVjdHMgaW4gb3VyIHNvY2lldHkgdGhhdCBtb3N0bHkgZXZlcnlvbmUgYXZvaWRzIHRhbGtpbmcgYWJvdXQgd2hhdHNvZXZlci4gIEFzIGEgcmVzdWx0LCBJIGRvIG5vdCBoYXZlIGFueSB3YXlzIHRvIHByb3Blcmx5IHJlZmxlY3Qgb24gdGhlc2Ugc3ViamVjdHMsIG90aGVyIHRoYW4gd2l0aCBteXNlbGYsIGxlYWRpbmcgdG8gYSBtb3N0bHkgdHVubmVsIHZpc2lvbiBsaWtlIGlkZWFsIG9mIGJvdGguXG4iIH0sIHsgIklkIiA6IDU2LCAiUGF0aCIgOiAiL1doeUlMb3ZlWCIsICJUaXRsZSIgOiAiV2h5IEkgbG92ZSB0aGUgWCBXaW5kb3cgU3lzdGVtIiwgIkNvbnRlbnRUeXBlIiA6IDEsICJDcmVhdGVkIiA6ICIyMDI0LTAzLTA3VDExOjM2OjIyLjA3My0wNjowMCIsICJNb2RpZmllZCIgOiAiMjAyNC0wMy0wN1QxOToyNzowMS43NTItMDY6MDAiLCAiQ29udGVudCIgOiAiSW4gdGhlIGxhc3QgZmV3IHllYXJzIGEgbmV3IGdyYXBoaWNhbCBzeXN0ZW0gaGFzIHN0YXJ0ZWQgdG8gZW1lcmdlIGZvciB0aGUgTGludXggcGxhdGZvcm0sICpXYXlsYW5kKi4gIFdoaWxlIEkgY2FuIHNlZSB0aGUgYmVuZWZpdHMgb2YgdGhpcyBuZXcgc3lzdGVtLCBJIHN0aWxsIHZlcnkgbXVjaCBsb3ZlIHRoZSAqKm5ldHdvcmsgdHJhbnNwYXJlbmN5Kiogb2YgdGhlICpYIFdpbmRvdyBTeXN0ZW0qLCBoZXJlJ3Mgd2hhdCB3ZSB3aWxsIGFsbCBsb3NlIG91dCBvbiwgaWYgYSBuZXcgZ3JhcGhpY2FsIHN5c3RlbSBkb2VzIG5vdCBpbXBsZW1lbnQgdGhlbS5cblxuIyMjIHgyeCBhbmQgeDJ2bmNcblxuQm90aCBvZiB0aGVzZSBpbmNyZWRpYmx5LCBidXQgbW9zdCBsaWtlbHksIGxlc3NlciBrbm93biBwcm9ncmFtcyBmb3IgVU5JWC1saWtlIHN5c3RlbXMgaXMgbW9zdCBsaWtlbHkgaW5jb21wYXRpYmxlIHdpdGggKldheWxhbmQqLiAgV2l0aCBgeDJ4YCwgaXQgaXMgZW50aXJlbHkgcG9zc2libGUgdG8gZXh0ZW5kIG9uZXMgZGVza3RvcCB3aXRob3V0IG5lZWRpbmcgYSBzZWNvbmQgbW9uaXRvciBvbiB5b3VyIG1haW4gbWFjaGluZSwgYW5kIHRoaXMgaXMgYnkgdXNpbmcgYW4gZXh0ZXJuYWwgKlggU2VydmVyKiwgZWl0aGVyIHJ1bm5pbmcgb24gYSBzZWNvbmRhcnkgbGFwdG9wLCBvciBvbiBhbiBBbmRyb2lkIFRhYmxldC4gIFdpdGggYHgydm5jYCwgaXQgYWxsb3dzIHlvdXIgbWFpbiBMaW51eCBkZXNrdG9wIHRvIGJlIGV4dGVuZGVkIHRvIGFueSBPUyBjYXBhYmxlIG9mIHJ1bm5pbmcgYSBiYXNpYyAqVk5DIFNlcnZlciouICBCb3RoIG9mIHRoZXNlIHByb2dyYW1zIG9ubHkgdHJhbnNmZXJzIG1vdXNlIGFuZCBrZXlib2FyZCBtb3ZlbWVudHMgb3ZlciB0byB0aGUgb3RoZXIgc3lzdGVtLiAgVGhlIG5ldHdvcmsgYmFuZHdpZHRoIGZvciBqdXN0IHVzaW5nIHRoaXMgaXMgdmVyeSBtaW5pbWFsLCBhbmQgaGFzIHplcm8gbGF0ZW5jeSBpZiB5b3UgY29ubmVjdCBib3RoIHN5c3RlbXMgdG8gdGhlIHNhbWUgbmV0d29yayBzd2l0Y2ggb3Igb3ZlciBhIGxvb3BiYWNrIGNhYmxlLiAgT25lIGludGVyZXN0aW5nIGFkdmFudGFnZSBvZiB0aGlzIHNvcnQgb2Ygc2V0LXVwIGlzIGJldHRlciBzaGFyaW5nIG9mIGxvY2FsIGNvbXB1dGluZyByZXNvdXJjZXMsIGFzIG5vdyB5b3UgY2FuIGVmZm9ydGxlc3NseSBsYXVuY2ggcHJvZ3JhbXMgYm90aCBvbiB5b3VyIG1haW4gbWFjaGluZSwgYW5kIGJ5IG1vdmluZyB5b3VyIG1vdXNlIHRvIHRoZSBvdGhlciBtYWNoaW5lLCB5b3UgY2FuIGxhdW5jaCB2YXJpb3VzIHByb2dyYW1zIGVhc2lseSBvbiB0aGF0IGhhcmR3YXJlIGFzIHdlbGwuICBIb3dldmVyLCB3aXRoICoqbmV0d29yayB0cmFuc3BhcmVuY3kqKiwgeW91IGNhbiBhbHNvIHJ1biAqWCBjbGllbnRzKiBmcm9tIHlvdXIgbWFpbiBtb3JlIHBvd2VyZnVsIG1hY2hpbmUgb24gdGhlIG90aGVyIHNjcmVlbiB3aXRoIG5vIHJlYWwgZWZmb3J0LiAgTGV0J3MgZ28gdGhyb3VnaCBzb21lIGJhc2ljIGNvbW1hbmQtbGluZXMgdG8gZ2V0IHlvdSBzdGFydGVkIG9uIGEgZHVhbC1zY3JlZW4gYWR2ZW50dXJlIHdpdGggdXNpbmcgdHdvIGluZGVwZW5kZW50IGNvbXB1dGVyczpcblxuSGVyZSdzIHRoZSBtb3N0IGJhc2ljIGV4YW1wbGUgaWYgeW91ciBzZWNvbmRhcnkgbWFjaGluZSB3aXRoIHRoZSBkaXNwbGF5IGlzIHRvIHRoZSByaWdodCBvZiB5b3VyIG1haW4gbW9uaXRvcjpcblxuYHgyeCAtdG8gMTkyLjE2OC4wLjMwOjAgLWVhc3RgXG5cbkZvciBzZWN1cml0eSByZWFzb25zLCBtb3N0IExpbnV4IGRpc3Ryb3MgdXNlIHRoZSBgLW5vbGlzdGVuIHRjcGAgYnkgZGVmYXVsdCwgYW5kIHRoZXNlIGRheXMgdGhlIG1vZGVybiAqKlhvcmcqKiBoYXMgdGhpcyBvcHRpb24gYXMgYSBkZWZhdWx0LCBzbyBzb21lIGFkanVzdG1lbnRzIG5lZWQgdG8gYmUgbWFkZSBvbiB0aGUgc2Vjb25kYXJ5IG1hY2hpbmUuICBJZiB5b3UgYXJlIGRvaW5nIHRoaXMgd2l0aCBhbiAqWCBTZXJ2ZXIqIHJ1bm5pbmcgb24gYW4gQW5kcm9pZCBUYWJsZXQsIHRoZW4geW91IGNhbiBpZ25vcmUgdGhlIGZvbGxvd2luZyBjb25maWd1cmF0aW9uLlxuXG5GaXJzdGx5LCBpZiB0aGlzIGlzIGEgbGFwdG9wIHlvdSB3aXNoIHRvIHN0aWxsIGx1ZyBhcm91bmQgaW50byBwdWJsaWMgcGxhY2VzLCB0aGVuIEkgaGlnaGx5IHJlY29tbWVuZCBydW5uaW5nIGEgbmV3IFggc2VydmVyIGZyb20gdGhlIGNvbW1hbmQtbGluZSBhbmQgc3RhcnRpbmcgYSBuZXcgc2VydmVyIHJhdGhlciB0aGFuIGFsdGVyaW5nIHRoZSBjb25maWd1cmF0aW9uIG9mIHlvdXIgZGlzcGxheSBtYW5hZ2VyLiAgSSBjYW5ub3Qgc3RyZXNzIHRoaXMgZW5vdWdoLCBpZiB5b3UgaGF2ZSB5b3VyIFggc2VydmVyIGxpc3RlbmluZyBvbiBUQ1AgaW4gYW4gb3RoZXJ3aXNlIHVudHJ1c3RlZCBuZXR3b3JrLCBpdCB3aWxsIG5vdCBiZSBhIHNhZmUgZXhwZXJpZW5jZS4gIFlvdSBjb3VsZCBhbHNvIG9wdCB0byB1c2luZyBlaXRoZXIgYFhuZXN0YCBvciBgWGVwaHlyYCwgd2hpY2ggc2hvdWxkIGFsc28gYmUgcnVubmFibGUgd2l0aGluIGEgV2F5bGFuZCBzZXNzaW9uLCBhbmQgYm90aCBJIGRvIGJlbGlldmUgZXZlbiBzdXBwb3J0IGEgZnVsbC1zY3JlZW4gb3B0aW9uLiAgSSBkbyBub3QgdXNlIHRoaXMgbWV0aG9kLCBidXQgc2hvdWxkIGJlIHNpbXBsZSB0byBjb25maWd1cmUgSSdkIGltYWdpbmUuICBIZXJlIGlzIGhvdyB0byBjb25maWd1cmUgaXQgZnJvbSB0aGUgY29uc29sZSwgbm90IGEgdGVybWluYWwgZW11bGF0b3IuICBGaXJzdCwgbG9nIG91dCBvZiB5b3VyIHNlc3Npb24gYW5kIHJldHVybiB0byB5b3VyIGRpc3BsYXkgbWFuYWdlci4gIFRoZW4gaGl0ICpDdHJsLUFsdC1GMiosIGluIHJlY2VudCBMaW51eCB2ZXJzaW9ucywgVFRZMSBpcyB1bmF2YWlsYWJsZSBhcyBhIGNvbnNvbGUsIGF0IGxlYXN0IGZvciBEZWJpYW4uICBJbiB0aGlzIGNvbnNvbGUsIGxvZ2luIGFzIHlvdXIgcmVndWxhciB1c2VyIGFjY291bnQuICBDcmVhdGUgYSBiYXNpYyAqLnhpbml0cmMqIGZpbGUgaW4geW91ciBob21lIGRpcmVjdG9yeSB3aXRoIHRoZSBmb2xsb3dpbmc6XG5cbmBgYFxueGhvc3QgKzE5Mi4xNjguMC4yMCAjIFBsYWNlIHlvdXIgbWFpbiBtYWNoaW5lIElQIGhlcmUuXG5leGVjIGF3ZXNvbWUgIyBzd2FwIG91dCB3aXRoIHlvdXIgZmF2ZSB3aW5kb3cgbWFuYWdlci5cbmBgYFxuXG5Zb3UgY2FuIGVpdGhlciBzdG9wIHlvdXIgZXhpc3RpbmcgZGlzcGxheSBtYW5hZ2VyIHdpdGggYHN5c3RlbWN0bCBzdG9wIHNkZG1gIGZvciBleGFtcGxlLCBvciBieSBhbHRlcmluZyB0aGUgYHN0YXJ0eGAgY29tbWFuZCB0byBpbmNsdWRlIGA6MWAsIGJ1dCB5b3Ugd2lsbCBhbHNvIG5lZWQgdG8gY2hhbmdlIGFsbCB0aGUgb3RoZXIgY29tbWFuZHMgaW4gdGhpcyB3YWxrdGhyb3VnaCBmcm9tIGA6MGAgdG8gYDoxYC4gIFBlcnNvbmFsbHksIGlmIEkgYW0gcGxhbm5pbmcgb24gdXNpbmcgbXkgbGFwdG9wIGFzIGFuIGV4dGVuZGVkIG1vbml0b3IgZm9yIG15IG1haW4gbWFjaGluZSwgdGhlbiBJJ2QgcHJlZmVyIHRvIGp1c3Qgc3RvcCB0aGUgZGlzcGxheSBtYW5hZ2VyIGJlZm9yZSBoYW5kLlxuXG5UaGVuIHN0YXJ0IFggdXNpbmcgdGhlIGZvbGxvd2luZyBjb21tYW5kOiAgYHN0YXJ0eCAtLSAtbGlzdGVuIHRjcGBcblxuQmUgc3VyZSB5b3UgYXJlIG9uIGEgdHJ1c3RlZCBuZXR3b3JrLCBvciBoYXZlIGEgcHJvcGVyIGZpcmV3YWxsIGNvbmZpZ3VyZWQsIGFzIHRoaXMgY2FuIGV4cG9zZSB5b3VyIFggc2VydmVyIHRvIGFueW9uZSBzbm9vcGluZyBpbi5cblxuVGhpcyB3aWxsIGxhdW5jaCB0aGUgWCBzZXJ2ZXIsIGFkZCB5b3VyIG1haW4gbWFjaGluZSB0byB0aGUgYWNjZXNzIGNvbnRyb2wgbGlzdCBvZiB0aGUgWCBzZXJ2ZXIsIGFuZCBzdGFydCBhIGJhc2ljIHdpbmRvdyBtYW5hZ2VyLlxuXG5Gcm9tIHlvdXIgbWFpbiBtYWNoaW5lLCB5b3UgY2FuIG5vdyBydW4gdGhlIGB4MnhgIGNvbW1hbmQgSSBvdXRsaW5lZCBhYm92ZSB0byBjb25uZWN0IHlvdXIgbWFpbiBtYWNoaW5lIHRvIHRoaXMgc2Vjb25kYXJ5IG1hY2hpbmUgdG8gdXNlIGFzIGEgc2Vjb25kIG1vbml0b3IsIGFuZCBhIGZ1bGx5IGluZGVwZW5kZW50IFBDIHdoaWxlIHN0aWxsIHVzaW5nIHlvdXIgY3VycmVudCBrZXlib2FyZCBhbmQgbW91c2UsIG11Y2ggbGlrZSBhIG5ldHdvcmtlZCBLVk0uICBIZXJlIGlzIGhvdyB5b3UgY2FuIHNheSBsYXVuY2ggRmlyZWZveCBmcm9tIHlvdXIgbWFpbiBtYWNoaW5lIGFuZCBoYXZlIGl0IGRpc3BsYXkgb24gdGhlIG90aGVyIG1hY2hpbmUncyBzY3JlZW46XG5cbmBESVNQTEFZPTE5Mi4xNjguMC4zMDowIGZpcmVmb3hgXG5cbkZpcmVmb3ggd2lsbCBub3cgYXBwZWFyIG9uIHlvdXIgc2Vjb25kYXJ5IGRpc3BsYXksIGFuZCBpZiBgeDJ4YCBpcyBzdGlsbCBydW5uaW5nLCB5b3Ugd2lsbCBiZS1hYmxlIHRvIGFsc28gZnVsbHkgY29udHJvbCBpdCB2aWEgeW91ciBtYWluIG1hY2hpbmUncyBrZXlib2FyZCBhbmQgbW91c2UuXG5cblRoZSBgeDJ2bmNgIHByb2dyYW0gd29ya3MgaW4gYSB2ZXJ5IHNpbWlsYXIgd2F5LCBidXQgY2FuIGFsbG93IHlvdSB0byB1c2UgZWl0aGVyIGEgKldpbmRvd3MqIG9yICptYWNPUyogc3lzdGVtIGFzIHlvdXIgc2Vjb25kYXJ5IGRpc3BsYXkgYW5kIGNvbnRyb2wgcHJvZ3JhbXMgb24gdGhvc2UgcmVzcGVjdGl2ZSBvcGVyYXRpbmcgc3lzdGVtcy4gIEhvd2V2ZXIsIHVubGVzcyB5b3Ugc3BlY2lmaWNhbGx5IHJ1biBhbiAqWCBTZXJ2ZXIqIG9uIGVpdGhlciBvZiB0aG9zZSBvcGVyYXRpbmcgc3lzdGVtcywgeW91IHdpbGwgb25seSBiZS1hYmxlIHRvIHJ1biBhbmQgdXNlIHJlc291cmNlcyBmcm9tIHRob3NlIG9wZXJhdGluZyBzeXN0ZW1zLlxuXG5IZXJlIGlzIGhvdyB0byBydW4gaXQ6ICBgeDJ2bmMgLWVhc3QgMTkyLjE2OC4wLjMxOjBgXG5cblNsaWdodGx5IGRpZmZlcmVudCBzeW50YXgsIGJ1dCBlc3NlbnRpYWxseSB0aGUgc2FtZSByZXN1bHQgdG8gZXh0ZW5kIHlvdXIgZGVza3RvcCB0byBhIHRvdGFsbHkgZGlmZmVyZW50IG9wZXJhdGluZyBzeXN0ZW0uXG5cblRoZSAqWCBTZXJ2ZXIqIGZvciBBbmRyb2lkIGNhbiBiZSBkb3dubG9hZGVkIGVhc2lseSBmcm9tIHRoZSBvZmZpY2lhbCBbUGxheSBTdG9yZV0oaHR0cHM6Ly9wbGF5Lmdvb2dsZS5jb20vc3RvcmUvYXBwcy9kZXRhaWxzP2lkPWF1LmNvbS5kYXJrc2lkZS5YU2VydmVyKVxuIiB9LCB7ICJJZCIgOiA1NywgIlBhdGgiIDogIi9Ib3BlIiwgIlRpdGxlIiA6ICJIb3BlIG9ubHkgbGVhZHMgdG8gZGlzYXBwb2ludG1lbnQiLCAiQ29udGVudFR5cGUiIDogMSwgIkNyZWF0ZWQiIDogIjIwMjQtMDMtMDhUMTI6MjU6MTguNzM2LTA2OjAwIiwgIk1vZGlmaWVkIiA6ICIyMDI0LTAzLTA4VDIxOjE2OjUzLjI1Mi0wNjowMCIsICJDb250ZW50IiA6ICJJZiB0aGVyZSBpcyBvbmUgdGhpbmcgSSd2ZSBsZWFybmVkIGluIGxpZmUsIGlzIHRoYXQgaG9wZSBpcyBsaXRlcmFsbHkgaG9wZWxlc3MsIGl0IG9ubHkgbGVhZHMgdG8gdGhlIGZlZWxpbmcgb2YgaHVnZSBkaXNhcHBvaW50bWVudHMgaW4gbGlmZS5cblxuSSd2ZSBiZWVuIHN0cnVnZ2xpbmcgdG8gc2VjdXJlIG15c2VsZiBhIG5ldyBqb2IsIGFuZCBhbGwgSSd2ZSBiZWVuIGxlZCBieSBpcyAqaG9wZSosIG9ubHkgdG8gbm90IGZpbmQgYW55dGhpbmcgYW5kIGJlIG1vcmUgZGlzYXBwb2ludGVkIHRoZW4gd2hlbiBJIGZpcnN0IHN0YXJ0ZWQuICBJIGZlZWwgdGhhdCBpZiBJIGp1c3QgZGlkbid0IGV2ZW4gdHJ5LCBJIHdvdWxkbid0IGJlIGZlZWxpbmcgYXMgKmRpc2FwcG9pbnRlZCogYXMgSSBhbSBub3cgYmVjYXVzZSBJIHdhcyBob3BlZnVsIGluIHRoZSBmaXJzdCBwbGFjZS5cblxuXG5cblRoaXMgaXMgcGFydCBvZiBhIGxhcmdlciBzZXJpZXMgb2YgW0RlcHJlc3NpbmcgQXJ0aWNsZXNdKCMvRGVwcmVzc2luZ0FydGljbGVzKS4iIH0sIHsgIklkIiA6IDU4LCAiUGF0aCIgOiAiL1BhcmFkb3hPZk1vbmV5IiwgIlRpdGxlIiA6ICJUaGUgUGFyYWRveCBvZiBNb25leSIsICJDb250ZW50VHlwZSIgOiAxLCAiQ3JlYXRlZCIgOiAiMjAyNC0wMy0wOFQxMjoyNzoyOC40MjItMDY6MDAiLCAiTW9kaWZpZWQiIDogIjIwMjQtMDMtMDhUMjE6MTQ6MTQuNjg2LTA2OjAwIiwgIkNvbnRlbnQiIDogIk1vbmV5IGlzIGludGVyZXN0aW5nIGluIHRoYXQgaXQgZmVlbHMgbGlrZSBhIHBhcmFkb3ggYW5kIGF0IGxlYXN0IGZvciBtZSwgY2hhbmdlcyBpdCdzIHZhbHVlIGJhc2VkIG9uIGhvdyBtdWNoIEkgaGF2ZS4gIFRoZSBsZXNzIG1vbmV5IEkgaGF2ZSwgdGhlIG1vcmUgdmFsdWUgaXQgaGFzIHRvIG1lLCBhbmQgdGhlIG1vcmUgbW9uZXkgSSBoYXZlLCB0aGUgbGVzcyB2YWx1ZSBpdCBoYXMgdG8gbWUuICBUYWtlIHRoZXNlIGFzIGV4YW1wbGVzIGZvciBob3cgSSB1c2UgbW9uZXkgYmFzZWQgb24gaG93IG11Y2ggSSBoYXZlOlxuXG5XaGVuIEkgaGFkIGEgcmVhbGx5IGFtYXppbmcgam9iIGFuZCBoYWQgYSB2ZXJ5IGNvbnNpc3RlbnQgaGlnaCBpbmNvbWUsIEkgd2FzIGFibGUgdG8gZ28gb3V0IHRvIGhpZ2ggZW5kIHB1YnMgYW5kIHJlc3R1cmFudHMsIGFuZCB0aGUgYmlsbCBhbG1vc3QgZmVsdCBtZWFuaW5nbGVzcyBvbiBob3cgbXVjaCBpdCB3YXMuICBJbiB0aGVzZSBtb21lbnRzLCBpdCB3YXMgbW9yZSBhYm91dCB0aGUgc2VydmljZSBhbmQgaG93IEkgd2FzIHRyZWF0ZWQsIGFuZCB0aHVzIEkgdGVuZGVkIHRvIGdpdmUgcmF0aGVyIGFtYXppbmcgdGlwcywgKjMwJSogYmVmb3JlIHRoaXMgd2FzIGV2ZW4gYSB0aGluZyBpbiB0aGUgbW9kZXJuIGRheS4gIEkgdGlwcGVkIHdlbGwsIGFzIGluIG15IG1pbmQsIEkga25ldyBJIHN0aWxsIGhhZCBhIGxvdCB0byBzcGVuZCBhbmQgb3RoZXJ3aXNlIGdpdmUuXG5cbkluIG15IGN1cnJlbnQgc2l0dWF0aW9uLCB3aGVyZSBJIGhhdmUgYWxtb3N0IG5vIG1vbmV5LCBJIGJyb2tlIGEgKiQyMCogYmlsbCB0aGUgb3RoZXIgZGF5IGFuZCBmZWx0IGJhZCBkb2luZyBpdCwgYXMgSSB3b3VsZG4ndCBldmVuIGtub3cgd2hlbiBJJ2QgZXZlbiBoYXZlIHRoYXQgbXVjaCBtb25leSB0byBzcGVuZCBvbiBmb29kIGFnYWluLiAgTm93IHdoZW4gSSBhbSB0cnlpbmcgdG8gbWFrZSBtb25leSwgSSBob2xkIGl0IGF0IGEgaGlnaGVyIHZhbHVlLCBzbyB3aGVuIHNheSB0cnlpbmcgdG8gc2VsbCBzb21ldGhpbmcsIEkgd2FudCB0byBtYWtlIHN1cmUgdGhhdCBJIGFtIGdldHRpbmcgdGhlIHByb3BlciB2YWx1ZSBvZiB3aGF0IEkgYW0gdHJ5aW5nIHRvIHNlbGwsIGFuZCB3aWxsIGFic29sdXRlbHkgbm90IHNldHRsZSBmb3IgYW55dGhpbmcgbGVzcyB0aGFuIHRoZSB2YWx1ZSBJIGJlbGlldmUgaXMgdGhlIHJpZ2h0IHZhbHVlIGZvciBpdC5cblxuSSBoYXZlIGxpdmVkIG9uIGJvdGggc2lkZXMgb2YgdGhpcyBmZW5jZS4gIEkgc3RhcnRlZCBvZmYgaW4gcG92ZXJ0eSBpbiBteSB5b3V0aCwgYmFyZWx5IG1ha2luZyBhbnl0aGluZyB0byBnZXQgYnkgaW4gbXkgaG9tZXRvd24sIHRvIG1ha2luZyBhbG1vc3QgNi1maWd1cmVzIHdpdGggYW1hemluZyBib251c2VzIGVhY2ggeWVhciBpbiB0aGUgY2l0eSBJIG5vdyBmaW5kIG15c2VsZiBpbi4gIER1ZSB0byBzb21lIHVuZm9yZXNlZW4gaXNzdWVzLCBJIGFtIG5vdyBiYWNrIGluIHBvdmVydHkgd2l0aCBubyBtb25leSB0byBteSBuYW1lIGFueW1vcmUsIGFuZCBhZnRlciBzb21lIHJlZmxlY3Rpb24sIHRoaXMgKnBhcmFkb3gqIGhlcmUgY2FtZSB0byBtZS5cblxuIyMgQSB0aG91Z2h0XG5cbk9uZSB0aG91Z2h0IEkgaGFkIGF3aGlsZSBiYWNrIGFib3V0IGEgcG90ZW50aWFsIHNvbHV0aW9uLCB3aGljaCBpcyBpbmNvcnBvcmF0ZWQgaW4gKm1vZGVybiB2aWRlbyBnYW1lcyogaXMgdGhlIGNvbmNlcHQgb2YgYSAqKmxldmVsIGNhcCoqLCB3aGljaCBvdGhlcndpc2VzIHByZXZlbnRzIHNvbWUgcGxheWVycyBmcm9tIGJlY29taW5nICoqT1AqKigqb3ZlciBwb3dlcmVkKikgYXMgd2UgY2FuIGN1cnJlbnRseSBzZWUgd2l0aCBob3cgbW9uZXkgaXMgZGlzdHJpYnV0ZWQsIHdoaWNoIGlzIGxpdGVyYWxseSBjcmVhdGluZyAqcmVhbCB3b3JsZCBvdmVyIHBvd2VyZWQqIGFzIHRoZXNlIG5vdywgdHJpbGxpb25haXJlcyBjbGVhcmx5IGRvIG5vdCBoYXZlIGEgKmxldmVsIGNhcCogb2YgdGhlaXIgb3duLCBiZXNpZGVzIHRoZSBza3ksIGFuZCBhcyBhIHJlc3VsdCB0byBrZWVwIHJhaXNpbmcgdG8gdGhlIHRvcCBvZiB0aGlzICpzby1jYWxsZWQgbGVhZGVyYm9hcmQqLCBhbmQgbW9zdCBvZiB1cyBqdXN0IGZhbGxpbmcgY29tcGxldGVseSBkb3duIGl0LiAgSSBiZWxpZXZlIHRoZSBiZXN0IHNvbHV0aW9uIGZvciB0aGUgY3VycmVudCB3b3JsZCBlY29ub21pYyBpc3N1ZXMgaXMgdG8gcHV0IGEgbGl0ZXJhbCAqbW9uZXkgY2FwKiBpbiBvdXIgcmVhbC13b3JsZCwgb3IgdGhpcyB3aWxsIG9ubHkganVzdCBrZWVwIGdldHRpbmcgd29yc2UsIHdpdGggbm93IHNvbWUgb2YgdGhlIG9ubHkgd2F5cyB0byBrZWVwIG1ha2luZyBtb25leSBpcyB0byBlaXRoZXIgcGF5IHlvdXIgZW1wbG95ZWVzIGFzIGxpdHRsZSBhcyB5b3UgY2FuIGdldCBhd2F5IHdpdGgsIG9yIGZpcmUgdGhlbSBvdXQgcmlnaHQgdG8gc2F2ZSBvbiB0aGVpciB3YWdlL3NhbGFyeSBlbnRpcmVseS4gIFRoaXMgaXMgdGhlIHdvcmxkIHdlIGN1cnJlbnRseSBzZWUgdW5mb2xkaW5nIGFyb3VuZCB1cywgYnV0IG1vc3Qgb2YgdXMgYXJlIGNvbXBsZXRlbHkgYmxpbmQgdG8gc2VlIGl0LCBqdXN0IGFzIGl0IGdvZXMgd2l0aCB0aG9zZSBsb3N0IGNhciBrZXlzIEkgZ3Vlc3MuICBUaGUgcHJvYmxlbSBoZXJlLCBpcyB0aGF0IGl0IG1pZ2h0IG5vdCBiZSB0b28gbGF0ZSB0byBmaWd1cmUgdGhpcyBwcm9ibGVtIG91dCwgb3Igd2UgYXJlIGRlc3RpbmVkIGZvciBhIHRvdGFsIGVjb25vbWljIGNvbGxhcHNlLiAgQXNrICoqUmljaGFyZCBHYXJyZXQqKiBob3cgcGxheWVycyBjb21wbGV0ZWx5IGRlc3Ryb3llZCB0aGUgaW4tZ2FtZSBlY28tc3lzdGVtIGJ5IGh1bnRpbmcgYWxsIHRoZSBhbmltYWxzLCBhbmQgc2luY2UgdGhlIHN5c3RlbSBzaW11bGF0ZWQgYXQgdGhlIHRpbWUsIGEgcmVhbGlzdGljIGVjby1zeXN0ZW0sIHBsYXllcnMgd2VyZSBraWxsaW5nIGJlZm9yZSB0aGVzZSBhbmltYWxzIGhhZCBlbm91Z2ggdGltZSB0byByZXByb2R1Y2UsIGNhdXNpbmcgKk9yaWdpbiBTeXN0ZW0qIHRvIHJldGhpbmsgdGhlIGVudGlyZSBzeXN0ZW0sIGFzIHBsYXllcnMgd2lsbCBiZSBwbGF5ZXJzLCBhcyB3ZSBzZWUgd2l0aCBodWdlIGJ1c2luZXNzIGV4ZWN1dGl2ZXMgaW4gb3VyIHJlYWwtd29ybGQgcGxheWluZyBhIGdhbWUgd2l0aG91dCBhIGNhcC4gIFBlb3BsZSBqdXN0IG5lZWQgdG8gb3BlbiB0aGVpciBleWVzIGFuZCBqdXN0IHNlZSB3aGF0IGlzIHF1aXRlIGxpdGVyYWxseSByaWdodCBpbiBmcm9udCwgYW5kIGFuIG9idmlvdXMgc29sdXRpb24gd2hpY2ggY2FuIGFjdHVhbGx5IG1ha2UgKmNhcGl0YWxpc20qIHdvcmsgYW5kIHRocml2ZS4gIFRoaXMgY291bGQgcG90ZW50aWFsbHkgYmUgdGhlIG5leHQgZXZvbHV0aW9uIG9mICpjYXBpdGFsaXNtKiBpcyB0byBoYXZlIGEgKmNhcCogdG8gdGhpcyAqY2FwaXRhbGlzbSouICBMZXQncyBtYWtlIHRoaXMgZ2FtZSB3ZSBhbGwgY2FsbCByZWFsLWxpZmUgYSBtb3JlIGZhaXIgcGxheWluZyBmaWVsZCBmb3IgZXZlcnlvbmUuXG5cbkkga25vdyBzb21lb25lIHdpbGwgYnJpbmcgdXAsICp3ZWxsIHRoYXQgaXMgd2hhdCB0YXhlcyBhcmUgZm9yKiBhcmd1bWVudCwgd2VsbCwgdGhhdCBkb2Vzbid0IHNlZW0gdG8gYmUgd29ya2luZyB0aGF0IHdlbGwgYXMgYSB3YXkgdG8gaGF2ZSB0aGlzICp2aXJ0dWFsIGNhcCogc28gdGhhdCBzb21lIGZ1bmRzIGFyZSBwdXQgYmFjayBpbnRvIHRoZSBlY29ub215LiAgSSBhbSBub3Qgc2F5aW5nIHRoYXQgdGhpcyBjYW4gYmUgc29tZXRoaW5nIHRoYXQgY2FuIGJlIGRvbmUgb3Zlcm5pZ2h0LCBidXQgaXQgaXMgc29tZXRoaW5nIHRoYXQgbWF5IGV2ZW50dWFsbHkgbmVlZCB0byBiZSByZXNlYXJjaGVkIGFuZCBkZWNpZGVkIHVwb24gYXMgYSBzb2NpZXR5IGFuZCBncmFkdWFsbHkgYnVpbGQgdG93YXJkcy5cblxuVGhlIG5leHQgb2J2aW91cyBpc3N1ZSwgd2hpY2ggaXMgc3RpbGwgYmVpbmcgdGFja2xlZCBldmVuIHdpdGhvdXQgYSAqY2FwKiBhcmUgc28tY2FsbGVkICp0YXggaGVhdmVucyogd2hlcmUgdGhlIHVsdHJhLXJpY2ggcGxhY2Ugc29tZSBvZiB0aGVpciBtb25leSB0byBsb29wIG91dCBvZiBwYXlpbmcgc29tZSB0YXhlcy4gIEFzIHdpdGggYW55dGhpbmcsIHBlb3BsZSB3aWxsIGFsd2F5cyB0cnkgYW5kIGZpbmQgYSB3YXkgdG8gY2hlYXQgdGhlIHN5c3RlbS4gIFBsYXllcnMgaGF2ZSBhbHdheXMgdHJpZWQgdG8gZmluZCB3YXlzIGFyb3VuZCAqbGV2ZWwgY2FwcyogYW5kIG90aGVyIGdhbWUgcmVzdHJpY3Rpb25zIGFzIHdlbGwsIHRoZSBzYW1lIHRoaW5nIG9idmlvdXNseSBoYXBwZW5zIGluIHRoZSByZWFsLXdvcmxkIHRvby4gIEkgYW0ganVzdCBhcyBzdHVtcGVkIGFzIHRoZSBwb2xpdGljaWFucyB3aGljaCBhcmUgYWxzbyB0cnlpbmcgdG8gZW5zdXJlIHRoYXQgYWxsIHRoZSB0YXhlcyBhcmUgcGFpZCBmcm9tIHRoZW0gYXMgd2VsbC4gIEl0IGlzIG11Y2ggZWFzaWVyIHdpdGhpbiBhIHZpZGVvIGdhbWUgd29ybGQsIHRyeWluZyB0byBlbmZvcmNlIHNvbWV0aGluZyBsaWtlIHRoaXMgaW4gdGhlIHJlYWwtd29ybGQgaXMgbm90IGVhc3ksIHRvIHNheSB0aGUgbGVhc3QuICBBbHNvLCB3aXRoIHRoZSByZWNlbnQgbW92ZSB0byBjcnlwdG8tY3VycmVuY3ksIHRoaXMganVzdCBjb21wbGljYXRlcyBldmVyeXRoaW5nLiAgSW4gZmFjdCwgdHJ5aW5nIHRvIGVuZm9yY2UgYSBsaXRlcmFsICpjYXAqIGluIHRoZSBtb2Rlcm4gd29ybGQgd291bGQgYmUgZnV0aWxlLCBhbmQgdGh1cyBpbGxvZ2ljYWxseSB0byBldmVuIGF0dGVtcHQgdG8gaW1wbGVtZW50LiAgUHJheSBmb3IgYSBzb2Z0IGxhbmRpbmcgd2l0aCB0aGUgZWNvbm9taWMgY29sbGFwc2UuXG5cblRoaXMgaXMgcGFydCBvZiBhIGxhcmdlciBzZXJpZXMgb2YgW0RlcHJlc3NpbmcgQXJ0aWNsZXNdKCMvRGVwcmVzc2luZ0FydGljbGVzKS5cbiIgfSwgeyAiSWQiIDogNTksICJQYXRoIiA6ICIvRGVwcmVzc2luZ0FydGljbGVzIiwgIlRpdGxlIiA6ICJEZXByZXNzaW5nIEFydGljbGVzIiwgIkNvbnRlbnRUeXBlIiA6IDEsICJDcmVhdGVkIiA6ICIyMDI0LTAzLTA4VDIxOjA5OjU1LjQ0Ni0wNjowMCIsICJNb2RpZmllZCIgOiAiMjAyNC0wMy0xNlQxNzowMToxOC4wOTktMDY6MDAiLCAiQ29udGVudCIgOiAiVGhlIGZvbGxvd2luZyBhcnRpY2xlcyB3aWxsIG1vc3QgbGlrZWx5IGNvbnRhaW4gc29tZSB2ZXJ5IGRlcHJlc3NpbmcgY29udGVudCwgc28gcmVhZGVyIGJld2FyZS4gIEhvd2V2ZXIsIHNvbWUgYXJ0aWNsZXMgbWF5IG9mZmVyIGp1c3QgYSBzbWFsbCBnbGltbWVyIG9mIGhvcGUsIHRoYXQgcXVpY2tseSBmYWRlcyBieSB0aGUgYXJ0aWNsZSdzIGNvbmNsdXNpb24uXG5cbkkgdGVuZCB0byB3cml0ZSBhIGxvdCBvZiBpbnRlcmVzdGluZyB0aG91Z2h0IHByb3Zva2luZyBhcnRpY2xlcyB3aGVuIEkgYW0gKmRlcHJlc3NlZCosIGFuZCB0aGlzIHBhZ2UgaGVyZSB3aWxsIHRyeSBhbmQgcHJvdmlkZSBhIGxpbmsgdG8gZWFjaCBvZiB0aGVtLiAgSSB3cml0ZSB0aGlzICpkaXNjbGFpbWVyKiBoZXJlLCBpcyBiZWNhdXNlIGFmdGVyIEkgY29uc3VtZSBzb21ldGhpbmcgdGhhdCBvdGhlcndpc2UgbWFrZXMgbWUgbGVzcyBkZXByZXNzZWQsIGFuZCB3aGVuIEkgcmVhZCBzb21lIG9mIHRoZXNlIGFydGljbGVzIGJhY2sgaW4gYSBsZXNzIGRlcHJlc3NlZCBzdGF0ZSBvZiBtaW5kLCBJIGhhdmUgYSBkaWZmZXJpbmcgb3Bpb25pb24gb2YgdGhlbSwgYW5kIGJlY29taW5nIG1vcmUgYXdhcmUgb2YganVzdCBob3cgSSBhbSB3aGVuIEkgYW0gZGVwcmVzc2VkLiAgSSB3YXMgZ29pbmcgdG8gY29udGludWUgYW5vdGhlciBhcnRpY2xlIHRoaXMgZXZlbmluZywgYnV0IHdhcyB1bmFibGUgdG8sIGFzIEkganVzdCBjb25zdW1lZCBzb21ldGhpbmcgdGhhdCBoYXMgcmVsaWV2ZWQgbWUgb2YgdGhhdCBtaW5kc2V0LlxuXG4gICogW1BhcmFkb3ggb2YgTW9uZXldKCMvUGFyYWRveE9mTW9uZXkpXG4gICogW0RlcHJlc3Npb25dKCMvRGVwcmVzc2lvbilcbiIgfSwgeyAiSWQiIDogNjAsICJQYXRoIiA6ICIvSW50cmFXZWIiLCAiVGl0bGUiIDogIkludHJhV2ViIiwgIkNvbnRlbnRUeXBlIiA6IDEsICJDcmVhdGVkIiA6ICIyMDI0LTAzLTE1VDIyOjI4OjMyLjEwMi0wNjowMCIsICJNb2RpZmllZCIgOiAiMjAyNC0wMy0xNVQyMjozMjozNi42NTItMDY6MDAiLCAiQ29udGVudCIgOiAiU2ltaWxhciB0byBbeFByb2plY3QtRjldKCMveFByb2plY3QtRjkpIGluIHRoYXQgaXQgY2FuIGJ1aWxkIGRlc2t0b3AtbGlrZSBhcHBsaWNhdGlvbnMgZm9yIHRoZSB3ZWIsIGJ1dCBoYXMgYmVlbiBhcm91bmQgZm9yIGEgbG90IGxvbmdlciBhbmQgYWxzbyBoYXMgYW4gZXZhbHVhdGlvbiBlZGl0aW9uIHRoYXQgdGhlIHdlYnNpdGUgc2F5cyBkb2VzIG5vdCBleHBpcmUuICBPbmUgZGF5IEkgbWF5IGNoZWNrIGl0IG91dCBhbmQgc2VlIHdoYXQgSSBjYW4gYnVpbGQgd2l0aCBpdC4gIFlvdSBjYW4gZmluZCB0aGUgcHJvamVjdCB3ZWJzaXRlIGhlcmU6IFtodHRwczovL3d3dy5hdG96ZWQuY29tL2ludHJhd2ViL10oaHR0cHM6Ly93d3cuYXRvemVkLmNvbS9pbnRyYXdlYi8pXG5cbkl0IHdhcyBmaXJzdCBhbmQgZm9yZW1vc3QgZGV2ZWxvcGVkIHdpdGggKkRlbHBoaSogaW4gbWluZCwgYnV0IEkgcmVhZCBpbiBhIHJlY2VudCBwb3N0IHRoYXQgdGhlIGRldmVsb3BlcnMgYXJlIHNvb24gbWFraW5nIGl0IGF2YWlsYWJsZSB0byB1c2Ugd2l0aCBGcmVlUGFzY2FsL0xhemFydXMuXG4iIH0sIHsgIklkIiA6IDYxLCAiUGF0aCIgOiAiL1Bhc2NhbEFJIiwgIlRpdGxlIiA6ICJOZXVyYWwgTmV0d29ya3MgaW4gT2JqZWN0UGFzY2FsIiwgIkNvbnRlbnRUeXBlIiA6IDEsICJDcmVhdGVkIiA6ICIyMDI0LTAzLTE1VDIyOjMyOjUyLjM5OC0wNjowMCIsICJNb2RpZmllZCIgOiAiMjAyNC0wMy0xNVQyMjozNzoyNS4zMzktMDY6MDAiLCAiQ29udGVudCIgOiAiQXMgbW9zdCBkZXZlbG9wZXJzIHNlZSAqUGFzY2FsKiBhcyBhbiBvdXRkYXRlZCBwcm9ncmFtbWluZyBsYW5ndWFnZSBhbmQgbW9zdCBkb24ndCBldmVuIGxvb2sgaXQncyBkaXJlY3Rpb24sIG1vc3QgZGV2ZWxvcGVycyB3aWxsIG5vdCBldmVuIGtub3cgdGhhdCBhICpQaEQgaW4gQUkqIGhhcyBiZWVuIHdvcmtpbmcgdGlyZWxlc3NseSBvbiBhIHBvd2VyZnVsIEFJIGxpYnJhcnkgZm9yIE9iamVjdFBhc2NhbCBzaW5jZSBhcm91bmQgMjAxNywgYnV0IEkgYmVsaWV2ZSB0aGUgZGV2ZWxvcGVyIGRpZCBtZW50aW9uIHNvbWV3aGVyZSB0aGF0IHRoaXMgd29yayBvcmlnaW5hbGx5IGJlZ2FuIGluIDIwMDEuICBJIGhpZ2hseSByZWNvbW1lbmQgY2hlY2tpbmcgaXQgb3V0IGlmIHlvdSBhcmUgaW50byBBSSBhbmQgbmV1cmFsIG5ldHdvcmtzLCBhcyBpdCB3aWxsIG9ubHkgc3RhcnQgZ2V0dGluZyBiZXR0ZXIgZnJvbSB0aGlzIHBvaW50IGZvcndhcmQuXG5cbltHaXRIdWIgUmVwb10oaHR0cHM6Ly9naXRodWIuY29tL2pvYW9wYXVsb3NjaHVsZXIvbmV1cmFsLWFwaSlcblxuW0ZvcnVtIHBvc3RdKGh0dHBzOi8vZm9ydW0ubGF6YXJ1cy5mcmVlcGFzY2FsLm9yZy9pbmRleC5waHAvdG9waWMsMzkwNDkuMC5odG1sKVxuIiB9LCB7ICJJZCIgOiA2MiwgIlBhdGgiIDogIi9EZXByZXNzaW9uIiwgIlRpdGxlIiA6ICJVbmRlcnN0YW5kaW5nIG15IERlcHJlc3Npb24iLCAiQ29udGVudFR5cGUiIDogMSwgIkNyZWF0ZWQiIDogIjIwMjQtMDMtMTZUMTc6MDE6MTkuNTM1LTA2OjAwIiwgIk1vZGlmaWVkIiA6ICIyMDI0LTAzLTE2VDE4OjA3OjI0LjI4Mi0wNjowMCIsICJDb250ZW50IiA6ICJJIGFtIHN0YXJ0aW5nIHRvIGJlbGlldmUgdGhhdCBJIG1heSBoYXZlIHdoYXQgaXMgY2FsbGVkICpzaXR1YXRpb25hbCBkZXByZXNzaW9uKiByYXRoZXIgdGhhbiAqY2xpbmljYWwgZGVwcmVzc2lvbiosIGFzIGluIG1vc3QgY2FzZXMsIEkgZG8gbm90IG5lZWQgbWVkaWNhdGlvbnMgdG8gaGFuZGxlIGl0LCBpZiBteSBsaWZlIGlzIGdvaW5nIHdlbGwgYW5kIEkgYW0gbm90IHVuZGVyIGEgbGFyZ2UgYW1vdW50IG9mIG92ZXJ3aGVsbWluZyBzdHJlc3MuICBJIGhhdmUgYmVlbiB3b3JraW5nIHdpdGggdmFyaW91cyBwZW9wbGUgdGhyb3VnaG91dCBteSBsaWZlIG9uIGRlcHJlc3Npb24sIGFuZCBnaXZlbiBzZXZlcmFsIHRhY3RpY3MgdG8gaGVscCBhbGxldmlhdGUgaXQuICBUaGUgbW9zdCB1c2VmdWwgbWV0aG9kcyBhcmUgdXN1YWxseSBhIHNpbXBsZSBkaWV0YXJ5IGNoYW5nZS4gIE9uZSBmb29kIHRoYXQgcmVhbGx5IHN0YW5kcyBvdXQgaXMgKipzdW5mbG93ZXIgc2VlZHMqKiwgd2hpY2ggSSBhbSBub3Qgc3VyZSBob3cgbXVjaCBvZiB0aGUgZ2VuZXJhbCBwb3B1bGF0aW9uIHJlYWxseSBrbm93cyBob3cgbXVjaCBpdCBhY3R1YWxseSBoZWxwcy4gIEkgYWxzbyBmaW5kIGhlYWx0aHkgZmlzaGVzLCBzdWNoIGFzICoqU2FsbW9uKiogdG8gYmUgZXh0cmVtZWx5IGhlbHBmdWwgd2l0aCBteSBkZXByZXNzaXZlIGVwaXNvZGVzLCBvciB0byBrZWVwIHRoZW0gYXQgYmF5IGVudGlyZWx5LiAgVGhlcmUgd2FzIGEgdGltZSB3aGVyZSBhbG1vc3QgZXZlcnkgZGF5IEkgdXNlZCB0byBlYXQgdGhpcyByZWFsbHkgYW1hemluZyBkaXNoIEkgY3JlYXRlZCBteXNlbGYuICBJdCBjb25zaXN0cyBvZiAqKmJha2VkIG1lZGl0ZXJyYW5lYW4gc2FsbW9uKiogY2hvcHBlZCB1cCBpbnRvIHBpZWNlcyBpbiBhIHNhbGFkIHdpdGggYSBsaWdodCB2aW5haWdyZXR0ZS4gIEl0IHdhcyBleHRyZW1lbHkgZGVsaWNvdXMgYW5kIHJlbGF0aXZlbHkgZWFzeSB0byBwcmVwYXJlLlxuXG5cIipTdW5mbG93ZXIgc2VlZHMgcHJvdmlkZSB0cnlwdG9waGFuLXJpY2ggcHJvdGVpbnMgd2l0aCB0aGUgcG90ZW50aWFsIHRvIHByb3RlY3QgYWdhaW5zdCBkZXByZXNzaW9uLiBUcnlwdG9waGFuIGlzIGEgcHJlY3Vyc29yIG9mIHNlcm90b25pbiBhbmQgYSBzdWJzdHJhdGUgZm9yIHRoZSBwcm9kdWN0aW9uIG9mIGluZG9sZSBkZXJpdmF0aXZlcyBieSBndXQgbWljcm9iaW90YS4gVGhpcyBzdHVkeSBhaW1lZCB0byBpbnZlc3RpZ2F0ZSB0aGUgYXNzb2NpYXRpb24gYmV0d2VlbiB0aGUgZGVwcmVzc2lvbi1hbGxldmlhdGluZyBlZmZlY3RzIG9mIGRlb2lsZWQgYW5kIGRlY2hsb3JvZ2VuaWMgc3VuZmxvd2VyIHNlZWRzIChEU0ZTKSBhbmQgcmVndWxhdGlvbiBvZiBndXQgbWljcm9iaW90YS4qXCJcblxuW05hdGlvbmFsIExpYnJhcnkgb2YgTWVkaWNpbmUgU3R1ZHldKGh0dHBzOi8vd3d3Lm5jYmkubmxtLm5paC5nb3YvcG1jL2FydGljbGVzL1BNQzkyODk3NDEvKVxuXG5UaGVyZSBoYXMgYWxzbyBiZWVuIHNvbWUgaW5jcmVhc2luZyBzdHVkaWVzIG9uICoqU1NSSXMqKiBhbmQgaG93IHRoZXkgZG9uJ3QgYWN0dWFsbHkgc29sdmUgdGhlIHByb2JsZW0sIGFuZCB0aGF0IHRoZSBtZWRpY2FsIGNvbW11bml0eSBpcyBub3cgcXVlc3Rpb25pbmcgaWYgZGVwcmVzc2lvbiBpcyBhY3R1YWxseSBldmVuIHJlbGF0ZWQgdG8gYSAqY2hlbWljYWwgaW1iYWxhbmNlKiBpbiB0aGUgYnJhaW4uXG5cbltMaXR0bGUgZXZpZGVuY2UgdGhhdCBjaGVtaWNhbCBpbWJhbGFuY2UgY2F1c2VzIGRlcHJlc3Npb24sIFVDTCBzY2llbnRpc3RzIGZpbmRdKGh0dHBzOi8vd3d3LnRoZWd1YXJkaWFuLmNvbS9zb2NpZXR5LzIwMjIvanVsLzIwL3NjaWVudGlzdHMtcXVlc3Rpb24td2lkZXNwcmVhZC11c2Utb2YtYW50aWRlcHJlc3NhbnRzLWFmdGVyLXN1cnZleS1vbi1zZXJvdG9uaW4pXG5cbltTZXJvdG9uaW4gYW5kIERlcHJlc3Npb246IEEgRGlzY29ubmVjdCBiZXR3ZWVuIHRoZSBBZHZlcnRpc2VtZW50cyBhbmQgdGhlIFNjaWVudGlmaWMgTGl0ZXJhdHVyZV0oaHR0cHM6Ly93d3cubmNiaS5ubG0ubmloLmdvdi9wbWMvYXJ0aWNsZXMvUE1DMTI3NzkzMS8pXG5cbkluIG15IHBlcnNvbmFsIGxpZmUsIHVuZGVyIG1vc3QgY2lyY3Vtc3RhbmNlcyB3aGVyZSBJIGZlZWwgbGlrZSBJIGFtIGluIGNvbnRyb2wgb2YgbXkgb3duIGxpZmUgYW5kIGNhbiBhZmZvcmQgdG8gcHVyY2hhc2Ugd2hhdCBteSBib2R5IG5lZWRzIHRvIHByb3Blcmx5IGZ1bmN0aW9uLCBJIGFtIG5vdCBkZXByZXNzZWQuICBJbiB0aGUgcmVjZW50IHllYXJzIGFmdGVyIENPVklELTE5LCBJIGRvIGFkbWl0LCB0aGF0IGl0IGhhcyBiZWVuIG11Y2ggbW9yZSBkaWZmaWN1bHQgdG8gbWFuYWdlIG15IGRlcHJlc3Npb24gYXMgbXVjaCBhcyBJIHdhcyBhYmxlIHRvIHByZS1wYW5kZW1pYy4gIFNpbmNlIHRoZSBwYW5kZW1pYywgSSBoYXZlbid0IHdvcmtlZCBiYWNrIGluIGFuIG9mZmljZSBqb2IsIGFuZCBoYXZlIGluc3RlYWQgYmVlbiBtb3N0bHkgaXNvbGF0ZWQgaW4gbXkgaG9tZSBtb3N0IGRheXMsIHdoaWNoIGlzIGFsc28gbm90IHZlcnkgaGVhbHRoeSBmb3IgZGVwcmVzc2lvbiwgYW5kIGluIGZhY3QgY2FuIG1ha2UgaXQgd29yc2UuICBUbyBtYWtlIHJlY2VudCBtYXR0ZXJzIHdvcnNlLCBJIGFtIG5vdyBubyBsb25nZXIgYWJsZSB0byBmaW5hbmNpYWxseSB0YWtlIGNhcmUgb2YgbXkgbmVlZHMsIHN1Y2ggYXMgcHVyY2hhc2luZyB0aGUgZm9vZCBpdGVtcyB3aGljaCBJIGtub3cgZG9lcyByZWxpZXZlIG15IGRlcHJlc3Npb24gYW5kIGFsbG93IG1lIHRvIGNvbnRpbnVlIGxpdmluZyBhIG1vcmUgcHJvZHVjdGl2ZSBsaWZlLiAgTm93LCBpbiBvcmRlciB0byBiZSBhYmxlIHRvIGNvcGUgd2l0aCBteSBkZXByZXNzaW9uLCBJIG5lZWQgdG8gZmluZCBmaXJzdCB0aGUgbW90aXZhdGlvbiBpbiBtZSB0byBkbyBzb21ldGhpbmcgb3RoZXIgdGhhbiBkd2VsbCBvbiBteSBjdXJyZW50IGxpZmUgc2l0dWF0aW9uLCBhbmQgdG8ga2VlcCBteSBtaW5kIG90aGVyd2lzZSBvY2N1cGllZCB3aXRoIHNvbWV0aGluZy4gIE9uZSB0aGluZyBJIGNhbiBub3JtYWxseSBkbyB0aGVzZSBkYXlzIHN0aWxsIGlzIHNpdCBhdCBteSBjb21wdXRlciBhbmQgcGVyZm9ybSByZXNlYXJjaCBvbiB2YXJpb3VzIHRvcGljcywgc3VjaCBhcyBtZW50YWwgaGVhbHRoLCBhbmQgY29tcHV0ZXIgc2NpZW5jZS4gIEkgY2FuIGFsc28gZnVsbHkgZGlzdHJhY3QgYW5kIGltbWVyc2UgbXlzZWxmIGluIHNvZnR3YXJlIGRldmVsb3BtZW50LCB3aGljaCB1c3VhbGx5IHF1ZWxscyB0aGUgZmVlbGluZ3Mgb2YgaHVuZ2VyLCBhcyBpdCBkaWQgcHJpb3IgdG8gbm90IGhhdmluZyBhbnkgZm9vZC4gIEFzIGEgY2hpbGQsIG15IGZvc3RlciBwYXJlbnRzIGF0IHRpbWVzIG5lZWRlZCB0byBmb3JjZSBtZSBvZmYgbXkgY29tcHV0ZXIgaW4gb3JkZXIgdG8gcGVyZm9ybSByZWd1bGFyIGFjdGl2aXRpZXMgc3VjaCBhcyBlYXRpbmcsIHNob3dlcmluZywgYW5kIGV2ZW4gZ29pbmcgdG8gdGhlIGJhdGhyb29tLiAgSG93ZXZlciwgd2hlbiBpbiBzdWNoIGEgZmluYW5jaWFsIHN0YXRlIHdoaWNoIEkgY3VycmVudGx5IGZpbmQgbXlzZWxmIGluLCBpdCBpcyBtdWNoIGVhc2llciB0byByZWdyZXNzIGJhY2sgdG8ganVzdCBtZXJlbHkgc2l0dGluZyBhdCBteSBjb21wdXRlciBhbmQgZG9pbmcgYm90aCByZXNlYXJjaCBhbmQgc29mdHdhcmUgZGV2ZWxvcG1lbnQgYXMgYSB3YXkgdG8gdGFrZSBteSBtaW5kIG9mZiBvZiB0aGUgc3RyZXNzIGluIG15IGxpZmUsIGFuZCB1bHRpbWF0ZWx5IHRha2UgbXkgbWluZCBvZmYgb2YgbXkgaW1tZWRpYXRlIG5lZWRzLCBzdWNoIGFzIGVhdGluZywgb2Ygd2hpY2ggSSBjYW4gYmFyZWx5IGRvLCBhbmQgbm93IEkgYW0gbmVlZGluZyB0byByYXRpb24gYWxsIG9mIHRoZSBmb29kIEkgZG8gcHJvY3VyZS4gIEF0IGxlYXN0IEkgY2FuIGZpbmQgc29tZSBzb2xhY2UgaW4gbXkgb3RoZXJ3aXNlIGhvcnJpYmxlIGxpZmUgdW50aWwgSSBjYW4gcHJvcGVybHkgdGFrZSBjYXJlIG9mIG15c2VsZiBhbmQgbXkgbmVlZHMgb25jZSBhZ2Fpbi5cbiIgfSwgeyAiSWQiIDogNjMsICJQYXRoIiA6ICIvRGlnaXRhbElEIiwgIlRpdGxlIiA6ICJEaWdpdGFsIElEcyBpbiBDYW5hZGEiLCAiQ29udGVudFR5cGUiIDogMSwgIkNyZWF0ZWQiIDogIjIwMjQtMDMtMjBUMTA6MDk6MzcuMDMyLTA2OjAwIiwgIk1vZGlmaWVkIiA6ICIyMDI0LTAzLTIwVDEwOjI5OjUzLjQzNS0wNjowMCIsICJDb250ZW50IiA6ICJUaGlzIG1vcm5pbmcgSSBqdXN0IGJlY2FtZSBhd2FyZSB0aHJvdWdoIGEgKlJlZGRpdCogbm90aWZpY2F0aW9uIG9mIGEgcG9zdCBtYWRlIDI3IGRheXMgYWdvLiAgVGhlIFJlZGRpdCBwb3N0IGhhcyBtYW55IENhbmFkaWFucyB2ZXJ5IHZvY2FsIGFib3V0IHRoaXMgbmV3IHBvdGVudGlhbCAqRGlnaXRhbCBJRCogYmVpbmcgaW1wbGVtZW50ZWQgd2l0aGluIENhbmFkYS4gIE15IG9yaWdpbmFsIHJlcGx5IHdhcyBnb2luZyB0byBiZSBibHVudCBhbmQgY29ja3ksIFwiKldlbGwgd2UgZG8gbmVlZCBJRCB0byB3YWxrIGludG8gYWR1bHQtb25seSBzdG9yZXMgaW4gQ2FuYWRhKlwiLCBidXQgdGhlbiBhZnRlciByZWFkaW5nIG1hbnkgb2YgdGhlIGNvbW1lbnRzIHBvc3RlZCBieSBmcmlnaHRlbmVkIENhbmFkaWFucyBjcnlpbmcgbGlrZSBsaXR0bGUgYmFiaWVzLCBhbmQgbm90aWNpbmcgc29tZSBtb3JlIGNvbW1lbnRzIGFib3V0IHRoZSBwb3RlbnRpYWwgb2YgdGhlc2UgYmVpbmcgKmhhY2tlZCosIGFzIGluIHRoZSBwb3JuIHdlYnNpdGUgZ2V0dGluZyBoYWNrZWQsIGFuZCBhIGJhZCBhY3RvciBzdGVhbGluZyBzYWlkIERpZ2l0YWwgSURzLCBJIHdyb3RlIGEgdmFzdGx5IGRpZmZlcmVudCBjb21tZW50IG9uIHRoZSBzdWJqZWN0LlxuXG5UaGVyZSBpcyBhIHZlcnkgc2ltcGxlIHNvbHV0aW9uIGZvciB0aGlzLCB3aGljaCBpcyBhbHJlYWR5IGluIHByYWN0aWNhbCB1c2UgaW4gKkV1cm9wZSosICoqQ2xpZW50LXNpZGUgU1NMIGNlcnRpZmljYXRlcyoqLiAgVGhpcyB3b3VsZCBiZSB0aGUgaWRlYWwgc29sdXRpb24gZm9yIHVzZSBpbiBDYW5hZGEgYXMgd2VsbCwgc28gQ2FuYWRpYW5zIGNhbiBiZSByZXN0IGFzc3VyZWQgdGhhdCBvbmx5IHRoZXkgaGF2ZSBhY2Nlc3MgdG8gdGhlaXIgb3duIGdvdmVybm1lbnQgZmlsZXMsIHRheGVzLCBhbmQgeWVzLCBiZSB2ZXJpZmllZCBmb3IgcG9ybiBzaXRlcy5cblxuW0NsaWVudC1zaWRlIFNTTCBjZXJ0aWZpY2F0ZXNdKGh0dHBzOi8vd3d3LmRpZ2ljZXJ0LmNvbS9mYXEvcHVibGljLXRydXN0LWFuZC1jZXJ0aWZpY2F0ZXMvd2hhdHMtdGhlLWRpZmZlcmVuY2UtYmV0d2Vlbi1jbGllbnQtY2VydGlmaWNhdGVzLXZzLXNlcnZlci1jZXJ0aWZpY2F0ZXMpXG5cbkl0J3MgYW4gZWFzeSBzb2x1dGlvbiwgYW5kIGluIGV2ZXJ5IGJyb3dzZXIgYW5kIGluIGV2ZXJ5IG9wZXJhdGluZyBzeXN0ZW0sIGp1c3QgZG91YmxlLWNsaWNraW5nIG9uIHRoZSBjZXJ0aWZpY2F0ZSBkb3dubG9hZCwgYXMgdGhlIGZpbGUgZXh0ZW5zaW9uIGlzIG5vcm1hbGx5IHJlZ2lzdGVyZWQgd2l0aCB0aGUgZGVmYXVsdCBicm93c2VyLCBhbmQgaXQganVzdCBpbnN0YWxscywgYWZ0ZXIgdGhlIGVudGVyaW5nIG9mIGEgdHlwaWNhbCAqcGFzc3BocmFzZSogb2YgY291cnNlLiAgSXQncyBlYXN5IHRvIGltcGxlbWVudCwgZWFzeSB0byBpbnN0YWxsLCBhbmQganVzdCBhcyBlYXN5IHRvIHVzZS4gIEluIGZhY3QgdXNpbmcgdGhlIGNlcnQgaXMgYXMgZWFzeSBhcyBuYXZpZ2F0aW5nIHRvIHRoZSB3ZWJzaXRlLCBjbGlja2luZyBvbiB0aGUgU2lnbi1JbiwgYW5kIHNlbGVjdGluZyB0aGUgY2xpZW50LXNpZGUgY2VydCB5b3Ugd2lzaCB0byBzaWduLWluIHdpdGgsIHZhbGlkYXRpbmcgeW91ciBpZGVudGlmaWNhdGlvbi4gIFRoZSBjZXJ0aWZpY2F0ZSBpdHNlbGYgaXMgbmV2ZXIgc2VudCB0byB0aGUgcmVtb3RlIHNlcnZlciwgYW5kIGluc3RlYWQgaXQgaXMgdXNlZCBmb3IgdGhlIGVuY3J5cHRpb24vZGVjcnlwdGlvbiBleGNoYW5nZSBiZXR3ZWVuIHRoZSBicm93c2VyIGFuZCB0aGUgc2VydmVyLCBpdCdzIHJlYWxseSBhIHZlcnkgdW51c2VkIHBvd2VyZnVsIHRlY2hub2xvZ3kgdGhhdCBhIG1ham9yaXR5IG9mIHRoZSB3ZXN0ZXJuIHBvcHVsYXRpb24gaXMgY29tcGxldGVseSB1bndhcmUgb2YuXG5cbkZvciBpbmZvcm1hdGlvbiBvbiB0aGUgc3VjY2Vzc2Z1bCBpbXBsZW1lbnRhdGlvbiB3aXRoaW4gdGhlIEV1cm9wZWFuIFVuaW9uLCBzZWUgdGhlaXIgb2ZmaWNpYWwgd2Vic2l0ZSBvbiAqRGlnaXRhbCBJRHMqOlxuXG5bRVUgRGlnaXRhbCBJRHNdKGh0dHBzOi8vY29tbWlzc2lvbi5ldXJvcGEuZXUvc3RyYXRlZ3ktYW5kLXBvbGljeS9wcmlvcml0aWVzLTIwMTktMjAyNC9ldXJvcGUtZml0LWRpZ2l0YWwtYWdlL2V1cm9wZWFuLWRpZ2l0YWwtaWRlbnRpdHlfZW4pXG4iIH1dIH0="});rtl.module("System",[],function(){"use strict";var $mod=this;var $impl=$mod.$impl;var $lt=null;var $lt1=null;var $lt2=null;var $lt3=null;var $lt4=null;this.LineEnding="\n";this.sLineBreak=this.LineEnding;this.MaxLongint=0x7fffffff;this.Maxint=2147483647;$lt=this.TTextLineBreakStyle={"0":"tlbsLF",tlbsLF:0,"1":"tlbsCRLF",tlbsCRLF:1,"2":"tlbsCR",tlbsCR:2};rtl.createClass(this,"TObject",null,function(){$lt1=this;this.$init=function(){};this.$final=function(){};this.Create=function(){return this;};this.Destroy=function(){};this.Free=function(){this.$destroy("Destroy");};this.ClassType=function(){return this;};this.InheritsFrom=function(aClass){return(aClass!=null)&&((this==aClass)||aClass.isPrototypeOf(this));};this.FieldAddress=function(aName){var Result=null;Result=null;if(aName==="")return Result;var aClass=this.$class;var ClassTI=null;var myName=aName.toLowerCase();var MemberTI=null;while(aClass!==null){ClassTI=aClass.$rtti;for(var i=0,$end2=ClassTI.fields.length-1;i<=$end2;i++){MemberTI=ClassTI.getField(i);if(MemberTI.name.toLowerCase()===myName){return MemberTI;};};aClass=aClass.$ancestor?aClass.$ancestor:null;};return Result;};this.AfterConstruction=function(){};this.BeforeDestruction=function(){};});this.vtInteger=0;this.vtExtended=3;this.vtWideChar=9;this.vtCurrency=12;this.vtUnicodeString=18;this.vtNativeInt=19;rtl.recNewT(this,"TVarRec",function(){$lt2=this;this.VType=0;this.VJSValue=undefined;this.$eq=function(b){return(this.VType===b.VType)&&(this.VJSValue===b.VJSValue)&&(this.VJSValue===b.VJSValue)&&(this.VJSValue===b.VJSValue)&&(this.VJSValue===b.VJSValue)&&(this.VJSValue===b.VJSValue)&&(this.VJSValue===b.VJSValue)&&(this.VJSValue===b.VJSValue);};this.$assign=function(s){this.VType=s.VType;this.VJSValue=s.VJSValue;this.VJSValue=s.VJSValue;this.VJSValue=s.VJSValue;this.VJSValue=s.VJSValue;this.VJSValue=s.VJSValue;this.VJSValue=s.VJSValue;this.VJSValue=s.VJSValue;return this;};});this.VarRecs=function(){var Result=[];var i=0;var v=null;Result=[];while(i<arguments.length){v=$lt2.$new();v.VType=rtl.trunc(arguments[i]);i+=1;v.VJSValue=arguments[i];i+=1;Result.push($lt2.$clone(v));};return Result;};this.IsConsole=false;this.OnParamCount=null;this.OnParamStr=null;this.Frac=function(A){return A%1;};this.Odd=function(A){return A&1!=0;};this.Sqr$1=function(A){return A*A;};this.Trunc=function(A){if(!Math.trunc){Math.trunc=function(v){v=+v;if(!isFinite(v))return v;return(v-v%1)||(v<0?-0:v===0?v:0);};}
$mod.Trunc=Math.trunc;return Math.trunc(A);};this.DefaultTextLineBreakStyle=0;this.Int=function(A){var Result=0.0;Result=$mod.Trunc(A);return Result;};this.Copy=function(S,Index,Size){if(Index<1)Index=1;return(Size>0)?S.substring(Index-1,Index+Size-1):"";};this.Copy$1=function(S,Index){if(Index<1)Index=1;return S.substr(Index-1);};this.Delete=function(S,Index,Size){var h="";if((Index<1)||(Index>S.get().length)||(Size<=0))return;h=S.get();S.set($mod.Copy(h,1,Index-1)+$mod.Copy$1(h,Index+Size));};this.Pos=function(Search,InString){return InString.indexOf(Search)+1;};this.Insert=function(Insertion,Target,Index){var t="";if(Insertion==="")return;t=Target.get();if(Index<1){Target.set(Insertion+t)}
else if(Index>t.length){Target.set(t+Insertion)}
else Target.set($mod.Copy(t,1,Index-1)+Insertion+$mod.Copy(t,Index,t.length));};this.upcase=function(c){return c.toUpperCase();};this.val=function(S,NI,Code){NI.set($impl.valint(S,-9007199254740991,9007199254740991,Code));};this.val$6=function(S,I,Code){I.set($impl.valint(S,-2147483648,2147483647,Code));};this.val$8=function(S,d,Code){var x=0.0;if(S===""){Code.set(1);return;};x=Number(S);if(isNaN(x)){Code.set(1)}
else{Code.set(0);d.set(x);};};this.StringOfChar=function(c,l){var Result="";var i=0;if((l>0)&&c.repeat)return c.repeat(l);Result="";for(var $l=1,$end=l;$l<=$end;$l++){i=$l;Result=Result+c;};return Result;};this.Writeln=function(){var i=0;var l=0;var s="";l=arguments.length-1;if($impl.WriteCallBack!=null){for(var $l=0,$end=l;$l<=$end;$l++){i=$l;$impl.WriteCallBack(arguments[i],i===l);};}else{s=$impl.WriteBuf;for(var $l1=0,$end1=l;$l1<=$end1;$l1++){i=$l1;s=s+(""+arguments[i]);};console.log(s);$impl.WriteBuf="";};};this.SetWriteCallBack=function(H){var Result=null;Result=$impl.WriteCallBack;$impl.WriteCallBack=H;return Result;};this.Assigned=function(V){return(V!=undefined)&&(V!=null)&&(!rtl.isArray(V)||(V.length>0));};$mod.$implcode=function(){$impl.WriteBuf="";$impl.WriteCallBack=null;$impl.valint=function(S,MinVal,MaxVal,Code){var Result=0;var x=0.0;if(S===""){Code.set(1);return Result;};x=Number(S);if(isNaN(x)){var $tmp=$mod.Copy(S,1,1);if($tmp==="$"){x=Number("0x"+$mod.Copy$1(S,2))}
else if($tmp==="&"){x=Number("0o"+$mod.Copy$1(S,2))}
else if($tmp==="%"){x=Number("0b"+$mod.Copy$1(S,2))}
else{Code.set(1);return Result;};};if(isNaN(x)||(x!==$mod.Int(x))){Code.set(1)}
else if((x<MinVal)||(x>MaxVal)){Code.set(2)}
else{Result=$mod.Trunc(x);Code.set(0);};return Result;};};$mod.$init=function(){rtl.exitcode=0;};},[]);rtl.module("Types",["System"],function(){"use strict";var $mod=this;var $lt=null;var $lt1=null;$lt=this.TDirection={"0":"FromBeginning",FromBeginning:0,"1":"FromEnd",FromEnd:1};$lt1=this.TDuplicates={"0":"dupIgnore",dupIgnore:0,"1":"dupAccept",dupAccept:1,"2":"dupError",dupError:2};});rtl.module("JS",["System","Types"],function(){"use strict";var $mod=this;var $lt=null;var $lt1=null;var $lt2=null;var $lt3=null;var $lt4=null;var $lt5=null;var $lt6=null;var $lt7=null;var $lm=pas.System;var $lt8=$lm.TObject;rtl.createClass(this,"EJS",$lt8,function(){$lt=this;this.$init=function(){$lt8.$init.call(this);this.FMessage="";};this.Create$1=function(Msg){this.FMessage=Msg;return this;};});this.New=function(aElements){var Result=null;var L=0;var I=0;var S="";L=rtl.length(aElements);if((L%2)===1)throw $lt.$create("Create$1",["Number of arguments must be even"]);I=0;while(I<L){if(!rtl.isString(aElements[I])){S=String(I);throw $lt.$create("Create$1",["Argument "+S+" must be a string."]);};I+=2;};I=0;Result=new Object();while(I<L){S=""+aElements[I];Result[S]=aElements[I+1];I+=2;};return Result;};this.JSDelete=function(Obj,PropName){return delete Obj[PropName];};this.isBoolean=function(v){return typeof(v)=='boolean';};this.isDate=function(v){return(v instanceof Date);};this.isInteger=function(v){return Math.floor(v)===v;};this.isNull=function(v){return v===null;};this.isUndefined=function(v){return v==undefined;};this.isDefined=function(v){return!(v==undefined);};this.toNumber=function(v){return v-0;};});rtl.module("Web",["System","Types","JS"],function(){"use strict";var $mod=this;var $lt=null;var $lt1=null;var $lt2=null;var $lt3=null;var $lt4=null;var $lt5=null;var $lt6=null;var $lt7=null;var $lt8=null;var $lt9=null;var $lt10=null;var $lt11=null;var $lt12=null;var $lt13=null;var $lt14=null;});rtl.module("RTLConsts",["System"],function(){"use strict";var $mod=this;$mod.$resourcestrings={SArgumentMissing:{org:'Missing argument in format "%s"'},SInvalidFormat:{org:'Invalid format specifier : "%s"'},SInvalidArgIndex:{org:'Invalid argument index in format: "%s"'},SListCapacityError:{org:"List capacity (%s) exceeded."},SListCountError:{org:"List count (%s) out of bounds."},SListIndexError:{org:"List index (%s) out of bounds"},SSortedListError:{org:"Operation not allowed on sorted list"},SDuplicateString:{org:"String list does not allow duplicates"},SErrFindNeedsSortedList:{org:"Cannot use find on unsorted list"},SInvalidName:{org:'Invalid component name: "%s"'},SInvalidBoolean:{org:'"%s" is not a valid boolean.'},SDuplicateName:{org:'Duplicate component name: "%s"'},SErrInvalidDate:{org:'Invalid date: "%s"'},SErrInvalidTimeFormat:{org:'Invalid time format: "%s"'},SInvalidDateFormat:{org:'Invalid date format: "%s"'},SErrInvalidInteger:{org:'Invalid integer value: "%s"'},SErrInvalidFloat:{org:'Invalid floating-point value: "%s"'},SInvalidCurrency:{org:"Invalid currency value: %s"}};});rtl.module("SysUtils",["System","RTLConsts","JS"],function(){"use strict";var $mod=this;var $impl=$mod.$impl;var $lt=null;var $lt1=null;var $lt2=null;var $lt3=null;var $lt4=null;var $lt5=null;var $lt6=null;var $lt7=null;var $lt8=null;var $lm=pas.System;var $lt9=$lm.TObject;var $lp=$lm.Writeln;var $lp1=$lm.val;var $lp2=$lm.Copy;var $lp3=$lm.upcase;var $lp4=$lm.StringOfChar;var $lp5=$lm.Insert;var $lm1=pas.RTLConsts;var $lp6=$lm.VarRecs;var $lp7=$lm.val$6;var $lp8=$lm.val$8;var $lp9=$lm.Trunc;var $lp10=$lm.Frac;var $lp11=$lm.Pos;var $lp12=$lm.Delete;this.FreeAndNil=function(Obj){var o=null;o=Obj.get();if(o===null)return;Obj.set(null);o.$destroy("Destroy");};this.FloatRecDigits=19;rtl.recNewT(this,"TFloatRec",function(){$lt=this;this.Exponent=0;this.Negative=false;this.$new=function(){var r=Object.create(this);r.Digits=rtl.arraySetLength(null,"",19);return r;};this.$eq=function(b){return(this.Exponent===b.Exponent)&&(this.Negative===b.Negative)&&rtl.arrayEq(this.Digits,b.Digits);};this.$assign=function(s){this.Exponent=s.Exponent;this.Negative=s.Negative;this.Digits=s.Digits.slice(0);return this;};});rtl.recNewT(this,"TFormatSettings",function(){$lt1=this;this.CurrencyDecimals=0;this.CurrencyFormat=0;this.CurrencyString="";this.DateSeparator="";this.DecimalSeparator="";this.LongDateFormat="";this.LongTimeFormat="";this.NegCurrFormat=0;this.ShortDateFormat="";this.ShortTimeFormat="";this.ThousandSeparator="";this.TimeAMString="";this.TimePMString="";this.TimeSeparator="";this.TwoDigitYearCenturyWindow=0;this.InitLocaleHandler=null;this.$new=function(){var r=Object.create(this);r.DateTimeToStrFormat=rtl.arraySetLength(null,"",2);r.LongDayNames=rtl.arraySetLength(null,"",7);r.LongMonthNames=rtl.arraySetLength(null,"",12);r.ShortDayNames=rtl.arraySetLength(null,"",7);r.ShortMonthNames=rtl.arraySetLength(null,"",12);return r;};this.$eq=function(b){return(this.CurrencyDecimals===b.CurrencyDecimals)&&(this.CurrencyFormat===b.CurrencyFormat)&&(this.CurrencyString===b.CurrencyString)&&(this.DateSeparator===b.DateSeparator)&&rtl.arrayEq(this.DateTimeToStrFormat,b.DateTimeToStrFormat)&&(this.DecimalSeparator===b.DecimalSeparator)&&(this.LongDateFormat===b.LongDateFormat)&&rtl.arrayEq(this.LongDayNames,b.LongDayNames)&&rtl.arrayEq(this.LongMonthNames,b.LongMonthNames)&&(this.LongTimeFormat===b.LongTimeFormat)&&(this.NegCurrFormat===b.NegCurrFormat)&&(this.ShortDateFormat===b.ShortDateFormat)&&rtl.arrayEq(this.ShortDayNames,b.ShortDayNames)&&rtl.arrayEq(this.ShortMonthNames,b.ShortMonthNames)&&(this.ShortTimeFormat===b.ShortTimeFormat)&&(this.ThousandSeparator===b.ThousandSeparator)&&(this.TimeAMString===b.TimeAMString)&&(this.TimePMString===b.TimePMString)&&(this.TimeSeparator===b.TimeSeparator)&&(this.TwoDigitYearCenturyWindow===b.TwoDigitYearCenturyWindow);};this.$assign=function(s){this.CurrencyDecimals=s.CurrencyDecimals;this.CurrencyFormat=s.CurrencyFormat;this.CurrencyString=s.CurrencyString;this.DateSeparator=s.DateSeparator;this.DateTimeToStrFormat=s.DateTimeToStrFormat.slice(0);this.DecimalSeparator=s.DecimalSeparator;this.LongDateFormat=s.LongDateFormat;this.LongDayNames=s.LongDayNames.slice(0);this.LongMonthNames=s.LongMonthNames.slice(0);this.LongTimeFormat=s.LongTimeFormat;this.NegCurrFormat=s.NegCurrFormat;this.ShortDateFormat=s.ShortDateFormat;this.ShortDayNames=s.ShortDayNames.slice(0);this.ShortMonthNames=s.ShortMonthNames.slice(0);this.ShortTimeFormat=s.ShortTimeFormat;this.ThousandSeparator=s.ThousandSeparator;this.TimeAMString=s.TimeAMString;this.TimePMString=s.TimePMString;this.TimeSeparator=s.TimeSeparator;this.TwoDigitYearCenturyWindow=s.TwoDigitYearCenturyWindow;return this;};this.GetJSLocale=function(){return Intl.DateTimeFormat().resolvedOptions().locale;};this.Create=function(){var Result=$lt1.$new();Result.$assign($lt1.Create$1($lt1.GetJSLocale()));return Result;};this.Create$1=function(ALocale){var Result=$lt1.$new();Result.LongDayNames=$impl.DefaultLongDayNames.slice(0);Result.ShortDayNames=$impl.DefaultShortDayNames.slice(0);Result.ShortMonthNames=$impl.DefaultShortMonthNames.slice(0);Result.LongMonthNames=$impl.DefaultLongMonthNames.slice(0);Result.DateTimeToStrFormat[0]="c";Result.DateTimeToStrFormat[1]="f";Result.DateSeparator="-";Result.TimeSeparator=":";Result.ShortDateFormat="yyyy-mm-dd";Result.LongDateFormat="ddd, yyyy-mm-dd";Result.ShortTimeFormat="hh:nn";Result.LongTimeFormat="hh:nn:ss";Result.DecimalSeparator=".";Result.ThousandSeparator=",";Result.TimeAMString="AM";Result.TimePMString="PM";Result.TwoDigitYearCenturyWindow=50;Result.CurrencyFormat=0;Result.NegCurrFormat=0;Result.CurrencyDecimals=2;Result.CurrencyString="$";if($lt1.InitLocaleHandler!=null)$lt1.InitLocaleHandler($mod.UpperCase(ALocale),$lt1.$clone(Result));return Result;};},true);rtl.createClass(this,"Exception",$lt9,function(){$lt2=this;this.LogMessageOnCreate=false;this.$init=function(){$lt9.$init.call(this);this.fMessage="";};this.Create$1=function(Msg){this.fMessage=Msg;if(this.LogMessageOnCreate)$lp("Created exception ",this.$classname," with message: ",Msg);return this;};this.CreateFmt=function(Msg,Args){this.Create$1($mod.Format(Msg,Args));return this;};});rtl.createClass(this,"EAbort",$lt2,function(){$lt3=this;});rtl.createClass(this,"EConvertError",$lt2,function(){$lt4=this;});rtl.createClass(this,"EVariantError",$lt2,function(){$lt5=this;});this.Trim=function(S){return S.replace(/^[\s\uFEFF\xA0\x00-\x1f]+/,'').replace(/[\s\uFEFF\xA0\x00-\x1f]+$/,'');};this.TrimLeft=function(S){return S.replace(/^[\s\uFEFF\xA0\x00-\x1f]+/,'');};this.UpperCase=function(s){return s.toUpperCase();};this.LowerCase=function(s){return s.toLowerCase();};this.CompareStr=function(s1,s2){var l1=s1.length;var l2=s2.length;if(l1<=l2){var s=s2.substr(0,l1);if(s1<s){return-1;}else if(s1>s){return 1;}else{return l1<l2?-1:0;};}else{var s=s1.substr(0,l2);if(s<s2){return-1;}else{return 1;};};};this.CompareText=function(s1,s2){var l1=s1.toLowerCase();var l2=s2.toLowerCase();if(l1>l2){return 1;}else if(l1<l2){return-1;}else{return 0;};};this.SameText=function(s1,s2){return s1.toLowerCase()==s2.toLowerCase();};this.AnsiSameText=function(s1,s2){return s1.toLowerCase()==s2.toLowerCase();};this.Format=function(Fmt,Args){var Result="";Result=$mod.Format$1(Fmt,Args,$mod.FormatSettings);return Result;};this.Format$1=function(Fmt,Args,aSettings){var Result="";var ChPos=0;var OldPos=0;var ArgPos=0;var DoArg=0;var Len=0;var Hs="";var ToAdd="";var Index=0;var Width=0;var Prec=0;var Left=false;var Fchar="";var vq=0;function ReadFormat(){var Result="";var Value=0;function ReadInteger(){var Code=0;var ArgN=0;if(Value!==-1)return;OldPos=ChPos;while((ChPos<=Len)&&(Fmt.charAt(ChPos-1)<="9")&&(Fmt.charAt(ChPos-1)>="0"))ChPos+=1;if(ChPos>Len)$impl.DoFormatError(1,Fmt);if(Fmt.charAt(ChPos-1)==="*"){if(Index===255){ArgN=ArgPos}
else{ArgN=Index;Index+=1;};if((ChPos>OldPos)||(ArgN>(rtl.length(Args)-1)))$impl.DoFormatError(1,Fmt);ArgPos=ArgN+1;var $tmp=Args[ArgN].VType;if($tmp===0){Value=Args[ArgN].VJSValue}
else if($tmp===19){Value=Args[ArgN].VJSValue}
else{$impl.DoFormatError(1,Fmt);};ChPos+=1;}else{if(OldPos<ChPos){$lp1($lp2(Fmt,OldPos,ChPos-OldPos),{get:function(){return Value;},set:function(v){Value=v;}},{get:function(){return Code;},set:function(v){Code=v;}});if(Code>0)$impl.DoFormatError(1,Fmt);}else Value=-1;};};function ReadIndex(){if(Fmt.charAt(ChPos-1)!==":"){ReadInteger()}
else Value=0;if(Fmt.charAt(ChPos-1)===":"){if(Value===-1)$impl.DoFormatError(2,Fmt);Index=Value;Value=-1;ChPos+=1;};};function ReadLeft(){if(Fmt.charAt(ChPos-1)==="-"){Left=true;ChPos+=1;}else Left=false;};function ReadWidth(){ReadInteger();if(Value!==-1){Width=Value;Value=-1;};};function ReadPrec(){if(Fmt.charAt(ChPos-1)==="."){ChPos+=1;ReadInteger();if(Value===-1)Value=0;Prec=Value;};};Index=255;Width=-1;Prec=-1;Value=-1;ChPos+=1;if(Fmt.charAt(ChPos-1)==="%"){Result="%";return Result;};ReadIndex();ReadLeft();ReadWidth();ReadPrec();Result=$lp3(Fmt.charAt(ChPos-1));return Result;};function Checkarg(AT,err){var Result=false;Result=false;if(Index===255){DoArg=ArgPos}
else DoArg=Index;ArgPos=DoArg+1;if((DoArg>(rtl.length(Args)-1))||(Args[DoArg].VType!==AT)){if(err)$impl.DoFormatError(3,Fmt);ArgPos-=1;return Result;};Result=true;return Result;};Result="";Len=Fmt.length;ChPos=1;OldPos=1;ArgPos=0;while(ChPos<=Len){while((ChPos<=Len)&&(Fmt.charAt(ChPos-1)!=="%"))ChPos+=1;if(ChPos>OldPos)Result=Result+$lp2(Fmt,OldPos,ChPos-OldPos);if(ChPos<Len){Fchar=ReadFormat();var $tmp=Fchar;if($tmp==="D"){if(Checkarg(0,false)){ToAdd=$mod.IntToStr(Args[DoArg].VJSValue)}
else if(Checkarg(19,true))ToAdd=$mod.IntToStr(Args[DoArg].VJSValue);Width=Math.abs(Width);Index=Prec-ToAdd.length;if(ToAdd.charAt(0)!=="-"){ToAdd=$lp4("0",Index)+ToAdd}
else $lp5($lp4("0",Index+1),{get:function(){return ToAdd;},set:function(v){ToAdd=v;}},2);}else if($tmp==="U"){if(Checkarg(0,false)){ToAdd=$mod.IntToStr(Args[DoArg].VJSValue>>>0)}
else if(Checkarg(19,true))ToAdd=$mod.IntToStr(Args[DoArg].VJSValue);Width=Math.abs(Width);Index=Prec-ToAdd.length;ToAdd=$lp4("0",Index)+ToAdd;}else if($tmp==="E"){if(Checkarg(12,false)){ToAdd=$mod.FloatToStrF$1(Args[DoArg].VJSValue/10000,2,3,Prec,aSettings)}
else if(Checkarg(3,true))ToAdd=$mod.FloatToStrF$1(Args[DoArg].VJSValue,2,3,Prec,aSettings);}else if($tmp==="F"){if(Checkarg(12,false)){ToAdd=$mod.FloatToStrF$1(Args[DoArg].VJSValue/10000,0,9999,Prec,aSettings)}
else if(Checkarg(3,true))ToAdd=$mod.FloatToStrF$1(Args[DoArg].VJSValue,0,9999,Prec,aSettings);}else if($tmp==="G"){if(Checkarg(12,false)){ToAdd=$mod.FloatToStrF$1(Args[DoArg].VJSValue/10000,1,Prec,3,aSettings)}
else if(Checkarg(3,true))ToAdd=$mod.FloatToStrF$1(Args[DoArg].VJSValue,1,Prec,3,aSettings);}else if($tmp==="N"){if(Checkarg(12,false)){ToAdd=$mod.FloatToStrF$1(Args[DoArg].VJSValue/10000,3,9999,Prec,aSettings)}
else if(Checkarg(3,true))ToAdd=$mod.FloatToStrF$1(Args[DoArg].VJSValue,3,9999,Prec,aSettings);}else if($tmp==="M"){if(Checkarg(12,false)){ToAdd=$mod.FloatToStrF$1(Args[DoArg].VJSValue/10000,4,9999,Prec,aSettings)}
else if(Checkarg(3,true))ToAdd=$mod.FloatToStrF$1(Args[DoArg].VJSValue,4,9999,Prec,aSettings);}else if($tmp==="S"){if(Checkarg(18,false)){Hs=Args[DoArg].VJSValue}
else if(Checkarg(9,true))Hs=Args[DoArg].VJSValue;Index=Hs.length;if((Prec!==-1)&&(Index>Prec))Index=Prec;ToAdd=$lp2(Hs,1,Index);}else if($tmp==="P"){if(Checkarg(0,false)){ToAdd=$mod.IntToHex(Args[DoArg].VJSValue,8)}
else if(Checkarg(0,true))ToAdd=$mod.IntToHex(Args[DoArg].VJSValue,16);}else if($tmp==="X"){if(Checkarg(0,false)){vq=Args[DoArg].VJSValue;Index=16;}else if(Checkarg(19,true)){vq=Args[DoArg].VJSValue;Index=31;};if(Prec>Index){ToAdd=$mod.IntToHex(vq,Index)}
else{Index=1;while((rtl.shl(1,Index*4)<=vq)&&(Index<16))Index+=1;if(Index>Prec)Prec=Index;ToAdd=$mod.IntToHex(vq,Prec);};}else if($tmp==="%")ToAdd="%";if(Width!==-1)if(ToAdd.length<Width)if(!Left){ToAdd=$lp4(" ",Width-ToAdd.length)+ToAdd}
else ToAdd=ToAdd+$lp4(" ",Width-ToAdd.length);Result=Result+ToAdd;};ChPos+=1;OldPos=ChPos;};return Result;};var Alpha=rtl.createSet(null,65,90,null,97,122,95);var AlphaNum=rtl.unionSet(Alpha,rtl.createSet(null,48,57));var Dot=".";this.IsValidIdent=function(Ident,AllowDots,StrictDots){var Result=false;var First=false;var I=0;var Len=0;Len=Ident.length;if(Len<1)return false;First=true;Result=false;I=1;while(I<=Len){if(First){if(!(Ident.charCodeAt(I-1)in Alpha))return Result;First=false;}else if(AllowDots&&(Ident.charAt(I-1)===Dot)){if(StrictDots){if(I>=Len)return Result;First=true;};}else if(!(Ident.charCodeAt(I-1)in AlphaNum))return Result;I=I+1;};Result=true;return Result;};$lt6=this.TStringReplaceFlag={"0":"rfReplaceAll",rfReplaceAll:0,"1":"rfIgnoreCase",rfIgnoreCase:1};this.StringReplace=function(aOriginal,aSearch,aReplace,Flags){var Result="";var REFlags="";var REString="";REFlags="";if(0 in Flags)REFlags="g";if(1 in Flags)REFlags=REFlags+"i";REString=aSearch.replace(new RegExp($impl.RESpecials,"g"),"\\$1");Result=aOriginal.replace(new RegExp(REString,REFlags),aReplace);return Result;};this.QuoteString=function(aOriginal,AQuote){var Result="";Result=AQuote+$mod.StringReplace(aOriginal,AQuote,AQuote+AQuote,rtl.createSet(0))+AQuote;return Result;};this.QuotedStr=function(s,QuoteChar){var Result="";Result=$mod.QuoteString(s,QuoteChar);return Result;};this.IntToStr=function(Value){var Result="";Result=""+Value;return Result;};this.TryStrToInt$1=function(S,res){var Result=false;Result=$impl.IntTryStrToInt(S,res,$mod.FormatSettings.DecimalSeparator);return Result;};this.StrToIntDef=function(S,aDef){var Result=0;var R=0;if($mod.TryStrToInt$1(S,{get:function(){return R;},set:function(v){R=v;}})){Result=R}
else Result=aDef;return Result;};this.StrToIntDef$1=function(S,aDef){var Result=0;var R=0;if($mod.TryStrToInt$1(S,{get:function(){return R;},set:function(v){R=v;}})){Result=R}
else Result=aDef;return Result;};this.StrToInt=function(S){var Result=0;var R=0;if(!$mod.TryStrToInt$1(S,{get:function(){return R;},set:function(v){R=v;}}))throw $lt4.$create("CreateFmt",[rtl.getResStr($lm1,"SErrInvalidInteger"),$lp6(18,S)]);Result=R;return Result;};this.StrToInt64=function(S){var Result=0;var N=0;if(!$mod.TryStrToInt$1(S,{get:function(){return N;},set:function(v){N=v;}}))throw $lt4.$create("CreateFmt",[rtl.getResStr($lm1,"SErrInvalidInteger"),$lp6(18,S)]);Result=N;return Result;};this.TryStrToInt64=function(S,res){var Result=false;var R=0;Result=$mod.TryStrToInt$1(S,{get:function(){return R;},set:function(v){R=v;}});if(Result)res.set(R);return Result;};this.IntToHex=function(Value,Digits){var Result="";Result="";if(Value<0)if(Value<0)Value=0xFFFFFFFF+Value+1;Result=Value.toString(16);Result=$mod.UpperCase(Result);while(Result.length<Digits)Result="0"+Result;return Result;};$lt7=this.TFloatFormat={"0":"ffFixed",ffFixed:0,"1":"ffGeneral",ffGeneral:1,"2":"ffExponent",ffExponent:2,"3":"ffNumber",ffNumber:3,"4":"ffCurrency",ffCurrency:4};var Rounds="123456789:";this.FloatToDecimal=function(Value,Precision,Decimals){var Result=$lt.$new();var Buffer="";var InfNan="";var OutPos=0;var error=0;var N=0;var L=0;var C=0;var GotNonZeroBeforeDot=false;var BeforeDot=false;Result.Negative=false;Result.Exponent=0;for(C=0;C<=19;C++)Result.Digits[C]="0";if(Value===0)return Result;Buffer=rtl.floatToStr(Value,24);N=1;L=Buffer.length;while(Buffer.charAt(N-1)===" ")N+=1;Result.Negative=Buffer.charAt(N-1)==="-";if(Result.Negative){N+=1}
else if(Buffer.charAt(N-1)==="+")N+=1;if(L>=(N+2)){InfNan=$lp2(Buffer,N,3);if(InfNan==="Inf"){Result.Digits[0]="\x00";Result.Exponent=32767;return Result;};if(InfNan==="Nan"){Result.Digits[0]="\x00";Result.Exponent=-32768;return Result;};};OutPos=0;Result.Exponent=0;BeforeDot=true;GotNonZeroBeforeDot=false;while((L>=N)&&(Buffer.charAt(N-1)!=="E")){if(Buffer.charAt(N-1)==="."){BeforeDot=false}
else{if(BeforeDot){Result.Exponent+=1;Result.Digits[OutPos]=Buffer.charAt(N-1);if(Buffer.charAt(N-1)!=="0")GotNonZeroBeforeDot=true;}else Result.Digits[OutPos-1]=Buffer.charAt(N-1);OutPos+=1;};N+=1;};N+=1;if(N<=L){$lp7($lp2(Buffer,N,(L-N)+1),{get:function(){return C;},set:function(v){C=v;}},{get:function(){return error;},set:function(v){error=v;}});Result.Exponent+=C;};N=OutPos;L=19;while(N<L){Result.Digits[N]="0";N+=1;};if((Decimals+Result.Exponent)<Precision){N=Decimals+Result.Exponent}
else N=Precision;if(N>=L)N=L-1;if(N===0){if(Result.Digits[0]>="5"){Result.Digits[0]="1";Result.Digits[1]="\x00";Result.Exponent+=1;}else Result.Digits[0]="\x00";}else if(N>0){if(Result.Digits[N]>="5"){do{Result.Digits[N]="\x00";N-=1;Result.Digits[N]=Rounds.charAt(($mod.StrToInt(Result.Digits[N])+1)-1);}while(!((N===0)||(Result.Digits[N]<":")));if(Result.Digits[0]===":"){Result.Digits[0]="1";Result.Exponent+=1;};}else{Result.Digits[N]="0";while((N>-1)&&(Result.Digits[N]==="0")){Result.Digits[N]="\x00";N-=1;};};}else Result.Digits[0]="\x00";if((Result.Digits[0]==="\x00")&&!GotNonZeroBeforeDot){Result.Exponent=0;Result.Negative=false;};return Result;};this.FloatToStr=function(Value){var Result="";Result=$mod.FloatToStr$1(Value,$mod.FormatSettings);return Result;};this.FloatToStr$1=function(Value,aSettings){var Result="";Result=$mod.FloatToStrF$1(Value,1,15,0,aSettings);return Result;};this.FloatToStrF$1=function(Value,format,Precision,Digits,aSettings){var Result="";var TS="";var DS="";DS=aSettings.DecimalSeparator;TS=aSettings.ThousandSeparator;var $tmp=format;if($tmp===1){Result=$impl.FormatGeneralFloat(Value,Precision,DS)}
else if($tmp===2){Result=$impl.FormatExponentFloat(Value,Precision,Digits,DS)}
else if($tmp===0){Result=$impl.FormatFixedFloat(Value,Digits,DS)}
else if($tmp===3){Result=$impl.FormatNumberFloat(Value,Digits,DS,TS)}
else if($tmp===4)Result=$impl.FormatNumberCurrency(Value*10000,Digits,aSettings);if((format!==4)&&(Result.length>1)&&(Result.charAt(0)==="-"))$impl.RemoveLeadingNegativeSign({get:function(){return Result;},set:function(v){Result=v;}},DS,TS);return Result;};this.TryStrToFloat$3=function(S,res,aSettings){var Result=false;var J=undefined;var N="";N=S;if(aSettings.ThousandSeparator!=="")N=$mod.StringReplace(N,aSettings.ThousandSeparator,"",rtl.createSet(0));if(aSettings.DecimalSeparator!==".")N=$mod.StringReplace(N,aSettings.DecimalSeparator,".",{});J=parseFloat(N);Result=!isNaN(J);if(Result)res.set(rtl.getNumber(J));return Result;};this.StrToFloatDef=function(S,aDef){var Result=0.0;if(!$mod.TryStrToFloat$3(S,{get:function(){return Result;},set:function(v){Result=v;}},$mod.FormatSettings))Result=aDef;return Result;};this.StrToFloat=function(S){var Result=0.0;Result=$mod.StrToFloat$1(S,$mod.FormatSettings);return Result;};this.StrToFloat$1=function(S,aSettings){var Result=0.0;if(!$mod.TryStrToFloat$3(S,{get:function(){return Result;},set:function(v){Result=v;}},aSettings))throw $lt4.$create("CreateFmt",[rtl.getResStr($lm1,"SErrInvalidFloat"),$lp6(18,S)]);return Result;};this.FormatFloat=function(Fmt,aValue){var Result="";Result=$mod.FormatFloat$1(Fmt,aValue,$lt1.$clone($mod.FormatSettings));return Result;};var MaxPrecision=18;this.FormatFloat$1=function(Fmt,aValue,aSettings){var Result="";var E=0.0;var FV=$lt.$new();var Section="";var SectionLength=0;var ThousandSep=false;var IsScientific=false;var DecimalPos=0;var FirstDigit=0;var LastDigit=0;var RequestedDigits=0;var ExpSize=0;var Available=0;var Current=0;var PadZeroes=0;var DistToDecimal=0;function InitVars(){E=aValue;Section="";SectionLength=0;ThousandSep=false;IsScientific=false;DecimalPos=0;FirstDigit=2147483647;LastDigit=0;RequestedDigits=0;ExpSize=0;Available=-1;};function ToResult(AChar){Result=Result+AChar;};function AddToResult(AStr){Result=Result+AStr;};function WriteDigit(ADigit){if(ADigit==="\x00")return;DistToDecimal-=1;if(DistToDecimal===-1){AddToResult(aSettings.DecimalSeparator);ToResult(ADigit);}else{ToResult(ADigit);if(ThousandSep&&((DistToDecimal%3)===0)&&(DistToDecimal>1))AddToResult(aSettings.ThousandSeparator);};};function GetDigit(){var Result="";Result="\x00";if(Current<=Available){Result=FV.Digits[Current];Current+=1;}else if(DistToDecimal<=LastDigit){DistToDecimal-=1}
else Result="0";return Result;};function CopyDigit(){if(PadZeroes===0){WriteDigit(GetDigit())}
else if(PadZeroes<0){PadZeroes+=1;if(DistToDecimal<=FirstDigit){WriteDigit("0")}
else DistToDecimal-=1;}else{while(PadZeroes>0){WriteDigit(GetDigit());PadZeroes-=1;};WriteDigit(GetDigit());};};function GetSections(SP){var Result=0;var FL=0;var i=0;var C="";var Q="";var inQuote=false;Result=1;SP.get()[1]=-1;SP.get()[2]=-1;SP.get()[3]=-1;inQuote=false;Q="\x00";i=1;FL=Fmt.length;while(i<=FL){C=Fmt.charAt(i-1);var $tmp=C;if($tmp===";"){if(!inQuote){if(Result>3)throw $lt2.$create("Create$1",["Invalid float format"]);SP.get()[Result]=i;Result+=1;};}else if(($tmp==='"')||($tmp==="'")){if(inQuote){inQuote=C!==Q}
else{inQuote=true;Q=C;};};i+=1;};if(SP.get()[Result]===-1)SP.get()[Result]=FL+1;return Result;};function AnalyzeFormat(){var I=0;var Len=0;var Q="";var C="";var InQuote=false;Len=Section.length;I=1;InQuote=false;Q="\x00";while(I<=Len){C=Section.charAt(I-1);if(C.charCodeAt()in rtl.createSet(34,39)){if(InQuote){InQuote=C!==Q}
else{InQuote=true;Q=C;};}else if(!InQuote){var $tmp=C;if($tmp==="."){if(DecimalPos===0)DecimalPos=RequestedDigits+1}
else if($tmp===","){ThousandSep=aSettings.ThousandSeparator!=="\x00"}
else if(($tmp==="e")||($tmp==="E")){I+=1;if(I<Len){C=Section.charAt(I-1);IsScientific=C.charCodeAt()in rtl.createSet(45,43);if(IsScientific)while((I<Len)&&(Section.charAt((I+1)-1)==="0")){ExpSize+=1;I+=1;};if(ExpSize>4)ExpSize=4;};}else if($tmp==="#"){RequestedDigits+=1}
else if($tmp==="0"){if(RequestedDigits<FirstDigit)FirstDigit=RequestedDigits+1;RequestedDigits+=1;LastDigit=RequestedDigits+1;};};I+=1;};if(DecimalPos===0)DecimalPos=RequestedDigits+1;LastDigit=DecimalPos-LastDigit;if(LastDigit>0)LastDigit=0;FirstDigit=DecimalPos-FirstDigit;if(FirstDigit<0)FirstDigit=0;};function ValueOutSideScope(){var Result=false;Result=((FV.Exponent>=18)&&!IsScientific)||(FV.Exponent===0x7FF)||(FV.Exponent===0x800);return Result;};function CalcRunVars(){var D=0;var P=0;if(IsScientific){P=RequestedDigits;D=9999;}else{P=18;D=(RequestedDigits-DecimalPos)+1;};FV.$assign($mod.FloatToDecimal(aValue,P,D));DistToDecimal=DecimalPos-1;if(IsScientific){PadZeroes=0}
else{PadZeroes=FV.Exponent-(DecimalPos-1);if(PadZeroes>=0)DistToDecimal=FV.Exponent;};Available=-1;while((Available<18)&&(FV.Digits[Available+1]!=="\x00"))Available+=1;};function FormatExponent(ASign,aExponent){var Result="";Result=$mod.IntToStr(aExponent);Result=$lp4("0",ExpSize-Result.length)+Result;if(aExponent<0){Result="-"+Result}
else if((aExponent>0)&&(ASign==="+"))Result=ASign+Result;return Result;};var I=0;var S=0;var C="";var Q="";var PA=[];var InLiteral=false;PA=rtl.arraySetLength(PA,0,4);Result="";InitVars();if(E>0){S=1}
else if(E<0){S=2}
else S=3;PA[0]=0;I=GetSections({get:function(){return PA;},set:function(v){PA=v;}});if((I<S)||((PA[S]-PA[S-1])===0))S=1;SectionLength=PA[S]-PA[S-1]-1;Section=$lp2(Fmt,PA[S-1]+1,SectionLength);Section=rtl.strSetLength(Section,SectionLength);AnalyzeFormat();CalcRunVars();if((SectionLength===0)||ValueOutSideScope()){Section=E.toPrecision(15);Result=Section;};I=1;Current=0;Q=" ";InLiteral=false;if(FV.Negative&&(S===1))ToResult("-");while(I<=SectionLength){C=Section.charAt(I-1);if(C.charCodeAt()in rtl.createSet(34,39)){if(InLiteral){InLiteral=C!==Q}
else{InLiteral=true;Q=C;};}else if(InLiteral){ToResult(C)}
else{var $tmp=C;if(($tmp==="0")||($tmp==="#")){CopyDigit()}
else if(($tmp===".")||($tmp===",")){}
else if(($tmp==="e")||($tmp==="E")){ToResult(C);I+=1;if(I<=Section.length){C=Section.charAt(I-1);if(C.charCodeAt()in rtl.createSet(43,45)){AddToResult(FormatExponent(C,(FV.Exponent-DecimalPos)+1));while((I<SectionLength)&&(Section.charAt((I+1)-1)==="0"))I+=1;};};}else{ToResult(C);};};I+=1;};return Result;};this.TrueBoolStrs=[];this.FalseBoolStrs=[];this.StrToBool=function(S){var Result=false;if(!$mod.TryStrToBool(S,{get:function(){return Result;},set:function(v){Result=v;}}))throw $lt4.$create("CreateFmt",[rtl.getResStr($lm1,"SInvalidBoolean"),$lp6(18,S)]);return Result;};this.BoolToStr=function(B,UseBoolStrs){var Result="";if(UseBoolStrs){$impl.CheckBoolStrs();if(B){Result=$mod.TrueBoolStrs[0]}
else Result=$mod.FalseBoolStrs[0];}else if(B){Result="-1"}
else Result="0";return Result;};this.StrToBoolDef=function(S,Default){var Result=false;if(!$mod.TryStrToBool(S,{get:function(){return Result;},set:function(v){Result=v;}}))Result=Default;return Result;};this.TryStrToBool=function(S,Value){var Result=false;var Temp="";var I=0;var D=0.0;var Code=0;Temp=$mod.UpperCase(S);$lp8(Temp,{get:function(){return D;},set:function(v){D=v;}},{get:function(){return Code;},set:function(v){Code=v;}});Result=true;if(Code===0){Value.set(D!==0.0)}
else{$impl.CheckBoolStrs();for(var $l=0,$end=rtl.length($mod.TrueBoolStrs)-1;$l<=$end;$l++){I=$l;if(Temp===$mod.UpperCase($mod.TrueBoolStrs[I])){Value.set(true);return Result;};};for(var $l1=0,$end1=rtl.length($mod.FalseBoolStrs)-1;$l1<=$end1;$l1++){I=$l1;if(Temp===$mod.UpperCase($mod.FalseBoolStrs[I])){Value.set(false);return Result;};};Result=false;};return Result;};this.OnGetEnvironmentVariable=null;this.OnGetEnvironmentString=null;this.OnGetEnvironmentVariableCount=null;this.Abort=function(){throw $lt3.$create("Create$1",[rtl.getResStr($mod,"SAbortError")]);};rtl.recNewT(this,"TTimeStamp",function(){$lt8=this;this.Time=0;this.Date=0;this.$eq=function(b){return(this.Time===b.Time)&&(this.Date===b.Date);};this.$assign=function(s){this.Time=s.Time;this.Date=s.Date;return this;};});this.TimeSeparator="";this.DateSeparator="";this.ShortDateFormat="";this.LongDateFormat="";this.ShortTimeFormat="";this.LongTimeFormat="";this.DecimalSeparator="";this.ThousandSeparator="";this.TimeAMString="";this.TimePMString="";this.HoursPerDay=24;this.MinsPerHour=60;this.SecsPerMin=60;this.MSecsPerSec=1000;this.MinsPerDay=24*60;this.SecsPerDay=1440*60;this.MSecsPerDay=86400*1000;this.MaxDateTime=2958465.99999999;this.DateDelta=693594;this.MonthDays$a$clone=function(a){var b=[];b.length=2;for(var c=0;c<2;c++)b[c]=a[c].slice(0);return b;};this.MonthDays=[[31,28,31,30,31,30,31,31,30,31,30,31],[31,29,31,30,31,30,31,31,30,31,30,31]];this.ShortMonthNames=rtl.arraySetLength(null,"",12);this.LongMonthNames=rtl.arraySetLength(null,"",12);this.ShortDayNames=rtl.arraySetLength(null,"",7);this.LongDayNames=rtl.arraySetLength(null,"",7);this.FormatSettings=$lt1.$new();this.TwoDigitYearCenturyWindow=50;this.JSDateToDateTime=function(aDate){var Result=0.0;Result=$mod.EncodeDate(aDate.getFullYear(),aDate.getMonth()+1,aDate.getDate())+$mod.EncodeTime(aDate.getHours(),aDate.getMinutes(),aDate.getSeconds(),aDate.getMilliseconds());return Result;};this.DateTimeToTimeStamp=function(DateTime){var Result=$lt8.$new();var D=0.0;D=DateTime*86400000;if(D<0){D=D-0.5}
else D=D+0.5;Result.Time=$lp9(Math.abs($lp9(D))%86400000);Result.Date=693594+rtl.trunc($lp9(D)/86400000);return Result;};this.TryEncodeDate=function(Year,Month,Day,date){var Result=false;var c=0;var ya=0;Result=(Year>0)&&(Year<10000)&&(Month>=1)&&(Month<=12)&&(Day>0)&&(Day<=$mod.MonthDays[+$mod.IsLeapYear(Year)][Month-1]);if(Result){if(Month>2){Month-=3}
else{Month+=9;Year-=1;};c=rtl.trunc(Year/100);ya=Year-(100*c);date.set(((146097*c)>>>2)+((1461*ya)>>>2)+rtl.trunc(((153*Month)+2)/5)+Day);date.set(date.get()-693900);};return Result;};this.TryEncodeTime=function(Hour,Min,Sec,MSec,Time){var Result=false;Result=(Hour<24)&&(Min<60)&&(Sec<60)&&(MSec<1000);if(Result)Time.set(((Hour*3600000)+(Min*60000)+(Sec*1000)+MSec)/86400000);return Result;};this.EncodeDate=function(Year,Month,Day){var Result=0.0;if(!$mod.TryEncodeDate(Year,Month,Day,{get:function(){return Result;},set:function(v){Result=v;}}))throw $lt4.$create("CreateFmt",["%s-%s-%s is not a valid date specification",$lp6(18,$mod.IntToStr(Year),18,$mod.IntToStr(Month),18,$mod.IntToStr(Day))]);return Result;};this.EncodeTime=function(Hour,Minute,Second,MilliSecond){var Result=0.0;if(!$mod.TryEncodeTime(Hour,Minute,Second,MilliSecond,{get:function(){return Result;},set:function(v){Result=v;}}))throw $lt4.$create("CreateFmt",["%s:%s:%s.%s is not a valid time specification",$lp6(18,$mod.IntToStr(Hour),18,$mod.IntToStr(Minute),18,$mod.IntToStr(Second),18,$mod.IntToStr(MilliSecond))]);return Result;};this.DecodeDate=function(date,Year,Month,Day){var ly=0;var ld=0;var lm=0;var j=0;if(date<=-693594){Year.set(0);Month.set(0);Day.set(0);}else{if(date>0){date=date+(1/(86400000*2))}
else date=date-(1/(86400000*2));if(date>$mod.MaxDateTime)date=$mod.MaxDateTime;j=rtl.shl($lp9(date)+693900,2)-1;ly=rtl.trunc(j/146097);j=j-(146097*ly);ld=rtl.lw(j>>>2);j=rtl.trunc((rtl.lw(ld<<2)+3)/1461);ld=rtl.lw(((rtl.lw(ld<<2)+7)-(1461*j))>>>2);lm=rtl.trunc(((5*ld)-3)/153);ld=rtl.trunc((((5*ld)+2)-(153*lm))/5);ly=(100*ly)+j;if(lm<10){lm+=3}
else{lm-=9;ly+=1;};Year.set(ly);Month.set(lm);Day.set(ld);};};this.DecodeTime=function(Time,Hour,Minute,Second,MilliSecond){var l=0;l=$mod.DateTimeToTimeStamp(Time).Time;Hour.set(rtl.trunc(l/3600000));l=l%3600000;Minute.set(rtl.trunc(l/60000));l=l%60000;Second.set(rtl.trunc(l/1000));l=l%1000;MilliSecond.set(l);};this.DecodeDateFully=function(DateTime,Year,Month,Day,DOW){var Result=false;$mod.DecodeDate(DateTime,Year,Month,Day);DOW.set($mod.DayOfWeek(DateTime));Result=$mod.IsLeapYear(Year.get());return Result;};this.ComposeDateTime=function(date,Time){var Result=0.0;if(date<0){Result=$lp9(date)-Math.abs($lp10(Time))}
else Result=$lp9(date)+Math.abs($lp10(Time));return Result;};this.Date=function(){var Result=0.0;Result=$lp9($mod.Now());return Result;};this.Time=function(){var Result=0.0;Result=$mod.Now()-$mod.Date();return Result;};this.Now=function(){var Result=0.0;Result=$mod.JSDateToDateTime(new Date());return Result;};this.DayOfWeek=function(DateTime){var Result=0;Result=1+(($lp9(DateTime)-1)%7);if(Result<=0)Result+=7;return Result;};this.IsLeapYear=function(Year){var Result=false;Result=((Year%4)===0)&&(((Year%100)!==0)||((Year%400)===0));return Result;};this.DateToStr=function(date){var Result="";Result=$mod.DateToStr$1(date,$mod.FormatSettings);return Result;};this.DateToStr$1=function(date,aSettings){var Result="";Result=$mod.FormatDateTime$1("ddddd",date,aSettings);return Result;};this.StrToDate=function(S){var Result=0.0;Result=$mod.StrToDate$3(S,$mod.FormatSettings);return Result;};this.StrToDate$2=function(S,useformat,separator){var Result=0.0;var MSg="";Result=$impl.IntStrToDate({get:function(){return MSg;},set:function(v){MSg=v;}},S,useformat,separator);if(MSg!=="")throw $lt4.$create("Create$1",[MSg]);return Result;};this.StrToDate$3=function(S,aSettings){var Result=0.0;Result=$mod.StrToDate$2(S,aSettings.ShortDateFormat,aSettings.DateSeparator);return Result;};this.TryStrToDate=function(S,Value){var Result=false;Result=$mod.TryStrToDate$1(S,Value,$mod.FormatSettings);return Result;};this.TryStrToDate$1=function(S,Value,aSettings){var Result=false;Result=$mod.TryStrToDate$3(S,Value,aSettings.ShortDateFormat,aSettings.DateSeparator);return Result;};this.TryStrToDate$2=function(S,Value,separator){var Result=false;Result=$mod.TryStrToDate$3(S,Value,$mod.FormatSettings.ShortDateFormat,separator);return Result;};this.TryStrToDate$3=function(S,Value,useformat,separator){var Result=false;var Msg="";Result=S.length!==0;if(Result){Value.set($impl.IntStrToDate({get:function(){return Msg;},set:function(v){Msg=v;}},S,useformat,separator));Result=Msg==="";};return Result;};this.StrToDateDef=function(S,Defvalue){var Result=0.0;Result=$mod.StrToDateDef$1(S,Defvalue,"\x00");return Result;};this.StrToDateDef$1=function(S,Defvalue,separator){var Result=0.0;if(!$mod.TryStrToDate$2(S,{get:function(){return Result;},set:function(v){Result=v;}},separator))Result=Defvalue;return Result;};this.TimeToStr=function(Time){var Result="";Result=$mod.TimeToStr$1(Time,$mod.FormatSettings);return Result;};this.TimeToStr$1=function(Time,aSettings){var Result="";Result=$mod.FormatDateTime$1("tt",Time,aSettings);return Result;};this.StrToTime=function(S){var Result=0.0;Result=$mod.StrToTime$2(S,$mod.FormatSettings);return Result;};this.StrToTime$2=function(S,aSettings){var Result=0.0;var Msg="";Result=$impl.IntStrToTime({get:function(){return Msg;},set:function(v){Msg=v;}},S,S.length,aSettings);if(Msg!=="")throw $lt4.$create("Create$1",[Msg]);return Result;};this.TryStrToTime=function(S,Value){var Result=false;Result=$mod.TryStrToTime$1(S,Value,$lt1.$clone($mod.FormatSettings));return Result;};this.TryStrToTime$1=function(S,Value,aSettings){var Result=false;var Msg="";Result=S.length!==0;if(Result){Value.set($impl.IntStrToTime({get:function(){return Msg;},set:function(v){Msg=v;}},S,S.length,aSettings));Result=Msg==="";};return Result;};this.TryStrToTime$2=function(S,Value,separator){var Result=false;var Fmt=$lt1.$new();Fmt.$assign($lt1.Create());Fmt.TimeSeparator=separator;Result=$mod.TryStrToTime$1(S,Value,$lt1.$clone(Fmt));return Result;};this.StrToTimeDef=function(S,Defvalue){var Result=0.0;Result=$mod.StrToTimeDef$1(S,Defvalue,"\x00");return Result;};this.StrToTimeDef$1=function(S,Defvalue,separator){var Result=0.0;if(!$mod.TryStrToTime$2(S,{get:function(){return Result;},set:function(v){Result=v;}},separator))Result=Defvalue;return Result;};this.StrToDateTime=function(S){var Result=0.0;Result=$mod.StrToDateTime$1(S,$mod.FormatSettings);return Result;};this.StrToDateTime$1=function(s,aSettings){var Result=0.0;var TimeStr="";var DateStr="";var PartsFound=0;PartsFound=$impl.SplitDateTimeStr(s,{get:function(){return DateStr;},set:function(v){DateStr=v;}},{get:function(){return TimeStr;},set:function(v){TimeStr=v;}},aSettings);var $tmp=PartsFound;if($tmp===0){Result=$mod.StrToDate("")}
else if($tmp===1){if(DateStr.length>0){Result=$mod.StrToDate$2(DateStr,aSettings.ShortDateFormat,aSettings.DateSeparator)}
else Result=$mod.StrToTime(TimeStr)}
else if($tmp===2)Result=$mod.ComposeDateTime($mod.StrToDate$2(DateStr,aSettings.ShortDateFormat,aSettings.DateSeparator),$mod.StrToTime(TimeStr));return Result;};this.TryStrToDateTime$1=function(S,Value,aSettings){var Result=false;var I=0;var dtdate=0.0;var dttime=0.0;Result=false;I=$lp11(aSettings.TimeSeparator,S);if(I>0){while((I>0)&&(S.charAt(I-1)!==" "))I-=1;if(I>0){if(!$mod.TryStrToDate($lp2(S,1,I-1),{get:function(){return dtdate;},set:function(v){dtdate=v;}}))return Result;if(!$mod.TryStrToTime($lp2(S,I+1,S.length-I),{get:function(){return dttime;},set:function(v){dttime=v;}}))return Result;Value.set($mod.ComposeDateTime(dtdate,dttime));Result=true;}else Result=$mod.TryStrToTime(S,Value);}else Result=$mod.TryStrToDate(S,Value);return Result;};this.StrToDateTimeDef=function(S,Defvalue){var Result=0.0;Result=$mod.StrToDateTimeDef$1(S,Defvalue,$lt1.$clone($mod.FormatSettings));return Result;};this.StrToDateTimeDef$1=function(S,Defvalue,aSettings){var Result=0.0;if(!$mod.TryStrToDateTime$1(S,{get:function(){return Result;},set:function(v){Result=v;}},aSettings))Result=Defvalue;return Result;};this.FormatDateTime=function(FormatStr,DateTime){var Result="";Result=$mod.FormatDateTime$1(FormatStr,DateTime,$mod.FormatSettings);return Result;};this.FormatDateTime$1=function(FormatStr,DateTime,aSettings){var Result="";function StoreStr(APos,Len){Result=Result+$lp2(FormatStr,APos,Len);};function StoreString(AStr){Result=Result+AStr;};function StoreInt(Value,Digits){var S="";S=$mod.IntToStr(Value);while(S.length<Digits)S="0"+S;StoreString(S);};var Year=0;var Month=0;var Day=0;var DayOfWeek=0;var Hour=0;var Minute=0;var Second=0;var MilliSecond=0;function StoreFormat(FormatStr,Nesting,TimeFlag){var Token="";var lastformattoken="";var prevlasttoken="";var Count=0;var Clock12=false;var tmp=0;var isInterval=false;var P=0;var FormatCurrent=0;var FormatEnd=0;if(Nesting>1)return;FormatCurrent=1;FormatEnd=FormatStr.length;Clock12=false;isInterval=false;P=1;while(P<=FormatEnd){Token=FormatStr.charAt(P-1);var $tmp=Token;if(($tmp==="'")||($tmp==='"')){P+=1;while((P<FormatEnd)&&(FormatStr.charAt(P-1)!==Token))P+=1;}else if(($tmp==="A")||($tmp==="a")){if(($mod.CompareText($lp2(FormatStr,P,3),"A\/P")===0)||($mod.CompareText($lp2(FormatStr,P,4),"AMPM")===0)||($mod.CompareText($lp2(FormatStr,P,5),"AM\/PM")===0)){Clock12=true;break;};};P+=1;};Token="";lastformattoken=" ";prevlasttoken="H";while(FormatCurrent<=FormatEnd){Token=$mod.UpperCase(FormatStr.charAt(FormatCurrent-1)).charAt(0);Count=1;P=FormatCurrent+1;var $tmp1=Token;if(($tmp1==="'")||($tmp1==='"')){while((P<FormatEnd)&&(FormatStr.charAt(P-1)!==Token))P+=1;P+=1;Count=P-FormatCurrent;StoreStr(FormatCurrent+1,Count-2);}else if($tmp1==="A"){if($mod.CompareText($lp2(FormatStr,FormatCurrent,4),"AMPM")===0){Count=4;if(Hour<12){StoreString(aSettings.TimeAMString)}
else StoreString(aSettings.TimePMString);}else if($mod.CompareText($lp2(FormatStr,FormatCurrent,5),"AM\/PM")===0){Count=5;if(Hour<12){StoreStr(FormatCurrent,2)}
else StoreStr(FormatCurrent+3,2);}else if($mod.CompareText($lp2(FormatStr,FormatCurrent,3),"A\/P")===0){Count=3;if(Hour<12){StoreStr(FormatCurrent,1)}
else StoreStr(FormatCurrent+2,1);}else throw $lt4.$create("Create$1",["Illegal character in format string"]);}else if($tmp1==="\/"){StoreString(aSettings.DateSeparator);}else if($tmp1===":"){StoreString(aSettings.TimeSeparator)}
else if(($tmp1===" ")||($tmp1==="C")||($tmp1==="D")||($tmp1==="H")||($tmp1==="M")||($tmp1==="N")||($tmp1==="S")||($tmp1==="T")||($tmp1==="Y")||($tmp1==="Z")||($tmp1==="F")){while((P<=FormatEnd)&&($mod.UpperCase(FormatStr.charAt(P-1))===Token))P+=1;Count=P-FormatCurrent;var $tmp2=Token;if($tmp2===" "){StoreStr(FormatCurrent,Count)}
else if($tmp2==="Y"){if(Count>2){StoreInt(Year,4)}
else StoreInt(Year%100,2);}else if($tmp2==="M"){if(isInterval&&((prevlasttoken==="H")||TimeFlag)){StoreInt(Minute+((Hour+($lp9(Math.abs(DateTime))*24))*60),0)}
else if((lastformattoken==="H")||TimeFlag){if(Count===1){StoreInt(Minute,0)}
else StoreInt(Minute,2);}else{var $tmp3=Count;if($tmp3===1){StoreInt(Month,0)}
else if($tmp3===2){StoreInt(Month,2)}
else if($tmp3===3){StoreString(aSettings.ShortMonthNames[Month-1])}
else{StoreString(aSettings.LongMonthNames[Month-1]);};};}else if($tmp2==="D"){var $tmp4=Count;if($tmp4===1){StoreInt(Day,0)}
else if($tmp4===2){StoreInt(Day,2)}
else if($tmp4===3){StoreString(aSettings.ShortDayNames[DayOfWeek-1])}
else if($tmp4===4){StoreString(aSettings.LongDayNames[DayOfWeek-1])}
else if($tmp4===5){StoreFormat(aSettings.ShortDateFormat,Nesting+1,false)}
else{StoreFormat(aSettings.LongDateFormat,Nesting+1,false);};}else if($tmp2==="H"){if(isInterval){StoreInt(Hour+($lp9(Math.abs(DateTime))*24),0)}
else if(Clock12){tmp=Hour%12;if(tmp===0)tmp=12;if(Count===1){StoreInt(tmp,0)}
else StoreInt(tmp,2);}else{if(Count===1){StoreInt(Hour,0)}
else StoreInt(Hour,2);}}
else if($tmp2==="N"){if(isInterval){StoreInt(Minute+((Hour+($lp9(Math.abs(DateTime))*24))*60),0)}
else if(Count===1){StoreInt(Minute,0)}
else StoreInt(Minute,2)}
else if($tmp2==="S"){if(isInterval){StoreInt(Second+((Minute+((Hour+($lp9(Math.abs(DateTime))*24))*60))*60),0)}
else if(Count===1){StoreInt(Second,0)}
else StoreInt(Second,2)}
else if($tmp2==="Z"){if(Count===1){StoreInt(MilliSecond,0)}
else StoreInt(MilliSecond,3)}
else if($tmp2==="T"){if(Count===1){StoreFormat(aSettings.ShortTimeFormat,Nesting+1,true)}
else StoreFormat(aSettings.LongTimeFormat,Nesting+1,true)}
else if($tmp2==="C"){StoreFormat(aSettings.ShortDateFormat,Nesting+1,false);if((Hour!==0)||(Minute!==0)||(Second!==0)){StoreString(" ");StoreFormat(aSettings.LongTimeFormat,Nesting+1,true);};}else if($tmp2==="F"){StoreFormat(aSettings.ShortDateFormat,Nesting+1,false);StoreString(" ");StoreFormat(aSettings.LongTimeFormat,Nesting+1,true);};prevlasttoken=lastformattoken;lastformattoken=Token;}else{StoreString(Token);};FormatCurrent+=Count;};};$mod.DecodeDateFully(DateTime,{get:function(){return Year;},set:function(v){Year=v;}},{get:function(){return Month;},set:function(v){Month=v;}},{get:function(){return Day;},set:function(v){Day=v;}},{get:function(){return DayOfWeek;},set:function(v){DayOfWeek=v;}});$mod.DecodeTime(DateTime,{get:function(){return Hour;},set:function(v){Hour=v;}},{get:function(){return Minute;},set:function(v){Minute=v;}},{get:function(){return Second;},set:function(v){Second=v;}},{get:function(){return MilliSecond;},set:function(v){MilliSecond=v;}});if(FormatStr!==""){StoreFormat(FormatStr,0,false)}
else StoreFormat("C",0,false);return Result;};this.CurrencyFormat=0;this.NegCurrFormat=0;this.CurrencyDecimals=0;this.CurrencyString="";this.CurrToStr=function(Value){var Result="";Result=$mod.FloatToStrF$1(Value/10000,1,-1,0,$mod.FormatSettings);return Result;};this.StrToCurr=function(S){var Result=0;if(!$mod.TryStrToCurr(S,{get:function(){return Result;},set:function(v){Result=v;}}))throw $lt4.$create("CreateFmt",[rtl.getResStr($lm1,"SInvalidCurrency"),$lp6(18,S)]);return Result;};this.TryStrToCurr=function(S,Value){var Result=false;var D=0.0;Result=$mod.TryStrToFloat$3(S,{get:function(){return D;},set:function(v){D=v;}},$mod.FormatSettings);if(Result)Value.set(rtl.trunc(D*10000));return Result;};$mod.$implcode=function(){$impl.DefaultShortMonthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];$impl.DefaultLongMonthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];$impl.DefaultShortDayNames=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];$impl.DefaultLongDayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];$impl.CheckBoolStrs=function(){if(rtl.length($mod.TrueBoolStrs)===0){$mod.TrueBoolStrs=rtl.arraySetLength($mod.TrueBoolStrs,"",1);$mod.TrueBoolStrs[0]="True";};if(rtl.length($mod.FalseBoolStrs)===0){$mod.FalseBoolStrs=rtl.arraySetLength($mod.FalseBoolStrs,"",1);$mod.FalseBoolStrs[0]="False";};};$impl.feInvalidFormat=1;$impl.feMissingArgument=2;$impl.feInvalidArgIndex=3;$impl.DoFormatError=function(ErrCode,fmt){var $tmp=ErrCode;if($tmp===1){throw $lt4.$create("CreateFmt",[rtl.getResStr($lm1,"SInvalidFormat"),$lp6(18,fmt)])}
else if($tmp===2){throw $lt4.$create("CreateFmt",[rtl.getResStr($lm1,"SArgumentMissing"),$lp6(18,fmt)])}
else if($tmp===3)throw $lt4.$create("CreateFmt",[rtl.getResStr($lm1,"SInvalidArgIndex"),$lp6(18,fmt)]);};$impl.maxdigits=15;$impl.ReplaceDecimalSep=function(S,DS){var Result="";var P=0;P=$lp11(".",S);if(P>0){Result=$lp2(S,1,P-1)+DS+$lp2(S,P+1,S.length-P)}
else Result=S;return Result;};$impl.FormatGeneralFloat=function(Value,Precision,DS){var Result="";var P=0;var PE=0;var Q=0;var Exponent=0;if((Precision===-1)||(Precision>15))Precision=15;Result=rtl.floatToStr(Value,Precision+7);Result=$mod.TrimLeft(Result);P=$lp11(".",Result);if(P===0)return Result;PE=$lp11("E",Result);if(PE===0){Result=$impl.ReplaceDecimalSep(Result,DS);return Result;};Q=PE+2;Exponent=0;while(Q<=Result.length){Exponent=((Exponent*10)+Result.charCodeAt(Q-1))-48;Q+=1;};if(Result.charAt((PE+1)-1)==="-")Exponent=-Exponent;if(((P+Exponent)<PE)&&(Exponent>-6)){Result=rtl.strSetLength(Result,PE-1);if(Exponent>=0){for(var $l=0,$end=Exponent-1;$l<=$end;$l++){Q=$l;Result=rtl.setCharAt(Result,P-1,Result.charAt((P+1)-1));P+=1;};Result=rtl.setCharAt(Result,P-1,".");P=1;if(Result.charAt(P-1)==="-")P+=1;while((Result.charAt(P-1)==="0")&&(P<Result.length)&&($lp2(Result,P+1,DS.length)!==DS))$lp12({get:function(){return Result;},set:function(v){Result=v;}},P,1);}else{$lp5($lp2("00000",1,-Exponent),{get:function(){return Result;},set:function(v){Result=v;}},P-1);Result=rtl.setCharAt(Result,P-Exponent-1,Result.charAt(P-Exponent-1-1));Result=rtl.setCharAt(Result,P-1,".");if(Exponent!==-1)Result=rtl.setCharAt(Result,P-Exponent-1-1,"0");};Q=Result.length;while((Q>0)&&(Result.charAt(Q-1)==="0"))Q-=1;if(Result.charAt(Q-1)===".")Q-=1;if((Q===0)||((Q===1)&&(Result.charAt(0)==="-"))){Result="0"}
else Result=rtl.strSetLength(Result,Q);}else{while(Result.charAt(PE-1-1)==="0"){$lp12({get:function(){return Result;},set:function(v){Result=v;}},PE-1,1);PE-=1;};if(Result.charAt(PE-1-1)===DS){$lp12({get:function(){return Result;},set:function(v){Result=v;}},PE-1,1);PE-=1;};if(Result.charAt((PE+1)-1)==="+"){$lp12({get:function(){return Result;},set:function(v){Result=v;}},PE+1,1)}
else PE+=1;while(Result.charAt((PE+1)-1)==="0")$lp12({get:function(){return Result;},set:function(v){Result=v;}},PE+1,1);};Result=$impl.ReplaceDecimalSep(Result,DS);return Result;};$impl.FormatExponentFloat=function(Value,Precision,Digits,DS){var Result="";var P=0;DS=$mod.FormatSettings.DecimalSeparator;if((Precision===-1)||(Precision>15))Precision=15;Result=rtl.floatToStr(Value,Precision+7);while(Result.charAt(0)===" ")$lp12({get:function(){return Result;},set:function(v){Result=v;}},1,1);P=$lp11("E",Result);if(P===0){Result=$impl.ReplaceDecimalSep(Result,DS);return Result;};P+=2;if(Digits>4)Digits=4;Digits=(Result.length-P-Digits)+1;if(Digits<0){$lp5($lp2("0000",1,-Digits),{get:function(){return Result;},set:function(v){Result=v;}},P)}
else while((Digits>0)&&(Result.charAt(P-1)==="0")){$lp12({get:function(){return Result;},set:function(v){Result=v;}},P,1);if(P>Result.length){$lp12({get:function(){return Result;},set:function(v){Result=v;}},P-2,2);break;};Digits-=1;};Result=$impl.ReplaceDecimalSep(Result,DS);return Result;};$impl.FormatFixedFloat=function(Value,Digits,DS){var Result="";if(Digits===-1){Digits=2}
else if(Digits>18)Digits=18;Result=rtl.floatToStr(Value,0,Digits);if((Result!=="")&&(Result.charAt(0)===" "))$lp12({get:function(){return Result;},set:function(v){Result=v;}},1,1);Result=$impl.ReplaceDecimalSep(Result,DS);return Result;};$impl.FormatNumberFloat=function(Value,Digits,DS,TS){var Result="";var P=0;if(Digits===-1){Digits=2}
else if(Digits>15)Digits=15;Result=rtl.floatToStr(Value,0,Digits);if((Result!=="")&&(Result.charAt(0)===" "))$lp12({get:function(){return Result;},set:function(v){Result=v;}},1,1);P=$lp11(".",Result);if(P<=0)P=Result.length+1;Result=$impl.ReplaceDecimalSep(Result,DS);P-=3;if((TS!=="")&&(TS!=="\x00"))while(P>1){if(Result.charAt(P-1-1)!=="-")$lp5(TS,{get:function(){return Result;},set:function(v){Result=v;}},P);P-=3;};return Result;};$impl.RemoveLeadingNegativeSign=function(AValue,DS,aThousandSeparator){var Result=false;var i=0;var TS="";var StartPos=0;Result=false;StartPos=2;TS=aThousandSeparator;for(var $l=StartPos,$end=AValue.get().length;$l<=$end;$l++){i=$l;Result=(AValue.get().charCodeAt(i-1)in rtl.createSet(48,DS.charCodeAt(),69,43))||(AValue.get().charAt(i-1)===TS);if(!Result)break;};if(Result&&(AValue.get().charAt(0)==="-"))$lp12(AValue,1,1);return Result;};$impl.FormatNumberCurrency=function(Value,Digits,aSettings){var Result="";var Negative=false;var P=0;var CS="";var DS="";var TS="";DS=aSettings.DecimalSeparator;TS=aSettings.ThousandSeparator;CS=aSettings.CurrencyString;if(Digits===-1){Digits=aSettings.CurrencyDecimals}
else if(Digits>18)Digits=18;Result=rtl.floatToStr(Value/10000,0,Digits);Negative=Result.charAt(0)==="-";if(Negative)$lp12({get:function(){return Result;},set:function(v){Result=v;}},1,1);P=$lp11(".",Result);if(TS!==""){if(P!==0){Result=$impl.ReplaceDecimalSep(Result,DS)}
else P=Result.length+1;P-=3;while(P>1){$lp5(TS,{get:function(){return Result;},set:function(v){Result=v;}},P);P-=3;};};if(Negative)$impl.RemoveLeadingNegativeSign({get:function(){return Result;},set:function(v){Result=v;}},DS,TS);if(!Negative){var $tmp=aSettings.CurrencyFormat;if($tmp===0){Result=CS+Result}
else if($tmp===1){Result=Result+CS}
else if($tmp===2){Result=CS+" "+Result}
else if($tmp===3)Result=Result+" "+CS;}else{var $tmp1=aSettings.NegCurrFormat;if($tmp1===0){Result="("+CS+Result+")"}
else if($tmp1===1){Result="-"+CS+Result}
else if($tmp1===2){Result=CS+"-"+Result}
else if($tmp1===3){Result=CS+Result+"-"}
else if($tmp1===4){Result="("+Result+CS+")"}
else if($tmp1===5){Result="-"+Result+CS}
else if($tmp1===6){Result=Result+"-"+CS}
else if($tmp1===7){Result=Result+CS+"-"}
else if($tmp1===8){Result="-"+Result+" "+CS}
else if($tmp1===9){Result="-"+CS+" "+Result}
else if($tmp1===10){Result=Result+" "+CS+"-"}
else if($tmp1===11){Result=CS+" "+Result+"-"}
else if($tmp1===12){Result=CS+" "+"-"+Result}
else if($tmp1===13){Result=Result+"-"+" "+CS}
else if($tmp1===14){Result="("+CS+" "+Result+")"}
else if($tmp1===15)Result="("+Result+" "+CS+")";};return Result;};$impl.RESpecials="([\\$\\+\\[\\]\\(\\)\\\\\\.\\*\\^\\?\\|])";var WhiteSpace=" \b\t\n\f\r";var Digits="0123456789";$impl.IntStrToDate=function(ErrorMsg,S,useformat,separator){var Result=0.0;function FixErrorMsg(errmarg){ErrorMsg.set($mod.Format(rtl.getResStr($lm1,"SInvalidDateFormat"),$lp6(18,errmarg)));};var df="";var d=0;var m=0;var y=0;var ly=0;var ld=0;var lm=0;var n=0;var i=0;var len=0;var c=0;var dp=0;var mp=0;var yp=0;var which=0;var s1="";var values=[];var YearMoreThenTwoDigits=false;values=rtl.arraySetLength(values,0,4);Result=0;len=S.length;ErrorMsg.set("");while((len>0)&&($lp11(S.charAt(len-1),WhiteSpace)>0))len-=1;if(len===0){FixErrorMsg(S);return Result;};YearMoreThenTwoDigits=false;if(separator==="\x00")if($mod.FormatSettings.DateSeparator!=="\x00"){separator=$mod.FormatSettings.DateSeparator}
else separator="-";df=$mod.UpperCase(useformat);yp=0;mp=0;dp=0;which=0;i=0;while((i<df.length)&&(which<3)){i+=1;var $tmp=df.charAt(i-1);if($tmp==="Y"){if(yp===0){which+=1;yp=which;}}
else if($tmp==="M"){if(mp===0){which+=1;mp=which;}}
else if($tmp==="D")if(dp===0){which+=1;dp=which;};};for(i=1;i<=3;i++)values[i]=0;s1="";n=0;for(var $l=1,$end=len;$l<=$end;$l++){i=$l;if($lp11(S.charAt(i-1),Digits)>0)s1=s1+S.charAt(i-1);if((separator!==" ")&&(S.charAt(i-1)===" "))continue;if((S.charAt(i-1)===separator)||((i===len)&&($lp11(S.charAt(i-1),Digits)>0))){n+=1;if(n>3){FixErrorMsg(S);return Result;};if((n===yp)&&(s1.length>2))YearMoreThenTwoDigits=true;$lp7(s1,{a:n,p:values,get:function(){return this.p[this.a];},set:function(v){this.p[this.a]=v;}},{get:function(){return c;},set:function(v){c=v;}});if(c!==0){FixErrorMsg(S);return Result;};s1="";}else if($lp11(S.charAt(i-1),Digits)===0){FixErrorMsg(S);return Result;};};if((which<3)&&(n>which)){FixErrorMsg(S);return Result;};$mod.DecodeDate($mod.Date(),{get:function(){return ly;},set:function(v){ly=v;}},{get:function(){return lm;},set:function(v){lm=v;}},{get:function(){return ld;},set:function(v){ld=v;}});if(n===3){y=values[yp];m=values[mp];d=values[dp];}else{y=ly;if(n<2){d=values[1];m=lm;}else if(dp<mp){d=values[1];m=values[2];}else{d=values[2];m=values[1];};};if((y>=0)&&(y<100)&&!YearMoreThenTwoDigits){ly=ly-$mod.TwoDigitYearCenturyWindow;y+=rtl.trunc(ly/100)*100;if(($mod.TwoDigitYearCenturyWindow>0)&&(y<ly))y+=100;};if(!$mod.TryEncodeDate(y,m,d,{get:function(){return Result;},set:function(v){Result=v;}}))ErrorMsg.set(rtl.getResStr($lm1,"SErrInvalidDate"));return Result;};var AMPM_None=0;var AMPM_AM=1;var AMPM_PM=2;var tiHour=0;var tiMin=1;var tiSec=2;var tiMSec=3;var Digits$1="0123456789";$impl.IntStrToTime=function(ErrorMsg,S,Len,aSettings){var Result=0.0;var AmPm=0;var TimeValues=[];function SplitElements(TimeValues,AmPm){var Result=false;var Cur=0;var Offset=0;var ElemLen=0;var Err=0;var TimeIndex=0;var FirstSignificantDigit=0;var Value=0;var DigitPending=false;var MSecPending=false;var AmPmStr="";var CurChar="";var I=0;var allowedchars="";Result=false;AmPm.set(0);MSecPending=false;TimeIndex=0;for(I=0;I<=3;I++)TimeValues.get()[I]=0;Cur=1;while((Cur<Len)&&(S.charAt(Cur-1)===" "))Cur+=1;Offset=Cur;if((Cur>(Len-1))||(S.charAt(Cur-1)===aSettings.TimeSeparator)||(S.charAt(Cur-1)===aSettings.DecimalSeparator)){return Result;};DigitPending=$lp11(S.charAt(Cur-1),Digits$1)>0;while(Cur<=Len){CurChar=S.charAt(Cur-1);if($lp11(CurChar,Digits$1)>0){if(!DigitPending||(TimeIndex>3)){return Result;};Offset=Cur;if(CurChar!=="0"){FirstSignificantDigit=Offset}
else FirstSignificantDigit=-1;while((Cur<Len)&&($lp11(S.charAt((Cur+1)-1),Digits$1)>0)){if((FirstSignificantDigit===-1)&&(S.charAt(Cur-1)!=="0"))FirstSignificantDigit=Cur;Cur+=1;};if(FirstSignificantDigit===-1)FirstSignificantDigit=Cur;ElemLen=(1+Cur)-FirstSignificantDigit;if((ElemLen<=2)||((ElemLen<=3)&&(TimeIndex===3))){$lp7($lp2(S,FirstSignificantDigit,ElemLen),{get:function(){return Value;},set:function(v){Value=v;}},{get:function(){return Err;},set:function(v){Err=v;}});TimeValues.get()[TimeIndex]=Value;TimeIndex+=1;DigitPending=false;}else{return Result;};}else if(CurChar===" "){}
else if(CurChar===aSettings.TimeSeparator){if(DigitPending||(TimeIndex>2)){return Result;};DigitPending=true;MSecPending=false;}else if(CurChar===aSettings.DecimalSeparator){if(DigitPending||MSecPending||(TimeIndex!==3)){return Result;};DigitPending=true;MSecPending=true;}else{if((AmPm.get()!==0)||DigitPending){return Result;};Offset=Cur;allowedchars=aSettings.DecimalSeparator+" ";if(aSettings.TimeSeparator!=="\x00")allowedchars=allowedchars+aSettings.TimeSeparator;while((Cur<Len)&&($lp11(S.charAt((Cur+1)-1),allowedchars)===0)&&($lp11(S.charAt((Cur+1)-1),Digits$1)===0))Cur+=1;ElemLen=(1+Cur)-Offset;AmPmStr=$lp2(S,Offset,ElemLen);if($mod.CompareText(AmPmStr,aSettings.TimeAMString)===0){AmPm.set(1)}
else if($mod.CompareText(AmPmStr,aSettings.TimePMString)===0){AmPm.set(2)}
else if($mod.CompareText(AmPmStr,"AM")===0){AmPm.set(1)}
else if($mod.CompareText(AmPmStr,"PM")===0){AmPm.set(2)}
else{return Result;};if(TimeIndex===0){DigitPending=true;}else{TimeIndex=3+1;DigitPending=false;};};Cur+=1;};if((TimeIndex===0)||((AmPm.get()!==0)&&((TimeValues.get()[0]>12)||(TimeValues.get()[0]===0)))||DigitPending)return Result;Result=true;return Result;};TimeValues=rtl.arraySetLength(TimeValues,0,4);AmPm=0;if(!SplitElements({get:function(){return TimeValues;},set:function(v){TimeValues=v;}},{get:function(){return AmPm;},set:function(v){AmPm=v;}})){ErrorMsg.set($mod.Format(rtl.getResStr($lm1,"SErrInvalidTimeFormat"),$lp6(18,S)));return Result;};if((AmPm===2)&&(TimeValues[0]!==12)){TimeValues[0]+=12}
else if((AmPm===1)&&(TimeValues[0]===12))TimeValues[0]=0;if(!$mod.TryEncodeTime(TimeValues[0],TimeValues[1],TimeValues[2],TimeValues[3],{get:function(){return Result;},set:function(v){Result=v;}}))ErrorMsg.set($mod.Format(rtl.getResStr($lm1,"SErrInvalidTimeFormat"),$lp6(18,S)));return Result;};var WhiteSpace$1="\t\n\r ";$impl.SplitDateTimeStr=function(DateTimeStr,DateStr,TimeStr,aSettings){var Result=0;var p=0;var DummyDT=0.0;Result=0;DateStr.set("");TimeStr.set("");DateTimeStr=$mod.Trim(DateTimeStr);if(DateTimeStr.length===0)return Result;if((aSettings.DateSeparator===" ")&&(aSettings.TimeSeparator===" ")&&($lp11(" ",DateTimeStr)>0)){DateStr.set(DateTimeStr);return 1;};p=1;if(aSettings.DateSeparator!==" "){while((p<DateTimeStr.length)&&!($lp11(DateTimeStr.charAt((p+1)-1),WhiteSpace$1)>0))p+=1;}else{p=$lp11(aSettings.TimeSeparator,DateTimeStr);if(p!==0)do{p-=1;}while(!((p===0)||($lp11(DateTimeStr.charAt(p-1),WhiteSpace$1)>0)));};if(p===0)p=DateTimeStr.length;DateStr.set($lp2(DateTimeStr,1,p));TimeStr.set($mod.Trim($lp2(DateTimeStr,p+1,100)));if(TimeStr.get().length!==0){Result=2}
else{Result=1;if(((aSettings.DateSeparator!==aSettings.TimeSeparator)&&($lp11(aSettings.TimeSeparator,DateStr.get())>0))||((aSettings.DateSeparator===aSettings.TimeSeparator)&&!$mod.TryStrToDate(DateStr.get(),{get:function(){return DummyDT;},set:function(v){DummyDT=v;}}))){TimeStr.set(DateStr.get());DateStr.set("");};};return Result;};$impl.IntTryStrToInt=function(S,res,aSep){var Result=false;var Radix=10;var N="";var J=undefined;N=S;if(($lp11(aSep,N)!==0)||($lp11(".",N)!==0))return false;var $tmp=$lp2(N,1,1);if($tmp==="$"){Radix=16}
else if($tmp==="&"){Radix=8}
else if($tmp==="%")Radix=2;if((Radix!==16)&&($lp11("e",$mod.LowerCase(N))!==0))return false;if(Radix!==10)$lp12({get:function(){return N;},set:function(v){N=v;}},1,1);J=parseInt(N,Radix);Result=!isNaN(J);if(Result)res.set(rtl.trunc(J));return Result;};$mod.$resourcestrings={SAbortError:{org:"Operation aborted"}};};$mod.$init=function(){$mod.ShortMonthNames=$impl.DefaultShortMonthNames.slice(0);$mod.LongMonthNames=$impl.DefaultLongMonthNames.slice(0);$mod.ShortDayNames=$impl.DefaultShortDayNames.slice(0);$mod.LongDayNames=$impl.DefaultLongDayNames.slice(0);$mod.FormatSettings.$assign($lt1.Create());$mod.TimeSeparator=$mod.FormatSettings.TimeSeparator;$mod.DateSeparator=$mod.FormatSettings.DateSeparator;$mod.ShortDateFormat=$mod.FormatSettings.ShortDateFormat;$mod.LongDateFormat=$mod.FormatSettings.LongDateFormat;$mod.ShortTimeFormat=$mod.FormatSettings.ShortTimeFormat;$mod.LongTimeFormat=$mod.FormatSettings.LongTimeFormat;$mod.DecimalSeparator=$mod.FormatSettings.DecimalSeparator;$mod.ThousandSeparator=$mod.FormatSettings.ThousandSeparator;$mod.TimeAMString=$mod.FormatSettings.TimeAMString;$mod.TimePMString=$mod.FormatSettings.TimePMString;$mod.CurrencyFormat=$mod.FormatSettings.CurrencyFormat;$mod.NegCurrFormat=$mod.FormatSettings.NegCurrFormat;$mod.CurrencyDecimals=$mod.FormatSettings.CurrencyDecimals;$mod.CurrencyString=$mod.FormatSettings.CurrencyString;};},[]);rtl.module("TypInfo",["System","SysUtils","Types","RTLConsts","JS"],function(){"use strict";var $mod=this;var $lt=null;var $lt1=null;var $lt2=null;var $lt3=null;this.GetEnumName=function(TypeInfo,Value){var Result="";Result=TypeInfo.enumtype[Value];return Result;};});rtl.module("Classes",["System","RTLConsts","Types","SysUtils","JS","TypInfo"],function(){"use strict";var $mod=this;var $impl=$mod.$impl;var $lt=null;var $lt1=null;var $lt2=null;var $lt3=null;var $lt4=null;var $lt5=null;var $lt6=null;var $lt7=null;var $lt8=null;var $lt9=null;var $lt10=null;var $lt11=null;var $lt12=null;var $lt13=null;var $lt14=null;var $lt15=null;var $lt16=null;var $lt17=null;var $lt18=null;var $lt19=null;var $lt20=null;var $lm=pas.System;var $lm1=pas.SysUtils;var $lt21=$lm1.Exception;var $lt22=$lm.TObject;var $lm2=pas.RTLConsts;var $lp=$lm.VarRecs;var $lp1=$lm.Assigned;var $lp2=$lm1.FreeAndNil;var $lt23=$lm1.EConvertError;var $lp3=$lm1.IntToStr;var $lp4=$lm1.CompareText;var $lp5=$lm.Pos;var $lp6=$lm.Copy;var $lp7=$lm1.CompareStr;var $lp8=$lm1.IsValidIdent;this.$rtti.$MethodVar("TNotifyEvent",{procsig:rtl.newTIProcSig([["Sender",$lm.$rtti["TObject"]]]),methodkind:0});rtl.createClass(this,"EListError",$lt21,function(){$lt=this;});rtl.createClass(this,"EStringListError",$lt,function(){$lt1=this;});rtl.createClass(this,"EComponentError",$lt21,function(){$lt2=this;});$lt3=this.TAlignment={"0":"taLeftJustify",taLeftJustify:0,"1":"taRightJustify",taRightJustify:1,"2":"taCenter",taCenter:2};this.$rtti.$Enum("TAlignment",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TAlignment});rtl.createClass(this,"TFPList",$lt22,function(){$lt4=this;this.$init=function(){$lt22.$init.call(this);this.FList=[];this.FCount=0;this.FCapacity=0;};this.$final=function(){this.FList=undefined;$lt22.$final.call(this);};this.Get=function(Index){var Result=undefined;if((Index<0)||(Index>=this.FCount))this.RaiseIndexError(Index);Result=this.FList[Index];return Result;};this.Put=function(Index,Item){if((Index<0)||(Index>=this.FCount))this.RaiseIndexError(Index);this.FList[Index]=Item;};this.SetCapacity=function(NewCapacity){if(NewCapacity<this.FCount)this.$class.Error(rtl.getResStr($lm2,"SListCapacityError"),""+NewCapacity);if(NewCapacity===this.FCapacity)return;this.FList=rtl.arraySetLength(this.FList,undefined,NewCapacity);this.FCapacity=NewCapacity;};this.SetCount=function(NewCount){if(NewCount<0)this.$class.Error(rtl.getResStr($lm2,"SListCountError"),""+NewCount);if(NewCount>this.FCount){if(NewCount>this.FCapacity)this.SetCapacity(NewCount);};this.FCount=NewCount;};this.RaiseIndexError=function(Index){this.$class.Error(rtl.getResStr($lm2,"SListIndexError"),""+Index);};this.Destroy=function(){this.Clear();$lt22.Destroy.call(this);};this.Add=function(Item){var Result=0;if(this.FCount===this.FCapacity)this.Expand();this.FList[this.FCount]=Item;Result=this.FCount;this.FCount+=1;return Result;};this.Clear=function(){if(rtl.length(this.FList)>0){this.SetCount(0);this.SetCapacity(0);};};this.Delete=function(Index){if((Index<0)||(Index>=this.FCount))this.$class.Error(rtl.getResStr($lm2,"SListIndexError"),""+Index);this.FCount=this.FCount-1;this.FList.splice(Index,1);this.FCapacity-=1;};this.Error=function(Msg,Data){throw $lt.$create("CreateFmt",[Msg,$lp(18,Data)]);};this.Expand=function(){var Result=null;var IncSize=0;if(this.FCount<this.FCapacity)return this;IncSize=4;if(this.FCapacity>3)IncSize=IncSize+4;if(this.FCapacity>8)IncSize=IncSize+8;if(this.FCapacity>127)IncSize+=this.FCapacity>>>2;this.SetCapacity(this.FCapacity+IncSize);Result=this;return Result;};this.IndexOf=function(Item){var Result=0;var C=0;Result=0;C=this.FCount;while((Result<C)&&(this.FList[Result]!=Item))Result+=1;if(Result>=C)Result=-1;return Result;};this.IndexOfItem=function(Item,Direction){var Result=0;if(Direction===0){Result=this.IndexOf(Item)}
else{Result=this.FCount-1;while((Result>=0)&&(this.FList[Result]!=Item))Result=Result-1;};return Result;};this.Insert=function(Index,Item){if((Index<0)||(Index>this.FCount))this.$class.Error(rtl.getResStr($lm2,"SListIndexError"),""+Index);this.FList.splice(Index,0,Item);this.FCapacity+=1;this.FCount+=1;};this.Last=function(){var Result=undefined;if(this.FCount===0){Result=null}
else Result=this.Get(this.FCount-1);return Result;};this.Remove=function(Item){var Result=0;Result=this.IndexOf(Item);if(Result!==-1)this.Delete(Result);return Result;};});$lt5=this.TListNotification={"0":"lnAdded",lnAdded:0,"1":"lnExtracted",lnExtracted:1,"2":"lnDeleted",lnDeleted:2};rtl.createClass(this,"TList",$lt22,function(){$lt6=this;this.$init=function(){$lt22.$init.call(this);this.FList=null;};this.$final=function(){this.FList=undefined;$lt22.$final.call(this);};this.Get=function(Index){var Result=undefined;Result=this.FList.Get(Index);return Result;};this.Notify=function(aValue,Action){if($lp1(aValue));if(Action===1);};this.GetCount=function(){var Result=0;Result=this.FList.FCount;return Result;};this.Create$1=function(){$lt22.Create.call(this);this.FList=$lt4.$create("Create");return this;};this.Destroy=function(){if(this.FList!=null)this.Clear();$lp2({p:this,get:function(){return this.p.FList;},set:function(v){this.p.FList=v;}});};this.Add=function(Item){var Result=0;Result=this.FList.Add(Item);if($lp1(Item))this.Notify(Item,0);return Result;};this.Clear=function(){while(this.FList.FCount>0)this.Delete(this.GetCount()-1);};this.Delete=function(Index){var V=undefined;V=this.FList.Get(Index);this.FList.Delete(Index);if($lp1(V))this.Notify(V,2);};this.IndexOf=function(Item){var Result=0;Result=this.FList.IndexOf(Item);return Result;};this.Remove=function(Item){var Result=0;Result=this.IndexOf(Item);if(Result!==-1)this.Delete(Result);return Result;};});rtl.createClass(this,"TPersistent",$lt22,function(){$lt7=this;this.AssignError=function(Source){var SourceName="";if(Source!==null){SourceName=Source.$classname}
else SourceName="Nil";throw $lt23.$create("Create$1",["Cannot assign a "+SourceName+" to a "+this.$classname+"."]);};this.AssignTo=function(Dest){Dest.AssignError(this);};this.GetOwner=function(){var Result=null;Result=null;return Result;};this.Assign=function(Source){if(Source!==null){Source.AssignTo(this)}
else this.AssignError(null);};});rtl.createClass(this,"TStrings",$lt7,function(){$lt8=this;this.$init=function(){$lt7.$init.call(this);this.FSpecialCharsInited=false;this.FAlwaysQuote=false;this.FQuoteChar="";this.FDelimiter="";this.FNameValueSeparator="";this.FUpdateCount=0;this.FLBS=0;this.FLineBreak="";};this.GetName=function(Index){var Result="";var V="";this.GetNameValue(Index,{get:function(){return Result;},set:function(v){Result=v;}},{get:function(){return V;},set:function(v){V=v;}});return Result;};this.SetValue=function(Name,Value){var L=0;this.CheckSpecialChars();L=this.IndexOfName(Name);if(L===-1){this.Add(Name+this.FNameValueSeparator+Value)}
else this.Put(L,Name+this.FNameValueSeparator+Value);};this.Error=function(Msg,Data){throw $lt1.$create("CreateFmt",[Msg,$lp(18,$lp3(Data))]);};this.GetCapacity=function(){var Result=0;Result=this.GetCount();return Result;};this.GetObject=function(Index){var Result=null;if(Index===0);Result=null;return Result;};this.Put=function(Index,S){var Obj=null;Obj=this.GetObject(Index);this.Delete(Index);this.InsertObject(Index,S,Obj);};this.PutObject=function(Index,AObject){if(Index===0)return;if(AObject===null)return;};this.SetUpdateState=function(Updating){if(Updating);};this.DoCompareText=function(s1,s2){var Result=0;Result=$lp4(s1,s2);return Result;};this.GetValueFromIndex=function(Index){var Result="";var N="";this.GetNameValue(Index,{get:function(){return N;},set:function(v){N=v;}},{get:function(){return Result;},set:function(v){Result=v;}});return Result;};this.CheckSpecialChars=function(){if(!this.FSpecialCharsInited){this.FQuoteChar='"';this.FDelimiter=",";this.FNameValueSeparator="=";this.FLBS=$lm.DefaultTextLineBreakStyle;this.FSpecialCharsInited=true;this.FLineBreak=$lm.sLineBreak;};};this.Create$1=function(){$lt22.Create.call(this);this.FAlwaysQuote=false;return this;};this.Destroy=function(){$lt22.Destroy.call(this);};this.Add=function(S){var Result=0;Result=this.GetCount();this.Insert(this.GetCount(),S);return Result;};this.AddObject=function(S,AObject){var Result=0;Result=this.Add(S);this.PutObject(Result,AObject);return Result;};this.AddStrings=function(TheStrings){var Runner=0;for(var $l=0,$end=TheStrings.GetCount()-1;$l<=$end;$l++){Runner=$l;this.AddObject(TheStrings.Get(Runner),TheStrings.GetObject(Runner));};};this.Assign=function(Source){var S=null;if($lt8.isPrototypeOf(Source)){S=Source;this.BeginUpdate();try{this.Clear();this.FSpecialCharsInited=S.FSpecialCharsInited;this.FQuoteChar=S.FQuoteChar;this.FDelimiter=S.FDelimiter;this.FNameValueSeparator=S.FNameValueSeparator;this.FLBS=S.FLBS;this.FLineBreak=S.FLineBreak;this.AddStrings(S);}finally{this.EndUpdate();};}else $lt7.Assign.call(this,Source);};this.BeginUpdate=function(){if(this.FUpdateCount===0)this.SetUpdateState(true);this.FUpdateCount+=1;};this.EndUpdate=function(){if(this.FUpdateCount>0)this.FUpdateCount-=1;if(this.FUpdateCount===0)this.SetUpdateState(false);};this.IndexOfName=function(Name){var Result=0;var len=0;var S="";this.CheckSpecialChars();Result=0;while(Result<this.GetCount()){S=this.Get(Result);len=$lp5(this.FNameValueSeparator,S)-1;if((len>=0)&&(this.DoCompareText(Name,$lp6(S,1,len))===0))return Result;Result+=1;};Result=-1;return Result;};this.InsertObject=function(Index,S,AObject){this.Insert(Index,S);this.PutObject(Index,AObject);};this.GetNameValue=function(Index,AName,AValue){var L=0;this.CheckSpecialChars();AValue.set(this.Get(Index));L=$lp5(this.FNameValueSeparator,AValue.get());if(L!==0){AName.set($lp6(AValue.get(),1,L-1));AValue.set($lp6(AValue.get(),L+1,AValue.get().length-L));}else AName.set("");};});rtl.recNewT(this,"TStringItem",function(){$lt9=this;this.FString="";this.FObject=null;this.$eq=function(b){return(this.FString===b.FString)&&(this.FObject===b.FObject);};this.$assign=function(s){this.FString=s.FString;this.FObject=s.FObject;return this;};});$lt10=this.TStringsSortStyle={"0":"sslNone",sslNone:0,"1":"sslUser",sslUser:1,"2":"sslAuto",sslAuto:2};rtl.createClass(this,"TStringList",$lt8,function(){$lt11=this;this.$init=function(){$lt8.$init.call(this);this.FList=[];this.FCount=0;this.FOnChange=null;this.FOnChanging=null;this.FDuplicates=0;this.FCaseSensitive=false;this.FOwnsObjects=false;this.FSortStyle=0;};this.$final=function(){this.FList=undefined;this.FOnChange=undefined;this.FOnChanging=undefined;$lt8.$final.call(this);};this.GetSorted=function(){var Result=false;Result=this.FSortStyle in rtl.createSet(1,2);return Result;};this.Grow=function(){var NC=0;NC=this.GetCapacity();if(NC>=256){NC=NC+rtl.trunc(NC/4)}
else if(NC===0){NC=4}
else NC=NC*4;this.SetCapacity(NC);};this.InternalClear=function(FromIndex,ClearOnly){var I=0;if(FromIndex<this.FCount){if(this.FOwnsObjects){for(var $l=FromIndex,$end=this.FCount-1;$l<=$end;$l++){I=$l;this.FList[I].FString="";$lp2({p:this.FList[I],get:function(){return this.p.FObject;},set:function(v){this.p.FObject=v;}});};}else{for(var $l1=FromIndex,$end1=this.FCount-1;$l1<=$end1;$l1++){I=$l1;this.FList[I].FString="";};};this.FCount=FromIndex;};if(!ClearOnly)this.SetCapacity(0);};this.CheckIndex=function(AIndex){if((AIndex<0)||(AIndex>=this.FCount))this.Error(rtl.getResStr($lm2,"SListIndexError"),AIndex);};this.Changed=function(){if(this.FUpdateCount===0){if(this.FOnChange!=null)this.FOnChange(this);};};this.Changing=function(){if(this.FUpdateCount===0)if(this.FOnChanging!=null)this.FOnChanging(this);};this.Get=function(Index){var Result="";this.CheckIndex(Index);Result=this.FList[Index].FString;return Result;};this.GetCapacity=function(){var Result=0;Result=rtl.length(this.FList);return Result;};this.GetCount=function(){var Result=0;Result=this.FCount;return Result;};this.GetObject=function(Index){var Result=null;this.CheckIndex(Index);Result=this.FList[Index].FObject;return Result;};this.Put=function(Index,S){if(this.GetSorted())this.Error(rtl.getResStr($lm2,"SSortedListError"),0);this.CheckIndex(Index);this.Changing();this.FList[Index].FString=S;this.Changed();};this.PutObject=function(Index,AObject){this.CheckIndex(Index);this.Changing();this.FList[Index].FObject=AObject;this.Changed();};this.SetCapacity=function(NewCapacity){if(NewCapacity<0)this.Error(rtl.getResStr($lm2,"SListCapacityError"),NewCapacity);if(NewCapacity!==this.GetCapacity())this.FList=rtl.arraySetLength(this.FList,$lt9,NewCapacity);};this.SetUpdateState=function(Updating){if(Updating){this.Changing()}
else this.Changed();};this.InsertItem=function(Index,S){this.InsertItem$1(Index,S,null);};this.InsertItem$1=function(Index,S,O){var It=$lt9.$new();this.Changing();if(this.FCount===this.GetCapacity())this.Grow();It.FString=S;It.FObject=O;this.FList.splice(Index,0,It);this.FCount+=1;this.Changed();};this.DoCompareText=function(s1,s2){var Result=0;if(this.FCaseSensitive){Result=$lp7(s1,s2)}
else Result=$lp4(s1,s2);return Result;};this.Destroy=function(){this.InternalClear(0,false);$lt8.Destroy.call(this);};this.Add=function(S){var Result=0;if(!(this.FSortStyle===2)){Result=this.FCount}
else if(this.Find(S,{get:function(){return Result;},set:function(v){Result=v;}})){var $tmp=this.FDuplicates;if($tmp===0){return Result}
else if($tmp===2)this.Error(rtl.getResStr($lm2,"SDuplicateString"),0);};this.InsertItem(Result,S);return Result;};this.Clear=function(){if(this.FCount===0)return;this.Changing();this.InternalClear(0,false);this.Changed();};this.Delete=function(Index){this.CheckIndex(Index);this.Changing();if(this.FOwnsObjects)$lp2({p:this.FList[Index],get:function(){return this.p.FObject;},set:function(v){this.p.FObject=v;}});this.FList.splice(Index,1);this.FList[this.GetCount()-1].FString="";this.FList[this.GetCount()-1].FObject=null;this.FCount-=1;this.Changed();};this.Find=function(S,Index){var Result=false;var L=0;var R=0;var I=0;var CompareRes=0;Result=false;Index.set(-1);if(!this.GetSorted())throw $lt.$create("Create$1",[rtl.getResStr($lm2,"SErrFindNeedsSortedList")]);L=0;R=this.GetCount()-1;while(L<=R){I=L+rtl.trunc((R-L)/2);CompareRes=this.DoCompareText(S,this.FList[I].FString);if(CompareRes>0){L=I+1}
else{R=I-1;if(CompareRes===0){Result=true;if(this.FDuplicates!==1)L=I;};};};Index.set(L);return Result;};this.Insert=function(Index,S){if(this.FSortStyle===2){this.Error(rtl.getResStr($lm2,"SSortedListError"),0)}
else{if((Index<0)||(Index>this.FCount))this.Error(rtl.getResStr($lm2,"SListIndexError"),Index);this.InsertItem(Index,S);};};});rtl.createClass(this,"TCollectionItem",$lt7,function(){$lt12=this;this.$init=function(){$lt7.$init.call(this);this.FCollection=null;this.FID=0;};this.$final=function(){this.FCollection=undefined;$lt7.$final.call(this);};this.GetIndex=function(){var Result=0;if(this.FCollection!=null){Result=this.FCollection.FItems.IndexOf(this)}
else Result=-1;return Result;};this.SetCollection=function(Value){if(Value!==this.FCollection){if(this.FCollection!=null)this.FCollection.RemoveItem(this);if(Value!=null)Value.InsertItem(this);};};this.Changed=function(AllItems){if((this.FCollection!==null)&&(this.FCollection.FUpdateCount===0)){if(AllItems){this.FCollection.Update(null)}
else this.FCollection.Update(this);};};this.GetOwner=function(){var Result=null;Result=this.FCollection;return Result;};this.SetDisplayName=function(Value){this.Changed(false);if(Value==="");};this.Create$1=function(ACollection){$lt22.Create.call(this);this.SetCollection(ACollection);return this;};this.Destroy=function(){this.SetCollection(null);$lt22.Destroy.call(this);};});$lt13=this.TCollectionNotification={"0":"cnAdded",cnAdded:0,"1":"cnExtracting",cnExtracting:1,"2":"cnDeleting",cnDeleting:2};rtl.createClass(this,"TCollection",$lt7,function(){$lt14=this;this.$init=function(){$lt7.$init.call(this);this.FItemClass=null;this.FItems=null;this.FUpdateCount=0;this.FNextID=0;};this.$final=function(){this.FItemClass=undefined;this.FItems=undefined;$lt7.$final.call(this);};this.GetCount=function(){var Result=0;Result=this.FItems.FCount;return Result;};this.InsertItem=function(Item){if(!this.FItemClass.isPrototypeOf(Item))return;this.FItems.Add(Item);Item.FCollection=this;Item.FID=this.FNextID;this.FNextID+=1;this.SetItemName(Item);this.Notify(Item,0);this.Changed();};this.RemoveItem=function(Item){var I=0;this.Notify(Item,1);I=this.FItems.IndexOfItem(Item,1);if(I!==-1)this.FItems.Delete(I);Item.FCollection=null;this.Changed();};this.DoClear=function(){var Item=null;while(this.FItems.FCount>0){Item=rtl.getObject(this.FItems.Last());if(Item!=null)Item.$destroy("Destroy");};};this.Changed=function(){if(this.FUpdateCount===0)this.Update(null);};this.GetItem=function(Index){var Result=null;Result=rtl.getObject(this.FItems.Get(Index));return Result;};this.SetItemName=function(Item){if(Item===null);};this.Update=function(Item){if(Item===null);};this.Notify=function(Item,Action){if(Item===null);if(Action===0);};this.Create$1=function(AItemClass){$lt22.Create.call(this);this.FItemClass=AItemClass;this.FItems=$lt4.$create("Create");return this;};this.Destroy=function(){this.FUpdateCount=1;try{this.DoClear();}finally{this.FUpdateCount=0;};if(this.FItems!=null)this.FItems.$destroy("Destroy");$lt22.Destroy.call(this);};this.Owner=function(){var Result=null;Result=this.GetOwner();return Result;};this.Add=function(){var Result=null;Result=this.FItemClass.$create("Create$1",[this]);return Result;};this.Assign=function(Source){var I=0;if($lt14.isPrototypeOf(Source)){this.Clear();for(var $l=0,$end=Source.GetCount()-1;$l<=$end;$l++){I=$l;this.Add().Assign(Source.GetItem(I));};return;}else $lt7.Assign.call(this,Source);};this.BeginUpdate=function(){this.FUpdateCount+=1;};this.Clear=function(){if(this.FItems.FCount===0)return;this.BeginUpdate();try{this.DoClear();}finally{this.EndUpdate();};};this.EndUpdate=function(){if(this.FUpdateCount>0)this.FUpdateCount-=1;if(this.FUpdateCount===0)this.Changed();};});rtl.createClass(this,"TOwnedCollection",$lt14,function(){$lt15=this;this.$init=function(){$lt14.$init.call(this);this.FOwner=null;};this.$final=function(){this.FOwner=undefined;$lt14.$final.call(this);};this.GetOwner=function(){var Result=null;Result=this.FOwner;return Result;};this.Create$2=function(AOwner,AItemClass){this.FOwner=AOwner;$lt14.Create$1.call(this,AItemClass);return this;};});$lt16=this.TOperation={"0":"opInsert",opInsert:0,"1":"opRemove",opRemove:1};$lt17=this.TComponentStateItem={"0":"csLoading",csLoading:0,"1":"csReading",csReading:1,"2":"csWriting",csWriting:2,"3":"csDestroying",csDestroying:3,"4":"csDesigning",csDesigning:4,"5":"csAncestor",csAncestor:5,"6":"csUpdating",csUpdating:6,"7":"csFixups",csFixups:7,"8":"csFreeNotification",csFreeNotification:8,"9":"csInline",csInline:9,"10":"csDesignInstance",csDesignInstance:10};$lt18=this.TComponentStyleItem={"0":"csInheritable",csInheritable:0,"1":"csCheckPropAvail",csCheckPropAvail:1,"2":"csSubComponent",csSubComponent:2,"3":"csTransient",csTransient:3};rtl.createClass(this,"TComponent",$lt7,function(){$lt19=this;this.$init=function(){$lt7.$init.call(this);this.FOwner=null;this.FName="";this.FTag=0;this.FComponents=null;this.FFreeNotifies=null;this.FComponentState={};this.FComponentStyle={};};this.$final=function(){this.FOwner=undefined;this.FComponents=undefined;this.FFreeNotifies=undefined;this.FComponentState=undefined;this.FComponentStyle=undefined;$lt7.$final.call(this);};this.Insert=function(AComponent){if(!(this.FComponents!=null))this.FComponents=$lt4.$create("Create");this.FComponents.Add(AComponent);AComponent.FOwner=this;};this.Remove=function(AComponent){AComponent.FOwner=null;if(this.FComponents!=null){this.FComponents.Remove(AComponent);if(this.FComponents.FCount===0){this.FComponents.$destroy("Destroy");this.FComponents=null;};};};this.RemoveNotification=function(AComponent){if(this.FFreeNotifies!==null){this.FFreeNotifies.Remove(AComponent);if(this.FFreeNotifies.FCount===0){this.FFreeNotifies.$destroy("Destroy");this.FFreeNotifies=null;this.FComponentState=rtl.excludeSet(this.FComponentState,8);};};};this.SetReference=function(Enable){var aField=null;var aValue=null;var aOwner=null;if(this.FName==="")return;if(this.FOwner!=null){aOwner=this.FOwner;aField=this.FOwner.$class.FieldAddress(this.FName);if(aField!=null){if(Enable){aValue=this}
else aValue=null;aOwner[""+aField["name"]]=aValue;};};};this.ChangeName=function(NewName){this.FName=NewName;};this.GetOwner=function(){var Result=null;Result=this.FOwner;return Result;};this.Notification=function(AComponent,Operation){var C=0;if(Operation===1)this.RemoveFreeNotification(AComponent);if(!(this.FComponents!=null))return;C=this.FComponents.FCount-1;while(C>=0){rtl.getObject(this.FComponents.Get(C)).Notification(AComponent,Operation);C-=1;if(C>=this.FComponents.FCount)C=this.FComponents.FCount-1;};};this.SetDesigning=function(Value,SetChildren){var Runner=0;if(Value){this.FComponentState=rtl.includeSet(this.FComponentState,4)}
else this.FComponentState=rtl.excludeSet(this.FComponentState,4);if((this.FComponents!=null)&&SetChildren)for(var $l=0,$end=this.FComponents.FCount-1;$l<=$end;$l++){Runner=$l;rtl.getObject(this.FComponents.Get(Runner)).SetDesigning(Value,true);};};this.SetName=function(NewName){if(this.FName===NewName)return;if((NewName!=="")&&!$lp8(NewName,false,false))throw $lt2.$create("CreateFmt",[rtl.getResStr($lm2,"SInvalidName"),$lp(18,NewName)]);if(this.FOwner!=null){this.FOwner.ValidateRename(this,this.FName,NewName)}
else this.ValidateRename(null,this.FName,NewName);this.SetReference(false);this.ChangeName(NewName);this.SetReference(true);};this.ValidateRename=function(AComponent,CurName,NewName){if((AComponent!==null)&&($lp4(CurName,NewName)!==0)&&(AComponent.FOwner===this)&&(this.FindComponent(NewName)!==null))throw $lt2.$create("CreateFmt",[rtl.getResStr($lm2,"SDuplicateName"),$lp(18,NewName)]);if((4 in this.FComponentState)&&(this.FOwner!==null))this.FOwner.ValidateRename(AComponent,CurName,NewName);};this.ValidateContainer=function(AComponent){AComponent.ValidateInsert(this);};this.ValidateInsert=function(AComponent){if(AComponent===null);};this.Create$1=function(AOwner){this.FComponentStyle=rtl.createSet(0);if(AOwner!=null)AOwner.InsertComponent(this);return this;};this.Destroy=function(){var I=0;var C=null;this.Destroying();if(this.FFreeNotifies!=null){I=this.FFreeNotifies.FCount-1;while(I>=0){C=rtl.getObject(this.FFreeNotifies.Get(I));this.FFreeNotifies.Delete(I);C.Notification(this,1);if(this.FFreeNotifies===null){I=0}
else if(I>this.FFreeNotifies.FCount)I=this.FFreeNotifies.FCount;I-=1;};$lp2({p:this,get:function(){return this.p.FFreeNotifies;},set:function(v){this.p.FFreeNotifies=v;}});};this.DestroyComponents();if(this.FOwner!==null)this.FOwner.RemoveComponent(this);$lt22.Destroy.call(this);};this.BeforeDestruction=function(){if(!(3 in this.FComponentState))this.Destroying();};this.DestroyComponents=function(){var acomponent=null;while(this.FComponents!=null){acomponent=rtl.getObject(this.FComponents.Last());this.Remove(acomponent);acomponent.$destroy("Destroy");};};this.Destroying=function(){var Runner=0;if(3 in this.FComponentState)return;this.FComponentState=rtl.includeSet(this.FComponentState,3);if(this.FComponents!=null)for(var $l=0,$end=this.FComponents.FCount-1;$l<=$end;$l++){Runner=$l;rtl.getObject(this.FComponents.Get(Runner)).Destroying();};};this.FindComponent=function(AName){var Result=null;var I=0;Result=null;if((AName==="")||!(this.FComponents!=null))return Result;for(var $l=0,$end=this.FComponents.FCount-1;$l<=$end;$l++){I=$l;if($lp4(rtl.getObject(this.FComponents.Get(I)).FName,AName)===0){Result=rtl.getObject(this.FComponents.Get(I));return Result;};};return Result;};this.FreeNotification=function(AComponent){if((this.FOwner!==null)&&(AComponent===this.FOwner))return;if(!(this.FFreeNotifies!=null))this.FFreeNotifies=$lt4.$create("Create");if(this.FFreeNotifies.IndexOf(AComponent)===-1){this.FFreeNotifies.Add(AComponent);AComponent.FreeNotification(this);};};this.RemoveFreeNotification=function(AComponent){this.RemoveNotification(AComponent);AComponent.RemoveNotification(this);};this.InsertComponent=function(AComponent){AComponent.ValidateContainer(this);this.ValidateRename(AComponent,"",AComponent.FName);if(AComponent.FOwner!==null)AComponent.FOwner.RemoveComponent(AComponent);this.Insert(AComponent);if(4 in this.FComponentState)AComponent.SetDesigning(true,true);this.Notification(AComponent,0);};this.RemoveComponent=function(AComponent){this.Notification(AComponent,1);this.Remove(AComponent);AComponent.SetDesigning(false,true);this.ValidateRename(AComponent,AComponent.FName,"");};var $r=this.$rtti;$r.addProperty("Name",6,rtl.string,"FName","SetName");$r.addProperty("Tag",0,rtl.nativeint,"FTag","FTag",{Default:0});});rtl.createClass(this,"TLoadHelper",$lt22,function(){$lt20=this;});this.SetLoadHelperClass=function(aClass){var Result=null;Result=$impl.GlobalLoadHelper;$impl.GlobalLoadHelper=aClass;return Result;};$mod.$implcode=function(){$impl.GlobalLoadHelper=null;$impl.ClassList=null;};$mod.$init=function(){$impl.ClassList=new Object();};},[]);rtl.module("Rtl.BrowserLoadHelper",["System","Classes","SysUtils","JS","Web"],function(){"use strict";var $mod=this;var $lt=null;var $lm=pas.Classes;var $lt1=$lm.TLoadHelper;var $lp=$lm.SetLoadHelperClass;rtl.createClass(this,"TBrowserLoadHelper",$lt1,function(){$lt=this;});$mod.$init=function(){$lp($lt);};});rtl.module("browserconsole",["System","JS","Web","Rtl.BrowserLoadHelper","SysUtils"],function(){"use strict";var $mod=this;var $impl=$mod.$impl;var $lm=pas.System;var $lp=$lm.SetWriteCallBack;var $lm1=pas.SysUtils;var $lp1=$lm1.StringReplace;this.BrowserLineBreak="\n";this.DefaultMaxConsoleLines=25;this.DefaultConsoleStyle=".pasconsole { "+this.BrowserLineBreak+"font-family: courier;"+this.BrowserLineBreak+"font-size: 14px;"+this.BrowserLineBreak+"background: #FFFFFF;"+this.BrowserLineBreak+"color: #000000;"+this.BrowserLineBreak+"display: block;"+this.BrowserLineBreak+"}";this.ConsoleElementID="";this.ConsoleStyle="";this.MaxConsoleLines=0;this.ConsoleLinesToBrowserLog=false;this.ResetConsole=function(){if($impl.LinesParent===null)return;while($impl.LinesParent.firstElementChild!==null)$impl.LinesParent.removeChild($impl.LinesParent.firstElementChild);$impl.AppendLine();};this.InitConsole=function(){if($impl.ConsoleElement===null)return;if($impl.ConsoleElement.nodeName.toLowerCase()!=="body"){while($impl.ConsoleElement.firstElementChild!==null)$impl.ConsoleElement.removeChild($impl.ConsoleElement.firstElementChild);};$impl.StyleElement=document.createElement("style");$impl.StyleElement.innerText=$mod.ConsoleStyle;$impl.ConsoleElement.appendChild($impl.StyleElement);$impl.LinesParent=document.createElement("div");$impl.ConsoleElement.appendChild($impl.LinesParent);};this.HookConsole=function(){$impl.ConsoleElement=null;if($mod.ConsoleElementID!=="")$impl.ConsoleElement=document.getElementById($mod.ConsoleElementID);if($impl.ConsoleElement===null)$impl.ConsoleElement=document.body;if($impl.ConsoleElement===null)return;$mod.InitConsole();$mod.ResetConsole();$lp($impl.WriteConsole);};$mod.$implcode=function(){$impl.LastLine=null;$impl.StyleElement=null;$impl.LinesParent=null;$impl.ConsoleElement=null;$impl.AppendLine=function(){var CurrentCount=0;var S=null;CurrentCount=0;S=$impl.LinesParent.firstChild;while(S!=null){CurrentCount+=1;S=S.nextSibling;};while(CurrentCount>$mod.MaxConsoleLines){CurrentCount-=1;$impl.LinesParent.removeChild($impl.LinesParent.firstChild);};$impl.LastLine=document.createElement("div");$impl.LastLine.className="pasconsole";$impl.LinesParent.appendChild($impl.LastLine);};$impl.EscapeString=function(S){var Result="";var CL="";CL=$lp1(S,"<","&lt;",rtl.createSet(0));CL=$lp1(CL,">","&gt;",rtl.createSet(0));CL=$lp1(CL," ","&nbsp;",rtl.createSet(0));CL=$lp1(CL,"\r\n","<br>",rtl.createSet(0));CL=$lp1(CL,"\n","<br>",rtl.createSet(0));CL=$lp1(CL,"\r","<br>",rtl.createSet(0));Result=CL;return Result;};$impl.WriteConsole=function(S,NewLine){var CL="";CL=$impl.LastLine.innerHTML;CL=CL+$impl.EscapeString(""+S);$impl.LastLine.innerHTML=CL;if(NewLine){if($mod.ConsoleLinesToBrowserLog)window.console.log($impl.LastLine.innerText);$impl.AppendLine();};};};$mod.$init=function(){$mod.ConsoleLinesToBrowserLog=true;$mod.ConsoleElementID="pasjsconsole";$mod.ConsoleStyle=$mod.DefaultConsoleStyle;$mod.MaxConsoleLines=25;$mod.HookConsole();};},[]);rtl.module("CustApp",["System","Classes","SysUtils","Types","JS"],function(){"use strict";var $mod=this;var $lt=null;var $lm=pas.Classes;var $lt1=$lm.TComponent;var $lm1=pas.SysUtils;var $lt2=$lm1.Exception;rtl.createClass(this,"TCustomApplication",$lt1,function(){$lt=this;this.$init=function(){$lt1.$init.call(this);this.FExceptObjectJS=undefined;this.FTerminated=false;this.FOptionChar="";this.FCaseSensitiveOptions=false;this.FStopOnException=false;this.FExceptionExitCode=0;this.FExceptObject=null;};this.$final=function(){this.FExceptObject=undefined;$lt1.$final.call(this);};this.Create$1=function(AOwner){$lt1.Create$1.call(this,AOwner);this.FOptionChar="-";this.FCaseSensitiveOptions=true;this.FStopOnException=false;return this;};this.HandleException=function(Sender){this.ShowException(this.FExceptObject);if(this.FStopOnException)this.Terminate$1(this.FExceptionExitCode);if(Sender===null);};this.Initialize=function(){this.FTerminated=false;};this.Run=function(){do{this.FExceptObject=null;this.FExceptObjectJS=null;try{this.DoRun();}catch($e){if($lt2.isPrototypeOf($e)){var E=$e;this.FExceptObject=E;this.FExceptObjectJS=E;this.HandleException(this);}else{this.FExceptObject=null;this.FExceptObjectJS=$e;}};break;}while(!this.FTerminated);};this.Terminate$1=function(AExitCode){this.FTerminated=true;rtl.exitcode=AExitCode;};});});rtl.module("browserapp",["System","Classes","SysUtils","Types","JS","Web","CustApp"],function(){"use strict";var $mod=this;var $impl=$mod.$impl;var $lt=null;var $lm=pas.CustApp;var $lt1=$lm.TCustomApplication;var $lm1=pas.System;var $lp=$lm1.Writeln;var $lm2=pas.SysUtils;var $lt2=$lm2.Exception;var $lp1=$lm2.FreeAndNil;var $lp2=$lm1.Copy;var $lp3=$lm2.LowerCase;rtl.createClass(this,"TBrowserApplication",$lt1,function(){$lt=this;this.GetHTMLElement=function(aID){var Result=null;Result=document.getElementById(aID);if((Result===null)&&this.LogGetElementErrors())$lp("Could not find element with ID ",aID);return Result;};this.DoRun=function(){};this.LogGetElementErrors=function(){var Result=false;Result=true;return Result;};this.ShowException=function(E){var S="";if(E!==null){S=E.$classname+": "+E.fMessage}
else if(this.FExceptObjectJS)S=this.FExceptObjectJS.toString();window.alert("Unhandled exception caught:"+S);};this.HandleException=function(Sender){if($lt2.isPrototypeOf(this.FExceptObject))this.ShowException(this.FExceptObject);$lt1.HandleException.call(this,Sender);};});this.ReloadEnvironmentStrings=function(){var I=0;var S="";var N="";var A=[];var P=[];if($impl.EnvNames!=null)$lp1({p:$impl,get:function(){return this.p.EnvNames;},set:function(v){this.p.EnvNames=v;}});$impl.EnvNames=new Object();S=window.location.search;S=$lp2(S,2,S.length-1);A=S.split("&");for(var $l=0,$end=rtl.length(A)-1;$l<=$end;$l++){I=$l;P=A[I].split("=");N=$lp3(decodeURIComponent(P[0]));if(rtl.length(P)===2){$impl.EnvNames[N]=decodeURIComponent(P[1])}
else if(rtl.length(P)===1)$impl.EnvNames[N]="";};};$mod.$implcode=function(){$impl.EnvNames=null;$impl.Params=[];$impl.ReloadParamStrings=function(){$impl.Params=rtl.arraySetLength($impl.Params,"",1);$impl.Params[0]=window.location.pathname;};$impl.GetParamCount=function(){var Result=0;Result=rtl.length($impl.Params)-1;return Result;};$impl.GetParamStr=function(Index){var Result="";Result=$impl.Params[Index];return Result;};$impl.MyGetEnvironmentVariable=function(EnvVar){var Result="";var aName="";aName=$lp3(EnvVar);if($impl.EnvNames.hasOwnProperty(aName)){Result=""+$impl.EnvNames[aName]}
else Result="";return Result;};$impl.MyGetEnvironmentVariableCount=function(){var Result=0;Result=rtl.length(Object.getOwnPropertyNames($impl.EnvNames));return Result;};$impl.MyGetEnvironmentString=function(Index){var Result="";Result=""+$impl.EnvNames[Object.getOwnPropertyNames($impl.EnvNames)[Index]];return Result;};};$mod.$init=function(){$lm1.IsConsole=true;$lm1.OnParamCount=$impl.GetParamCount;$lm1.OnParamStr=$impl.GetParamStr;$mod.ReloadEnvironmentStrings();$impl.ReloadParamStrings();$lm2.OnGetEnvironmentVariable=$impl.MyGetEnvironmentVariable;$lm2.OnGetEnvironmentVariableCount=$impl.MyGetEnvironmentVariableCount;$lm2.OnGetEnvironmentString=$impl.MyGetEnvironmentString;};},["Rtl.BrowserLoadHelper"]);rtl.module("p2jsres",["System","Types"],function(){"use strict";var $mod=this;var $impl=$mod.$impl;var $lt=null;var $lt1=null;var $lt2=null;var $lm=null;var $lp=null;var $lm1=null;var $lp1=null;var $lp2=null;var $lm2=pas.System;var $lp3=$lm2.Copy;var $lp4=$lm2.Pos;$lt=this.TResourceSource={"0":"rsJS",rsJS:0,"1":"rsHTML",rsHTML:1};rtl.recNewT(this,"TResourceInfo",function(){$lt1=this;this.name="";this.encoding="";this.resourceunit="";this.format="";this.data="";this.$eq=function(b){return(this.name===b.name)&&(this.encoding===b.encoding)&&(this.resourceunit===b.resourceunit)&&(this.format===b.format)&&(this.data===b.data);};this.$assign=function(s){this.name=s.name;this.encoding=s.encoding;this.resourceunit=s.resourceunit;this.format=s.format;this.data=s.data;return this;};});this.GetResourceInfo$1=function(aSource,aName,aInfo){var Result=false;var $tmp=aSource;if($tmp===0){Result=$impl.GetRTLResourceInfo(aName,aInfo)}
else if($tmp===1)Result=$impl.GetHTMLResourceInfo(aName,aInfo);return Result;};$mod.$implcode=function(){$lm=pas.SysUtils;$lp=$lm.LowerCase;$lm1=pas.JS;$lp1=$lm1.isDefined;$lp2=$lm.SameText;$impl.GetRTLResourceInfo=function(aName,aInfo){var Result=false;var RTLInfo=null;RTLInfo=rtl.getResource($lp(aName));Result=RTLInfo!=null;if(Result){aInfo.name=RTLInfo.name;aInfo.encoding=RTLInfo.encoding;aInfo.format=RTLInfo.format;aInfo.resourceunit=RTLInfo.unit;aInfo.data=RTLInfo.data;};return Result;};$impl.IDPrefix="resource-";$impl.GetHTMLResourceInfo=function(aName,aInfo){var Result=false;var el=null;var S="";var I=0;Result=false;if(!$lp1(document))return Result;el=document.getElementById($impl.IDPrefix+$lp(aName));Result=(el!=null)&&$lp2(el.tagName,"link");if(!Result)return Result;aInfo.name=$lp(aName);aInfo.resourceunit=""+el.dataset["unit"];S=el.href;S=$lp3(S,6,S.length-5);I=$lp4(",",S);aInfo.data=$lp3(S,I+1,S.length-1);S=$lp3(S,1,I-1);I=$lp4(";",S);if(I===0){aInfo.encoding=""}
else{aInfo.encoding=$lp3(S,I+1,S.length-1);S=$lp3(S,1,I-1);};aInfo.format=S;return Result;};};},["SysUtils","JS","Web"]);rtl.module("DateUtils",["System","SysUtils"],function(){"use strict";var $mod=this;var $impl=$mod.$impl;var $lt=null;var $lm=pas.SysUtils;var $lp=$lm.DecodeDate;var $lp1=$lm.FormatDateTime;var $lp2=$lm.Trim;var $lp3=$lm.StrToIntDef;var $lm1=pas.System;var $lp4=$lm1.Copy;var $lp5=$lm.EncodeTime;var $lp6=$lm.EncodeDate;var $lt1=$lm1.TObject;var $lp7=$lm.Format;var $lp8=$lm1.VarRecs;var $lp9=$lm.SameText;var $lp10=$lm.Now;var $lp11=$lm1.upcase;var $lt2=$lm.EConvertError;this.YearOf=function(AValue){var Result=0;var D=0;var M=0;$lp(AValue,{get:function(){return Result;},set:function(v){Result=v;}},{get:function(){return D;},set:function(v){D=v;}},{get:function(){return M;},set:function(v){M=v;}});return Result;};this.DateTimeToRFC3339=function(ADate){var Result="";Result=$lp1('yyyy-mm-dd"T"hh":"nn":"ss"."zzz"Z"',ADate);return Result;};var TPartPos={"0":"ppTime",ppTime:0,"1":"ppYear",ppYear:1,"2":"ppMonth",ppMonth:2,"3":"ppDay",ppDay:3,"4":"ppHour",ppHour:4,"5":"ppMinute",ppMinute:5,"6":"ppSec",ppSec:6,"7":"ppMSec",ppMSec:7};var P=[11,1,6,9,12,15,18,21];this.TryRFC3339ToDateTime=function(Avalue,ADateTime){var Result=false;var lY=0;var lM=0;var lD=0;var lH=0;var lMi=0;var lS=0;var lMs=0;if($lp2(Avalue)===""){Result=true;ADateTime.set(0);};lY=$lp3($lp4(Avalue,P[1],4),-1);lM=$lp3($lp4(Avalue,P[2],2),-1);lD=$lp3($lp4(Avalue,P[3],2),-1);if(Avalue.length>=P[0]){lH=$lp3($lp4(Avalue,P[4],2),-1);lMi=$lp3($lp4(Avalue,P[5],2),-1);if(Avalue.length>=P[6]){lS=$lp3($lp4(Avalue,P[6],2),-1)}
else lS=0;if(Avalue.length>=P[7])lMs=$lp3($lp4(Avalue,P[7],3),-1);}else{lH=0;lMi=0;lS=0;lMs=0;};Result=(lY>=0)&&(lM>=0)&&(lD>=0)&&(lH>=0)&&(lMi>=0)&&(lS>=0)&&(lMs>=0);if(!Result){ADateTime.set(0)}
else if((lY===0)||(lM===0)||(lD===0)){ADateTime.set($lp5(lH,lMi,lS,0))}
else ADateTime.set($lp6(lY,lM,lD)+$lp5(lH,lMi,lS,lMs));return Result;};rtl.createClass(this,"TDateTimeScanner",$lt1,function(){$lt=this;this.$init=function(){$lt1.$init.call(this);this.FPattern="";this.FText="";this.FPatternOffset=0;this.FLen=0;this.FPatternLen=0;this.FPatternPos=0;this.FPos=0;this.FY=0;this.FM=0;this.FD=0;this.FTimeval=0.0;};this.ArrayMatchError=function(){$impl.raiseexception($lp7($impl.SNoArrayMatch,$lp8(0,this.FPatternPos+1,0,this.FPos)));};this.DoDateTime=function(){this.MatchPattern($lm.ShortDateFormat);this.MatchPattern("\t");this.MatchPattern($lm.LongTimeFormat);this.FPatternPos+=1;};this.SetPattern=function(AValue){if(this.FPattern===AValue)return;this.FPattern=AValue;this.FPatternLen=this.FPattern.length;};this.SetText=function(AValue){if(this.FText===AValue)return;this.FText=AValue;this.FLen=this.FText.length;};this.ScanFixedInt=function(maxv){var Result=0;var c="";var n="";var oi=0;Result=0;oi=this.FPos;c=this.FPattern.charAt(this.FPatternPos-1);while((this.FPatternPos<=this.FPatternLen)&&(this.FPattern.charAt(this.FPatternPos-1)===c))this.FPatternPos+=1;n=this.FText.charAt(this.FPos-1);while((maxv>0)&&(this.FPos<=this.FLen)&&(n.charCodeAt()in rtl.createSet(null,48,57))){Result=((Result*10)+n.charCodeAt())-48;this.FPos+=1;maxv-=1;if(this.FPos<=this.FLen)n=this.FText.charAt(this.FPos-1);};if(oi===this.FPos)$impl.raiseexception($lp7($impl.SPatternCharMismatch,$lp8(9,c,0,oi)));return Result;};this.ScanPatternLength=function(){var Result=0;var c="";var i=0;Result=this.FPatternPos;i=this.FPatternPos;c=this.FPattern.charAt(i-1);while((i<=this.FPatternLen)&&(this.FPattern.charAt(i-1)===c))i+=1;Result=i-Result;return Result;};this.MatchChar=function(c){var N="";if(this.FPos<=this.FLen){N=this.FText.charAt(this.FPos-1)}
else N="?";if(N!==c)$impl.raiseexception($lp7($impl.SNoCharMatch,$lp8(9,N,9,c,0,this.FPatternPos+this.FPatternOffset,0,this.FPos)));this.FPatternPos+=1;this.FPos+=1;};this.FindIMatch=function(values,aTerm){var Result=0;var l=0;var i=0;Result=-1;l=rtl.length(values)-1;i=0;while((i<=l)&&(Result===-1)){if($lp9($lp4(aTerm,1,values[i].length),values[i]))Result=i;i+=1;};return Result;};this.FindMatch=function(Values){var Result=0;Result=this.FindIMatch(Values,$lp4(this.FText,this.FPos,(this.FLen-this.FPos)+1));if(Result===-1){this.ArrayMatchError()}
else{this.FPos+=Values[Result].length+1;this.FPatternPos+=Values[Result].length+1;Result+=1;};return Result;};this.MatchPattern=function(aPattern){var T="";var cPos=0;T=this.FPattern;cPos=this.FPatternPos;this.FPatternOffset=this.FPatternPos;this.FPattern=aPattern;this.FPatternLen=aPattern.length;try{this.Scan(-1);}finally{this.FPattern=T;this.FPatternLen=aPattern.length;this.FPatternPos=cPos;this.FPatternOffset=0;};};this.DoYear=function(){var I=0;var pivot=0;I=this.ScanPatternLength();this.FY=this.ScanFixedInt(4);if(I<=2){pivot=$mod.YearOf($lp10())-$lm.TwoDigitYearCenturyWindow;this.FY+=rtl.trunc(pivot/100)*100;if(($lm.TwoDigitYearCenturyWindow>0)&&(this.FY<pivot))this.FY+=100;};};this.DoMonth=function(){var I=0;I=this.ScanPatternLength();var $tmp=I;if(($tmp===1)||($tmp===2)){this.FM=this.ScanFixedInt(2)}
else if($tmp===3){this.FM=this.FindMatch($lm.ShortMonthNames)}
else if($tmp===4)this.FM=this.FindMatch($lm.LongMonthNames);};this.DoDay=function(){var I=0;I=this.ScanPatternLength();var $tmp=I;if(($tmp===1)||($tmp===2)){this.FD=this.ScanFixedInt(2)}
else if($tmp===3){this.FD=this.FindMatch($lm.ShortDayNames)}
else if($tmp===4){this.FD=this.FindMatch($lm.LongDayNames)}
else if($tmp===5){this.MatchPattern($lm.ShortDateFormat)}
else if($tmp===6)this.MatchPattern($lm.LongDateFormat);};this.DoTime=function(){var I=0;I=this.ScanPatternLength();var $tmp=I;if($tmp===1){this.MatchPattern($lm.ShortTimeFormat)}
else if($tmp===2)this.MatchPattern($lm.LongTimeFormat);};this.DoAMPM=function(){var I=0;I=this.FindIMatch($impl.AMPMformatting,$lp4(this.FPattern,this.FPatternPos,5));var $tmp=I;if($tmp===0){I=this.FindIMatch(["AM","PM"],$lp4(this.FText,this.FPos,2));var $tmp1=I;if($tmp1===0){}
else if($tmp1===1){this.FTimeval=this.FTimeval+(12*0.041666666666666664)}
else{this.ArrayMatchError();};this.FPatternPos+=$impl.AMPMformatting[0].length;this.FPos+=2;}else if($tmp===1){var $tmp2=$lp11(this.FText.charAt(this.FPos-1));if($tmp2==="A"){}
else if($tmp2==="P"){this.FTimeval=this.FTimeval+(12*0.041666666666666664)}
else{this.ArrayMatchError();};this.FPatternPos+=$impl.AMPMformatting[1].length;this.FPos+=1;}else if($tmp===2){I=this.FindIMatch([$lm.TimeAMString,$lm.TimePMString],$lp4(this.FText,this.FPos,5));var $tmp3=I;if($tmp3===0){this.FPos+=$lm.TimeAMString.length}
else if($tmp3===1){this.FTimeval=this.FTimeval+(12*0.041666666666666664);this.FPos+=$lm.TimePMString.length;}else{this.ArrayMatchError();};this.FPatternPos+=$impl.AMPMformatting[2].length;this.FPatternPos+=2;this.FPos+=2;}else{this.MatchChar(this.FPattern.charAt(this.FPatternPos-1));};};this.Scan=function(StartPos){var Result=0.0;var lasttoken="";var activequote="";var lch="";var i=0;if(StartPos<1)StartPos=1;if(this.FPos<StartPos)this.FPos=StartPos;this.FPatternPos=1;activequote="\x00";lasttoken=" ";while((this.FPos<=this.FLen)&&(this.FPatternPos<=this.FPatternLen)){lch=$lp11(this.FPattern.charAt(this.FPatternPos-1));if(activequote!=="\x00"){if(activequote!==lch){this.MatchChar(lch)}
else{activequote="\x00";this.FPatternPos+=1;};}else{if((lch==="M")&&(lasttoken==="H")){i=this.ScanPatternLength();if(i>2)$impl.raiseexception($lp7($impl.SHHMMError,$lp8(0,this.FPatternOffset+this.FPatternPos+1)));this.FTimeval=this.FTimeval+(this.ScanFixedInt(2)*0.00069444444444444447);}else{var $tmp=lch;if($tmp==="Y"){this.DoYear()}
else if($tmp==="M"){this.DoMonth()}
else if($tmp==="D"){this.DoDay()}
else if($tmp==="T"){this.DoTime()}
else if($tmp==="H"){this.FTimeval=this.FTimeval+(this.ScanFixedInt(2)*0.041666666666666664)}
else if($tmp==="N"){this.FTimeval=this.FTimeval+(this.ScanFixedInt(2)*0.00069444444444444447)}
else if($tmp==="S"){this.FTimeval=this.FTimeval+(this.ScanFixedInt(2)*0.000011574074074074073)}
else if($tmp==="Z"){this.FTimeval=this.FTimeval+(this.ScanFixedInt(3)*1.1574074074074074E-8)}
else if($tmp==="A"){this.DoAMPM()}
else if($tmp==="\/"){this.MatchChar($lm.DateSeparator)}
else if($tmp===":"){this.MatchChar($lm.TimeSeparator);lch=lasttoken;}else if(($tmp==="'")||($tmp==='"')){activequote=lch;this.FPatternPos+=1;}else if($tmp==="C"){this.DoDateTime()}
else if($tmp==="?"){this.FPatternPos+=1;this.FPos+=1;}else if($tmp==="\t"){while((this.FPos<=this.FLen)&&(this.FText.charCodeAt(this.FPos-1)in $impl.whitespace))this.FPos+=1;this.FPatternPos+=1;}else{this.MatchChar(this.FPattern.charAt(this.FPatternPos-1));};};lasttoken=lch;};};Result=this.FTimeval;if((this.FY>0)&&(this.FM>0)&&(this.FD>0))Result=Result+$lp6(this.FY,this.FM,this.FD);return Result;};});this.ScanDateTime=function(APattern,AValue,APos){var Result=0.0;var T=null;T=$lt.$create("Create");try{T.SetPattern(APattern);T.SetText(AValue);Result=T.Scan(APos);}finally{T=rtl.freeLoc(T);};return Result;};$mod.$implcode=function(){$impl.whitespace=rtl.createSet(32,13,10);$impl.hrfactor=1/24;$impl.minfactor=1/(24*60);$impl.secfactor=1/(24*60*60);$impl.mssecfactor=1/(24*60*60*1000);$impl.AMPMformatting=["am\/pm","a\/p","ampm"];$impl.raiseexception=function(s){throw $lt2.$create("Create$1",[s]);};$impl.SPatternCharMismatch='Pattern mismatch char "%s" at position %d.';$impl.SNoCharMatch='Mismatch char "%s" <> "%s" at pattern position %d, string position %d.';$impl.SHHMMError="mm in a sequence hh:mm is interpreted as minutes. No longer versions allowed! (Position : %d).";$impl.SNoArrayMatch="Can't match any allowed value at pattern position %d, string position %d.";};},["JS","RTLConsts"]);rtl.module("DBConst",["System"],function(){"use strict";var $mod=this;$mod.$resourcestrings={SActiveDataset:{org:"Operation cannot be performed on an active dataset"},SDuplicateFieldName:{org:'Duplicate fieldname : "%s"'},SFieldNotFound:{org:'Field not found : "%s"'},SInactiveDataset:{org:"Operation cannot be performed on an inactive dataset"},SInvalidDisplayValues:{org:'"%s" are not valid boolean displayvalues'},SInvalidFieldSize:{org:"Invalid field size : %d"},SInvalidTypeConversion:{org:"Invalid type conversion to %s in field %s"},SNeedField:{org:"Field %s is required, but not supplied."},SNeedFieldName:{org:"Field needs a name"},SNoDataset:{org:'No dataset asssigned for field : "%s"'},SNoSuchRecord:{org:"Could not find the requested record."},SNotEditing:{org:'Operation not allowed, dataset "%s" is not in an edit or insert state.'},SRangeError:{org:"%f is not between %f and %f for %s"},SUniDirectional:{org:"Operation cannot be performed on an unidirectional dataset"},SUnknownFieldType:{org:"Unknown field type : %s"},SIndexNotFound:{org:"Index '%s' not found"},SFieldValueError:{org:"Invalid value for field '%s'"},SDuplicateName:{org:"Duplicate name '%s' in %s"},SLookupInfoError:{org:"Lookup information for field '%s' is incomplete"},SErrInvalidDateTime:{org:'Invalid date\/time value : "%s"'},SErrInsertingSameRecordtwice:{org:"Attempt to insert the same record twice."},SNestedDataSetClass:{org:"Nested dataset must inherit from %s"},SCircularDataLink:{org:"Circular datalinks are not allowed"}};});rtl.module("DB",["System","Classes","SysUtils","JS","Types","DateUtils"],function(){"use strict";var $mod=this;var $impl=$mod.$impl;var $lt=null;var $lt1=null;var $lt2=null;var $lt3=null;var $lt4=null;var $lt5=null;var $lt6=null;var $lt7=null;var $lt8=null;var $lt9=null;var $lt10=null;var $lt11=null;var $lt12=null;var $lt13=null;var $lt14=null;var $lt15=null;var $lt16=null;var $lt17=null;var $lt18=null;var $lt19=null;var $lt20=null;var $lt21=null;var $lt22=null;var $lt23=null;var $lt24=null;var $lt25=null;var $lt26=null;var $lt27=null;var $lt28=null;var $lt29=null;var $lt30=null;var $lt31=null;var $lt32=null;var $lt33=null;var $lt34=null;var $lt35=null;var $lt36=null;var $lt37=null;var $lt38=null;var $lt39=null;var $lt40=null;var $lt41=null;var $lt42=null;var $lt43=null;var $lt44=null;var $lt45=null;var $lt46=null;var $lt47=null;var $lt48=null;var $lt49=null;var $lt50=null;var $lt51=null;var $lt52=null;var $lm=pas.SysUtils;var $lt53=$lm.Exception;var $lm1=pas.Classes;var $lt54=$lm1.TCollectionItem;var $lm2=null;var $lm3=pas.System;var $lp=$lm3.VarRecs;var $lt55=$lm1.TOwnedCollection;var $lp1=$lm3.Copy;var $lp2=$lm.IntToStr;var $lt56=$lm1.TCollection;var $lp3=$lm.AnsiSameText;var $lt57=$lm1.TPersistent;var $lt58=$lm3.TObject;var $lt59=$lm1.TFPList;var $lt60=$lm1.TComponent;var $lp4=$lm3.Pos;var $lp5=$lm.LowerCase;var $lp6=$lm.UpperCase;var $lm4=pas.JS;var $lp7=$lm4.isNull;var $lt61=$lm.EVariantError;var $lp8=$lm4.isUndefined;var $lt62=$lm1.TAlignment;var $lt63=$lt62.taLeftJustify;var $lp9=$lm3.upcase;var $lp10=$lm.StrToDateTime;var $lp11=$lm.StrToFloat;var $lp12=$lm.StrToInt;var $lp13=$lm.StrToInt64;var $lt64=$lt62.taRightJustify;var $lp14=$lm4.isInteger;var $lp15=$lm.FloatToStr;var $lp16=$lm4.isBoolean;var $lp17=$lm.FormatDateTime;var $lp18=$lm3.Assigned;var $lp19=$lm.FreeAndNil;var $lp20=$lm.Abort;var $lt65=$lm1.TList;var $lm5=pas.DateUtils;var $lp21=$lm5.TryRFC3339ToDateTime;var $lt66=$lm.EConvertError;var $lp22=$lm4.isDate;var $lp23=$lm.JSDateToDateTime;var $lp24=$lm5.DateTimeToRFC3339;var $lp25=$lm.IntToHex;var $lp26=$lm.Format;var $lp27=$lm.Trim;this.YesNoChars=["N","Y"];$lt=this.TDataSetState={"0":"dsInactive",dsInactive:0,"1":"dsBrowse",dsBrowse:1,"2":"dsEdit",dsEdit:2,"3":"dsInsert",dsInsert:3,"4":"dsSetKey",dsSetKey:4,"5":"dsCalcFields",dsCalcFields:5,"6":"dsFilter",dsFilter:6,"7":"dsNewValue",dsNewValue:7,"8":"dsOldValue",dsOldValue:8,"9":"dsCurValue",dsCurValue:9,"10":"dsBlockRead",dsBlockRead:10,"11":"dsInternalCalc",dsInternalCalc:11,"12":"dsOpening",dsOpening:12,"13":"dsRefreshFields",dsRefreshFields:13};$lt1=this.TDataEvent={"0":"deFieldChange",deFieldChange:0,"1":"deRecordChange",deRecordChange:1,"2":"deDataSetChange",deDataSetChange:2,"3":"deDataSetScroll",deDataSetScroll:3,"4":"deLayoutChange",deLayoutChange:4,"5":"deUpdateRecord",deUpdateRecord:5,"6":"deUpdateState",deUpdateState:6,"7":"deCheckBrowseMode",deCheckBrowseMode:7,"8":"dePropertyChange",dePropertyChange:8,"9":"deFieldListChange",deFieldListChange:9,"10":"deFocusControl",deFocusControl:10,"11":"deParentScroll",deParentScroll:11,"12":"deConnectChange",deConnectChange:12,"13":"deReconcileError",deReconcileError:13,"14":"deDisabledStateChange",deDisabledStateChange:14};$lt2=this.TUpdateStatus={"0":"usModified",usModified:0,"1":"usInserted",usInserted:1,"2":"usDeleted",usDeleted:2};$lt3=this.TProviderFlag={"0":"pfInUpdate",pfInUpdate:0,"1":"pfInWhere",pfInWhere:1,"2":"pfInKey",pfInKey:2,"3":"pfHidden",pfHidden:3,"4":"pfRefreshOnInsert",pfRefreshOnInsert:4,"5":"pfRefreshOnUpdate",pfRefreshOnUpdate:5};this.$rtti.$Enum("TProviderFlag",{minvalue:0,maxvalue:5,ordtype:1,enumtype:this.TProviderFlag});this.$rtti.$Set("TProviderFlags",{comptype:this.$rtti["TProviderFlag"]});this.$rtti.$Class("TFieldDefs");this.$rtti.$Class("TField");this.$rtti.$Class("TDataSet");this.$rtti.$Class("TDataSource");rtl.createClass(this,"EDatabaseError",$lt53,function(){$lt4=this;});$lt5=this.TFieldType={"0":"ftUnknown",ftUnknown:0,"1":"ftString",ftString:1,"2":"ftInteger",ftInteger:2,"3":"ftLargeInt",ftLargeInt:3,"4":"ftBoolean",ftBoolean:4,"5":"ftFloat",ftFloat:5,"6":"ftDate",ftDate:6,"7":"ftTime",ftTime:7,"8":"ftDateTime",ftDateTime:8,"9":"ftAutoInc",ftAutoInc:9,"10":"ftBlob",ftBlob:10,"11":"ftMemo",ftMemo:11,"12":"ftFixedChar",ftFixedChar:12,"13":"ftVariant",ftVariant:13,"14":"ftDataset",ftDataset:14};this.$rtti.$Enum("TFieldType",{minvalue:0,maxvalue:14,ordtype:1,enumtype:this.TFieldType});$lt6=this.TFieldAttribute={"0":"faHiddenCol",faHiddenCol:0,"1":"faReadonly",faReadonly:1,"2":"faRequired",faRequired:2,"3":"faLink",faLink:3,"4":"faUnNamed",faUnNamed:4,"5":"faFixed",faFixed:5};this.$rtti.$Enum("TFieldAttribute",{minvalue:0,maxvalue:5,ordtype:1,enumtype:this.TFieldAttribute});this.$rtti.$Set("TFieldAttributes",{comptype:this.$rtti["TFieldAttribute"]});rtl.createClass(this,"TNamedItem",$lt54,function(){$lt7=this;this.$init=function(){$lt54.$init.call(this);this.FName="";};this.GetDisplayName=function(){var Result="";Result=this.FName;return Result;};this.SetDisplayName=function(Value){var TmpInd=0;if(this.FName===Value)return;if((Value!=="")&&$lt10.isPrototypeOf(this.FCollection)){TmpInd=this.FCollection.IndexOf(Value);if((TmpInd>=0)&&(TmpInd!==this.GetIndex()))$mod.DatabaseErrorFmt(rtl.getResStr($lm2,"SDuplicateName"),$lp(18,Value,18,this.FCollection.$classname));};this.FName=Value;$lt54.SetDisplayName.call(this,Value);};var $r=this.$rtti;$r.addProperty("Name",2,rtl.string,"FName","SetDisplayName");});rtl.createClass(this,"TDefCollection",$lt55,function(){$lt8=this;this.$init=function(){$lt55.$init.call(this);this.FDataset=null;};this.$final=function(){this.FDataset=undefined;$lt55.$final.call(this);};this.SetItemName=function(Item){var N=null;var TN="";N=rtl.as(Item,$lt7);if(N.FName===""){TN=$lp1(this.$classname,2,5)+$lp2(N.FID+1);if(this.FDataset!=null)TN=this.FDataset.FName+TN;N.SetDisplayName(TN);}else $lt56.SetItemName.call(this,Item);};this.create$3=function(ADataset,AOwner,AClass){$lt55.Create$2.call(this,AOwner,AClass);this.FDataset=ADataset;return this;};this.Find=function(AName){var Result=null;var i=0;Result=null;for(var $l=0,$end=this.GetCount()-1;$l<=$end;$l++){i=$l;if($lp3(this.GetItem(i).FName,AName)){Result=this.GetItem(i);break;};};return Result;};this.IndexOf=function(AName){var Result=0;var i=0;Result=-1;for(var $l=0,$end=this.GetCount()-1;$l<=$end;$l++){i=$l;if($lp3(this.GetItem(i).FName,AName)){Result=i;break;};};return Result;};});rtl.createClass(this,"TFieldDef",$lt7,function(){$lt9=this;this.$init=function(){$lt7.$init.call(this);this.FAttributes={};this.FDataType=0;this.FFieldNo=0;this.FInternalCalcField=false;this.FPrecision=0;this.FRequired=false;this.FSize=0;};this.$final=function(){this.FAttributes=undefined;$lt7.$final.call(this);};this.GetFieldClass=function(){var Result=null;if((this.FCollection!=null)&&$lt10.isPrototypeOf(this.FCollection)&&(this.FCollection.FDataset!=null)){Result=this.FCollection.FDataset.GetFieldClass(this.FDataType)}
else Result=null;return Result;};this.SetAttributes=function(AValue){this.FAttributes=rtl.refSet(AValue);this.Changed(false);};this.SetDataType=function(AValue){this.FDataType=AValue;this.Changed(false);};this.SetPrecision=function(AValue){this.FPrecision=AValue;this.Changed(false);};this.SetSize=function(AValue){this.FSize=AValue;this.Changed(false);};this.Create$1=function(ACollection){$lt54.Create$1.call(this,ACollection);this.FFieldNo=this.GetIndex()+1;return this;};this.Create$3=function(AOwner,AName,ADataType,ASize,ARequired,AFieldNo){$lt54.Create$1.call(this,AOwner);this.SetDisplayName(AName);this.FDataType=ADataType;this.FSize=ASize;this.FRequired=ARequired;this.FPrecision=-1;this.FFieldNo=AFieldNo;return this;};this.Destroy=function(){$lt54.Destroy.call(this);};this.Assign=function(Source){var fd=null;fd=null;if($lt9.isPrototypeOf(Source))fd=rtl.as(Source,$lt9);if(fd!=null){this.FCollection.BeginUpdate();try{this.SetDisplayName(fd.FName);this.SetDataType(fd.FDataType);this.SetSize(fd.FSize);this.SetPrecision(fd.FPrecision);this.FRequired=fd.FRequired;}finally{this.FCollection.EndUpdate();};}else $lt57.Assign.call(this,Source);};this.CreateField=function(AOwner){var Result=null;var TheField=null;TheField=this.GetFieldClass();if(TheField===null)$mod.DatabaseErrorFmt(rtl.getResStr($lm2,"SUnknownFieldType"),$lp(18,this.FName));Result=TheField.$create("Create$1",[AOwner]);try{Result.FFieldDef=this;Result.SetSize(this.FSize);Result.FRequired=this.FRequired;Result.FFieldName=this.FName;Result.FDisplayLabel=this.GetDisplayName();Result.FFieldNo=this.FFieldNo;Result.SetFieldType(this.FDataType);Result.FReadOnly=1 in this.FAttributes;Result.SetDataset(this.FCollection.FDataset);if($lt19.isPrototypeOf(Result))Result.SetPrecision(this.FPrecision);}catch($e){Result=rtl.freeLoc(Result);throw $e;};return Result;};var $r=this.$rtti;$r.addProperty("Attributes",2,$mod.$rtti["TFieldAttributes"],"FAttributes","SetAttributes",{Default:{}});$r.addProperty("DataType",2,$mod.$rtti["TFieldType"],"FDataType","SetDataType");$r.addProperty("Precision",2,rtl.longint,"FPrecision","SetPrecision",{Default:0});$r.addProperty("Size",2,rtl.longint,"FSize","SetSize",{Default:0});});rtl.createClass(this,"TFieldDefs",$lt8,function(){$lt10=this;this.GetItem$1=function(Index){var Result=null;Result=this.GetItem(Index);return Result;};this.FieldDefClass=function(){var Result=null;Result=$lt9;return Result;};this.Create$4=function(ADataSet){$lt8.create$3.call(this,ADataSet,this.Owner(),this.$class.FieldDefClass());return this;};this.Add$2=function(AName,ADataType,ASize,ARequired,AFieldNo){var Result=null;Result=this.$class.FieldDefClass().$create("Create$3",[this,AName,ADataType,ASize,ARequired,AFieldNo]);return Result;};this.Add$3=function(AName,ADataType,ASize,ARequired){if(AName.length===0)$mod.DatabaseError$1(rtl.getResStr($lm2,"SNeedFieldName"),this.FDataset);this.BeginUpdate();try{this.Add$2(AName,ADataType,ASize,ARequired,this.GetCount()+1);}finally{this.EndUpdate();};};this.Add$4=function(AName,ADataType,ASize){this.Add$3(AName,ADataType,ASize,false);};this.Assign$2=function(FieldDefs){var I=0;this.Clear();for(var $l=0,$end=FieldDefs.GetCount()-1;$l<=$end;$l++){I=$l;var $with=FieldDefs.GetItem$1(I);this.Add$3($with.FName,$with.FDataType,$with.FSize,$with.FRequired);};};});$lt11=this.TFieldKind={"0":"fkData",fkData:0,"1":"fkCalculated",fkCalculated:1,"2":"fkLookup",fkLookup:2,"3":"fkInternalCalc",fkInternalCalc:3};this.$rtti.$Enum("TFieldKind",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TFieldKind});this.$rtti.$MethodVar("TFieldNotifyEvent",{procsig:rtl.newTIProcSig([["Sender",this.$rtti["TField"]]]),methodkind:0});this.$rtti.$MethodVar("TFieldGetTextEvent",{procsig:rtl.newTIProcSig([["Sender",this.$rtti["TField"]],["aText",rtl.string,1],["DisplayText",rtl.boolean]]),methodkind:0});this.$rtti.$MethodVar("TFieldSetTextEvent",{procsig:rtl.newTIProcSig([["Sender",this.$rtti["TField"]],["aText",rtl.string,2]]),methodkind:0});rtl.createClass(this,"TLookupList",$lt58,function(){$lt12=this;this.$init=function(){$lt58.$init.call(this);this.FList=null;};this.$final=function(){this.FList=undefined;$lt58.$final.call(this);};this.Create$1=function(){this.FList=$lt59.$create("Create");return this;};this.Destroy=function(){this.Clear();this.FList.$destroy("Destroy");$lt58.Destroy.call(this);};this.Clear=function(){this.FList.Clear();};});rtl.createClass(this,"TField",$lt60,function(){$lt13=this;this.$init=function(){$lt60.$init.call(this);this.FAlignment=0;this.FConstraintErrorMessage="";this.FCustomConstraint="";this.FDataSet=null;this.FDataType=0;this.FDefaultExpression="";this.FDisplayLabel="";this.FDisplayWidth=0;this.FFieldDef=null;this.FFieldKind=0;this.FFieldName="";this.FFieldNo=0;this.FFields=null;this.FHasConstraints=false;this.FImportedConstraint="";this.FKeyFields="";this.FLookupCache=false;this.FLookupDataSet=null;this.FLookupKeyfields="";this.FLookupresultField="";this.FLookupList=null;this.FOnChange=null;this.FOnGetText=null;this.FOnSetText=null;this.FOnValidate=null;this.FOrigin="";this.FReadOnly=false;this.FRequired=false;this.FSize=0;this.FValidChars=[];this.FValueBuffer=undefined;this.FValidating=false;this.FVisible=false;this.FProviderFlags={};};this.$final=function(){this.FDataSet=undefined;this.FFieldDef=undefined;this.FFields=undefined;this.FLookupDataSet=undefined;this.FLookupList=undefined;this.FOnChange=undefined;this.FOnGetText=undefined;this.FOnSetText=undefined;this.FOnValidate=undefined;this.FValidChars=undefined;this.FProviderFlags=undefined;$lt60.$final.call(this);};this.GetIndex=function(){var Result=0;if(this.FDataSet!=null){Result=this.FDataSet.FFieldList.IndexOf(this)}
else Result=-1;return Result;};this.SetAlignment=function(AValue){if(this.FAlignment!==AValue){this.FAlignment=AValue;this.PropertyChanged(false);};};this.SetIndex=function(AValue){if(this.FFields!==null)this.FFields.SetFieldIndex(this,AValue);};this.SetDisplayLabel=function(AValue){if(this.FDisplayLabel!==AValue){this.FDisplayLabel=AValue;this.PropertyChanged(true);};};this.SetDisplayWidth=function(AValue){if(this.FDisplayWidth!==AValue){this.FDisplayWidth=AValue;this.PropertyChanged(true);};};this.GetDisplayWidth=function(){var Result=0;if(this.FDisplayWidth===0){Result=this.GetDefaultWidth()}
else Result=this.FDisplayWidth;return Result;};this.SetReadOnly=function(AValue){if(this.FReadOnly!==AValue){this.FReadOnly=AValue;this.PropertyChanged(true);};};this.SetVisible=function(AValue){if(this.FVisible!==AValue){this.FVisible=AValue;this.PropertyChanged(true);};};this.IsDisplayLabelStored=function(){var Result=false;Result=this.GetDisplayName()!==this.FFieldName;return Result;};this.IsDisplayWidthStored=function(){var Result=false;Result=this.FDisplayWidth!==0;return Result;};this.GetLookupList=function(){var Result=null;if(!(this.FLookupList!=null))this.FLookupList=$lt12.$create("Create$1");Result=this.FLookupList;return Result;};this.CalcLookupValue=function(){if((this.FLookupDataSet!=null)&&this.FLookupDataSet.GetActive()){this.SetAsJSValue(this.FLookupDataSet.Lookup(this.FLookupKeyfields,this.FDataSet.GetFieldValues(this.FKeyFields),this.FLookupresultField))}
else this.SetAsJSValue(null);};this.RaiseAccessError=function(TypeName){var E=null;E=this.AccessError(TypeName);throw E;};this.AccessError=function(TypeName){var Result=null;Result=$lt4.$create("CreateFmt",[rtl.getResStr($lm2,"SInvalidTypeConversion"),$lp(18,TypeName,18,this.FFieldName)]);return Result;};this.CheckInactive=function(){if(this.FDataSet!=null)this.FDataSet.CheckInactive();};this.CheckTypeSize=function(AValue){if((AValue!==0)&&!this.IsBlob())$mod.DatabaseErrorFmt(rtl.getResStr($lm2,"SInvalidFieldSize"),$lp(0,AValue));};this.Change=function(){if(this.FOnChange!=null)this.FOnChange(this);};this.Bind=function(Binding){if(Binding&&(this.FFieldKind===2)){if((this.FLookupDataSet===null)||(this.FLookupKeyfields==="")||(this.FLookupresultField==="")||(this.FKeyFields===""))$mod.DatabaseErrorFmt(rtl.getResStr($lm2,"SLookupInfoError"),$lp(18,this.GetDisplayName()));this.FFields.CheckFieldNames(this.FKeyFields);this.FLookupDataSet.Open();this.FLookupDataSet.FFieldList.CheckFieldNames(this.FLookupKeyfields);this.FLookupDataSet.FieldByName(this.FLookupresultField);if(this.FLookupCache)this.RefreshLookupList();};};this.GetAsBoolean=function(){var Result=false;this.RaiseAccessError($impl.SBoolean);Result=false;return Result;};this.GetAsLargeInt=function(){var Result=0;this.RaiseAccessError($impl.SLargeInt);Result=0;return Result;};this.GetAsDateTime=function(){var Result=0.0;this.RaiseAccessError($impl.SDateTime);Result=0.0;return Result;};this.GetAsFloat=function(){var Result=0.0;this.RaiseAccessError($impl.SDateTime);Result=0.0;return Result;};this.GetAsInteger=function(){var Result=0;this.RaiseAccessError($impl.SInteger);Result=0;return Result;};this.GetAsJSValue=function(){var Result=undefined;Result=this.GetData();return Result;};this.GetAsString=function(){var Result="";Result=this.GetClassDesc();return Result;};this.GetClassDesc=function(){var Result="";var ClassN="";ClassN=$lp1(this.$classname,2,$lp4("Field",this.$classname)-2);if(this.GetIsNull()){Result="("+$lp5(ClassN)+")"}
else Result="("+$lp6(ClassN)+")";return Result;};this.GetDefaultWidth=function(){var Result=0;Result=10;return Result;};this.GetDisplayName=function(){var Result="";if(this.FDisplayLabel!==""){Result=this.FDisplayLabel}
else Result=this.FFieldName;return Result;};this.GetIsNull=function(){var Result=false;Result=$lp7(this.GetData());return Result;};this.Notification=function(AComponent,Operation){$lt60.Notification.call(this,AComponent,Operation);if((Operation===1)&&(AComponent===this.FLookupDataSet))this.FLookupDataSet=null;};this.PropertyChanged=function(LayoutAffected){if((this.FDataSet!==null)&&this.FDataSet.GetActive())if(LayoutAffected){this.FDataSet.DataEvent(4,0)}
else this.FDataSet.DataEvent(2,0);};this.SetAsJSValue=function(AValue){if($lp7(AValue)){this.Clear()}
else try{this.SetVarValue(AValue);}catch($e){if($lt61.isPrototypeOf($e)){$mod.DatabaseErrorFmt(rtl.getResStr($lm2,"SFieldValueError"),$lp(18,this.GetDisplayName()))}
else throw $e};};this.SetDataset=function(AValue){if(AValue===this.FDataSet)return;if(this.FDataSet!=null){this.FDataSet.CheckInactive();this.FDataSet.FFieldList.Remove(this);};if(AValue!=null){AValue.CheckInactive();AValue.FFieldList.Add(this);};this.FDataSet=AValue;};this.SetDataType=function(AValue){this.FDataType=AValue;};this.SetSize=function(AValue){this.CheckInactive();this.$class.CheckTypeSize(AValue);this.FSize=AValue;};this.SetVarValue=function(AValue){this.RaiseAccessError($impl.SJSValue);};this.Create$1=function(AOwner){$lt60.Create$1.call(this,AOwner);this.FVisible=true;this.FValidChars=rtl.arraySetLength(this.FValidChars,"",255);this.FProviderFlags=rtl.createSet(0,1);return this;};this.Destroy=function(){if(this.FDataSet!=null){this.FDataSet.SetActive(false);if(this.FFields!=null)this.FFields.Remove(this);};rtl.free(this,"FLookupList");$lt60.Destroy.call(this);};this.Assign=function(Source){if(Source===null){this.Clear()}
else if($lt13.isPrototypeOf(Source)){this.SetAsJSValue(Source.GetAsJSValue());}else $lt57.Assign.call(this,Source);};this.Clear=function(){this.SetData(null);};this.GetData=function(){var Result=undefined;if(this.FDataSet===null)$mod.DatabaseErrorFmt(rtl.getResStr($lm2,"SNoDataset"),$lp(18,this.FFieldName));if(this.FValidating){Result=this.FValueBuffer}
else{Result=this.FDataSet.GetFieldData(this);if($lp8(Result))Result=null;};return Result;};this.IsBlob=function(){var Result=false;Result=false;return Result;};this.RefreshLookupList=function(){var tmpActive=false;if(!(this.FLookupDataSet!=null)||(this.FLookupKeyfields.length===0)||(this.FLookupresultField.length===0)||(this.FKeyFields.length===0))return;tmpActive=this.FLookupDataSet.GetActive();try{this.FLookupDataSet.SetActive(true);this.FFields.CheckFieldNames(this.FKeyFields);this.FLookupDataSet.FFieldList.CheckFieldNames(this.FLookupKeyfields);this.FLookupDataSet.FieldByName(this.FLookupresultField);this.GetLookupList().Clear();this.FLookupDataSet.DisableControls();try{this.FLookupDataSet.First();while(!this.FLookupDataSet.FEOF){this.FLookupDataSet.Next();};}finally{this.FLookupDataSet.EnableControls();};}finally{this.FLookupDataSet.SetActive(tmpActive);};};this.SetData=function(Buffer){if(!(this.FDataSet!=null))$mod.DatabaseErrorFmt(rtl.getResStr($lm2,"SNoDataset"),$lp(18,this.FFieldName));this.FDataSet.SetFieldData(this,Buffer);};this.SetFieldType=function(AValue){};var $r=this.$rtti;$r.addProperty("Alignment",2,$lm1.$rtti["TAlignment"],"FAlignment","SetAlignment",{Default:$lt63});$r.addProperty("CustomConstraint",0,rtl.string,"FCustomConstraint","FCustomConstraint");$r.addProperty("ConstraintErrorMessage",0,rtl.string,"FConstraintErrorMessage","FConstraintErrorMessage");$r.addProperty("DefaultExpression",0,rtl.string,"FDefaultExpression","FDefaultExpression");$r.addProperty("DisplayLabel",15,rtl.string,"GetDisplayName","SetDisplayLabel",{stored:"IsDisplayLabelStored"});$r.addProperty("DisplayWidth",15,rtl.longint,"GetDisplayWidth","SetDisplayWidth",{stored:"IsDisplayWidthStored"});$r.addProperty("FieldKind",0,$mod.$rtti["TFieldKind"],"FFieldKind","FFieldKind");$r.addProperty("FieldName",0,rtl.string,"FFieldName","FFieldName");$r.addProperty("HasConstraints",0,rtl.boolean,"FHasConstraints","");$r.addProperty("Index",3,rtl.longint,"GetIndex","SetIndex");$r.addProperty("ImportedConstraint",0,rtl.string,"FImportedConstraint","FImportedConstraint");$r.addProperty("KeyFields",0,rtl.string,"FKeyFields","FKeyFields");$r.addProperty("LookupCache",0,rtl.boolean,"FLookupCache","FLookupCache");$r.addProperty("LookupDataSet",0,$mod.$rtti["TDataSet"],"FLookupDataSet","FLookupDataSet");$r.addProperty("LookupKeyFields",0,rtl.string,"FLookupKeyfields","FLookupKeyfields");$r.addProperty("LookupResultField",0,rtl.string,"FLookupresultField","FLookupresultField");$r.addProperty("Origin",0,rtl.string,"FOrigin","FOrigin");$r.addProperty("ProviderFlags",0,$mod.$rtti["TProviderFlags"],"FProviderFlags","FProviderFlags");$r.addProperty("ReadOnly",2,rtl.boolean,"FReadOnly","SetReadOnly");$r.addProperty("Required",0,rtl.boolean,"FRequired","FRequired");$r.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:true});$r.addProperty("OnChange",0,$mod.$rtti["TFieldNotifyEvent"],"FOnChange","FOnChange");$r.addProperty("OnGetText",0,$mod.$rtti["TFieldGetTextEvent"],"FOnGetText","FOnGetText");$r.addProperty("OnSetText",0,$mod.$rtti["TFieldSetTextEvent"],"FOnSetText","FOnSetText");$r.addProperty("OnValidate",0,$mod.$rtti["TFieldNotifyEvent"],"FOnValidate","FOnValidate");});rtl.createClass(this,"TStringField",$lt13,function(){$lt14=this;this.$init=function(){$lt13.$init.call(this);this.FFixedChar=false;this.FTransliterate=false;};this.CheckTypeSize=function(AValue){if(AValue<0)$mod.DatabaseErrorFmt(rtl.getResStr($lm2,"SInvalidFieldSize"),$lp(0,AValue));};this.GetAsBoolean=function(){var Result=false;var S="";S=this.GetAsString();Result=(S.length>0)&&($lp9(S.charAt(0)).charCodeAt()in rtl.createSet(84,$mod.YesNoChars[1].charCodeAt()));return Result;};this.GetAsDateTime=function(){var Result=0.0;Result=$lp10(this.GetAsString());return Result;};this.GetAsFloat=function(){var Result=0.0;Result=$lp11(this.GetAsString());return Result;};this.GetAsInteger=function(){var Result=0;Result=$lp12(this.GetAsString());return Result;};this.GetAsLargeInt=function(){var Result=0;Result=$lp13(this.GetAsString());return Result;};this.GetAsString=function(){var Result="";var V=undefined;V=this.GetData();if(rtl.isString(V)){Result=""+V}
else Result="";return Result;};this.GetAsJSValue=function(){var Result=undefined;Result=this.GetData();return Result;};this.GetDefaultWidth=function(){var Result=0;Result=this.FSize;return Result;};this.SetAsString=function(AValue){this.SetData(AValue);};this.SetVarValue=function(AValue){if(rtl.isString(AValue)){this.SetAsString(""+AValue)}
else this.RaiseAccessError(rtl.getResStr($lm2,"SFieldValueError"));};this.Create$1=function(AOwner){$lt13.Create$1.call(this,AOwner);this.SetDataType(1);this.FFixedChar=false;this.FTransliterate=false;this.FSize=20;return this;};this.SetFieldType=function(AValue){if(AValue in rtl.createSet(1,12))this.SetDataType(AValue);};var $r=this.$rtti;$r.addProperty("Size",2,rtl.longint,"FSize","SetSize",{Default:20});});rtl.createClass(this,"TNumericField",$lt13,function(){$lt15=this;this.$init=function(){$lt13.$init.call(this);this.FDisplayFormat="";this.FEditFormat="";};this.CheckTypeSize=function(AValue){if(AValue>16)$mod.DatabaseErrorFmt(rtl.getResStr($lm2,"SInvalidFieldSize"),$lp(0,AValue));};this.RangeError=function(AValue,Min,Max){$mod.DatabaseErrorFmt(rtl.getResStr($lm2,"SRangeError"),$lp(3,AValue,3,Min,3,Max,18,this.FFieldName));};this.SetDisplayFormat=function(AValue){if(this.FDisplayFormat!==AValue){this.FDisplayFormat=AValue;this.PropertyChanged(true);};};this.SetEditFormat=function(AValue){if(this.FEditFormat!==AValue){this.FEditFormat=AValue;this.PropertyChanged(true);};};this.GetAsBoolean=function(){var Result=false;Result=this.GetAsInteger()!==0;return Result;};this.Create$1=function(AOwner){$lt13.Create$1.call(this,AOwner);this.SetAlignment(1);return this;};var $r=this.$rtti;$r.addProperty("Alignment",2,$lm1.$rtti["TAlignment"],"FAlignment","SetAlignment",{Default:$lt64});$r.addProperty("DisplayFormat",2,rtl.string,"FDisplayFormat","SetDisplayFormat");$r.addProperty("EditFormat",2,rtl.string,"FEditFormat","SetEditFormat");});rtl.createClass(this,"TIntegerField",$lt15,function(){$lt16=this;this.$init=function(){$lt15.$init.call(this);this.FMinValue=0;this.FMaxValue=0;this.FMinRange=0;this.FMaxRange=0;};this.SetMinValue=function(AValue){if((AValue>=this.FMinRange)&&(AValue<=this.FMaxRange)){this.FMinValue=AValue}
else this.RangeError(AValue,this.FMinRange,this.FMaxRange);};this.SetMaxValue=function(AValue){if((AValue>=this.FMinRange)&&(AValue<=this.FMaxRange)){this.FMaxValue=AValue}
else this.RangeError(AValue,this.FMinRange,this.FMaxRange);};this.GetAsFloat=function(){var Result=0.0;Result=this.GetAsInteger();return Result;};this.GetAsInteger=function(){var Result=0;if(!this.GetValue({get:function(){return Result;},set:function(v){Result=v;}}))Result=0;return Result;};this.GetAsString=function(){var Result="";var L=0;if(this.GetValue({get:function(){return L;},set:function(v){L=v;}})){Result=$lp2(L)}
else Result="";return Result;};this.GetAsJSValue=function(){var Result=undefined;var L=0;if(this.GetValue({get:function(){return L;},set:function(v){L=v;}})){Result=L}
else Result=null;return Result;};this.GetValue=function(AValue){var Result=false;var V=undefined;V=this.GetData();Result=$lp14(V);if(Result)AValue.set(rtl.trunc(V));return Result;};this.SetAsInteger=function(AValue){if(this.CheckRange(AValue)){this.SetData(AValue)}
else if((this.FMinValue!==0)||(this.FMaxValue!==0)){this.RangeError(AValue,this.FMinValue,this.FMaxValue)}
else this.RangeError(AValue,this.FMinRange,this.FMaxRange);};this.SetVarValue=function(AValue){if($lp14(AValue)){this.SetAsInteger(rtl.trunc(AValue))}
else this.RaiseAccessError($impl.SInteger);};this.GetAsLargeInt=function(){var Result=0;Result=this.GetAsInteger();return Result;};this.Create$1=function(AOwner){$lt15.Create$1.call(this,AOwner);this.SetDataType(2);this.FMinRange=-2147483648;this.FMaxRange=2147483647;return this;};this.CheckRange=function(AValue){var Result=false;if((this.FMinValue!==0)||(this.FMaxValue!==0)){Result=(AValue>=this.FMinValue)&&(AValue<=this.FMaxValue)}
else Result=(AValue>=this.FMinRange)&&(AValue<=this.FMaxRange);return Result;};var $r=this.$rtti;$r.addProperty("MaxValue",2,rtl.longint,"FMaxValue","SetMaxValue",{Default:0});$r.addProperty("MinValue",2,rtl.longint,"FMinValue","SetMinValue",{Default:0});});rtl.createClass(this,"TLargeintField",$lt15,function(){$lt17=this;this.$init=function(){$lt15.$init.call(this);this.FMinValue=0;this.FMaxValue=0;this.FMinRange=0;this.FMaxRange=0;};this.SetMinValue=function(AValue){if((AValue>=this.FMinRange)&&(AValue<=this.FMaxRange)){this.FMinValue=AValue}
else this.RangeError(AValue,this.FMinRange,this.FMaxRange);};this.SetMaxValue=function(AValue){if((AValue>=this.FMinRange)&&(AValue<=this.FMaxRange)){this.FMaxValue=AValue}
else this.RangeError(AValue,this.FMinRange,this.FMaxRange);};this.GetAsFloat=function(){var Result=0.0;Result=this.GetAsLargeInt();return Result;};this.GetAsInteger=function(){var Result=0;Result=this.GetAsLargeInt();return Result;};this.GetAsLargeInt=function(){var Result=0;if(!this.GetValue({get:function(){return Result;},set:function(v){Result=v;}}))Result=0;return Result;};this.GetAsString=function(){var Result="";var L=0;if(this.GetValue({get:function(){return L;},set:function(v){L=v;}})){Result=$lp2(L)}
else Result="";return Result;};this.GetAsJSValue=function(){var Result=undefined;var L=0;if(this.GetValue({get:function(){return L;},set:function(v){L=v;}})){Result=L}
else Result=null;return Result;};this.GetValue=function(AValue){var Result=false;var P=undefined;P=this.GetData();Result=$lp14(P);if(Result)AValue.set(rtl.trunc(P));return Result;};this.SetAsLargeInt=function(AValue){if(this.CheckRange(AValue)){this.SetData(AValue)}
else this.RangeError(AValue,this.FMinValue,this.FMaxValue);};this.SetVarValue=function(AValue){if($lp14(AValue)){this.SetAsLargeInt(rtl.trunc(AValue))}
else this.RaiseAccessError($impl.SLargeInt);};this.Create$1=function(AOwner){$lt15.Create$1.call(this,AOwner);this.SetDataType(3);this.FMinRange=-9007199254740991;this.FMaxRange=9007199254740991;return this;};this.CheckRange=function(AValue){var Result=false;if((this.FMinValue!==0)||(this.FMaxValue!==0)){Result=(AValue>=this.FMinValue)&&(AValue<=this.FMaxValue)}
else Result=(AValue>=this.FMinRange)&&(AValue<=this.FMaxRange);return Result;};var $r=this.$rtti;$r.addProperty("MaxValue",2,rtl.nativeint,"FMaxValue","SetMaxValue",{Default:0});$r.addProperty("MinValue",2,rtl.nativeint,"FMinValue","SetMinValue",{Default:0});});rtl.createClass(this,"TAutoIncField",$lt16,function(){$lt18=this;this.SetAsInteger=function(AValue){$lt16.SetAsInteger.apply(this,arguments);};this.Create$1=function(AOwner){$lt16.Create$1.call(this,AOwner);this.SetDataType(9);return this;};});rtl.createClass(this,"TFloatField",$lt15,function(){$lt19=this;this.$init=function(){$lt15.$init.call(this);this.FCurrency=false;this.FMaxValue=0.0;this.FMinValue=0.0;this.FPrecision=0;};this.SetCurrency=function(AValue){if(this.FCurrency===AValue)return;this.FCurrency=AValue;};this.SetPrecision=function(AValue){if((AValue===-1)||(AValue>1)){this.FPrecision=AValue}
else this.FPrecision=2;};this.GetAsFloat=function(){var Result=0.0;var P=undefined;P=this.GetData();if(rtl.isNumber(P)){Result=rtl.getNumber(P)}
else Result=0.0;return Result;};this.GetAsLargeInt=function(){var Result=0;Result=Math.round(this.GetAsFloat());return Result;};this.GetAsInteger=function(){var Result=0;Result=Math.round(this.GetAsFloat());return Result;};this.GetAsJSValue=function(){var Result=undefined;var P=undefined;P=this.GetData();if(rtl.isNumber(P)){Result=P}
else Result=null;return Result;};this.GetAsString=function(){var Result="";var P=undefined;P=this.GetData();if(rtl.isNumber(P)){Result=$lp15(rtl.getNumber(P))}
else Result="";return Result;};this.SetAsFloat=function(AValue){if(this.CheckRange(AValue)){this.SetData(AValue)}
else this.RangeError(AValue,this.FMinValue,this.FMaxValue);};this.SetVarValue=function(AValue){if(rtl.isNumber(AValue)){this.SetAsFloat(rtl.getNumber(AValue))}
else this.RaiseAccessError("Float");};this.Create$1=function(AOwner){$lt15.Create$1.call(this,AOwner);this.SetDataType(5);this.FPrecision=15;return this;};this.CheckRange=function(AValue){var Result=false;if((this.FMinValue!==0)||(this.FMaxValue!==0)){Result=(AValue>=this.FMinValue)&&(AValue<=this.FMaxValue)}
else Result=true;return Result;};var $r=this.$rtti;$r.addProperty("Currency",2,rtl.boolean,"FCurrency","SetCurrency",{Default:false});$r.addProperty("MaxValue",0,rtl.double,"FMaxValue","FMaxValue");$r.addProperty("MinValue",0,rtl.double,"FMinValue","FMinValue");$r.addProperty("Precision",2,rtl.longint,"FPrecision","SetPrecision",{Default:15});});rtl.createClass(this,"TBooleanField",$lt13,function(){$lt20=this;this.FDisplays$a$clone=function(a){var b=[];b.length=2;for(var c=0;c<2;c++)b[c]=a[c].slice(0);return b;};this.$init=function(){$lt13.$init.call(this);this.FDisplayValues="";this.FDisplays=rtl.arraySetLength(null,"",2,2);};this.$final=function(){this.FDisplays=undefined;$lt13.$final.call(this);};this.SetDisplayValues=function(AValue){var I=0;if(this.FDisplayValues!==AValue){I=$lp4(";",AValue);if((I<2)||(I===AValue.length))$mod.DatabaseErrorFmt(rtl.getResStr($lm2,"SInvalidDisplayValues"),$lp(18,AValue));this.FDisplayValues=AValue;this.FDisplays[0][1]=$lp1(AValue,1,I-1);this.FDisplays[1][1]=$lp6(this.FDisplays[0][1]);this.FDisplays[0][0]=$lp1(AValue,I+1,AValue.length-I);this.FDisplays[1][0]=$lp6(this.FDisplays[0][0]);this.PropertyChanged(true);};};this.GetAsBoolean=function(){var Result=false;var P=undefined;P=this.GetData();if($lp16(P)){Result=!(P==false)}
else Result=false;return Result;};this.GetAsString=function(){var Result="";var P=undefined;P=this.GetData();if($lp16(P)){Result=this.FDisplays[0][+!(P==false)]}
else Result="";return Result;};this.GetAsJSValue=function(){var Result=undefined;var P=undefined;P=this.GetData();if($lp16(P)){Result=!(P==false)}
else Result=null;return Result;};this.GetAsInteger=function(){var Result=0;Result=this.GetAsBoolean()+0;return Result;};this.GetDefaultWidth=function(){var Result=0;Result=this.FDisplays[0][0].length;if(Result<this.FDisplays[0][1].length)Result=this.FDisplays[0][1].length;return Result;};this.SetAsBoolean=function(AValue){this.SetData(AValue);};this.SetVarValue=function(AValue){if($lp16(AValue)){this.SetAsBoolean(!(AValue==false))}
else if(rtl.isNumber(AValue))this.SetAsBoolean(rtl.getNumber(AValue)!==0);};this.Create$1=function(AOwner){$lt13.Create$1.call(this,AOwner);this.SetDataType(4);this.SetDisplayValues("True;False");return this;};var $r=this.$rtti;$r.addProperty("DisplayValues",2,rtl.string,"FDisplayValues","SetDisplayValues");});rtl.createClass(this,"TDateTimeField",$lt13,function(){$lt21=this;this.$init=function(){$lt13.$init.call(this);this.FDisplayFormat="";};this.SetDisplayFormat=function(AValue){if(this.FDisplayFormat!==AValue){this.FDisplayFormat=AValue;this.PropertyChanged(true);};};this.ConvertToDateTime=function(aValue,aRaiseError){var Result=0.0;if($lp7(aValue)){Result=0}
else if(this.FDataSet!=null){Result=this.FDataSet.ConvertToDateTime(this,aValue,aRaiseError)}
else Result=$lt46.DefaultConvertToDateTime(this,aValue,aRaiseError);return Result;};this.DateTimeToNativeDateTime=function(aValue){var Result=undefined;if(this.FDataSet!=null){Result=this.FDataSet.ConvertDateTimeToNative(this,aValue)}
else Result=$lt46.DefaultConvertDateTimeToNative(this,aValue);return Result;};this.GetAsDateTime=function(){var Result=0.0;Result=this.ConvertToDateTime(this.GetData(),false);return Result;};this.GetAsFloat=function(){var Result=0.0;Result=this.GetAsDateTime();return Result;};this.GetAsString=function(){var Result="";this.GetText({get:function(){return Result;},set:function(v){Result=v;}},false);return Result;};this.GetAsJSValue=function(){var Result=undefined;Result=this.GetData();if(!rtl.isString(Result)&&!rtl.isObject(Result))Result=null;return Result;};this.GetText=function(AText,ADisplayText){var R=0.0;var F="";R=this.ConvertToDateTime(this.GetData(),false);if(R===0){AText.set("")}
else{if(ADisplayText&&(this.FDisplayFormat.length!==0)){F=this.FDisplayFormat}
else{var $tmp=this.FDataType;if($tmp===7){F=$lm.LongTimeFormat}
else if($tmp===6){F=$lm.ShortDateFormat}
else{F="c";};};AText.set($lp17(F,R));};};this.SetAsDateTime=function(AValue){this.SetData(this.DateTimeToNativeDateTime(AValue));};this.SetVarValue=function(AValue){this.SetAsDateTime(this.ConvertToDateTime(AValue,true));};this.Create$1=function(AOwner){$lt13.Create$1.call(this,AOwner);this.SetDataType(8);return this;};var $r=this.$rtti;$r.addProperty("DisplayFormat",2,rtl.string,"FDisplayFormat","SetDisplayFormat");});rtl.createClass(this,"TDateField",$lt21,function(){$lt22=this;this.Create$1=function(AOwner){$lt21.Create$1.call(this,AOwner);this.SetDataType(6);return this;};});rtl.createClass(this,"TTimeField",$lt21,function(){$lt23=this;this.Create$1=function(AOwner){$lt21.Create$1.call(this,AOwner);this.SetDataType(7);return this;};});rtl.createClass(this,"TBinaryField",$lt13,function(){$lt24=this;this.CheckTypeSize=function(AValue){if(AValue<1)$mod.DatabaseErrorFmt(rtl.getResStr($lm2,"SInvalidFieldSize"),$lp(0,AValue));};this.BlobToBytes=function(aValue){var Result=[];if(this.FDataSet!=null){Result=this.FDataSet.BlobDataToBytes(aValue)}
else Result=$lt46.DefaultBlobDataToBytes(aValue);return Result;};this.BytesToBlob=function(aValue){var Result=undefined;if(this.FDataSet!=null){Result=this.FDataSet.BytesToBlobData(rtl.arrayRef(aValue))}
else Result=$lt46.DefaultBytesToBlobData(rtl.arrayRef(aValue));return Result;};this.GetAsString=function(){var Result="";var V=undefined;var S=[];var I=0;Result="";V=this.GetData();if(V!=null)if(this.FDataType===11){Result=""+V}
else{S=this.BlobToBytes(V);for(var $l=0,$end=rtl.length(S)-1;$l<=$end;$l++){I=$l;Result=Result.concat(String.fromCharCode(S[I]));};};return Result;};this.GetAsJSValue=function(){var Result=undefined;Result=this.GetData();return Result;};this.SetAsString=function(AValue){var B=[];var i=0;if(this.FDataType===11){this.SetData(AValue)}
else{B=rtl.arraySetLength(B,0,AValue.length);for(var $l=1,$end=AValue.length;$l<=$end;$l++){i=$l;B[i-1]=AValue.charCodeAt(i-1);};this.SetAsBytes(B);};};this.SetVarValue=function(AValue){var B=[];var I=0;var Len=0;if(rtl.isArray(AValue)){Len=rtl.length(AValue);B=rtl.arraySetLength(B,0,Len);for(var $l=1,$end=Len-1;$l<=$end;$l++){I=$l;B[I]=AValue[I];};this.SetAsBytes(B);}else if(rtl.isString(AValue)){this.SetAsString(""+AValue)}
else this.RaiseAccessError("Blob");};this.GetAsBytes=function(){var Result=[];var V=undefined;V=this.GetData();if($lp18(V)){Result=this.BlobToBytes(V)}
else Result=rtl.arraySetLength(Result,0,0);return Result;};this.SetAsBytes=function(aValue){this.SetData(this.BytesToBlob(rtl.arrayRef(aValue)));};this.Create$1=function(AOwner){$lt13.Create$1.call(this,AOwner);return this;};var $r=this.$rtti;$r.addProperty("Size",2,rtl.longint,"FSize","SetSize",{Default:16});});$lt25=this.TBlobDisplayValue={"0":"dvClass",dvClass:0,"1":"dvFull",dvFull:1,"2":"dvClip",dvClip:2,"3":"dvFit",dvFit:3};this.$rtti.$Enum("TBlobDisplayValue",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TBlobDisplayValue});this.$rtti.$Enum("TBlobType",{minvalue:10,maxvalue:11,ordtype:1,enumtype:this.TFieldType});rtl.createClass(this,"TBlobField",$lt24,function(){$lt26=this;this.$init=function(){$lt24.$init.call(this);this.FDisplayValue=0;this.FModified=false;};this.GetBlobType=function(){var Result=$lt5.ftBlob;Result=10;return Result;};this.SetBlobType=function(AValue){this.SetFieldType(AValue);};this.SetDisplayValue=function(AValue){if(this.FDisplayValue===AValue)return;this.FDisplayValue=AValue;this.PropertyChanged(false);};this.CheckTypeSize=function(AValue){if(AValue<0)$mod.DatabaseErrorFmt(rtl.getResStr($lm2,"SInvalidFieldSize"),$lp(0,AValue));};this.GetBlobSize=function(){var Result=0;var B=[];B=this.GetAsBytes();Result=rtl.length(B);return Result;};this.GetIsNull=function(){var Result=false;if(!this.FModified){Result=$lt13.GetIsNull.call(this)}
else Result=this.GetBlobSize()===0;return Result;};this.Create$1=function(AOwner){$lt24.Create$1.call(this,AOwner);this.SetDataType(10);return this;};this.Clear=function(){this.SetData(null);};this.IsBlob=function(){var Result=false;Result=true;return Result;};this.SetFieldType=function(AValue){if(AValue in $mod.ftBlobTypes)this.SetDataType(AValue);};var $r=this.$rtti;$r.addProperty("DisplayValue",2,$mod.$rtti["TBlobDisplayValue"],"FDisplayValue","SetDisplayValue",{Default:$lt25.dvClass});$r.addProperty("BlobType",3,$mod.$rtti["TBlobType"],"GetBlobType","SetBlobType");$r.addProperty("Size",2,rtl.longint,"FSize","SetSize",{Default:0});});rtl.createClass(this,"TMemoField",$lt26,function(){$lt27=this;this.Create$1=function(AOwner){$lt26.Create$1.call(this,AOwner);this.SetDataType(11);return this;};});rtl.createClass(this,"TVariantField",$lt13,function(){$lt28=this;this.CheckTypeSize=function(aValue){};this.GetAsBoolean=function(){var Result=false;Result=this.GetAsJSValue()==true;return Result;};this.GetAsDateTime=function(){var Result=0.0;var V=undefined;V=this.GetData();if(this.FDataSet!=null){Result=this.FDataSet.ConvertToDateTime(this,V,true)}
else Result=$lt46.DefaultConvertToDateTime(this,V,true);return Result;};this.GetAsFloat=function(){var Result=0.0;var V=undefined;V=this.GetData();if(rtl.isNumber(V)){Result=rtl.getNumber(V)}
else if(rtl.isString(V)){Result=parseFloat(""+V)}
else this.RaiseAccessError("Variant");return Result;};this.GetAsInteger=function(){var Result=0;var V=undefined;V=this.GetData();if($lp14(V)){Result=rtl.trunc(V)}
else if(rtl.isString(V)){Result=parseInt(""+V)}
else this.RaiseAccessError("Variant");return Result;};this.GetAsString=function(){var Result="";var V=undefined;V=this.GetData();if($lp14(V)){Result=$lp2(rtl.trunc(V))}
else if(rtl.isNumber(V)){Result=$lp15(rtl.getNumber(V))}
else if(rtl.isString(V)){Result=""+V}
else this.RaiseAccessError("Variant");return Result;};this.GetAsJSValue=function(){var Result=undefined;Result=this.GetData();return Result;};this.SetVarValue=function(aValue){this.SetData(aValue);};this.Create$1=function(AOwner){$lt13.Create$1.call(this,AOwner);this.SetDataType(13);return this;};});rtl.createClass(this,"TDataSetField",$lt13,function(){$lt29=this;this.$init=function(){$lt13.$init.call(this);this.FNestedDataSet=null;};this.$final=function(){this.FNestedDataSet=undefined;$lt13.$final.call(this);};this.AssignNestedDataSet=function(Value){if(this.FNestedDataSet!=null){this.FNestedDataSet.Close();this.FNestedDataSet.FDataSetField=null;if(this.FDataSet!=null)this.FDataSet.GetNestedDataSets().Remove(this.FNestedDataSet);};if(Value!=null)this.FDataSet.GetNestedDataSets().Add(Value);this.FNestedDataSet=Value;};this.Bind=function(Binding){$lt13.Bind.apply(this,arguments);if(this.FNestedDataSet!=null)if(Binding){if(this.FNestedDataSet.FState===0)this.FNestedDataSet.Open();}else this.FNestedDataSet.Close();};this.Create$1=function(AOwner){$lt13.Create$1.apply(this,arguments);this.SetDataType(14);return this;};this.Destroy=function(){this.AssignNestedDataSet(null);$lt13.Destroy.call(this);};});$lt30=this.TIndexOption={"0":"ixPrimary",ixPrimary:0,"1":"ixUnique",ixUnique:1,"2":"ixDescending",ixDescending:2,"3":"ixCaseInsensitive",ixCaseInsensitive:3,"4":"ixExpression",ixExpression:4,"5":"ixNonMaintained",ixNonMaintained:5};this.$rtti.$Enum("TIndexOption",{minvalue:0,maxvalue:5,ordtype:1,enumtype:this.TIndexOption});this.$rtti.$Set("TIndexOptions",{comptype:this.$rtti["TIndexOption"]});rtl.createClass(this,"TIndexDef",$lt7,function(){$lt31=this;this.$init=function(){$lt7.$init.call(this);this.FCaseinsFields="";this.FDescFields="";this.FExpression="";this.FFields="";this.FOptions={};this.FSource="";};this.$final=function(){this.FOptions=undefined;$lt7.$final.call(this);};this.GetExpression=function(){var Result="";Result=this.FExpression;return Result;};this.SetCaseInsFields=function(AValue){if(this.FCaseinsFields===AValue)return;if(AValue!=="")this.FOptions=rtl.unionSet(this.FOptions,rtl.createSet(3));this.FCaseinsFields=AValue;};this.SetDescFields=function(AValue){if(this.FDescFields===AValue)return;if(AValue!=="")this.FOptions=rtl.unionSet(this.FOptions,rtl.createSet(2));this.FDescFields=AValue;};this.SetExpression=function(AValue){this.FExpression=AValue;};this.Assign=function(Source){var idef=null;idef=null;if($lt31.isPrototypeOf(Source))idef=rtl.as(Source,$lt31);if(idef!=null){this.FName=idef.FName;this.FFields=idef.FFields;this.FOptions=rtl.refSet(idef.FOptions);this.FCaseinsFields=idef.FCaseinsFields;this.FDescFields=idef.FDescFields;this.FSource=idef.FSource;this.FExpression=idef.GetExpression();}else $lt57.Assign.call(this,Source);};var $r=this.$rtti;$r.addProperty("Expression",3,rtl.string,"GetExpression","SetExpression");$r.addProperty("Fields",0,rtl.string,"FFields","FFields");$r.addProperty("CaseInsFields",2,rtl.string,"FCaseinsFields","SetCaseInsFields");$r.addProperty("DescFields",2,rtl.string,"FDescFields","SetDescFields");$r.addProperty("Options",0,$mod.$rtti["TIndexOptions"],"FOptions","FOptions");$r.addProperty("Source",0,rtl.string,"FSource","FSource");});rtl.createClass(this,"TIndexDefs",$lt8,function(){$lt32=this;this.GetItem$1=function(Index){var Result=null;Result=rtl.as($lt56.GetItem.call(this,Index),$lt31);return Result;};this.Find$1=function(IndexName){var Result=null;Result=rtl.as($lt8.Find.call(this,IndexName),$lt31);if(Result===null)$mod.DatabaseErrorFmt$1(rtl.getResStr($lm2,"SIndexNotFound"),$lp(18,IndexName),this.FDataset);return Result;};});rtl.createClass(this,"TCheckConstraint",$lt54,function(){$lt33=this;this.$init=function(){$lt54.$init.call(this);this.FCustomConstraint="";this.FErrorMessage="";this.FFromDictionary=false;this.FImportedConstraint="";};this.Assign=function(Source){};var $r=this.$rtti;$r.addProperty("CustomConstraint",0,rtl.string,"FCustomConstraint","FCustomConstraint");$r.addProperty("ErrorMessage",0,rtl.string,"FErrorMessage","FErrorMessage");$r.addProperty("FromDictionary",0,rtl.boolean,"FFromDictionary","FFromDictionary");$r.addProperty("ImportedConstraint",0,rtl.string,"FImportedConstraint","FImportedConstraint");});rtl.createClass(this,"TCheckConstraints",$lt56,function(){$lt34=this;this.GetOwner=function(){var Result=null;Result=null;return Result;};this.Create$2=function(AOwner){$lt56.Create$1.call(this,$lt33);return this;};});rtl.createClass(this,"TFields",$lt58,function(){$lt35=this;this.$init=function(){$lt58.$init.call(this);this.FDataset=null;this.FFieldList=null;this.FOnChange=null;this.FValidFieldKinds={};};this.$final=function(){this.FDataset=undefined;this.FFieldList=undefined;this.FOnChange=undefined;this.FValidFieldKinds=undefined;$lt58.$final.call(this);};this.ClearFieldDefs=function(){var i=0;for(var $l=0,$end=this.GetCount()-1;$l<=$end;$l++){i=$l;this.GetField(i).FFieldDef=null;};};this.Changed=function(){if((this.FDataset!==null)&&!(3 in this.FDataset.FComponentState))this.FDataset.DataEvent(9,0);if(this.FOnChange!=null)this.FOnChange(this);};this.GetCount=function(){var Result=0;Result=this.FFieldList.FCount;return Result;};this.GetField=function(Index){var Result=null;Result=rtl.getObject(this.FFieldList.Get(Index));return Result;};this.SetFieldIndex=function(Field,Value){var Old=0;Old=this.FFieldList.IndexOf(Field);if(Old===-1)return;if(Value<0)Value=0;if(Value>=this.GetCount())Value=this.GetCount()-1;if(Value!==Old){this.FFieldList.Delete(Old);this.FFieldList.Insert(Value,Field);Field.PropertyChanged(true);this.Changed();};};this.Create$1=function(ADataset){this.FDataset=ADataset;this.FFieldList=$lt59.$create("Create");this.FValidFieldKinds=rtl.createSet(null,0,3);return this;};this.Destroy=function(){if(this.FFieldList!=null)this.Clear();$lp19({p:this,get:function(){return this.p.FFieldList;},set:function(v){this.p.FFieldList=v;}});$lt58.Destroy.call(this);};this.Add=function(Field){this.CheckFieldName(Field.FFieldName);this.FFieldList.Add(Field);Field.FFields=this;this.Changed();};this.CheckFieldName=function(Value){if(this.FindField(Value)!==null)$mod.DatabaseErrorFmt$1(rtl.getResStr($lm2,"SDuplicateFieldName"),$lp(18,Value),this.FDataset);};this.CheckFieldNames=function(Value){var N="";var StrPos=0;if(Value==="")return;StrPos=1;do{N=$mod.ExtractFieldName(Value,{get:function(){return StrPos;},set:function(v){StrPos=v;}});this.FieldByName(N);}while(!(StrPos>Value.length));};this.Clear=function(){var AField=null;while(this.FFieldList.FCount>0){AField=rtl.getObject(this.FFieldList.Last());AField.FDataSet=null;AField=rtl.freeLoc(AField);this.FFieldList.Delete(this.FFieldList.FCount-1);};this.Changed();};this.FindField=function(Value){var Result=null;var S="";var I=0;S=$lp6(Value);for(var $l=0,$end=this.FFieldList.FCount-1;$l<=$end;$l++){I=$l;Result=rtl.getObject(this.FFieldList.Get(I));if(S===$lp6(Result.FFieldName)){return Result;};};Result=null;return Result;};this.FieldByName=function(Value){var Result=null;Result=this.FindField(Value);if(Result===null)$mod.DatabaseErrorFmt$1(rtl.getResStr($lm2,"SFieldNotFound"),$lp(18,Value),this.FDataset);return Result;};this.IndexOf=function(Field){var Result=0;Result=this.FFieldList.IndexOf(Field);return Result;};this.Remove=function(Value){this.FFieldList.Remove(Value);Value.FFields=null;this.Changed();};});$lt36=this.TBookmarkFlag={"0":"bfCurrent",bfCurrent:0,"1":"bfBOF",bfBOF:1,"2":"bfEOF",bfEOF:2,"3":"bfInserted",bfInserted:3};rtl.recNewT(this,"TBookmark",function(){$lt37=this;this.Data=undefined;this.$eq=function(b){return this.Data===b.Data;};this.$assign=function(s){this.Data=s.Data;return this;};});$lt38=this.TGetMode={"0":"gmCurrent",gmCurrent:0,"1":"gmNext",gmNext:1,"2":"gmPrior",gmPrior:2};$lt39=this.TGetResult={"0":"grOK",grOK:0,"1":"grBOF",grBOF:1,"2":"grEOF",grEOF:2,"3":"grError",grError:3};$lt40=this.TResyncMode$a={"0":"rmExact",rmExact:0,"1":"rmCenter",rmCenter:1};$lt41=this.TDataAction={"0":"daFail",daFail:0,"1":"daAbort",daAbort:1,"2":"daRetry",daRetry:2};this.$rtti.$Enum("TDataAction",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TDataAction});$lt42=this.TLocateOption={"0":"loCaseInsensitive",loCaseInsensitive:0,"1":"loPartialKey",loPartialKey:1,"2":"loFromCurrent",loFromCurrent:2};this.$rtti.$MethodVar("TDataSetNotifyEvent",{procsig:rtl.newTIProcSig([["DataSet",this.$rtti["TDataSet"]]]),methodkind:0});this.$rtti.$MethodVar("TDataSetErrorEvent",{procsig:rtl.newTIProcSig([["DataSet",this.$rtti["TDataSet"]],["E",this.$rtti["EDatabaseError"]],["DataAction",this.$rtti["TDataAction"],1]]),methodkind:0});$lt43=this.TLoadOption={"0":"loNoOpen",loNoOpen:0,"1":"loNoEvents",loNoEvents:1,"2":"loAtEOF",loAtEOF:2,"3":"loCancelPending",loCancelPending:3};this.$rtti.$MethodVar("TFilterRecordEvent",{procsig:rtl.newTIProcSig([["DataSet",this.$rtti["TDataSet"]],["Accept",rtl.boolean,1]]),methodkind:0});$lt44=this.TRecordState={"0":"rsNew",rsNew:0,"1":"rsClean",rsClean:1,"2":"rsUpdate",rsUpdate:2,"3":"rsDelete",rsDelete:3};rtl.recNewT(this,"TDataRecord",function(){$lt45=this;this.data=undefined;this.state=0;this.bookmark=undefined;this.bookmarkFlag=0;this.$eq=function(b){return(this.data===b.data)&&(this.state===b.state)&&(this.bookmark===b.bookmark)&&(this.bookmarkFlag===b.bookmarkFlag);};this.$assign=function(s){this.data=s.data;this.state=s.state;this.bookmark=s.bookmark;this.bookmarkFlag=s.bookmarkFlag;return this;};});rtl.createClass(this,"TDataSet",$lt60,function(){$lt46=this;this.$init=function(){$lt60.$init.call(this);this.FAfterLoad=null;this.FBeforeLoad=null;this.FBlockReadSize=0;this.FCalcBuffer=$lt45.$new();this.FCalcFieldsCount=0;this.FOnLoadFail=null;this.FOpenAfterRead=false;this.FActiveRecord=0;this.FAfterCancel=null;this.FAfterClose=null;this.FAfterDelete=null;this.FAfterEdit=null;this.FAfterInsert=null;this.FAfterOpen=null;this.FAfterPost=null;this.FAfterScroll=null;this.FAutoCalcFields=false;this.FBOF=false;this.FBeforeCancel=null;this.FBeforeClose=null;this.FBeforeDelete=null;this.FBeforeEdit=null;this.FBeforeInsert=null;this.FBeforeOpen=null;this.FBeforePost=null;this.FBeforeScroll=null;this.FBlobFieldCount=0;this.FBuffers=[];this.FBufferCount=0;this.FConstraints=null;this.FDisableControlsCount=0;this.FDisableControlsState=0;this.FCurrentRecord=0;this.FDataSources=null;this.FDefaultFields=false;this.FEOF=false;this.FEnableControlsEvent=0;this.FFieldList=null;this.FFieldDefs=null;this.FFilterText="";this.FFiltered=false;this.FInternalCalcFields=false;this.FModified=false;this.FOnCalcFields=null;this.FOnDeleteError=null;this.FOnEditError=null;this.FOnFilterRecord=null;this.FOnNewRecord=null;this.FOnPostError=null;this.FRecordCount=0;this.FIsUniDirectional=false;this.FState=0;this.FInternalOpenComplete=false;this.FDataProxy=null;this.FDataRequestID=0;this.FChangeList=null;this.FLoadCount=0;this.FMinLoadID=0;this.FDataSetField=null;this.FNestedDataSets=null;this.FNestedDataSetClass=null;};this.$final=function(){this.FAfterLoad=undefined;this.FBeforeLoad=undefined;this.FCalcBuffer=undefined;this.FOnLoadFail=undefined;this.FAfterCancel=undefined;this.FAfterClose=undefined;this.FAfterDelete=undefined;this.FAfterEdit=undefined;this.FAfterInsert=undefined;this.FAfterOpen=undefined;this.FAfterPost=undefined;this.FAfterScroll=undefined;this.FBeforeCancel=undefined;this.FBeforeClose=undefined;this.FBeforeDelete=undefined;this.FBeforeEdit=undefined;this.FBeforeInsert=undefined;this.FBeforeOpen=undefined;this.FBeforePost=undefined;this.FBeforeScroll=undefined;this.FBuffers=undefined;this.FConstraints=undefined;this.FDataSources=undefined;this.FFieldList=undefined;this.FFieldDefs=undefined;this.FOnCalcFields=undefined;this.FOnDeleteError=undefined;this.FOnEditError=undefined;this.FOnFilterRecord=undefined;this.FOnNewRecord=undefined;this.FOnPostError=undefined;this.FDataProxy=undefined;this.FChangeList=undefined;this.FDataSetField=undefined;this.FNestedDataSets=undefined;this.FNestedDataSetClass=undefined;$lt60.$final.call(this);};this.DoInternalOpen=function(){this.InternalOpen();this.FInternalOpenComplete=true;this.FRecordCount=0;this.RecalcBufListSize();this.FBOF=true;this.FEOF=this.FRecordCount===0;if(this.GetDataProxy()!=null)this.InitChangeList();};this.GetDataProxy=function(){var Result=null;if(this.FDataProxy===null)this.SetDataProxy(this.DoGetDataProxy());Result=this.FDataProxy;return Result;};this.RegisterDataSource=function(ADataSource){this.FDataSources.Add(ADataSource);this.RecalcBufListSize();};this.SetDataProxy=function(AValue){if(AValue===this.FDataProxy)return;if(this.FDataProxy!=null)this.FDataProxy.RemoveFreeNotification(this);this.FDataProxy=AValue;if(this.FDataProxy!=null)this.FDataProxy.FreeNotification(this);};this.ShiftBuffersForward=function(){var TempBuf=$lt45.$new();var I=0;TempBuf.$assign(this.FBuffers[this.FBufferCount]);for(var $l=this.FBufferCount;$l>=1;$l--){I=$l;this.FBuffers[I].$assign(this.FBuffers[I-1]);};this.FBuffers[0].$assign(TempBuf);};this.ShiftBuffersBackward=function(){var TempBuf=$lt45.$new();var I=0;TempBuf.$assign(this.FBuffers[0]);for(var $l=1,$end=this.FBufferCount;$l<=$end;$l++){I=$l;this.FBuffers[I-1].$assign(this.FBuffers[I]);};this.FBuffers[this.FBufferCount].$assign(TempBuf);};this.TryDoing=function(P,Ev){var Result=false;var Retry=0;Result=true;Retry=2;while(Retry===2)try{this.UpdateCursorPos();P();return Result;}catch($e){if($lt4.isPrototypeOf($e)){var E=$e;Retry=0;if(Ev!=null)Ev(this,E,{get:function(){return Retry;},set:function(v){Retry=v;}});var $tmp=Retry;if($tmp===0){throw $e}
else if($tmp===1)$lp20();}else{throw $e;}};return Result;};this.GetActive=function(){var Result=false;Result=(this.FState!==0)&&(this.FState!==12);return Result;};this.UnRegisterDataSource=function(ADataSource){this.FDataSources.Remove(ADataSource);};this.SetFieldDefs=function(AFieldDefs){this.FFieldList.ClearFieldDefs();this.FFieldDefs.Assign$2(AFieldDefs);};this.HandleRequestResponse=function(ARequest){var DataAdded=false;if(!(ARequest!=null))return;if(ARequest.FRequestID<=this.FMinLoadID){ARequest.$destroy("Destroy");return;};this.FLoadCount-=1;var $tmp=ARequest.FSuccess;if($tmp===0){if(this.FOnLoadFail!=null)this.FOnLoadFail(this,ARequest.FRequestID,ARequest.FErrorMsg);}else if(($tmp===1)||($tmp===2)){DataAdded=false;if(ARequest.FEvent!=null)ARequest.FEvent(this,ARequest.FData);if(ARequest.FSuccess!==1)DataAdded=this.DataPacketReceived(ARequest);if(!(this.GetActive()||(0 in ARequest.FLoadOptions))){if(!(1 in ARequest.FLoadOptions))this.DoAfterLoad();this.Open();}else{if((2 in ARequest.FLoadOptions)&&DataAdded)this.FEOF=false;if(!(1 in ARequest.FLoadOptions))this.DoAfterLoad();};};ARequest.$destroy("Destroy");};this.GetNestedDataSets=function(){var Result=null;if(!(this.FNestedDataSets!=null))this.FNestedDataSets=$lt59.$create("Create");Result=this.FNestedDataSets;return Result;};this.DataPacketReceived=function(ARequest){var Result=false;Result=false;return Result;};this.DoLoad=function(aOptions,aAfterLoad){var Result=false;var Request=null;if(!(1 in aOptions))this.DoBeforeLoad();Result=this.GetDataProxy()!==null;if(!Result)return Result;Request=this.GetDataProxy().GetDataRequest(rtl.refSet(aOptions),rtl.createCallback(this,"HandleRequestResponse"),aAfterLoad);Request.FDataset=this;if(this.GetActive())Request.FBookmark.$assign(this.GetBookmark());this.FDataRequestID+=1;Request.FRequestID=this.FDataRequestID;if(this.GetDataProxy().DoGetData(Request)){this.FLoadCount+=1}
else Request=rtl.freeLoc(Request);return Result;};this.DoGetDataProxy=function(){var Result=null;Result=null;return Result;};this.InitChangeList=function(){this.DoneChangeList();this.FChangeList=$lt59.$create("Create");};this.DoneChangeList=function(){this.ClearChangeList();$lp19({p:this,get:function(){return this.p.FChangeList;},set:function(v){this.p.FChangeList=v;}});};this.ClearChangeList=function(){var I=0;if(!(this.FChangeList!=null))return;for(var $l=0,$end=this.FChangeList.FCount-1;$l<=$end;$l++){I=$l;rtl.getObject(this.FChangeList.Get(I)).$destroy("Destroy");this.FChangeList.Put(I,null);};};this.GetApplyUpdateData=function(aBuffer){var Result=undefined;Result=aBuffer.data;return Result;};this.IndexInChangeList=function(aBookmark){var Result=0;Result=-1;if(!(this.FChangeList!=null))return Result;Result=this.FChangeList.FCount-1;while((Result>=0)&&(this.CompareBookmarks($lt37.$clone(aBookmark),$lt37.$clone(rtl.getObject(this.FChangeList.Get(Result)).FBookmark))!==0))Result-=1;return Result;};this.AddToChangeList=function(aChange){var Result=null;var B=$lt37.$new();var I=0;var aData=undefined;Result=null;if(!(this.FChangeList!=null))return Result;B.$assign(this.GetBookmark());I=this.IndexInChangeList($lt37.$clone(B));if(I===-1){aData=this.GetApplyUpdateData($lt45.$clone(this.ActiveBuffer()));if(this.GetDataProxy()!=null){Result=this.GetDataProxy().GetUpdateDescriptor(this,$lt37.$clone(B),aData,aChange)}
else Result=$lt51.$create("Create$1",[null,this,$lt37.$clone(B),aData,aChange]);this.FChangeList.Add(Result);}else{Result=rtl.getObject(this.FChangeList.Get(I));var $tmp=aChange;if($tmp===2){if(Result.FStatus===1){this.FChangeList.Delete(I)}
else Result.FStatus=2;}else if($tmp===1){$mod.DatabaseError$1(rtl.getResStr($lm2,"SErrInsertingSameRecordtwice"),this)}
else if($tmp===0)Result.FData=this.GetApplyUpdateData($lt45.$clone(this.ActiveBuffer()));};return Result;};this.RecalcBufListSize=function(){var i=0;var j=0;var ABufferCount=0;var DataLink=null;if(!this.IsCursorOpen())return;if(this.FIsUniDirectional){ABufferCount=1}
else ABufferCount=10;for(var $l=0,$end=this.FDataSources.FCount-1;$l<=$end;$l++){i=$l;for(var $l1=0,$end1=rtl.getObject(this.FDataSources.Get(i)).FDataLinks.GetCount()-1;$l1<=$end1;$l1++){j=$l1;DataLink=rtl.getObject(rtl.getObject(this.FDataSources.Get(i)).FDataLinks.Get(j));if(ABufferCount<DataLink.GetBufferCount())ABufferCount=DataLink.GetBufferCount();};};if(this.FBufferCount===ABufferCount)return;this.SetBufListSize(ABufferCount);this.GetNextRecords();if((this.FRecordCount<this.FBufferCount)&&!this.FIsUniDirectional){this.FActiveRecord=this.FActiveRecord+this.GetPriorRecords();this.CursorPosChanged();};};this.ActivateBuffers=function(){this.FBOF=false;this.FEOF=false;this.FActiveRecord=0;};this.BindFields=function(Binding){var i=0;var FieldIndex=0;var FieldDef=null;var Field=null;this.FCalcFieldsCount=0;this.FBlobFieldCount=0;for(var $l=0,$end=this.FFieldList.GetCount()-1;$l<=$end;$l++){i=$l;Field=this.FFieldList.GetField(i);Field.FFieldDef=null;if(!Binding){Field.FFieldNo=0}
else if(Field.FFieldKind in rtl.createSet(1,2)){Field.FFieldNo=-1;this.FCalcFieldsCount+=1;}else{FieldIndex=this.FFieldDefs.IndexOf(Field.FFieldName);if(FieldIndex===-1){$mod.DatabaseErrorFmt$1(rtl.getResStr($lm2,"SFieldNotFound"),$lp(18,Field.FFieldName),this)}
else{FieldDef=this.FFieldDefs.GetItem$1(FieldIndex);Field.FFieldDef=FieldDef;Field.FFieldNo=FieldDef.FFieldNo;if(FieldDef.FInternalCalcField)this.FInternalCalcFields=true;if(Field.$class.IsBlob()){Field.FSize=FieldDef.FSize;this.FBlobFieldCount+=1;};};};Field.Bind(Binding);};};this.BlockReadNext=function(){this.MoveBy(1);};var BookmarkStates=rtl.createSet(1,2,3);this.BookmarkAvailable=function(){var Result=false;Result=!this.IsEmpty()&&!this.FIsUniDirectional&&(this.FState in BookmarkStates)&&(this.GetBookmarkFlag($lt45.$clone(this.ActiveBuffer()))===0);return Result;};this.CalculateFields=function(Buffer){var i=0;this.FCalcBuffer.$assign(Buffer);if(this.FState!==11){this.ClearCalcFields(this.FCalcBuffer);if(!this.FIsUniDirectional)for(var $l=0,$end=this.FFieldList.GetCount()-1;$l<=$end;$l++){i=$l;if(this.FFieldList.GetField(i).FFieldKind===2)this.FFieldList.GetField(i).CalcLookupValue();};};this.DoOnCalcFields();};this.CheckActive=function(){if(!this.GetActive())$mod.DatabaseError$1(rtl.getResStr($lm2,"SInactiveDataset"),this);};this.CheckInactive=function(){if(this.GetActive())$mod.DatabaseError$1(rtl.getResStr($lm2,"SActiveDataset"),this);};this.CheckBiDirectional=function(){if(this.FIsUniDirectional)$mod.DatabaseError$1(rtl.getResStr($lm2,"SUniDirectional"),this);};this.ClearBuffers=function(){this.FRecordCount=0;this.FActiveRecord=0;this.FCurrentRecord=-1;this.FBOF=true;this.FEOF=true;};this.ClearCalcFields=function(Buffer){};this.CloseCursor=function(){this.ClearBuffers();this.SetBufListSize(0);this.FFieldList.ClearFieldDefs();this.InternalClose();this.FInternalOpenComplete=false;};this.CreateFields=function(){var I=0;for(var $l=0,$end=this.FFieldDefs.GetCount()-1;$l<=$end;$l++){I=$l;var $with=this.FFieldDefs.GetItem$1(I);if($with.FDataType!==0){$with.CreateField(this);};};};this.DataEvent=function(Event,Info){var $Self=this;function HandleFieldChange(aField){if(aField.FFieldKind in rtl.createSet(0,3))$Self.SetModified(true);if($Self.FState!==4){if(aField.FFieldKind===0){if($Self.FInternalCalcFields){$Self.RefreshInternalCalcFields($Self.FBuffers[$Self.FActiveRecord])}
else if($Self.FAutoCalcFields&&($Self.FCalcFieldsCount!==0))$Self.CalculateFields($Self.FBuffers[$Self.FActiveRecord]);};aField.Change();};};function HandleScrollOrChange(){var A=0;var NestedDataSet=null;if($Self.FState!==3)$Self.UpdateCursorPos();if($Self.FNestedDataSets!=null)for(var $l=0,$end=$Self.GetNestedDataSets().FCount-1;$l<=$end;$l++){A=$l;NestedDataSet=rtl.getObject($Self.GetNestedDataSets().Get(A));if(NestedDataSet.GetActive())NestedDataSet.DataEvent(11,0);};};var i=0;var $tmp=Event;if($tmp===0){HandleFieldChange(rtl.getObject(Info))}
else if(($tmp===2)||($tmp===3)){HandleScrollOrChange()}
else if($tmp===4)this.FEnableControlsEvent=4;if(!this.ControlsDisabled()&&(this.FState!==10)){for(var $l=0,$end=this.FDataSources.FCount-1;$l<=$end;$l++){i=$l;rtl.getObject(this.FDataSources.Get(i)).ProcessEvent(Event,Info);};};};this.DestroyFields=function(){this.FFieldList.Clear();};this.DoAfterCancel=function(){if(this.FAfterCancel!=null)this.FAfterCancel(this);};this.DoAfterClose=function(){if((this.FAfterClose!=null)&&!(3 in this.FComponentState))this.FAfterClose(this);};this.DoAfterOpen=function(){if(this.FAfterOpen!=null)this.FAfterOpen(this);};this.DoAfterPost=function(){if(this.FAfterPost!=null)this.FAfterPost(this);};this.DoAfterScroll=function(){if(this.FAfterScroll!=null)this.FAfterScroll(this);};this.DoBeforeCancel=function(){if(this.FBeforeCancel!=null)this.FBeforeCancel(this);};this.DoBeforeClose=function(){if((this.FBeforeClose!=null)&&!(3 in this.FComponentState))this.FBeforeClose(this);};this.DoBeforeOpen=function(){if(this.FBeforeOpen!=null)this.FBeforeOpen(this);};this.DoBeforePost=function(){if(this.FBeforePost!=null)this.FBeforePost(this);};this.DoBeforeScroll=function(){if(this.FBeforeScroll!=null)this.FBeforeScroll(this);};this.DoOnCalcFields=function(){if(this.FOnCalcFields!=null)this.FOnCalcFields(this);};this.DoBeforeLoad=function(){if(this.FBeforeLoad!=null)this.FBeforeLoad(this);};this.DoAfterLoad=function(){if(this.FAfterLoad!=null)this.FAfterLoad(this);};this.GetCalcFields=function(Buffer){var OldState=0;if((this.FCalcFieldsCount>0)||this.FInternalCalcFields){OldState=this.FState;this.FState=5;try{this.CalculateFields(Buffer);}finally{this.FState=OldState;};};};this.GetFieldClass=function(FieldType){var Result=null;Result=$mod.DefaultFieldClasses[FieldType];return Result;};this.GetfieldCount=function(){var Result=0;Result=this.FFieldList.GetCount();return Result;};this.GetFieldValues=function(FieldName){var Result=undefined;var i=0;var FieldList=null;var A=[];FieldList=$lt65.$create("Create$1");try{this.GetFieldList(FieldList,FieldName);if(FieldList.GetCount()>1){A=rtl.arraySetLength(A,undefined,FieldList.GetCount());for(var $l=0,$end=FieldList.GetCount()-1;$l<=$end;$l++){i=$l;A[i]=rtl.getObject(FieldList.Get(i)).GetAsJSValue();};Result=A;}else Result=this.FieldByName(FieldName).GetAsJSValue();}finally{FieldList=rtl.freeLoc(FieldList);};return Result;};this.GetNextRecords=function(){var Result=0;Result=0;while((this.FRecordCount<this.FBufferCount)&&this.GetNextRecord())Result+=1;return Result;};this.GetNextRecord=function(){var Result=false;var T=$lt45.$new();if(this.FRecordCount>0)this.SetCurrentRecord(this.FRecordCount-1);Result=this.GetRecord(this.FBuffers[this.FBufferCount],1,true)===0;if(Result){if(this.FRecordCount===0)this.ActivateBuffers();if(this.FRecordCount===this.FBufferCount){this.ShiftBuffersBackward()}
else{this.FRecordCount+=1;this.FCurrentRecord=this.FRecordCount-1;T.$assign(this.FBuffers[this.FCurrentRecord]);this.FBuffers[this.FCurrentRecord].$assign(this.FBuffers[this.FBufferCount]);this.FBuffers[this.FBufferCount].$assign(T);};}else this.CursorPosChanged();return Result;};this.GetPriorRecords=function(){var Result=0;Result=0;while((this.FRecordCount<this.FBufferCount)&&this.GetPriorRecord())Result+=1;return Result;};this.GetPriorRecord=function(){var Result=false;this.CheckBiDirectional();if(this.FRecordCount>0)this.SetCurrentRecord(0);Result=this.GetRecord(this.FBuffers[this.FBufferCount],2,true)===0;if(Result){if(this.FRecordCount===0)this.ActivateBuffers();this.ShiftBuffersForward();if(this.FRecordCount<this.FBufferCount)this.FRecordCount+=1;}else this.CursorPosChanged();return Result;};this.InitRecord=function(Buffer){this.InternalInitRecord(Buffer);this.ClearCalcFields(Buffer);};this.InternalCancel=function(){};this.OpenCursor=function(InfoQuery){if(InfoQuery){this.InternalInitFieldDefs()}
else if(this.FState!==12)this.DoInternalOpen();};this.OpenCursorcomplete=function(){try{if(this.FState===12)this.DoInternalOpen();}finally{if(this.FInternalOpenComplete){this.SetState(1);this.DoAfterOpen();if(!this.IsEmpty())this.DoAfterScroll();}else{this.SetState(0);this.CloseCursor();};};};this.RefreshInternalCalcFields=function(Buffer){};this.RestoreState=function(Value){this.FState=Value;this.FDisableControlsCount-=1;};this.SetActive=function(Value){if(Value&&(this.FState===0)){if(0 in this.FComponentState){this.FOpenAfterRead=true;return;}else{this.DoBeforeOpen();this.FEnableControlsEvent=4;this.FInternalCalcFields=false;try{this.FDefaultFields=this.GetfieldCount()===0;this.OpenCursor(false);}finally{if(this.FState!==12)this.OpenCursorcomplete();};};this.FModified=false;}else if(!Value&&(this.FState!==0)){this.DoBeforeClose();this.SetState(0);this.DoneChangeList();this.CloseCursor();this.DoAfterClose();this.FModified=false;};};this.SetBufListSize=function(Value){var I=0;if(Value<0)Value=0;if(Value===this.FBufferCount)return;if(Value>this.FBufferCount){this.FBuffers=rtl.arraySetLength(this.FBuffers,$lt45,Value+1);for(var $l=this.FBufferCount,$end=Value;$l<=$end;$l++){I=$l;this.FBuffers[I].$assign(this.AllocRecordBuffer());};}else if(Value<this.FBufferCount)if((Value>=0)&&(this.FActiveRecord>(Value-1))){for(var $l1=0,$end1=this.FActiveRecord-Value;$l1<=$end1;$l1++){I=$l1;this.ShiftBuffersBackward();};this.FActiveRecord=Value-1;};this.FBuffers=rtl.arraySetLength(this.FBuffers,$lt45,Value+1);this.FBufferCount=Value;if(this.FRecordCount>this.FBufferCount)this.FRecordCount=this.FBufferCount;};this.SetCurrentRecord=function(Index){if(this.FCurrentRecord!==Index){if(!this.FIsUniDirectional){var $tmp=this.GetBookmarkFlag($lt45.$clone(this.FBuffers[Index]));if($tmp===0){this.InternalSetToRecord($lt45.$clone(this.FBuffers[Index]))}
else if($tmp===1){this.InternalFirst()}
else if($tmp===2)this.InternalLast();};this.FCurrentRecord=Index;};};this.SetFiltered=function(Value){if(Value)this.CheckBiDirectional();this.FFiltered=Value;};this.SetFilterText=function(Value){this.FFilterText=Value;};this.SetModified=function(Value){this.FModified=Value;};this.SetName=function(NewName){var $Self=this;function CheckName(FieldName){var Result="";var i=0;var j=0;Result=FieldName;i=0;j=0;while(i<$Self.FFieldList.GetCount()){if(Result===$Self.FFieldList.GetField(i).FFieldName){j+=1;Result=FieldName+$lp2(j);}else i+=1;};return Result;};var i=0;var nm="";var old="";if($Self.FName===NewName)return;old=$Self.FName;$lt60.SetName.call(this,NewName);if(4 in this.FComponentState)for(var $l=0,$end=this.FFieldList.GetCount()-1;$l<=$end;$l++){i=$l;nm=old+this.FFieldList.GetField(i).FFieldName;if($lp1(this.FFieldList.GetField(i).FName,1,nm.length)===nm)this.FFieldList.GetField(i).SetName(CheckName(NewName+this.FFieldList.GetField(i).FFieldName));};};this.SetOnFilterRecord=function(Value){this.CheckBiDirectional();this.FOnFilterRecord=Value;};this.SetState=function(Value){if(Value!==this.FState){this.FState=Value;if(Value===1)this.FModified=false;this.DataEvent(6,0);};};this.SetTempState=function(Value){var Result=0;Result=this.FState;this.FState=Value;this.FDisableControlsCount+=1;return Result;};this.AllocRecordBuffer=function(){var Result=$lt45.$new();Result.data=null;Result.state=0;return Result;};this.FreeRecordBuffer=function(Buffer){};this.GetBookmarkData=function(Buffer,Data){};this.GetBookmarkFlag=function(Buffer){var Result=0;Result=0;return Result;};this.GetDataSource=function(){var Result=null;Result=null;return Result;};this.InternalFirst=function(){};this.InternalInitRecord=function(Buffer){};this.InternalLast=function(){};this.InternalPost=function(){var $Self=this;function CheckRequiredFields(){var I=0;for(var $l=0,$end=$Self.FFieldList.GetCount()-1;$l<=$end;$l++){I=$l;var $with=$Self.FFieldList.GetField(I);if($with.FRequired&&!$with.FReadOnly&&($with.FFieldKind===0)&&!($with.FDataType===9)&&$with.GetIsNull())$mod.DatabaseErrorFmt$1(rtl.getResStr($lm2,"SNeedField"),$lp(18,$with.GetDisplayName()),$Self);};};CheckRequiredFields();};this.InternalSetToRecord=function(Buffer){};this.Notification=function(AComponent,Operation){$lt60.Notification.call(this,AComponent,Operation);if((Operation===1)&&(AComponent===this.FDataProxy))this.FDataProxy=null;};this.SetDataSetField=function(Value){if(Value===this.FDataSetField)return;if((Value!==null)&&((Value.FDataSet===this)||((Value.FDataSet.GetDataSource()!==null)&&(Value.FDataSet.GetDataSource().FDataSet===this))))$mod.DatabaseError$1(rtl.getResStr($lm2,"SCircularDataLink"),this);if((Value!=null)&&!this.$class.InheritsFrom(Value.FDataSet.FNestedDataSetClass))$mod.DatabaseErrorFmt$1(rtl.getResStr($lm2,"SNestedDataSetClass"),$lp(18,Value.FDataSet.FNestedDataSetClass.$classname),this);if(this.GetActive())this.Close();if(this.FDataSetField!=null)this.FDataSetField.AssignNestedDataSet(null);this.FDataSetField=Value;if(Value!=null){Value.AssignNestedDataSet(this);if(Value.FDataSet.GetActive())this.Open();};};this.GetFieldData=function(Field){var Result=undefined;Result=this.GetFieldData$1(Field,$lt45.$clone(this.ActiveBuffer()));return Result;};this.SetFieldData=function(Field,AValue){this.SetFieldData$1(Field,this.FBuffers[this.FActiveRecord],AValue);};this.GetFieldData$1=function(Field,Buffer){var Result=undefined;Result=Buffer.data[Field.FFieldName];if($lp8(Result))Result=null;return Result;};this.SetFieldData$1=function(Field,Buffer,AValue){Buffer.data[Field.FFieldName]=AValue;};this.FieldDefsClass=function(){var Result=null;Result=$lt10;return Result;};this.FieldsClass=function(){var Result=null;Result=$lt35;return Result;};this.Create$1=function(AOwner){$lt60.Create$1.call(this,AOwner);this.FFieldDefs=this.$class.FieldDefsClass().$create("Create$4",[this]);this.FFieldList=this.$class.FieldsClass().$create("Create$1",[this]);this.FDataSources=$lt59.$create("Create");this.FConstraints=$lt34.$create("Create$2",[this]);this.FBuffers=rtl.arraySetLength(this.FBuffers,$lt45,1);this.FActiveRecord=0;this.FEOF=true;this.FBOF=true;this.FIsUniDirectional=false;this.FAutoCalcFields=true;this.FDataRequestID=0;this.FNestedDataSetClass=this.$class.ClassType();return this;};this.Destroy=function(){var i=0;this.SetActive(false);this.SetDataSetField(null);rtl.free(this,"FFieldDefs");rtl.free(this,"FFieldList");rtl.free(this,"FNestedDataSets");var $with=this.FDataSources;while($with.FCount>0)rtl.getObject($with.Get($with.FCount-1)).SetDataSet(null);$with.$destroy("Destroy");for(var $l=0,$end=this.FBufferCount;$l<=$end;$l++){i=$l;this.FreeRecordBuffer(this.FBuffers[i]);};rtl.free(this,"FConstraints");this.FBuffers=rtl.arraySetLength(this.FBuffers,$lt45,1);$lt60.Destroy.call(this);};this.ActiveBuffer=function(){var Result=$lt45.$new();if(this.FActiveRecord!==-1){Result.$assign(this.FBuffers[this.FActiveRecord])}
else Result.$assign($lt45.$new());return Result;};this.ConvertToDateTime=function(aField,aValue,ARaiseException){var Result=0.0;Result=this.$class.DefaultConvertToDateTime(aField,aValue,ARaiseException);return Result;};this.ConvertDateTimeToNative=function(aField,aValue){var Result=undefined;Result=this.$class.DefaultConvertDateTimeToNative(aField,aValue);return Result;};this.DefaultConvertToDateTime=function(aField,aValue,ARaiseException){var Result=0.0;Result=0;if(rtl.isString(aValue)){if(!$lp21(""+aValue,{get:function(){return Result;},set:function(v){Result=v;}}))throw $lt66.$create("CreateFmt",[rtl.getResStr($lm2,"SErrInvalidDateTime"),$lp(18,""+aValue)]);}else if(rtl.isNumber(aValue)){Result=rtl.getNumber(aValue)}
else if($lp22(aValue))Result=$lp23(aValue);return Result;};this.DefaultConvertDateTimeToNative=function(aField,aValue){var Result=undefined;Result=$lp24(aValue);return Result;};this.BlobDataToBytes=function(aValue){var Result=[];Result=this.$class.DefaultBlobDataToBytes(aValue);return Result;};this.DefaultBlobDataToBytes=function(aValue){var Result=[];var S="";var I=0;var J=0;var L=0;Result=rtl.arraySetLength(Result,0,0);if(rtl.isString(aValue)){S=""+aValue;L=S.length;Result=rtl.arraySetLength(Result,0,rtl.trunc((L+1)/2));I=1;J=0;while(I<L){Result[J]=$lp12("$"+$lp1(S,I,2));I+=2;J+=1;};};return Result;};this.BytesToBlobData=function(aValue){var Result=undefined;Result=this.$class.DefaultBytesToBlobData(rtl.arrayRef(aValue));return Result;};this.DefaultBytesToBlobData=function(aValue){var Result=undefined;var S="";var I=0;if(rtl.length(aValue)===0){Result=null}
else{S="";for(var $l=0,$end=rtl.length(aValue)-1;$l<=$end;$l++){I=$l;S=S.concat($lp25(aValue[I],2));};Result=S;};return Result;};this.Cancel=function(){if(this.FState in rtl.createSet(2,3)){this.DataEvent(7,0);this.DoBeforeCancel();this.UpdateCursorPos();this.InternalCancel();if((this.FState===3)&&(this.FRecordCount===1)){this.FEOF=true;this.FBOF=true;this.FRecordCount=0;this.InitRecord(this.FBuffers[this.FActiveRecord]);this.SetState(1);this.DataEvent(2,0);}else{this.SetState(1);this.SetCurrentRecord(this.FActiveRecord);this.Resync({});};this.DoAfterCancel();};};this.CheckBrowseMode=function(){this.CheckActive();this.DataEvent(7,0);var $tmp=this.FState;if(($tmp===2)||($tmp===3)){this.UpdateRecord();if(this.FModified){this.Post()}
else this.Cancel();}else if($tmp===4)this.Post();};this.Close=function(){this.SetActive(false);};this.ControlsDisabled=function(){var Result=false;Result=this.FDisableControlsCount>0;return Result;};this.CompareBookmarks=function(Bookmark1,Bookmark2){var Result=0;Result=0;return Result;};this.CursorPosChanged=function(){this.FCurrentRecord=-1;};this.DisableControls=function(){if(this.FDisableControlsCount===0){this.FDisableControlsState=this.FState;this.FEnableControlsEvent=2;};this.FDisableControlsCount+=1;};this.EnableControls=function(){if(this.FDisableControlsCount>0)this.FDisableControlsCount-=1;if(this.FDisableControlsCount===0){if(this.FState!==this.FDisableControlsState)this.DataEvent(6,0);if((this.FState!==0)&&(this.FDisableControlsState!==0))this.DataEvent(this.FEnableControlsEvent,0);};};this.FieldByName=function(FieldName){var Result=null;Result=this.FindField(FieldName);if(Result===null)$mod.DatabaseErrorFmt$1(rtl.getResStr($lm2,"SFieldNotFound"),$lp(18,FieldName),this);return Result;};this.FindField=function(FieldName){var Result=null;Result=this.FFieldList.FindField(FieldName);return Result;};this.First=function(){this.CheckBrowseMode();this.DoBeforeScroll();if(!this.FIsUniDirectional){this.ClearBuffers()}
else if(!this.FBOF){this.SetActive(false);this.SetActive(true);};try{this.InternalFirst();if(!this.FIsUniDirectional)this.GetNextRecords();}finally{this.FBOF=true;this.DataEvent(2,0);this.DoAfterScroll();};};this.GetBookmark=function(){var Result=$lt37.$new();if(this.BookmarkAvailable()){this.GetBookmarkData($lt45.$clone(this.ActiveBuffer()),Result)}
else Result.Data=null;return Result;};this.GetFieldList=function(List,FieldNames){var F=null;var N="";var StrPos=0;if((FieldNames==="")||(List===null))return;StrPos=1;do{N=$mod.ExtractFieldName(FieldNames,{get:function(){return StrPos;},set:function(v){StrPos=v;}});F=this.FieldByName(N);List.Add(F);}while(!(StrPos>FieldNames.length));};this.GetFieldList$1=function(List,FieldNames){var F=null;var N="";var StrPos=0;if((FieldNames==="")||(List===null))return;StrPos=1;do{N=$mod.ExtractFieldName(FieldNames,{get:function(){return StrPos;},set:function(v){StrPos=v;}});F=this.FieldByName(N);List.Add(F);}while(!(StrPos>FieldNames.length));};this.IsEmpty=function(){var Result=false;Result=this.FBOF&&this.FEOF&&!(this.FState===3);return Result;};this.Lookup=function(KeyFields,KeyValues,ResultFields){var Result=undefined;this.CheckBiDirectional();Result=null;return Result;};this.MoveBy=function(Distance){var $Self=this;var Result=0;var TheResult=0;function ScrollForward(){var Result=0;Result=0;$Self.FBOF=false;while((Distance>0)&&!$Self.FEOF){if($Self.FActiveRecord<($Self.FRecordCount-1)){$Self.FActiveRecord+=1;Distance-=1;TheResult+=1;}else{if($Self.GetNextRecord()){Distance-=1;Result-=1;TheResult+=1;}else{$Self.FEOF=true;$Self.DoLoad(rtl.createSet(0,2),null);};};};return Result;};function ScrollBackward(){var Result=0;$Self.CheckBiDirectional();Result=0;$Self.FEOF=false;while((Distance<0)&&!$Self.FBOF){if($Self.FActiveRecord>0){$Self.FActiveRecord-=1;Distance+=1;TheResult-=1;}else{if($Self.GetPriorRecord()){Distance+=1;Result+=1;TheResult-=1;}else $Self.FBOF=true;};};return Result;};var Scrolled=0;this.CheckBrowseMode();Result=0;TheResult=0;this.DoBeforeScroll();if((Distance===0)||((Distance>0)&&this.FEOF)||((Distance<0)&&this.FBOF))return Result;try{Scrolled=0;if(Distance>0){Scrolled=ScrollForward()}
else Scrolled=ScrollBackward();}finally{this.DataEvent(3,Scrolled);this.DoAfterScroll();Result=TheResult;};return Result;};this.Next=function(){if(this.FBlockReadSize>0){this.BlockReadNext()}
else this.MoveBy(1);};this.Open=function(){this.SetActive(true);};var UpdateStates=[0,1];this.Post=function(){var R=null;var WasInsert=false;this.UpdateRecord();if(this.FState in rtl.createSet(2,3)){this.DataEvent(7,0);this.DoBeforePost();WasInsert=this.FState===3;if(!this.TryDoing(rtl.createCallback(this,"InternalPost"),this.FOnPostError))return;this.CursorPosChanged();this.SetState(1);this.Resync({});R=this.AddToChangeList(UpdateStates[+WasInsert]);if(R!=null)R.FBookmark.$assign(this.GetBookmark());this.DoAfterPost();}else if(this.FState!==4)$mod.DatabaseErrorFmt$1(rtl.getResStr($lm2,"SNotEditing"),$lp(18,this.FName),this);};this.Resync=function(Mode){var i=0;var count=0;if(this.FIsUniDirectional)return;if(this.GetRecord(this.FBuffers[0],0,false)!==0)if(0 in Mode){$mod.DatabaseError$1(rtl.getResStr($lm2,"SNoSuchRecord"),this)}
else if((this.GetRecord(this.FBuffers[0],1,true)!==0)&&(this.GetRecord(this.FBuffers[0],2,true)!==0)){this.ClearBuffers();this.InternalInitRecord(this.FBuffers[this.FActiveRecord]);this.DataEvent(2,0);return;};this.FCurrentRecord=0;this.FEOF=false;this.FBOF=false;if(1 in Mode){count=rtl.trunc(this.FRecordCount/2)}
else count=this.FActiveRecord;i=0;this.FRecordCount=1;this.FActiveRecord=0;while((i<count)&&this.GetPriorRecord())i+=1;this.FActiveRecord=i;this.GetNextRecords();if(this.FRecordCount<this.FBufferCount)this.FActiveRecord=this.FActiveRecord+this.GetPriorRecords();this.DataEvent(2,0);};this.UpdateCursorPos=function(){if(this.FRecordCount>0)this.SetCurrentRecord(this.FActiveRecord);};this.UpdateRecord=function(){if(!(this.FState in $mod.dsEditModes))$mod.DatabaseErrorFmt$1(rtl.getResStr($lm2,"SNotEditing"),$lp(18,this.FName),this);this.DataEvent(5,0);};});rtl.createClass(this,"TDataLink",$lt57,function(){$lt47=this;this.$init=function(){$lt57.$init.call(this);this.FFirstRecord=0;this.FBufferCount=0;this.FActive=false;this.FDataSourceFixed=false;this.FEditing=false;this.FReadOnly=false;this.FUpdatingRecord=false;this.FVisualControl=false;this.FDataSource=null;};this.$final=function(){this.FDataSource=undefined;$lt57.$final.call(this);};this.CalcFirstRecord=function(Index){var Result=0;if(this.FDataSource.FDataSet.FActiveRecord>((this.FFirstRecord+Index+this.FBufferCount)-1)){Result=this.FDataSource.FDataSet.FActiveRecord-((this.FFirstRecord+Index+this.FBufferCount)-1)}
else if(this.FDataSource.FDataSet.FActiveRecord<(this.FFirstRecord+Index)){Result=this.FDataSource.FDataSet.FActiveRecord-(this.FFirstRecord+Index)}
else Result=0;this.FFirstRecord+=Index+Result;return Result;};this.CalcRange=function(){var aMax=0;var aMin=0;aMin=(this.GetDataset().FActiveRecord-this.FBufferCount)+1;if(aMin<0)aMin=0;aMax=this.GetDataset().FBufferCount-this.FBufferCount;if(aMax<0)aMax=0;if(aMax>this.GetDataset().FActiveRecord)aMax=this.GetDataset().FActiveRecord;if(this.FFirstRecord<aMin)this.FFirstRecord=aMin;if(this.FFirstRecord>aMax)this.FFirstRecord=aMax;if((this.FFirstRecord!==0)&&((this.GetDataset().FActiveRecord-this.FFirstRecord)<(this.FBufferCount-1)))this.FFirstRecord-=1;};this.CheckActiveAndEditing=function(){var B=false;B=(this.FDataSource!=null)&&!(this.FDataSource.FState in rtl.createSet(0,12));this.SetActive(B);B=(this.FDataSource!=null)&&(this.FDataSource.FState in $mod.dsEditModes)&&!this.FReadOnly;if(B!==this.FEditing){this.FEditing=B;this.EditingChanged();};};this.GetDataset=function(){var Result=null;if(this.FDataSource!=null){Result=this.FDataSource.FDataSet}
else Result=null;return Result;};this.SetActive=function(AActive){if(this.FActive!==AActive){this.FActive=AActive;this.ActiveChanged();};};this.SetDataSource=function(Value){if(this.FDataSource===Value)return;if(!this.FDataSourceFixed){if(this.FDataSource!=null){this.FDataSource.UnregisterDataLink(this);this.FDataSource=null;this.CheckActiveAndEditing();};this.FDataSource=Value;if(this.FDataSource!=null){this.FDataSource.RegisterDataLink(this);this.CheckActiveAndEditing();};};};this.ActiveChanged=function(){this.FFirstRecord=0;};this.CheckBrowseMode=function(){};this.DataEvent=function(Event,Info){if(Event===6){this.CheckActiveAndEditing()}
else if(this.FActive){var $tmp=Event;if(($tmp===0)||($tmp===1)){if(!this.FUpdatingRecord)this.RecordChanged(rtl.getObject(Info))}
else if($tmp===2){this.SetActive(this.FDataSource.FDataSet.GetActive());this.CalcRange();this.CalcFirstRecord(rtl.trunc(Info));this.DataSetChanged();}else if($tmp===3){this.DataSetScrolled(this.CalcFirstRecord(rtl.trunc(Info)))}
else if($tmp===4){this.CalcFirstRecord(rtl.trunc(Info));this.LayoutChanged();}else if($tmp===5){this.UpdateRecord()}
else if($tmp===7){this.CheckBrowseMode()}
else if($tmp===10)this.FocusControl(Info);};};this.DataSetChanged=function(){this.RecordChanged(null);};this.DataSetScrolled=function(Distance){this.DataSetChanged();};this.EditingChanged=function(){};this.FocusControl=function(Field){};this.GetBufferCount=function(){var Result=0;Result=this.FBufferCount;return Result;};this.LayoutChanged=function(){this.DataSetChanged();};this.RecordChanged=function(Field){};this.UpdateData=function(){};this.Destroy=function(){this.FActive=false;this.FEditing=false;this.FDataSourceFixed=false;this.SetDataSource(null);$lt58.Destroy.call(this);};this.UpdateRecord=function(){this.FUpdatingRecord=true;try{this.UpdateData();}finally{this.FUpdatingRecord=false;};};});this.$rtti.$MethodVar("TDataChangeEvent",{procsig:rtl.newTIProcSig([["Sender",$lm3.$rtti["TObject"]],["Field",this.$rtti["TField"]]]),methodkind:0});rtl.createClass(this,"TDataSource",$lt60,function(){$lt48=this;this.$init=function(){$lt60.$init.call(this);this.FDataSet=null;this.FDataLinks=null;this.FEnabled=false;this.FAutoEdit=false;this.FState=0;this.FOnStateChange=null;this.FOnDataChange=null;this.FOnUpdateData=null;};this.$final=function(){this.FDataSet=undefined;this.FDataLinks=undefined;this.FOnStateChange=undefined;this.FOnDataChange=undefined;this.FOnUpdateData=undefined;$lt60.$final.call(this);};this.DistributeEvent=function(Event,Info){var i=0;var $with=this.FDataLinks;for(var $l=0,$end=$with.GetCount()-1;$l<=$end;$l++){i=$l;var $with1=rtl.getObject($with.Get(i));if(!$with1.FVisualControl)$with1.DataEvent(Event,Info);};for(var $l1=0,$end1=$with.GetCount()-1;$l1<=$end1;$l1++){i=$l1;var $with2=rtl.getObject($with.Get(i));if($with2.FVisualControl)$with2.DataEvent(Event,Info);};};this.RegisterDataLink=function(DataLink){this.FDataLinks.Add(DataLink);if(this.FDataSet!=null)this.FDataSet.RecalcBufListSize();};var OnDataChangeEvents=rtl.createSet(1,2,3,4,6);this.ProcessEvent=function(Event,Info){var NeedDataChange=false;var FLastState=0;if(Event===6){NeedDataChange=this.FState===0;FLastState=this.FState;if((this.FDataSet!=null)&&this.FEnabled){this.FState=this.FDataSet.FState}
else this.FState=0;if(this.FState===FLastState)return;}else NeedDataChange=true;this.DistributeEvent(Event,Info);if(!(3 in this.FComponentState)){if(Event===6)this.DoStateChange();if((Event in OnDataChangeEvents)&&NeedDataChange)this.DoDataChange(null);if(Event===0)this.DoDataChange(Info);if(Event===5)this.DoUpdateData();};};this.SetDataSet=function(ADataSet){if(this.FDataSet!==null){this.FDataSet.UnRegisterDataSource(this);this.FDataSet=null;this.ProcessEvent(6,0);};if(ADataSet!==null){ADataSet.RegisterDataSource(this);this.FDataSet=ADataSet;this.ProcessEvent(6,0);};};this.SetEnabled=function(Value){this.FEnabled=Value;this.ProcessEvent(6,0);};this.UnregisterDataLink=function(DataLink){this.FDataLinks.Remove(DataLink);if(this.FDataSet!==null)this.FDataSet.RecalcBufListSize();};this.DoDataChange=function(Info){if(this.FOnDataChange!=null)this.FOnDataChange(this,Info);};this.DoStateChange=function(){if(this.FOnStateChange!=null)this.FOnStateChange(this);};this.DoUpdateData=function(){if(this.FOnUpdateData!=null)this.FOnUpdateData(this);};this.Create$1=function(AOwner){$lt60.Create$1.call(this,AOwner);this.FDataLinks=$lt65.$create("Create$1");this.FEnabled=true;this.FAutoEdit=true;return this;};this.Destroy=function(){this.FOnStateChange=null;this.SetDataSet(null);var $with=this.FDataLinks;while($with.GetCount()>0)rtl.getObject($with.Get($with.GetCount()-1)).SetDataSource(null);rtl.free(this,"FDataLinks");$lt60.Destroy.call(this);};var $r=this.$rtti;$r.addProperty("AutoEdit",0,rtl.boolean,"FAutoEdit","FAutoEdit",{Default:true});$r.addProperty("DataSet",2,$mod.$rtti["TDataSet"],"FDataSet","SetDataSet");$r.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:true});$r.addProperty("OnStateChange",0,$lm1.$rtti["TNotifyEvent"],"FOnStateChange","FOnStateChange");$r.addProperty("OnDataChange",0,$mod.$rtti["TDataChangeEvent"],"FOnDataChange","FOnDataChange");$r.addProperty("OnUpdateData",0,$lm1.$rtti["TNotifyEvent"],"FOnUpdateData","FOnUpdateData");});$lt49=this.TDataRequestResult={"0":"rrFail",rrFail:0,"1":"rrEOF",rrEOF:1,"2":"rrOK",rrOK:2};rtl.createClass(this,"TDataRequest",$lt58,function(){$lt50=this;this.$init=function(){$lt58.$init.call(this);this.FBookmark=$lt37.$new();this.FDataset=null;this.FErrorMsg="";this.FEvent=null;this.FLoadOptions={};this.FRequestID=0;this.FSuccess=0;this.FData=undefined;this.FAfterRequest=null;this.FDataProxy=null;};this.$final=function(){this.FBookmark=undefined;this.FDataset=undefined;this.FEvent=undefined;this.FLoadOptions=undefined;this.FAfterRequest=undefined;this.FDataProxy=undefined;$lt58.$final.call(this);};this.Create$1=function(aDataProxy,aOptions,aAfterRequest,aAfterLoad){this.FDataProxy=aDataProxy;this.FLoadOptions=rtl.refSet(aOptions);this.FEvent=aAfterLoad;this.FAfterRequest=aAfterRequest;return this;};});rtl.createClass(this,"TRecordUpdateDescriptor",$lt58,function(){$lt51=this;this.$init=function(){$lt58.$init.call(this);this.FBookmark=$lt37.$new();this.FData=undefined;this.FDataset=null;this.FProxy=null;this.FStatus=0;};this.$final=function(){this.FBookmark=undefined;this.FDataset=undefined;this.FProxy=undefined;$lt58.$final.call(this);};this.Create$1=function(aProxy,aDataset,aBookmark,AData,AStatus){this.FDataset=aDataset;this.FBookmark.$assign(aBookmark);this.FData=AData;this.FStatus=AStatus;this.FProxy=aProxy;return this;};});rtl.createClass(this,"TDataProxy",$lt60,function(){$lt52=this;this.GetDataRequestClass=function(){var Result=null;Result=$lt50;return Result;};this.GetUpdateDescriptorClass=function(){var Result=null;Result=$lt51;return Result;};this.GetDataRequest=function(aOptions,aAfterRequest,aAfterLoad){var Result=null;Result=this.GetDataRequestClass().$create("Create$1",[this,rtl.refSet(aOptions),aAfterRequest,aAfterLoad]);return Result;};this.GetUpdateDescriptor=function(aDataset,aBookmark,AData,AStatus){var Result=null;Result=this.GetUpdateDescriptorClass().$create("Create$1",[this,aDataset,$lt37.$clone(aBookmark),AData,AStatus]);return Result;};});this.Fieldtypenames=["Unknown","String","Integer","NativeInt","Boolean","Float","Date","Time","DateTime","AutoInc","Blob","Memo","FixedChar","Variant","Dataset"];this.DefaultFieldClasses=[$lt13,$lt14,$lt16,$lt17,$lt20,$lt19,$lt22,$lt23,$lt21,$lt18,$lt26,$lt27,$lt14,$lt28,null];this.dsEditModes=rtl.createSet(2,3,4);this.ftBlobTypes=rtl.createSet(10,11);this.DatabaseError=function(Msg){throw $lt4.$create("Create$1",[Msg]);};this.DatabaseError$1=function(Msg,Comp){if((Comp!=null)&&(Comp.FName!=="")){throw $lt4.$create("CreateFmt",["%s : %s",$lp(18,Comp.FName,18,Msg)])}
else $mod.DatabaseError(Msg);};this.DatabaseErrorFmt=function(Fmt,Args){throw $lt4.$create("CreateFmt",[Fmt,Args]);};this.DatabaseErrorFmt$1=function(Fmt,Args,Comp){if(Comp!=null){throw $lt4.$create("CreateFmt",[$lp26("%s : %s",$lp(18,Comp.FName,18,Fmt)),Args])}
else $mod.DatabaseErrorFmt(Fmt,Args);};this.ExtractFieldName=function(Fields,Pos){var Result="";var i=0;var FieldsLength=0;i=Pos.get();FieldsLength=Fields.length;while((i<=FieldsLength)&&(Fields.charAt(i-1)!==";"))i+=1;Result=$lp27($lp1(Fields,Pos.get(),i-Pos.get()));if((i<=FieldsLength)&&(Fields.charAt(i-1)===";"))i+=1;Pos.set(i);return Result;};$mod.$implcode=function(){$lm2=pas.DBConst;$impl.DefaultBufferCount=10;$impl.SBoolean="Boolean";$impl.SDateTime="TDateTime";$impl.SInteger="Integer";$impl.SLargeInt="NativeInt";$impl.SJSValue="JSValue";};},["DBConst","TypInfo"]);rtl.module("contnrs",["System","SysUtils","Classes"],function(){"use strict";var $mod=this;var $impl=$mod.$impl;var $lt=null;var $lt1=null;var $lt2=null;var $lt3=null;var $lt4=null;var $lt5=null;var $lt6=null;var $lm=pas.System;var $lt7=$lm.TObject;var $lm1=pas.Classes;var $lt8=$lm1.TFPList;var $lp=$lm.VarRecs;var $lm2=pas.SysUtils;var $lp1=$lm2.FreeAndNil;var $lt9=$lm2.Exception;rtl.createClass(this,"TFPObjectList",$lt7,function(){$lt=this;this.$init=function(){$lt7.$init.call(this);this.FFreeObjects=false;this.FList=null;};this.$final=function(){this.FList=undefined;$lt7.$final.call(this);};this.GetCount=function(){var Result=0;Result=this.FList.FCount;return Result;};this.GetItem=function(Index){var Result=null;Result=rtl.getObject(this.FList.Get(Index));return Result;};this.SetItem=function(Index,AObject){var O=null;if(this.FFreeObjects){O=rtl.getObject(this.FList.Get(Index));this.FList.Put(Index,AObject);O=rtl.freeLoc(O);}else this.FList.Put(Index,AObject);};this.Create$1=function(){$lt7.Create.call(this);this.FList=$lt8.$create("Create");this.FFreeObjects=true;return this;};this.Create$2=function(FreeObjects){this.Create$1();this.FFreeObjects=FreeObjects;return this;};this.Destroy=function(){if(this.FList!==null){this.Clear();this.FList.$destroy("Destroy");};$lt7.Destroy.call(this);};this.Clear=function(){var i=0;var O=null;if(this.FFreeObjects)for(var $l=this.FList.FCount-1;$l>=0;$l--){i=$l;O=rtl.getObject(this.FList.Get(i));this.FList.Put(i,null);O=rtl.freeLoc(O);};this.FList.Clear();};this.Add=function(AObject){var Result=0;Result=this.FList.Add(AObject);return Result;};});rtl.createClass(this,"THTCustomNode",$lt7,function(){$lt1=this;this.$init=function(){$lt7.$init.call(this);this.FKey="";};this.CreateWith=function(AString){$lt7.Create.call(this);this.FKey=AString;return this;};});rtl.createClass(this,"TFPCustomHashTable",$lt7,function(){$lt2=this;this.$init=function(){$lt7.$init.call(this);this.FHashTable=null;this.FHashFunction=null;this.FCount=0;this.FHashTableSize=0;};this.$final=function(){this.FHashTable=undefined;this.FHashFunction=undefined;$lt7.$final.call(this);};this.SetHashTableSize=function(Value){var i=0;var newSize=0;if(Value!==this.FHashTableSize){i=0;while(($impl.PRIMELIST[i]<Value)&&(i<27))i+=1;newSize=$impl.PRIMELIST[i];if(this.FCount===0){this.FHashTableSize=newSize;this.InitializeHashTable();}else this.ChangeTableSize(newSize);};};this.InitializeHashTable=function(){var i=0;if(this.FHashTableSize>0)for(var $l=0,$end=this.FHashTableSize-1;$l<=$end;$l++){i=$l;this.FHashTable.Add(null);};this.FCount=0;};this.Chain=function(index){var Result=null;Result=this.FHashTable.GetItem(index);return Result;};this.FindChainForAdd=function(aKey){var Result=null;var hashCode=0;var i=0;hashCode=this.FHashFunction(aKey,this.FHashTableSize);Result=this.Chain(hashCode);if(Result!=null){if(Result.GetCount()>0)for(var $l=0,$end=Result.GetCount()-1;$l<=$end;$l++){i=$l;if(Result.GetItem(i).FKey===aKey)throw $lt6.$create("CreateFmt",[rtl.getResStr($mod,"DuplicateMsg"),$lp(18,aKey)]);};}else{this.FHashTable.SetItem(hashCode,$lt.$create("Create$2",[true]));Result=this.Chain(hashCode);};this.FCount+=1;return Result;};this.Create$1=function(){this.CreateWith(196613,$mod.RSHash);return this;};this.CreateWith=function(AHashTableSize,aHashFunc){$lt7.Create.call(this);this.FHashTable=$lt.$create("Create$2",[true]);this.SetHashTableSize(AHashTableSize);this.FHashFunction=aHashFunc;return this;};this.Destroy=function(){rtl.free(this,"FHashTable");$lt7.Destroy.call(this);};this.ChangeTableSize=function(ANewSize){var SavedTable=null;var List=null;var SavedTableSize=0;var i=0;var j=0;var temp=null;SavedTable=this.FHashTable;SavedTableSize=this.FHashTableSize;this.FHashTableSize=ANewSize;this.FHashTable=$lt.$create("Create$2",[true]);this.InitializeHashTable();if(SavedTableSize>0)for(var $l=0,$end=SavedTableSize-1;$l<=$end;$l++){i=$l;List=SavedTable.GetItem(i);if(List!=null)for(var $l1=0,$end1=List.GetCount()-1;$l1<=$end1;$l1++){j=$l1;temp=List.GetItem(j);this.AddNode(temp);};};SavedTable=rtl.freeLoc(SavedTable);};this.Clear=function(){var i=0;if(this.FHashTableSize>0)for(var $l=0,$end=this.FHashTableSize-1;$l<=$end;$l++){i=$l;if(this.Chain(i)!=null)this.Chain(i).Clear();};this.FCount=0;};this.Find=function(aKey){var Result=null;var hashCode=0;var chn=null;var i=0;hashCode=this.FHashFunction(aKey,this.FHashTableSize);chn=this.Chain(hashCode);if(chn!=null)if(chn.GetCount()>0)for(var $l=0,$end=chn.GetCount()-1;$l<=$end;$l++){i=$l;if(chn.GetItem(i).FKey===aKey)return chn.GetItem(i);};Result=null;return Result;};});rtl.createClass(this,"THTObjectNode",$lt1,function(){$lt3=this;this.$init=function(){$lt1.$init.call(this);this.FData=null;};this.$final=function(){this.FData=undefined;$lt1.$final.call(this);};});rtl.createClass(this,"THTOwnedObjectNode",$lt3,function(){$lt4=this;this.Destroy=function(){$lp1({p:this,get:function(){return this.p.FData;},set:function(v){this.p.FData=v;}});$lt7.Destroy.call(this);};});rtl.createClass(this,"TFPObjectHashTable",$lt2,function(){$lt5=this;this.$init=function(){$lt2.$init.call(this);this.FOwnsObjects=false;};this.CreateNewNode=function(aKey){var Result=null;if(this.FOwnsObjects){Result=$lt4.$create("CreateWith",[aKey])}
else Result=$lt3.$create("CreateWith",[aKey]);return Result;};this.AddNode=function(ANode){this.Add(ANode.FKey,ANode.FData);};this.GetData=function(index){var Result=null;var node=null;node=this.Find(index);if(node!=null){Result=node.FData}
else Result=null;return Result;};this.Create$2=function(AOwnsObjects){$lt2.Create$1.call(this);this.FOwnsObjects=AOwnsObjects;return this;};this.Add=function(aKey,AItem){var chn=null;var NewNode=null;chn=this.FindChainForAdd(aKey);NewNode=this.CreateNewNode(aKey);NewNode.FData=AItem;chn.Add(NewNode);};});rtl.createClass(this,"EDuplicate",$lt9,function(){$lt6=this;});var b=378551;this.RSHash=function(S,TableSize){var Result=0;var a=0;var i=0;a=63689;Result=0;if(S.length>0)for(var $l=1,$end=S.length;$l<=$end;$l++){i=$l;Result=(Result*a)+S.charCodeAt(i-1);a=a*378551;};Result=rtl.lw(Result&0x7FFFFFFF)%TableSize;return Result;};$mod.$implcode=function(){$impl.NPRIMES=28;$impl.PRIMELIST=[53,97,193,389,769,1543,3079,6151,12289,24593,49157,98317,196613,393241,786433,1572869,3145739,6291469,12582917,25165843,50331653,100663319,201326611,402653189,805306457,1610612741,3221225473,4294967291];$mod.$resourcestrings={DuplicateMsg:{org:"An item with key %0:s already exists"}};};},["JS"]);rtl.module("fpexprpars",["System","Classes","SysUtils","contnrs"],function(){"use strict";var $mod=this;var $impl=$mod.$impl;var $lt=null;var $lt1=null;var $lt2=null;var $lt3=null;var $lt4=null;var $lt5=null;var $lt6=null;var $lt7=null;var $lt8=null;var $lt9=null;var $lt10=null;var $lt11=null;var $lt12=null;var $lt13=null;var $lt14=null;var $lt15=null;var $lt16=null;var $lt17=null;var $lt18=null;var $lt19=null;var $lt20=null;var $lt21=null;var $lt22=null;var $lt23=null;var $lt24=null;var $lt25=null;var $lt26=null;var $lt27=null;var $lt28=null;var $lt29=null;var $lt30=null;var $lt31=null;var $lt32=null;var $lt33=null;var $lt34=null;var $lt35=null;var $lt36=null;var $lt37=null;var $lt38=null;var $lt39=null;var $lt40=null;var $lt41=null;var $lt42=null;var $lt43=null;var $lt44=null;var $lt45=null;var $lt46=null;var $lt47=null;var $lt48=null;var $lt49=null;var $lt50=null;var $lt51=null;var $lt52=null;var $lt53=null;var $lt54=null;var $lt55=null;var $lt56=null;var $lt57=null;var $lt58=null;var $lt59=null;var $lm=pas.System;var $lt60=$lm.TObject;var $lm1=pas.SysUtils;var $lp=$lm1.Format;var $lp1=$lm.VarRecs;var $lp2=$lm1.LowerCase;var $lp3=$lm.upcase;var $lp4=$lm.val$8;var $lt61=$lm1.Exception;var $lp5=$lm1.FreeAndNil;var $lp6=$lm1.TrimLeft;var $lp7=$lm1.IntToStr;var $lp8=$lm1.FormatDateTime;var $lm2=pas.Classes;var $lt62=$lm2.TCollectionItem;var $lp9=$lm1.FloatToStr;var $lp10=$lm1.CurrToStr;var $lp11=$lm1.StrToInt;var $lp12=$lm1.StrToFloat;var $lp13=$lm1.StrToCurr;var $lp14=$lm1.StrToDateTime;var $lm3=null;var $lp15=null;var $lt63=$lm2.TPersistent;var $lt64=$lm2.TCollection;var $lp16=$lm1.CompareText;var $lt65=$lm2.TComponent;var $lp17=$lm1.TryStrToInt64;var $lm4=pas.contnrs;var $lt66=$lm4.TFPObjectHashTable;var $lt67=$lm1.TFormatSettings;var $lp18=$lm.Frac;var $lp19=$lm.Odd;var $lp20=$lm.Sqr$1;var $lp21=$lm.Trunc;var $lp22=$lm.Int;var $lp23=$lm.Copy;var $lp24=$lm.Delete;var $lp25=$lm.Pos;var $lp26=$lm1.UpperCase;var $lp27=$lm1.StringReplace;var $lp28=$lm1.Date;var $lp29=$lm1.Time;var $lp30=$lm1.Now;var $lp31=$lm1.DayOfWeek;var $lp32=$lm1.DecodeDate;var $lp33=$lm1.DecodeTime;var $lp34=$lm1.EncodeDate;var $lp35=$lm1.EncodeTime;var $lp36=$lm1.StrToIntDef$1;var $lp37=$lm1.StrToFloatDef;var $lp38=$lm1.DateToStr;var $lp39=$lm1.TimeToStr;var $lp40=$lm1.StrToDate;var $lp41=$lm1.StrToDateDef;var $lp42=$lm1.StrToTime;var $lp43=$lm1.StrToTimeDef;var $lp44=$lm1.StrToDateTimeDef;var $lp45=$lm1.FormatFloat;var $lp46=$lm1.BoolToStr;var $lp47=$lm1.StrToBool;var $lp48=$lm1.StrToBoolDef;$lt=this.TTokenType={"0":"ttPlus",ttPlus:0,"1":"ttMinus",ttMinus:1,"2":"ttLessThan",ttLessThan:2,"3":"ttLargerThan",ttLargerThan:3,"4":"ttEqual",ttEqual:4,"5":"ttDiv",ttDiv:5,"6":"ttMod",ttMod:6,"7":"ttMul",ttMul:7,"8":"ttLeft",ttLeft:8,"9":"ttRight",ttRight:9,"10":"ttLessThanEqual",ttLessThanEqual:10,"11":"ttLargerThanEqual",ttLargerThanEqual:11,"12":"ttunequal",ttunequal:12,"13":"ttNumber",ttNumber:13,"14":"ttString",ttString:14,"15":"ttIdentifier",ttIdentifier:15,"16":"ttComma",ttComma:16,"17":"ttAnd",ttAnd:17,"18":"ttOr",ttOr:18,"19":"ttXor",ttXor:19,"20":"ttTrue",ttTrue:20,"21":"ttFalse",ttFalse:21,"22":"ttNot",ttNot:22,"23":"ttif",ttif:23,"24":"ttCase",ttCase:24,"25":"ttPower",ttPower:25,"26":"ttEOF",ttEOF:26};this.ttComparisons=rtl.createSet(3,2,11,10,4,12);this.$rtti.$Class("TFPExpressionParser");this.$rtti.$ClassRef("TFPExprFunctionClass",{instancetype:this.$rtti["TFPExprFunction"]});$lt1=this.TNumberKind={"0":"nkDecimal",nkDecimal:0,"1":"nkHex",nkHex:1,"2":"nkOctal",nkOctal:2,"3":"nkBinary",nkBinary:3};rtl.createClass(this,"TFPExpressionScanner",$lt60,function(){$lt2=this;this.$init=function(){$lt60.$init.call(this);this.FSource="";this.LSource=0;this.FPos=0;this.FChar="";this.FToken="";this.FTokenType=0;};this.GetCurrentChar=function(){var Result="";Result=this.FChar;return Result;};this.ScanError=function(Msg){throw $lt3.$create("Create$1",[Msg]);};this.SetSource=function(AValue){this.FSource=AValue;this.LSource=this.FSource.length;this.FTokenType=26;if(this.LSource===0){this.FPos=0;this.FChar=$impl.cNull;}else{this.FPos=1;this.FChar=this.FSource.charAt(0);};this.FToken="";};this.DoIdentifier=function(){var Result=0;var C="";var S="";C=this.GetCurrentChar();while(!this.IsWordDelim(C)&&(C!==$impl.cNull)){if(C!=='"'){this.FToken=this.FToken+C}
else{C=this.NextPos();while(!(C.charCodeAt()in rtl.createSet($impl.cNull.charCodeAt(),34))){this.FToken=this.FToken+C;C=this.NextPos();};if(C!=='"')this.ScanError($lp(rtl.getResStr($mod,"SErrUnterminatedIdentifier"),$lp1(18,this.FToken)));};C=this.NextPos();};S=$lp2(this.FToken);if(S==="or"){Result=18}
else if(S==="xor"){Result=19}
else if(S==="and"){Result=17}
else if(S==="true"){Result=20}
else if(S==="false"){Result=21}
else if(S==="not"){Result=22}
else if(S==="if"){Result=23}
else if(S==="case"){Result=24}
else if(S==="mod"){Result=6}
else Result=15;return Result;};this.DoNumber=function(AKind){var $Self=this;var Result=0;var C="";var X=0.0;var I=0;var prevC="";function ValidDigit(C,AKind){var Result=false;Result=$Self.IsDigit(C,AKind);if(!Result){var $tmp=AKind;if($tmp===0){Result=(($Self.FToken!=="")&&($lp3(C)==="E"))||(($Self.FToken!=="")&&(C.charCodeAt()in rtl.createSet(43,45))&&(prevC==="E"))}
else if($tmp===1){Result=(C===$impl.cHexIdentifier)&&(prevC==="\x00")}
else if($tmp===2){Result=(C===$impl.cOctalIdentifier)&&(prevC==="\x00")}
else if($tmp===3)Result=(C===$impl.cBinaryIdentifier)&&(prevC==="\x00");};return Result;};C=this.GetCurrentChar();prevC="\x00";while(C!==$impl.cNull){if(this.IsWordDelim(C)){var $tmp=AKind;if($tmp===0){if(!(prevC.charCodeAt()in rtl.createSet(69,45,43)))break}
else if(($tmp===1)||($tmp===2)){break}
else if($tmp===3)if(prevC!=="\x00")break;};if(!ValidDigit(C,AKind))this.ScanError($lp(rtl.getResStr($mod,"SErrInvalidNumberChar"),$lp1(9,C)));this.FToken=this.FToken+C;prevC=$lp3(C);C=this.NextPos();};$lp4(this.FToken,{get:function(){return X;},set:function(v){X=v;}},{get:function(){return I;},set:function(v){I=v;}});if(I!==0)this.ScanError($lp(rtl.getResStr($mod,"SErrInvalidNumber"),$lp1(18,this.FToken)));Result=13;return Result;};this.DoDelimiter=function(){var Result=0;var B=false;var C="";var D="";C=this.FChar;this.FToken=C;B=C.charCodeAt()in rtl.createSet(60,62);D=C;C=this.NextPos();if(B&&(C.charCodeAt()in rtl.createSet(61,62))){this.FToken=this.FToken+C;this.NextPos();if(D===">"){Result=11}
else if(C===">"){Result=12}
else Result=10;}else{var $tmp=D;if($tmp==="+"){Result=0}
else if($tmp==="-"){Result=1}
else if($tmp==="<"){Result=2}
else if($tmp===">"){Result=3}
else if($tmp==="="){Result=4}
else if($tmp==="\/"){Result=5}
else if($tmp==="*"){Result=7}
else if($tmp==="("){Result=8}
else if($tmp===")"){Result=9}
else if($tmp===","){Result=16}
else if($tmp==="^"){Result=25}
else{this.ScanError($lp(rtl.getResStr($mod,"SUnknownDelimiter"),$lp1(9,D)));};};return Result;};this.DoString=function(){var $Self=this;var Result=0;function TerminatingChar(C){var Result=false;Result=(C===$impl.cNull)||((C===$impl.cSingleQuote)&&!(($Self.FPos<$Self.LSource)&&($Self.FSource.charAt(($Self.FPos+1)-1)===$impl.cSingleQuote)));return Result;};var C="";this.FToken="";C=this.NextPos();while(!TerminatingChar(C)){this.FToken=this.FToken+C;if(C===$impl.cSingleQuote)this.NextPos();C=this.NextPos();};if(C===$impl.cNull)this.ScanError(rtl.getResStr($mod,"SBadQuotes"));Result=14;this.FTokenType=Result;this.NextPos();return Result;};this.NextPos=function(){var Result="";this.FPos+=1;if(this.FPos>this.FSource.length){this.FChar=$impl.cNull}
else this.FChar=this.FSource.charAt(this.FPos-1);Result=this.FChar;return Result;};this.SkipWhiteSpace=function(){while((this.FChar.charCodeAt()in $impl.WhiteSpace)&&(this.FPos<=this.LSource))this.NextPos();};this.IsWordDelim=function(C){var Result=false;Result=C.charCodeAt()in $impl.WordDelimiters;return Result;};this.IsDelim=function(C){var Result=false;Result=C.charCodeAt()in $impl.Delimiters;return Result;};this.IsDigit=function(C,AKind){var Result=false;var $tmp=AKind;if($tmp===0){Result=C.charCodeAt()in $impl.Digits}
else if($tmp===1){Result=C.charCodeAt()in $impl.HexDigits}
else if($tmp===2){Result=C.charCodeAt()in $impl.OctalDigits}
else if($tmp===3)Result=C.charCodeAt()in $impl.BinaryDigits;return Result;};this.IsAlpha=function(C){var Result=false;Result=C.charCodeAt()in rtl.createSet(null,65,90,null,97,122);return Result;};this.Create$1=function(){this.SetSource("");return this;};this.GetToken=function(){var Result=0;var C="";this.FToken="";this.SkipWhiteSpace();C=this.FChar;if(C===$impl.cNull){Result=26}
else if(this.IsDelim(C)){Result=this.DoDelimiter()}
else if(C===$impl.cSingleQuote){Result=this.DoString()}
else if(C===$impl.cHexIdentifier){Result=this.DoNumber(1)}
else if(C===$impl.cOctalIdentifier){Result=this.DoNumber(2)}
else if(C===$impl.cBinaryIdentifier){Result=this.DoNumber(3)}
else if(this.IsDigit(C,0)){Result=this.DoNumber(0)}
else if(this.IsAlpha(C)||(C==='"')||(C==="_")){Result=this.DoIdentifier()}
else this.ScanError($lp(rtl.getResStr($mod,"SErrUnknownCharacter"),$lp1(0,this.FPos,9,C)));this.FTokenType=Result;return Result;};});rtl.createClass(this,"EExprScanner",$lt61,function(){$lt3=this;});$lt4=this.TResultType={"0":"rtBoolean",rtBoolean:0,"1":"rtInteger",rtInteger:1,"2":"rtFloat",rtFloat:2,"3":"rtDateTime",rtDateTime:3,"4":"rtString",rtString:4,"5":"rtCurrency",rtCurrency:5};this.$rtti.$Enum("TResultType",{minvalue:0,maxvalue:5,ordtype:1,enumtype:this.TResultType});rtl.recNewT(this,"TFPExpressionResult",function(){$lt5=this;this.ResultType=0;this.resValue=undefined;this.$eq=function(b){return(this.ResultType===b.ResultType)&&(this.resValue===b.resValue);};this.$assign=function(s){this.ResultType=s.ResultType;this.resValue=s.resValue;return this;};var $r=$mod.$rtti.$Record("TFPExpressionResult",{});$r.addField("ResultType",$mod.$rtti["TResultType"]);$r.addField("resValue",rtl.jsvalue);});this.$rtti.$DynArray("TExprParameterArray",{eltype:this.$rtti["TFPExpressionResult"]});rtl.createClass(this,"TFPExprNode",$lt60,function(){$lt6=this;this.CheckNodeType=function(Anode,Allowed){var S="";var A=0;if(Anode===null)$impl.RaiseParserError(rtl.getResStr($mod,"SErrNoNodeToCheck"));if(!(Anode.NodeType()in Allowed)){S="";for(A=0;A<=5;A++)if(A in Allowed){if(S!=="")S=S+",";S=S+$mod.ResultTypeName(A);};$impl.RaiseParserError$1(rtl.getResStr($mod,"SInvalidNodeType"),$lp1(18,$mod.ResultTypeName(Anode.NodeType()),18,S,18,Anode.AsString()));};};});rtl.createClass(this,"TFPBinaryOperation",$lt6,function(){$lt7=this;this.$init=function(){$lt6.$init.call(this);this.FLeft=null;this.FRight=null;};this.$final=function(){this.FLeft=undefined;this.FRight=undefined;$lt6.$final.call(this);};this.CheckSameNodeTypes=function(){var LT=0;var RT=0;LT=this.FLeft.NodeType();RT=this.FRight.NodeType();if(RT!==LT)$impl.RaiseParserError$1(rtl.getResStr($mod,"SErrTypesDoNotMatch"),$lp1(18,$mod.ResultTypeName(LT),18,$mod.ResultTypeName(RT),18,this.FLeft.AsString(),18,this.FRight.AsString()));};this.Create$1=function(ALeft,ARight){this.FLeft=ALeft;this.FRight=ARight;return this;};this.Destroy=function(){$lp5({p:this,get:function(){return this.p.FLeft;},set:function(v){this.p.FLeft=v;}});$lp5({p:this,get:function(){return this.p.FRight;},set:function(v){this.p.FRight=v;}});$lt60.Destroy.call(this);};this.Check=function(){if(!(this.FLeft!=null))$impl.RaiseParserError$1(rtl.getResStr($mod,"SErrNoleftOperand"),$lp1(18,this.$classname));if(!(this.FRight!=null))$impl.RaiseParserError$1(rtl.getResStr($mod,"SErrNoRightOperand"),$lp1(18,this.$classname));};});rtl.createClass(this,"TFPBooleanOperation",$lt7,function(){$lt8=this;this.Check=function(){$lt7.Check.call(this);this.CheckNodeType(this.FLeft,rtl.createSet(1,0));this.CheckNodeType(this.FRight,rtl.createSet(1,0));this.CheckSameNodeTypes();};this.NodeType=function(){var Result=0;Result=this.FLeft.NodeType();return Result;};});rtl.createClass(this,"TFPBinaryAndOperation",$lt8,function(){$lt9=this;this.GetNodeValue=function(){var Result=$lt5.$new();var RRes=$lt5.$new();Result.$assign(this.FLeft.GetNodeValue());RRes.$assign(this.FRight.GetNodeValue());var $tmp=Result.ResultType;if($tmp===0){Result.resValue=!(Result.resValue==false)&&!(RRes.resValue==false)}
else if($tmp===1)Result.resValue=rtl.and(rtl.trunc(Result.resValue),rtl.trunc(RRes.resValue));return Result;};this.AsString=function(){var Result="";Result=this.FLeft.AsString()+" and "+this.FRight.AsString();return Result;};});rtl.createClass(this,"TFPBinaryOrOperation",$lt8,function(){$lt10=this;this.GetNodeValue=function(){var Result=$lt5.$new();var RRes=$lt5.$new();Result.$assign(this.FLeft.GetNodeValue());RRes.$assign(this.FRight.GetNodeValue());var $tmp=Result.ResultType;if($tmp===0){Result.resValue=!(Result.resValue==false)||!(RRes.resValue==false)}
else if($tmp===1)Result.resValue=rtl.or(rtl.trunc(Result.resValue),rtl.trunc(RRes.resValue));return Result;};this.AsString=function(){var Result="";Result=this.FLeft.AsString()+" or "+this.FRight.AsString();return Result;};});rtl.createClass(this,"TFPBinaryXOrOperation",$lt8,function(){$lt11=this;this.GetNodeValue=function(){var Result=$lt5.$new();var RRes=$lt5.$new();Result.$assign(this.FLeft.GetNodeValue());RRes.$assign(this.FRight.GetNodeValue());var $tmp=Result.ResultType;if($tmp===0){Result.resValue=!(Result.resValue==false)^!(RRes.resValue==false)}
else if($tmp===1)Result.resValue=rtl.xor(rtl.trunc(Result.resValue),rtl.trunc(RRes.resValue));return Result;};this.AsString=function(){var Result="";Result=this.FLeft.AsString()+" xor "+this.FRight.AsString();return Result;};});rtl.createClass(this,"TFPBooleanResultOperation",$lt7,function(){$lt12=this;this.Check=function(){$lt7.Check.call(this);this.CheckSameNodeTypes();};this.NodeType=function(){var Result=0;Result=0;return Result;};});rtl.createClass(this,"TFPEqualOperation",$lt12,function(){$lt13=this;this.GetNodeValue=function(){var Result=$lt5.$new();var RRes=$lt5.$new();Result.$assign(this.FLeft.GetNodeValue());RRes.$assign(this.FRight.GetNodeValue());Result.resValue=Result.resValue==RRes.resValue;Result.ResultType=0;return Result;};this.AsString=function(){var Result="";Result=this.FLeft.AsString()+" = "+this.FRight.AsString();return Result;};});rtl.createClass(this,"TFPUnequalOperation",$lt13,function(){$lt14=this;this.GetNodeValue=function(){var Result=$lt5.$new();Result.$assign($lt13.GetNodeValue.call(this));Result.resValue=!Result.resValue;return Result;};this.AsString=function(){var Result="";Result=this.FLeft.AsString()+" <> "+this.FRight.AsString();return Result;};});rtl.createClass(this,"TFPOrderingOperation",$lt12,function(){$lt15=this;var AllowedTypes=rtl.createSet(1,2,5,3,4);this.Check=function(){this.CheckNodeType(this.FLeft,AllowedTypes);this.CheckNodeType(this.FRight,AllowedTypes);$lt12.Check.call(this);};});rtl.createClass(this,"TFPLessThanOperation",$lt15,function(){$lt16=this;this.GetNodeValue=function(){var Result=$lt5.$new();var RRes=$lt5.$new();Result.$assign(this.FLeft.GetNodeValue());RRes.$assign(this.FRight.GetNodeValue());var $tmp=Result.ResultType;if($tmp===1){Result.resValue=rtl.trunc(Result.resValue)<rtl.trunc(RRes.resValue)}
else if($tmp===2){Result.resValue=rtl.getNumber(Result.resValue)<rtl.getNumber(RRes.resValue)}
else if($tmp===5){Result.resValue=rtl.trunc(Result.resValue*10000)<rtl.trunc(RRes.resValue*10000)}
else if($tmp===3){Result.resValue=rtl.getNumber(Result.resValue)<rtl.getNumber(RRes.resValue)}
else if($tmp===4)Result.resValue=(""+Result.resValue)<(""+RRes.resValue);Result.ResultType=0;return Result;};this.AsString=function(){var Result="";Result=this.FLeft.AsString()+" < "+this.FRight.AsString();return Result;};});rtl.createClass(this,"TFPGreaterThanOperation",$lt15,function(){$lt17=this;this.GetNodeValue=function(){var Result=$lt5.$new();var RRes=$lt5.$new();Result.$assign(this.FLeft.GetNodeValue());RRes.$assign(this.FRight.GetNodeValue());var $tmp=Result.ResultType;if($tmp===1){var $tmp1=this.FRight.NodeType();if($tmp1===1){Result.resValue=rtl.trunc(Result.resValue)>rtl.trunc(RRes.resValue)}
else if($tmp1===2){Result.resValue=rtl.trunc(Result.resValue)>rtl.getNumber(RRes.resValue)}
else if($tmp1===5)Result.resValue=(rtl.trunc(Result.resValue)*10000)>rtl.trunc(RRes.resValue*10000);}else if($tmp===2){var $tmp2=this.FRight.NodeType();if($tmp2===1){Result.resValue=rtl.getNumber(Result.resValue)>rtl.trunc(RRes.resValue)}
else if($tmp2===2){Result.resValue=rtl.getNumber(Result.resValue)>rtl.getNumber(RRes.resValue)}
else if($tmp2===5)Result.resValue=(rtl.getNumber(Result.resValue)*10000)>rtl.trunc(RRes.resValue*10000);}else if($tmp===5){var $tmp3=this.FRight.NodeType();if($tmp3===1){Result.resValue=rtl.trunc(Result.resValue*10000)>(rtl.trunc(RRes.resValue)*10000)}
else if($tmp3===2){Result.resValue=rtl.trunc(Result.resValue*10000)>(rtl.getNumber(RRes.resValue)*10000)}
else if($tmp3===5)Result.resValue=rtl.trunc(Result.resValue*10000)>rtl.trunc(RRes.resValue*10000);}else if($tmp===3){Result.resValue=rtl.getNumber(Result.resValue)>rtl.getNumber(RRes.resValue)}
else if($tmp===4)Result.resValue=(""+Result.resValue)>(""+RRes.resValue);Result.ResultType=0;return Result;};this.AsString=function(){var Result="";Result=this.FLeft.AsString()+" > "+this.FRight.AsString();return Result;};});rtl.createClass(this,"TFPLessThanEqualOperation",$lt17,function(){$lt18=this;this.GetNodeValue=function(){var Result=$lt5.$new();Result.$assign($lt17.GetNodeValue.call(this));Result.resValue=!Result.resValue;return Result;};this.AsString=function(){var Result="";Result=this.FLeft.AsString()+" <= "+this.FRight.AsString();return Result;};});rtl.createClass(this,"TFPGreaterThanEqualOperation",$lt16,function(){$lt19=this;this.GetNodeValue=function(){var Result=$lt5.$new();Result.$assign($lt16.GetNodeValue.call(this));Result.resValue=!Result.resValue;return Result;};this.AsString=function(){var Result="";Result=this.FLeft.AsString()+" >= "+this.FRight.AsString();return Result;};});rtl.createClass(this,"TIfOperation",$lt7,function(){$lt20=this;this.$init=function(){$lt7.$init.call(this);this.FCondition=null;};this.$final=function(){this.FCondition=undefined;$lt7.$final.call(this);};this.GetNodeValue=function(){var Result=$lt5.$new();Result.$assign(this.FCondition.GetNodeValue());if(!(Result.resValue==false)){Result.$assign(this.FLeft.GetNodeValue())}
else Result.$assign(this.FRight.GetNodeValue());return Result;};this.Check=function(){$lt7.Check.call(this);if(this.FCondition.NodeType()!==0)$impl.RaiseParserError$1(rtl.getResStr($mod,"SErrIFNeedsBoolean"),$lp1(18,this.FCondition.AsString()));this.CheckSameNodeTypes();};this.NodeType=function(){var Result=0;Result=this.FLeft.NodeType();return Result;};this.Create$2=function(ACondition,ALeft,ARight){$lt7.Create$1.call(this,ALeft,ARight);this.FCondition=ACondition;return this;};this.Destroy=function(){$lp5({p:this,get:function(){return this.p.FCondition;},set:function(v){this.p.FCondition=v;}});$lt7.Destroy.call(this);};this.AsString=function(){var Result="";Result=$lp("if(%s , %s , %s)",$lp1(18,this.FCondition.AsString(),18,this.FLeft.AsString(),18,this.FRight.AsString()));return Result;};});rtl.createClass(this,"TCaseOperation",$lt6,function(){$lt21=this;this.$init=function(){$lt6.$init.call(this);this.FArgs=[];};this.$final=function(){this.FArgs=undefined;$lt6.$final.call(this);};this.GetNodeValue=function(){var Result=$lt5.$new();var I=0;var L=0;var B=false;var RT=$lt5.$new();var RV=$lt5.$new();RT.$assign(this.FArgs[0].GetNodeValue());L=rtl.length(this.FArgs);I=2;B=false;while(!B&&(I<L)){Result.$assign(this.FArgs[I].GetNodeValue());var $tmp=RT.ResultType;if($tmp===0){B=RT.resValue==RV.resValue}
else if($tmp===1){B=RT.resValue==RV.resValue}
else if($tmp===2){B=RT.resValue==RV.resValue}
else if($tmp===5){B=RT.resValue==RV.resValue}
else if($tmp===3){B=RT.resValue==RV.resValue}
else if($tmp===4)B=RT.resValue==RV.resValue;if(!B)I+=2;};Result.ResultType=this.FArgs[1].NodeType();if(B){Result.$assign(this.FArgs[I+1].GetNodeValue())}
else if((L%2)===0)Result.$assign(this.FArgs[1].GetNodeValue());return Result;};this.Check=function(){var T=0;var V=0;var I=0;var N=null;if(rtl.length(this.FArgs)<3)$impl.RaiseParserError(rtl.getResStr($mod,"SErrCaseNeeds3"));if((rtl.length(this.FArgs)%2)===1)$impl.RaiseParserError(rtl.getResStr($mod,"SErrCaseEvenCount"));T=this.FArgs[0].NodeType();V=this.FArgs[1].NodeType();for(var $l=2,$end=rtl.length(this.FArgs)-1;$l<=$end;$l++){I=$l;N=this.FArgs[I];if((I%2)===0){if(!$lt41.isPrototypeOf(N))$impl.RaiseParserError$1(rtl.getResStr($mod,"SErrCaseLabelNotAConst"),$lp1(0,rtl.trunc(I/2),18,N.AsString()));if(N.NodeType()!==T)$impl.RaiseParserError$1(rtl.getResStr($mod,"SErrCaseLabelType"),$lp1(0,rtl.trunc(I/2),18,N.AsString(),18,$mod.ResultTypeName(T),18,$mod.ResultTypeName(N.NodeType())));}else{if(N.NodeType()!==V)$impl.RaiseParserError$1(rtl.getResStr($mod,"SErrCaseValueType"),$lp1(0,rtl.trunc((I-1)/2),18,N.AsString(),18,$mod.ResultTypeName(V),18,$mod.ResultTypeName(N.NodeType())));};};};this.NodeType=function(){var Result=0;Result=this.FArgs[1].NodeType();return Result;};this.Create$1=function(Args){this.FArgs=rtl.arrayRef(Args);return this;};this.Destroy=function(){var I=0;for(var $l=0,$end=rtl.length(this.FArgs)-1;$l<=$end;$l++){I=$l;$lp5({a:I,p:this.FArgs,get:function(){return this.p[this.a];},set:function(v){this.p[this.a]=v;}});};$lt60.Destroy.call(this);};this.AsString=function(){var Result="";var I=0;Result="";for(var $l=0,$end=rtl.length(this.FArgs)-1;$l<=$end;$l++){I=$l;if(Result!=="")Result=Result+", ";Result=Result+this.FArgs[I].AsString();};Result="Case("+Result+")";return Result;};});rtl.createClass(this,"TMathOperation",$lt7,function(){$lt22=this;var AllowedTypes=rtl.createSet(1,2,5,3,4);this.Check=function(){$lt7.Check.call(this);this.CheckNodeType(this.FLeft,AllowedTypes);this.CheckNodeType(this.FRight,AllowedTypes);this.CheckSameNodeTypes();};this.NodeType=function(){var Result=0;Result=this.FLeft.NodeType();return Result;};});rtl.createClass(this,"TFPAddOperation",$lt22,function(){$lt23=this;this.GetNodeValue=function(){var Result=$lt5.$new();var RRes=$lt5.$new();Result.$assign(this.FLeft.GetNodeValue());RRes.$assign(this.FRight.GetNodeValue());var $tmp=Result.ResultType;if($tmp===1){Result.resValue=rtl.trunc(Result.resValue)+rtl.trunc(RRes.resValue)}
else if($tmp===4){Result.resValue=""+Result.resValue+(""+RRes.resValue)}
else if($tmp===3){Result.resValue=rtl.getNumber(Result.resValue)+rtl.getNumber(RRes.resValue)}
else if($tmp===2){Result.resValue=rtl.getNumber(Result.resValue)+rtl.getNumber(RRes.resValue)}
else if($tmp===5)Result.resValue=(rtl.trunc(Result.resValue*10000)+rtl.trunc(RRes.resValue*10000))/10000;Result.ResultType=this.NodeType();return Result;};this.AsString=function(){var Result="";Result=this.FLeft.AsString()+" + "+this.FRight.AsString();return Result;};});rtl.createClass(this,"TFPSubtractOperation",$lt22,function(){$lt24=this;var AllowedTypes$1=rtl.createSet(1,2,5,3);this.Check=function(){this.CheckNodeType(this.FLeft,AllowedTypes$1);this.CheckNodeType(this.FRight,AllowedTypes$1);$lt22.Check.call(this);};this.GetNodeValue=function(){var Result=$lt5.$new();var RRes=$lt5.$new();Result.$assign(this.FLeft.GetNodeValue());RRes.$assign(this.FRight.GetNodeValue());var $tmp=Result.ResultType;if($tmp===1){Result.resValue=rtl.trunc(Result.resValue)-rtl.trunc(RRes.resValue)}
else if($tmp===3){Result.resValue=rtl.getNumber(Result.resValue)-rtl.getNumber(RRes.resValue)}
else if($tmp===2){Result.resValue=rtl.getNumber(Result.resValue)-rtl.getNumber(RRes.resValue)}
else if($tmp===5)Result.resValue=(rtl.trunc(Result.resValue*10000)-rtl.trunc(RRes.resValue*10000))/10000;return Result;};this.AsString=function(){var Result="";Result=this.FLeft.AsString()+" - "+this.FRight.AsString();return Result;};});rtl.createClass(this,"TFPMultiplyOperation",$lt22,function(){$lt25=this;var AllowedTypes$1=rtl.createSet(1,5,2);this.Check=function(){this.CheckNodeType(this.FLeft,AllowedTypes$1);this.CheckNodeType(this.FRight,AllowedTypes$1);$lt22.Check.call(this);};this.AsString=function(){var Result="";Result=this.FLeft.AsString()+" * "+this.FRight.AsString();return Result;};this.GetNodeValue=function(){var Result=$lt5.$new();var RRes=$lt5.$new();Result.$assign(this.FLeft.GetNodeValue());RRes.$assign(this.FRight.GetNodeValue());var $tmp=Result.ResultType;if($tmp===1){Result.resValue=rtl.trunc(Result.resValue)*rtl.trunc(RRes.resValue)}
else if($tmp===2){Result.resValue=rtl.getNumber(Result.resValue)*rtl.getNumber(RRes.resValue)}
else if($tmp===5)Result.resValue=((rtl.trunc(Result.resValue*10000)*rtl.trunc(RRes.resValue*10000))/10000)/10000;return Result;};});rtl.createClass(this,"TFPDivideOperation",$lt22,function(){$lt26=this;var AllowedTypes$1=rtl.createSet(1,5,2);this.Check=function(){this.CheckNodeType(this.FLeft,AllowedTypes$1);this.CheckNodeType(this.FRight,AllowedTypes$1);$lt22.Check.call(this);};this.AsString=function(){var Result="";Result=this.FLeft.AsString()+" \/ "+this.FRight.AsString();return Result;};this.NodeType=function(){var Result=0;if((this.FLeft.NodeType()===5)&&(this.FRight.NodeType()===5)){Result=5}
else Result=2;return Result;};this.GetNodeValue=function(){var Result=$lt5.$new();var RRes=$lt5.$new();Result.$assign(this.FLeft.GetNodeValue());RRes.$assign(this.FRight.GetNodeValue());var $tmp=Result.ResultType;if($tmp===1){Result.resValue=rtl.trunc(Result.resValue)/rtl.trunc(RRes.resValue)}
else if($tmp===2){Result.resValue=rtl.getNumber(Result.resValue)/rtl.getNumber(RRes.resValue)}
else if($tmp===5)if(this.NodeType()===5){Result.resValue=rtl.trunc((rtl.trunc(Result.resValue*10000)/rtl.trunc(RRes.resValue*10000))*10000)/10000}
else Result.resValue=rtl.getNumber(Result.resValue)/rtl.getNumber(RRes.resValue);Result.ResultType=this.NodeType();return Result;};});rtl.createClass(this,"TFPModuloOperation",$lt22,function(){$lt27=this;this.Check=function(){this.CheckNodeType(this.FLeft,rtl.createSet(1));this.CheckNodeType(this.FRight,rtl.createSet(1));$lt22.Check.call(this);};this.AsString=function(){var Result="";Result=this.FLeft.AsString()+" mod "+this.FRight.AsString();return Result;};this.NodeType=function(){var Result=0;Result=1;return Result;};this.GetNodeValue=function(){var Result=$lt5.$new();var RRes=$lt5.$new();Result.$assign(this.FLeft.GetNodeValue());RRes.$assign(this.FRight.GetNodeValue());Result.resValue=rtl.trunc(Result.resValue)%rtl.trunc(RRes.resValue);Result.ResultType=1;return Result;};});rtl.createClass(this,"TFPPowerOperation",$lt22,function(){$lt28=this;var AllowedTypes$1=rtl.createSet(1,5,2);this.Check=function(){this.CheckNodeType(this.FLeft,AllowedTypes$1);this.CheckNodeType(this.FRight,AllowedTypes$1);};this.AsString=function(){var Result="";Result=this.FLeft.AsString()+"^"+this.FRight.AsString();return Result;};this.NodeType=function(){var Result=0;Result=2;return Result;};this.GetNodeValue=function(){var Result=$lt5.$new();var RRes=$lt5.$new();Result.$assign(this.FLeft.GetNodeValue());RRes.$assign(this.FRight.GetNodeValue());Result.resValue=$impl.power($mod.ArgToFloat($lt5.$clone(Result)),$mod.ArgToFloat($lt5.$clone(RRes)));Result.ResultType=2;return Result;};});rtl.createClass(this,"TFPUnaryOperator",$lt6,function(){$lt29=this;this.$init=function(){$lt6.$init.call(this);this.FOperand=null;};this.$final=function(){this.FOperand=undefined;$lt6.$final.call(this);};this.Create$1=function(AOperand){this.FOperand=AOperand;return this;};this.Destroy=function(){$lp5({p:this,get:function(){return this.p.FOperand;},set:function(v){this.p.FOperand=v;}});$lt60.Destroy.call(this);};this.Check=function(){if(!(this.FOperand!=null))$impl.RaiseParserError$1(rtl.getResStr($mod,"SErrNoOperand"),$lp1(18,this.$classname));};});rtl.createClass(this,"TFPConvertNode",$lt29,function(){$lt30=this;this.AsString=function(){var Result="";Result=this.FOperand.AsString();return Result;};});rtl.createClass(this,"TFPNotNode",$lt29,function(){$lt31=this;this.Check=function(){if(!(this.FOperand.NodeType()in rtl.createSet(1,0)))$impl.RaiseParserError$1(rtl.getResStr($mod,"SErrNoNOTOperation"),$lp1(18,$mod.ResultTypeName(this.FOperand.NodeType()),18,this.FOperand.AsString()));};this.NodeType=function(){var Result=0;Result=this.FOperand.NodeType();return Result;};this.GetNodeValue=function(){var Result=$lt5.$new();Result.$assign(this.FOperand.GetNodeValue());var $tmp=Result.ResultType;if($tmp===1){Result.resValue=!Result.resValue}
else if($tmp===0)Result.resValue=!Result.resValue;return Result;};this.AsString=function(){var Result="";Result="not "+this.FOperand.AsString();return Result;};});rtl.createClass(this,"TIntConvertNode",$lt30,function(){$lt32=this;this.Check=function(){$lt29.Check.call(this);this.CheckNodeType(this.FOperand,rtl.createSet(1));};});rtl.createClass(this,"TIntToFloatNode",$lt32,function(){$lt33=this;this.NodeType=function(){var Result=0;Result=2;return Result;};this.GetNodeValue=function(){var Result=$lt5.$new();Result.$assign(this.FOperand.GetNodeValue());Result.resValue=Result.resValue;Result.ResultType=2;return Result;};});rtl.createClass(this,"TIntToCurrencyNode",$lt32,function(){$lt34=this;this.NodeType=function(){var Result=0;Result=5;return Result;};this.GetNodeValue=function(){var Result=$lt5.$new();Result.$assign(this.FOperand.GetNodeValue());Result.resValue=Result.resValue;Result.ResultType=5;return Result;};});rtl.createClass(this,"TIntToDateTimeNode",$lt32,function(){$lt35=this;this.NodeType=function(){var Result=0;Result=3;return Result;};this.GetNodeValue=function(){var Result=$lt5.$new();Result.$assign(this.FOperand.GetNodeValue());Result.ResultType=3;return Result;};});rtl.createClass(this,"TFloatToDateTimeNode",$lt30,function(){$lt36=this;this.Check=function(){$lt29.Check.call(this);this.CheckNodeType(this.FOperand,rtl.createSet(2));};this.NodeType=function(){var Result=0;Result=3;return Result;};this.GetNodeValue=function(){var Result=$lt5.$new();Result.$assign(this.FOperand.GetNodeValue());Result.ResultType=3;return Result;};});rtl.createClass(this,"TFloatToCurrencyNode",$lt30,function(){$lt37=this;this.Check=function(){this.CheckNodeType(this.FOperand,rtl.createSet(2));};this.NodeType=function(){var Result=0;Result=5;return Result;};this.GetNodeValue=function(){var Result=$lt5.$new();Result.$assign(this.FOperand.GetNodeValue());Result.ResultType=5;Result.resValue=Result.resValue;return Result;};});rtl.createClass(this,"TCurrencyToDateTimeNode",$lt30,function(){$lt38=this;this.Check=function(){$lt29.Check.call(this);this.CheckNodeType(this.FOperand,rtl.createSet(5));};this.NodeType=function(){var Result=0;Result=3;return Result;};this.GetNodeValue=function(){var Result=$lt5.$new();var R=$lt5.$new();R.$assign(this.FOperand.GetNodeValue());Result.resValue=rtl.trunc(R.resValue*10000)/10000;Result.ResultType=3;return Result;};});rtl.createClass(this,"TCurrencyToFloatNode",$lt30,function(){$lt39=this;this.Check=function(){$lt29.Check.call(this);this.CheckNodeType(this.FOperand,rtl.createSet(5));};this.NodeType=function(){var Result=0;Result=2;return Result;};this.GetNodeValue=function(){var Result=$lt5.$new();Result.$assign(this.FOperand.GetNodeValue());Result.resValue=rtl.trunc(Result.resValue*10000)/10000;Result.ResultType=2;return Result;};});rtl.createClass(this,"TFPNegateOperation",$lt29,function(){$lt40=this;this.Check=function(){$lt29.Check.call(this);if(!(this.FOperand.NodeType()in rtl.createSet(1,2,5)))$impl.RaiseParserError$1(rtl.getResStr($mod,"SErrNoNegation"),$lp1(18,$mod.ResultTypeName(this.FOperand.NodeType()),18,this.FOperand.AsString()));};this.NodeType=function(){var Result=0;Result=this.FOperand.NodeType();return Result;};this.GetNodeValue=function(){var Result=$lt5.$new();Result.$assign(this.FOperand.GetNodeValue());var $tmp=Result.ResultType;if($tmp===1){Result.resValue=-rtl.trunc(Result.resValue)}
else if($tmp===2){Result.resValue=-rtl.getNumber(Result.resValue)}
else if($tmp===5)Result.resValue=-rtl.trunc(Result.resValue*10000)/10000;return Result;};this.AsString=function(){var Result="";Result="-"+$lp6(this.FOperand.AsString());return Result;};});rtl.createClass(this,"TFPConstExpression",$lt6,function(){$lt41=this;this.$init=function(){$lt6.$init.call(this);this.FValue=$lt5.$new();};this.$final=function(){this.FValue=undefined;$lt6.$final.call(this);};this.CreateString=function(AValue){this.FValue.ResultType=4;this.FValue.resValue=AValue;return this;};this.CreateInteger=function(AValue){this.FValue.ResultType=1;this.FValue.resValue=AValue;return this;};this.CreateFloat=function(AValue){$lt60.Create.call(this);this.FValue.ResultType=2;this.FValue.resValue=AValue;return this;};this.CreateBoolean=function(AValue){this.FValue.ResultType=0;this.FValue.resValue=AValue;return this;};this.Check=function(){};this.NodeType=function(){var Result=0;Result=this.FValue.ResultType;return Result;};this.GetNodeValue=function(){var Result=$lt5.$new();Result.$assign(this.FValue);return Result;};this.AsString=function(){var Result="";var $tmp=this.NodeType();if($tmp===4){Result="'"+(""+this.FValue.resValue)+"'"}
else if($tmp===1){Result=$lp7(rtl.trunc(this.FValue.resValue))}
else if($tmp===3){Result="'"+$lp8("cccc",rtl.getNumber(this.FValue.resValue))+"'"}
else if($tmp===0){if(!(this.FValue.resValue==false)){Result="True"}
else Result="False"}
else if($tmp===2){Result=rtl.floatToStr(rtl.getNumber(this.FValue.resValue))}
else if($tmp===5)Result=rtl.floatToStr(rtl.trunc(this.FValue.resValue*10000)/10000);return Result;};});$lt42=this.TIdentifierType={"0":"itVariable",itVariable:0,"1":"itFunctionHandler",itFunctionHandler:1,"2":"itFunctionNode",itFunctionNode:2};this.$rtti.$Enum("TIdentifierType",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TIdentifierType});this.$rtti.$RefToProcVar("TFPExprFunctionEvent",{procsig:rtl.newTIProcSig([["Args",this.$rtti["TExprParameterArray"],2]],this.$rtti["TFPExpressionResult"])});this.$rtti.$RefToProcVar("TFPExprVariableEvent",{procsig:rtl.newTIProcSig([["AName",rtl.string,2]],this.$rtti["TFPExpressionResult"])});rtl.createClass(this,"TFPExprIdentifierDef",$lt62,function(){$lt43=this;this.$init=function(){$lt62.$init.call(this);this.FNodeType=null;this.FOnGetVarValue=null;this.FStringValue="";this.FValue=$lt5.$new();this.FArgumentTypes="";this.FIDType=0;this.FName="";this.FOnGetValue=null;};this.$final=function(){this.FNodeType=undefined;this.FOnGetVarValue=undefined;this.FValue=undefined;this.FOnGetValue=undefined;$lt62.$final.call(this);};this.GetResultType=function(){var Result=0;Result=this.FValue.ResultType;return Result;};this.GetValue=function(){var Result="";var $tmp=this.FValue.ResultType;if($tmp===0){if(this.FValue.resValue){Result="True"}
else Result="False"}
else if($tmp===1){Result=$lp7(rtl.trunc(this.FValue.resValue))}
else if($tmp===2){Result=$lp9(rtl.getNumber(this.FValue.resValue))}
else if($tmp===5){Result=$lp10(rtl.trunc(this.FValue.resValue*10000))}
else if($tmp===3){Result=$lp8("cccc",rtl.getNumber(this.FValue.resValue))}
else if($tmp===4)Result=""+this.FValue.resValue;return Result;};this.SetArgumentTypes=function(AValue){var I=0;if(this.FArgumentTypes===AValue)return;for(var $l=1,$end=AValue.length;$l<=$end;$l++){I=$l;$mod.CharToResultType(AValue.charAt(I-1));};this.FArgumentTypes=AValue;};this.SetName=function(AValue){if(this.FName===AValue)return;if(AValue!=="")if((this.FCollection!=null)&&(this.FCollection.IndexOfIdentifier(AValue)!==-1))$impl.RaiseParserError$1(rtl.getResStr($mod,"SErrDuplicateIdentifier"),$lp1(18,AValue));this.FName=AValue;};this.SetResultType=function(AValue){if(AValue!==this.FValue.ResultType){this.FValue.ResultType=AValue;this.SetValue(this.FStringValue);};};this.SetValue=function(AValue){this.FStringValue=AValue;if(AValue!==""){var $tmp=this.FValue.ResultType;if($tmp===0){this.FValue.resValue=this.FStringValue==="True"}
else if($tmp===1){this.FValue.resValue=$lp11(AValue)}
else if($tmp===2){this.FValue.resValue=$lp12(AValue)}
else if($tmp===5){this.FValue.resValue=$lp13(AValue)/10000}
else if($tmp===3){this.FValue.resValue=$lp14(AValue)}
else if($tmp===4)this.FValue.resValue=AValue;}else{var $tmp1=this.FValue.ResultType;if($tmp1===0){this.FValue.resValue=false}
else if($tmp1===1){this.FValue.resValue=0}
else if($tmp1===2){this.FValue.resValue=0.0}
else if($tmp1===5){this.FValue.resValue=0.0}
else if($tmp1===3){this.FValue.resValue=0}
else if($tmp1===4)this.FValue.resValue="";};};this.FetchValue=function(){var RT=0;var RT2=0;var I=0;RT=this.GetResultType();if(this.FOnGetVarValue!=null)this.FValue.$assign(this.FOnGetVarValue(this.FName));RT2=this.FValue.ResultType;if(RT2!==RT){if((RT2===1)&&(RT===2)){this.FValue.ResultType=RT;I=rtl.trunc(this.FValue.resValue);this.FValue.resValue=I;}else{this.FValue.ResultType=RT;throw $lt59.$create("CreateFmt",['Value handler for variable %s returned wrong type, expected "%s", got "%s"',$lp1(18,this.FName,18,$lp15($mod.$rtti["TResultType"],RT),18,$lp15($mod.$rtti["TResultType"],RT2))]);};};};this.ArgumentCount=function(){var Result=0;Result=this.FArgumentTypes.length;return Result;};this.Assign=function(Source){var EID=null;if($lt43.isPrototypeOf(Source)){EID=rtl.as(Source,$lt43);this.FStringValue=EID.FStringValue;this.FValue.$assign(EID.FValue);this.FArgumentTypes=EID.FArgumentTypes;this.FIDType=EID.FIDType;this.FName=EID.FName;this.FOnGetValue=EID.FOnGetValue;this.FOnGetVarValue=EID.FOnGetVarValue;}else $lt63.Assign.call(this,Source);};this.EventBasedVariable=function(){var Result=false;Result=this.FOnGetVarValue!=null;return Result;};var $r=this.$rtti;$r.addProperty("IdentifierType",0,$mod.$rtti["TIdentifierType"],"FIDType","FIDType");$r.addProperty("Name",2,rtl.string,"FName","SetName");$r.addProperty("Value",3,rtl.string,"GetValue","SetValue");$r.addProperty("ParameterTypes",2,rtl.string,"FArgumentTypes","SetArgumentTypes");$r.addProperty("ResultType",3,$mod.$rtti["TResultType"],"GetResultType","SetResultType");$r.addProperty("OnGetFunctionValue",0,$mod.$rtti["TFPExprFunctionEvent"],"FOnGetValue","FOnGetValue");$r.addProperty("OnGetVariableValue",0,$mod.$rtti["TFPExprVariableEvent"],"FOnGetVarValue","FOnGetVarValue");$r.addProperty("NodeType",0,$mod.$rtti["TFPExprFunctionClass"],"FNodeType","FNodeType");});$lt44=this.TBuiltInCategory={"0":"bcStrings",bcStrings:0,"1":"bcDateTime",bcDateTime:1,"2":"bcMath",bcMath:2,"3":"bcBoolean",bcBoolean:3,"4":"bcConversion",bcConversion:4,"5":"bcData",bcData:5,"6":"bcVaria",bcVaria:6,"7":"bcUser",bcUser:7,"8":"bcAggregate",bcAggregate:8};this.$rtti.$Enum("TBuiltInCategory",{minvalue:0,maxvalue:8,ordtype:1,enumtype:this.TBuiltInCategory});this.$rtti.$Set("TBuiltInCategories",{comptype:this.$rtti["TBuiltInCategory"]});rtl.createClass(this,"TFPBuiltInExprIdentifierDef",$lt43,function(){$lt45=this;this.$init=function(){$lt43.$init.call(this);this.FCategory=0;};this.Assign=function(Source){$lt43.Assign.call(this,Source);if($lt45.isPrototypeOf(Source))this.FCategory=rtl.as(Source,$lt45).FCategory;};var $r=this.$rtti;$r.addProperty("Category",0,$mod.$rtti["TBuiltInCategory"],"FCategory","FCategory");});rtl.createClass(this,"TFPExprIdentifierDefs",$lt64,function(){$lt46=this;this.$init=function(){$lt64.$init.call(this);this.FParser=null;};this.$final=function(){this.FParser=undefined;$lt64.$final.call(this);};this.GetI=function(AIndex){var Result=null;Result=this.GetItem(AIndex);return Result;};this.Update=function(Item){$lt64.Update.call(this,Item);if(this.FParser!=null)this.FParser.FDirty=true;};this.IndexOfIdentifier=function(AName){var Result=0;Result=this.GetCount()-1;while((Result>=0)&&($lp16(this.GetI(Result).FName,AName)!==0))Result-=1;return Result;};this.AddVariable=function(AName,AResultType,ACallback){var Result=null;Result=rtl.as(this.Add(),$lt43);Result.FIDType=0;Result.SetName(AName);Result.SetResultType(AResultType);Result.FOnGetVarValue=ACallback;return Result;};this.AddFloatVariable=function(AName,AValue){var Result=null;Result=rtl.as(this.Add(),$lt43);Result.FIDType=0;Result.SetName(AName);Result.SetResultType(2);Result.FValue.resValue=AValue;return Result;};this.AddFunction=function(AName,AResultType,AParamTypes,ACallBack){var Result=null;Result=rtl.as(this.Add(),$lt43);Result.SetName(AName);Result.FIDType=1;Result.SetArgumentTypes(AParamTypes);Result.SetResultType($mod.CharToResultType(AResultType));Result.FOnGetValue=ACallBack;return Result;};this.AddFunction$1=function(AName,AResultType,AParamTypes,ANodeClass){var Result=null;Result=rtl.as(this.Add(),$lt43);Result.SetName(AName);Result.FIDType=2;Result.SetArgumentTypes(AParamTypes);Result.SetResultType($mod.CharToResultType(AResultType));Result.FNodeType=ANodeClass;return Result;};});rtl.createClass(this,"TFPExprIdentifierNode",$lt6,function(){$lt47=this;this.$init=function(){$lt6.$init.call(this);this.FID=null;this.PResult=null;this.FResultType=0;};this.$final=function(){this.FID=undefined;$lt6.$final.call(this);};this.CreateIdentifier=function(AID){$lt60.Create.call(this);this.FID=AID;this.PResult=this.FID.FValue;this.FResultType=this.FID.GetResultType();return this;};this.NodeType=function(){var Result=0;Result=this.FResultType;return Result;};this.GetNodeValue=function(){var Result=$lt5.$new();if(this.FID.EventBasedVariable()){this.FID.FetchValue();this.PResult=this.FID.FValue;};Result.$assign(this.PResult);Result.ResultType=this.FResultType;return Result;};});rtl.createClass(this,"TFPExprVariable",$lt47,function(){$lt48=this;this.Check=function(){};this.AsString=function(){var Result="";Result=this.FID.FName;return Result;};});rtl.createClass(this,"TFPExprFunction",$lt47,function(){$lt49=this;this.$init=function(){$lt47.$init.call(this);this.FArgumentNodes=[];this.FargumentParams=[];};this.$final=function(){this.FArgumentNodes=undefined;this.FargumentParams=undefined;$lt47.$final.call(this);};this.CalcParams=function(){var I=0;for(var $l=0,$end=rtl.length(this.FargumentParams)-1;$l<=$end;$l++){I=$l;this.FargumentParams[I].$assign(this.FArgumentNodes[I].GetNodeValue());};};this.ConvertArgument=function(aIndex,aNode,aType){var Result=null;var N=null;N=$lt57.ConvertNode(aNode,aType);if(aNode===N)$impl.RaiseParserError$1(rtl.getResStr($mod,"SErrInvalidArgumentType"),$lp1(0,aIndex,18,$mod.ResultTypeName(aType),18,$mod.ResultTypeName(aNode.NodeType())));Result=N;return Result;};this.Check=function(){var I=0;var rtp=0;var rta=0;if(rtl.length(this.FArgumentNodes)!==this.FID.ArgumentCount())$impl.RaiseParserError$1(rtl.getResStr($mod,"ErrInvalidArgumentCount"),$lp1(18,this.FID.FName));for(var $l=0,$end=rtl.length(this.FArgumentNodes)-1;$l<=$end;$l++){I=$l;rtp=$mod.CharToResultType(this.FID.FArgumentTypes.charAt((I+1)-1));rta=this.FArgumentNodes[I].NodeType();if(rtp!==rta)this.FArgumentNodes[I]=this.ConvertArgument(I+1,this.FArgumentNodes[I],rtp);};};this.CreateFunction=function(AID,Args){$lt47.CreateIdentifier.call(this,AID);this.FArgumentNodes=rtl.arrayRef(Args);this.FargumentParams=rtl.arraySetLength(this.FargumentParams,$lt5,rtl.length(Args));return this;};this.Destroy=function(){var I=0;for(var $l=0,$end=rtl.length(this.FArgumentNodes)-1;$l<=$end;$l++){I=$l;$lp5({a:I,p:this.FArgumentNodes,get:function(){return this.p[this.a];},set:function(v){this.p[this.a]=v;}});};$lt60.Destroy.call(this);};this.AsString=function(){var Result="";var S="";var I=0;S="";for(var $l=0,$end=rtl.length(this.FArgumentNodes)-1;$l<=$end;$l++){I=$l;if(S!=="")S=S+",";S=S+this.FArgumentNodes[I].AsString();};if(S!=="")S="("+S+")";Result=this.FID.FName+S;return Result;};});rtl.createClass(this,"TAggregateExpr",$lt49,function(){$lt50=this;this.$init=function(){$lt49.$init.call(this);this.FResult=$lt5.$new();};this.$final=function(){this.FResult=undefined;$lt49.$final.call(this);};this.GetNodeValue=function(){var Result=$lt5.$new();Result.$assign(this.FResult);return Result;};});rtl.createClass(this,"TAggregateMin",$lt50,function(){$lt51=this;});rtl.createClass(this,"TAggregateMax",$lt50,function(){$lt52=this;});rtl.createClass(this,"TAggregateSum",$lt50,function(){$lt53=this;this.ConvertArgument=function(aIndex,aNode,aType){var Result=null;if(!(aNode.NodeType()in rtl.createSet(2,1,5)))$impl.RaiseParserError$1(rtl.getResStr($mod,"SErrInvalidArgumentType"),$lp1(0,aIndex,18,$mod.ResultTypeName(aType),18,$mod.ResultTypeName(aNode.NodeType())));Result=aNode;return Result;};});rtl.createClass(this,"TAggregateAvg",$lt53,function(){$lt54=this;this.$init=function(){$lt53.$init.call(this);this.FCount=0;};this.GetNodeValue=function(){var Result=$lt5.$new();Result.$assign($lt50.GetNodeValue.call(this));Result.ResultType=this.FResult.ResultType;if(this.FCount===0){var $tmp=this.FResult.ResultType;if($tmp===1){Result.ResultType=2;Result.resValue=0.0;}else if($tmp===2){Result.resValue=0.0}
else if($tmp===5)Result.resValue=0.0;}else{var $tmp1=this.FResult.ResultType;if($tmp1===1){Result.ResultType=2;Result.resValue=rtl.trunc(this.FResult.resValue)/this.FCount;}else if($tmp1===2){Result.resValue=rtl.getNumber(this.FResult.resValue)/this.FCount}
else if($tmp1===5)Result.resValue=rtl.trunc(rtl.trunc(this.FResult.resValue*10000)/this.FCount)/10000;};return Result;};});rtl.createClass(this,"TAggregateCount",$lt50,function(){$lt55=this;});rtl.createClass(this,"TFPFunctionEventHandler",$lt49,function(){$lt56=this;this.$init=function(){$lt49.$init.call(this);this.FCallBack=null;};this.$final=function(){this.FCallBack=undefined;$lt49.$final.call(this);};this.CreateFunction=function(AID,Args){$lt49.CreateFunction.apply(this,arguments);this.FCallBack=AID.FOnGetValue;return this;};this.GetNodeValue=function(){var Result=$lt5.$new();if(rtl.length(this.FargumentParams)>0)this.CalcParams();Result.$assign(this.FCallBack(this.FargumentParams));Result.ResultType=this.NodeType();return Result;};});rtl.createClass(this,"TFPExpressionParser",$lt65,function(){$lt57=this;this.$init=function(){$lt65.$init.call(this);this.FBuiltIns={};this.FExpression="";this.FScanner=null;this.FExprNode=null;this.FIdentifiers=null;this.FHashList=null;this.FDirty=false;};this.$final=function(){this.FBuiltIns=undefined;this.FScanner=undefined;this.FExprNode=undefined;this.FIdentifiers=undefined;this.FHashList=undefined;$lt65.$final.call(this);};this.CheckEOF=function(){if(this.TokenType()===26)this.ParserError(rtl.getResStr($mod,"SErrUnexpectedEndOfExpression"));};this.GetAsBoolean=function(){var Result=false;var Res=$lt5.$new();this.EvaluateExpression(Res);this.CheckResultType(Res,0);Result=!(Res.resValue==false);return Result;};this.MatchNodes=function(Todo,Match){var Result=null;var FromType=0;var ToType=0;Result=Todo;FromType=Todo.NodeType();ToType=Match.NodeType();if(FromType!==ToType){var $tmp=FromType;if($tmp===1){if(ToType in rtl.createSet(2,5,3))Result=this.$class.ConvertNode(Todo,ToType)}
else if($tmp===2){if(ToType in rtl.createSet(5,3))Result=this.$class.ConvertNode(Todo,ToType)}
else if($tmp===5)if(ToType in rtl.createSet(2,3))Result=this.$class.ConvertNode(Todo,ToType);};return Result;};this.CheckNodes=function(Left,Right){Left.set(this.MatchNodes(Left.get(),Right.get()));Right.set(this.MatchNodes(Right.get(),Left.get()));};this.SetBuiltIns=function(AValue){if(rtl.eqSet(this.FBuiltIns,AValue))return;this.FBuiltIns=rtl.refSet(AValue);this.FDirty=true;};this.SetIdentifiers=function(AValue){this.FIdentifiers.Assign(AValue);};this.ParserError=function(Msg){throw $lt59.$create("Create$1",[Msg]);};this.SetExpression=function(AValue){if(this.FExpression===AValue)return;this.FExpression=AValue;this.FScanner.SetSource(AValue);if(this.FExprNode!=null)$lp5({p:this,get:function(){return this.p.FExprNode;},set:function(v){this.p.FExprNode=v;}});if(this.FExpression!==""){this.GetToken();this.FExprNode=this.Level1();if(this.TokenType()!==26)this.ParserError($lp(rtl.getResStr($mod,"SErrUnterminatedExpression"),$lp1(0,this.FScanner.FPos,18,this.CurrentToken())));this.FExprNode.Check();}else this.FExprNode=null;};this.CheckResultType=function(Res,AType){if(Res.ResultType!==AType)$impl.RaiseParserError$1(rtl.getResStr($mod,"SErrInvalidResultType"),$lp1(18,$mod.ResultTypeName(Res.ResultType)));};this.ConvertNode=function(Todo,ToType){var Result=null;Result=Todo;var $tmp=Todo.NodeType();if($tmp===1){var $tmp1=ToType;if($tmp1===2){Result=$lt33.$create("Create$1",[Result])}
else if($tmp1===5){Result=$lt34.$create("Create$1",[Result])}
else if($tmp1===3)Result=$lt35.$create("Create$1",[Result]);}else if($tmp===2){var $tmp2=ToType;if($tmp2===5){Result=$lt37.$create("Create$1",[Result])}
else if($tmp2===3)Result=$lt36.$create("Create$1",[Result]);}else if($tmp===5){var $tmp3=ToType;if($tmp3===2){Result=$lt39.$create("Create$1",[Result])}
else if($tmp3===3)Result=$lt38.$create("Create$1",[Result]);};return Result;};this.BuiltinsManager=function(){var Result=null;Result=$mod.BuiltinIdentifiers();return Result;};this.Level1=function(){var Result=null;var tt=0;var Right=null;if(this.TokenType()===22){this.GetToken();this.CheckEOF();Right=this.Level2();Result=$lt31.$create("Create$1",[Right]);}else Result=this.Level2();try{while(this.TokenType()in rtl.createSet(17,18,19)){tt=this.TokenType();this.GetToken();this.CheckEOF();Right=this.Level2();var $tmp=tt;if($tmp===18){Result=$lt10.$create("Create$1",[Result,Right])}
else if($tmp===17){Result=$lt9.$create("Create$1",[Result,Right])}
else if($tmp===19){Result=$lt11.$create("Create$1",[Result,Right])}
else{this.ParserError(rtl.getResStr($mod,"SErrUnknownBooleanOp"));};};}catch($e){Result=rtl.freeLoc(Result);throw $e;};return Result;};this.Level2=function(){var Result=null;var Right=null;var tt=0;var C=null;Result=this.Level3();try{if(this.TokenType()in $mod.ttComparisons){tt=this.TokenType();this.GetToken();this.CheckEOF();Right=this.Level3();this.CheckNodes({get:function(){return Result;},set:function(v){Result=v;}},{get:function(){return Right;},set:function(v){Right=v;}});var $tmp=tt;if($tmp===2){C=$lt16}
else if($tmp===10){C=$lt18}
else if($tmp===3){C=$lt17}
else if($tmp===11){C=$lt19}
else if($tmp===4){C=$lt13}
else if($tmp===12){C=$lt14}
else{this.ParserError(rtl.getResStr($mod,"SErrUnknownComparison"));};Result=C.$create("Create$1",[Result,Right]);};}catch($e){Result=rtl.freeLoc(Result);throw $e;};return Result;};this.Level3=function(){var Result=null;var tt=0;var right=null;Result=this.Level4();try{while(this.TokenType()in rtl.createSet(0,1)){tt=this.TokenType();this.GetToken();this.CheckEOF();right=this.Level4();this.CheckNodes({get:function(){return Result;},set:function(v){Result=v;}},{get:function(){return right;},set:function(v){right=v;}});var $tmp=tt;if($tmp===0){Result=$lt23.$create("Create$1",[Result,right])}
else if($tmp===1)Result=$lt24.$create("Create$1",[Result,right]);};}catch($e){Result=rtl.freeLoc(Result);throw $e;};return Result;};this.Level4=function(){var Result=null;var tt=0;var right=null;Result=this.Level5();try{while(this.TokenType()in rtl.createSet(7,5,6)){tt=this.TokenType();this.GetToken();right=this.Level5();this.CheckNodes({get:function(){return Result;},set:function(v){Result=v;}},{get:function(){return right;},set:function(v){right=v;}});var $tmp=tt;if($tmp===7){Result=$lt25.$create("Create$1",[Result,right])}
else if($tmp===5){Result=$lt26.$create("Create$1",[Result,right])}
else if($tmp===6)Result=$lt27.$create("Create$1",[Result,right]);};}catch($e){Result=rtl.freeLoc(Result);throw $e;};return Result;};this.Level5=function(){var Result=null;var B=false;B=false;if(this.TokenType()in rtl.createSet(0,1)){B=this.TokenType()===1;this.GetToken();};Result=this.Level6();if(B)Result=$lt40.$create("Create$1",[Result]);return Result;};this.Level6=function(){var Result=null;var right=null;Result=this.Level7();try{while(this.TokenType()===25){this.GetToken();right=this.Level5();this.CheckNodes({get:function(){return Result;},set:function(v){Result=v;}},{get:function(){return right;},set:function(v){right=v;}});Result=$lt28.$create("Create$1",[Result,right]);};}catch($e){Result=rtl.freeLoc(Result);throw $e;};return Result;};this.Level7=function(){var Result=null;if(this.TokenType()===8){this.GetToken();Result=this.Level1();try{if(this.TokenType()!==9)this.ParserError($lp(rtl.getResStr($mod,"SErrBracketExpected"),$lp1(0,this.FScanner.FPos,18,this.CurrentToken())));this.GetToken();}catch($e){Result=rtl.freeLoc(Result);throw $e;};}else Result=this.Primitive();return Result;};this.Primitive=function(){var Result=null;var I=0;var C=0;var X=0.0;var ACount=0;var IFF=false;var IFC=false;var ID=null;var Args=[];var AI=0;Args=rtl.arraySetLength(Args,null,0);if(this.TokenType()===13){if($lp17(this.CurrentToken(),{get:function(){return I;},set:function(v){I=v;}})){Result=$lt41.$create("CreateInteger",[I])}
else{$lp4(this.CurrentToken(),{get:function(){return X;},set:function(v){X=v;}},{get:function(){return C;},set:function(v){C=v;}});if(C===0){Result=$lt41.$create("CreateFloat",[X])}
else this.ParserError($lp(rtl.getResStr($mod,"SErrInvalidFloat"),$lp1(18,this.CurrentToken())));};}else if(this.TokenType()===14){Result=$lt41.$create("CreateString",[this.CurrentToken()])}
else if(this.TokenType()in rtl.createSet(20,21)){Result=$lt41.$create("CreateBoolean",[this.TokenType()===20])}
else if(!(this.TokenType()in rtl.createSet(15,23,24))){this.ParserError($lp(rtl.getResStr($mod,"SerrUnknownTokenAtPos"),$lp1(0,this.FScanner.FPos,18,this.CurrentToken())))}
else{IFF=this.TokenType()===23;IFC=this.TokenType()===24;if(!(IFF||IFC)){ID=this.IdentifierByName(this.CurrentToken());if(ID===null)this.ParserError($lp(rtl.getResStr($mod,"SErrUnknownIdentifier"),$lp1(18,this.CurrentToken())));};if(IFF){ACount=3}
else if(IFC){ACount=-4}
else if(ID.FIDType in rtl.createSet(1,2)){ACount=ID.ArgumentCount()}
else ACount=0;if(ACount!==0){this.GetToken();if(this.TokenType()!==8)this.ParserError($lp(rtl.getResStr($mod,"SErrLeftBracketExpected"),$lp1(0,this.FScanner.FPos,18,this.CurrentToken())));Args=rtl.arraySetLength(Args,null,Math.abs(ACount));AI=0;try{do{this.GetToken();if((ACount<0)&&(AI===rtl.length(Args))){Args=rtl.arraySetLength(Args,null,AI+1);Args[AI]=null;};Args[AI]=this.Level1();AI+=1;if(this.TokenType()!==16)if(AI<Math.abs(ACount))this.ParserError($lp(rtl.getResStr($mod,"SErrCommaExpected"),$lp1(0,this.FScanner.FPos,18,this.CurrentToken())));}while(!((AI===ACount)||((ACount<0)&&(this.TokenType()===9))));if(this.TokenType()!==9)this.ParserError($lp(rtl.getResStr($mod,"SErrBracketExpected"),$lp1(0,this.FScanner.FPos,18,this.CurrentToken())));}catch($e){if($lt61.isPrototypeOf($e)){var E=$e;AI-=1;while(AI>=0){$lp5({a:AI,p:Args,get:function(){return this.p[this.a];},set:function(v){this.p[this.a]=v;}});AI-=1;};throw $e;}else throw $e};};if(IFF){Result=$lt20.$create("Create$2",[Args[0],Args[1],Args[2]])}
else if(IFC){Result=$lt21.$create("Create$1",[rtl.arrayRef(Args)])}
else{var $tmp=ID.FIDType;if($tmp===0){Result=$lt48.$create("CreateIdentifier",[ID])}
else if($tmp===1){Result=$lt56.$create("CreateFunction",[ID,Args])}
else if($tmp===2)Result=ID.FNodeType.$create("CreateFunction",[ID,Args]);};};this.GetToken();return Result;};this.GetToken=function(){var Result=0;Result=this.FScanner.GetToken();return Result;};this.TokenType=function(){var Result=0;Result=this.FScanner.FTokenType;return Result;};this.CurrentToken=function(){var Result="";Result=this.FScanner.FToken;return Result;};this.CreateHashList=function(){var ID=null;var BID=null;var I=0;var M=null;this.FHashList.Clear();M=this.$class.BuiltinsManager();if(rtl.neSet(this.FBuiltIns,{})&&(M!=null))for(var $l=0,$end=M.GetCount()-1;$l<=$end;$l++){I=$l;BID=M.GetI(I);if(BID.FCategory in this.FBuiltIns)this.FHashList.Add($lp2(BID.FName),BID);};for(var $l1=0,$end1=this.FIdentifiers.GetCount()-1;$l1<=$end1;$l1++){I=$l1;ID=this.FIdentifiers.GetI(I);this.FHashList.Add($lp2(ID.FName),ID);};this.FDirty=false;};this.Create$1=function(AOwner){$lt65.Create$1.call(this,AOwner);this.FIdentifiers=$lt46.$create("Create$1",[$lt43]);this.FIdentifiers.FParser=this;this.FScanner=$lt2.$create("Create$1");this.FHashList=$lt66.$create("Create$2",[false]);return this;};this.Destroy=function(){$lp5({p:this,get:function(){return this.p.FHashList;},set:function(v){this.p.FHashList=v;}});$lp5({p:this,get:function(){return this.p.FExprNode;},set:function(v){this.p.FExprNode=v;}});$lp5({p:this,get:function(){return this.p.FIdentifiers;},set:function(v){this.p.FIdentifiers=v;}});$lp5({p:this,get:function(){return this.p.FScanner;},set:function(v){this.p.FScanner=v;}});$lt65.Destroy.call(this);};this.IdentifierByName=function(AName){var Result=null;if(this.FDirty)this.CreateHashList();Result=this.FHashList.GetData($lp2(AName));return Result;};this.EvaluateExpression=function(Result){Result.$assign(this.Evaluate$1());};this.Evaluate$1=function(){var Result=$lt5.$new();if(this.FExpression==="")this.ParserError(rtl.getResStr($mod,"SErrInExpressionEmpty"));if(!(this.FExprNode!=null))this.ParserError(rtl.getResStr($mod,"SErrInExpression"));Result.$assign(this.FExprNode.GetNodeValue());return Result;};var $r=this.$rtti;$r.addProperty("Expression",2,rtl.string,"FExpression","SetExpression");$r.addProperty("Identifiers",2,$mod.$rtti["TFPExprIdentifierDefs"],"FIdentifiers","SetIdentifiers");$r.addProperty("BuiltIns",2,$mod.$rtti["TBuiltInCategories"],"FBuiltIns","SetBuiltIns");});rtl.createClass(this,"TExprBuiltInManager",$lt65,function(){$lt58=this;this.$init=function(){$lt65.$init.call(this);this.FDefs=null;};this.$final=function(){this.FDefs=undefined;$lt65.$final.call(this);};this.GetCount=function(){var Result=0;Result=this.FDefs.GetCount();return Result;};this.GetI=function(AIndex){var Result=null;Result=this.FDefs.GetI(AIndex);return Result;};this.Create$1=function(AOwner){$lt65.Create$1.call(this,AOwner);this.FDefs=$lt46.$create("Create$1",[$lt45]);return this;};this.Destroy=function(){$lp5({p:this,get:function(){return this.p.FDefs;},set:function(v){this.p.FDefs=v;}});$lt65.Destroy.call(this);};this.AddFloatVariable=function(ACategory,AName,AValue){var Result=null;Result=this.FDefs.AddFloatVariable(AName,AValue);Result.FCategory=ACategory;return Result;};this.AddFunction=function(ACategory,AName,AResultType,AParamTypes,ACallBack){var Result=null;Result=this.FDefs.AddFunction(AName,AResultType,AParamTypes,ACallBack);Result.FCategory=ACategory;return Result;};this.AddFunction$1=function(ACategory,AName,AResultType,AParamTypes,ANodeClass){var Result=null;Result=this.FDefs.AddFunction$1(AName,AResultType,AParamTypes,ANodeClass);Result.FCategory=ACategory;return Result;};});rtl.createClass(this,"EExprParser",$lt61,function(){$lt59=this;});this.AllBuiltIns=rtl.createSet(0,1,2,3,4,5,6,7,8);this.ResultTypeName=function(AResult){var Result="";Result=$lp15($mod.$rtti["TResultType"],AResult);return Result;};this.CharToResultType=function(C){var Result=0;var $tmp=$lp3(C);if($tmp==="S"){Result=4}
else if($tmp==="D"){Result=3}
else if($tmp==="B"){Result=0}
else if($tmp==="I"){Result=1}
else if($tmp==="F"){Result=2}
else if($tmp==="C"){Result=5}
else{$impl.RaiseParserError$1(rtl.getResStr($mod,"SErrInvalidResultCharacter"),$lp1(9,C));};return Result;};this.BuiltinIdentifiers=function(){var Result=null;if($impl.BuiltIns===null)$impl.BuiltIns=$lt58.$create("Create$1",[null]);Result=$impl.BuiltIns;return Result;};this.RegisterStdBuiltins=function(AManager,Categories){if(2 in Categories){AManager.AddFloatVariable(2,"pi",Math.PI);AManager.AddFunction(2,"cos","F","F",$impl.BuiltInCos);AManager.AddFunction(2,"sin","F","F",$impl.BuiltInSin);AManager.AddFunction(2,"abs","F","F",$impl.BuiltInAbs);AManager.AddFunction(2,"sqr","F","F",$impl.BuiltInSqr);AManager.AddFunction(2,"sqrt","F","F",$impl.BuiltInSqrt);AManager.AddFunction(2,"exp","F","F",$impl.BuiltInExp);AManager.AddFunction(2,"ln","F","F",$impl.BuiltInLn);AManager.AddFunction(2,"log","F","F",$impl.BuiltInLog);AManager.AddFunction(2,"frac","F","F",$impl.BuiltInFrac);AManager.AddFunction(2,"int","F","F",$impl.BuiltInInt);AManager.AddFunction(2,"round","I","F",$impl.BuiltInRound);AManager.AddFunction(2,"trunc","I","F",$impl.BuiltInTrunc);};if(0 in Categories){AManager.AddFunction(0,"length","I","S",$impl.BuiltInLength);AManager.AddFunction(0,"copy","S","SII",$impl.BuiltInCopy);AManager.AddFunction(0,"delete","S","SII",$impl.BuiltInDelete);AManager.AddFunction(0,"pos","I","SS",$impl.BuiltInPos);AManager.AddFunction(0,"lowercase","S","S",$impl.BuiltInLowercase);AManager.AddFunction(0,"uppercase","S","S",$impl.BuiltInUppercase);AManager.AddFunction(0,"stringreplace","S","SSSBB",$impl.BuiltInStringReplace);AManager.AddFunction(0,"comparetext","I","SS",$impl.BuiltInCompareText);};if(1 in Categories){AManager.AddFunction(1,"date","D","",$impl.BuiltInDate);AManager.AddFunction(1,"time","D","",$impl.BuiltInTime);AManager.AddFunction(1,"now","D","",$impl.BuiltInNow);AManager.AddFunction(1,"dayofweek","I","D",$impl.BuiltInDayofWeek);AManager.AddFunction(1,"extractyear","I","D",$impl.BuiltInExtractYear);AManager.AddFunction(1,"extractmonth","I","D",$impl.BuiltInExtractMonth);AManager.AddFunction(1,"extractday","I","D",$impl.BuiltInExtractDay);AManager.AddFunction(1,"extracthour","I","D",$impl.BuiltInExtractHour);AManager.AddFunction(1,"extractmin","I","D",$impl.BuiltInExtractMin);AManager.AddFunction(1,"extractsec","I","D",$impl.BuiltInExtractSec);AManager.AddFunction(1,"extractmsec","I","D",$impl.BuiltInExtractMSec);AManager.AddFunction(1,"encodedate","D","III",$impl.BuiltInEncodedate);AManager.AddFunction(1,"encodetime","D","IIII",$impl.BuiltInEncodeTime);AManager.AddFunction(1,"encodedatetime","D","IIIIIII",$impl.BuiltInEncodeDateTime);AManager.AddFunction(1,"shortdayname","S","I",$impl.BuiltInShortDayName);AManager.AddFunction(1,"shortmonthname","S","I",$impl.BuiltInShortMonthName);AManager.AddFunction(1,"longdayname","S","I",$impl.BuiltInLongDayName);AManager.AddFunction(1,"longmonthname","S","I",$impl.BuiltInLongMonthName);};if(3 in Categories){AManager.AddFunction(3,"shl","I","II",$impl.BuiltInShl);AManager.AddFunction(3,"shr","I","II",$impl.BuiltInShr);AManager.AddFunction(3,"IFS","S","BSS",$impl.BuiltinIFS);AManager.AddFunction(3,"IFF","F","BFF",$impl.BuiltinIFF);AManager.AddFunction(3,"IFD","D","BDD",$impl.BuiltinIFD);AManager.AddFunction(3,"IFI","I","BII",$impl.BuiltinIFI);};if(4 in Categories){AManager.AddFunction(4,"inttostr","S","I",$impl.BuiltInIntToStr);AManager.AddFunction(4,"strtoint","I","S",$impl.BuiltInStrToInt);AManager.AddFunction(4,"strtointdef","I","SI",$impl.BuiltInStrToIntDef);AManager.AddFunction(4,"floattostr","S","F",$impl.BuiltInFloatToStr);AManager.AddFunction(4,"strtofloat","F","S",$impl.BuiltInStrToFloat);AManager.AddFunction(4,"strtofloatdef","F","SF",$impl.BuiltInStrToFloatDef);AManager.AddFunction(4,"booltostr","S","B",$impl.BuiltInBoolToStr);AManager.AddFunction(4,"strtobool","B","S",$impl.BuiltInStrToBool);AManager.AddFunction(4,"strtobooldef","B","SB",$impl.BuiltInStrToBoolDef);AManager.AddFunction(4,"datetostr","S","D",$impl.BuiltInDateToStr);AManager.AddFunction(4,"timetostr","S","D",$impl.BuiltInTimeToStr);AManager.AddFunction(4,"strtodate","D","S",$impl.BuiltInStrToDate);AManager.AddFunction(4,"strtodatedef","D","SD",$impl.BuiltInStrToDateDef);AManager.AddFunction(4,"strtotime","D","S",$impl.BuiltInStrToTime);AManager.AddFunction(4,"strtotimedef","D","SD",$impl.BuiltInStrToTimeDef);AManager.AddFunction(4,"strtodatetime","D","S",$impl.BuiltInStrToDateTime);AManager.AddFunction(4,"strtodatetimedef","D","SD",$impl.BuiltInStrToDateTimeDef);AManager.AddFunction(4,"formatfloat","S","SF",$impl.BuiltInFormatFloat);AManager.AddFunction(4,"formatdatetime","S","SD",$impl.BuiltInFormatDateTime);};if(8 in Categories){AManager.AddFunction$1(8,"count","I","",$lt55);AManager.AddFunction$1(8,"sum","F","F",$lt53);AManager.AddFunction$1(8,"avg","F","F",$lt54);AManager.AddFunction$1(8,"min","F","F",$lt51);AManager.AddFunction$1(8,"max","F","F",$lt52);};};this.ArgToFloat=function(Arg){var Result=0.0;if(Arg.ResultType===1){Result=rtl.trunc(Arg.resValue)}
else if(Arg.ResultType===5){Result=rtl.trunc(Arg.resValue*10000)/10000}
else Result=rtl.getNumber(Arg.resValue);return Result;};$mod.$implcode=function(){$lm3=pas.TypInfo;$lp15=$lm3.GetEnumName;$impl.cNull="\x00";$impl.cSingleQuote="'";$impl.cHexIdentifier="$";$impl.cOctalIdentifier="&";$impl.cBinaryIdentifier="%";$impl.Digits=rtl.createSet(null,48,57,46);$impl.HexDigits=rtl.createSet(null,48,57,null,65,70,null,97,102);$impl.OctalDigits=rtl.createSet(null,48,55);$impl.BinaryDigits=rtl.createSet(48,49);$impl.WhiteSpace=rtl.createSet(32,13,10,9);$impl.Operators=rtl.createSet(43,45,60,62,61,47,42,94);$impl.Delimiters=rtl.unionSet($impl.Operators,rtl.createSet(44,40,41));$impl.Symbols=rtl.unionSet(rtl.createSet(37),$impl.Delimiters);$impl.WordDelimiters=rtl.unionSet($impl.WhiteSpace,$impl.Symbols);$impl.FileFormatSettings=$lt67.$new();$impl.RaiseParserError=function(Msg){throw $lt59.$create("Create$1",[Msg]);};$impl.RaiseParserError$1=function(Fmt,Args){throw $lt59.$create("CreateFmt",[Fmt,Args]);};$impl.BuiltIns=null;$impl.power=function(base,exponent){var Result=0.0;var ex=0;if(exponent===0.0){Result=1.0}
else if((base===0.0)&&(exponent>0.0)){Result=0.0}
else if((base<0.0)&&($lp18(exponent)===0.0)){ex=Math.round(exponent);Result=Math.exp(exponent*Math.log(-base));if($lp19(ex))Result=-Result;}else Result=Math.exp(exponent*Math.log(base));return Result;};$impl.BuiltInCos=function(Args){var Result=$lt5.$new();Result.ResultType=2;Result.resValue=Math.cos($mod.ArgToFloat($lt5.$clone(Args[0])));return Result;};$impl.BuiltInSin=function(Args){var Result=$lt5.$new();Result.ResultType=2;Result.resValue=Math.sin($mod.ArgToFloat($lt5.$clone(Args[0])));return Result;};$impl.BuiltInAbs=function(Args){var Result=$lt5.$new();Result.ResultType=2;Result.resValue=Math.abs($mod.ArgToFloat($lt5.$clone(Args[0])));return Result;};$impl.BuiltInSqr=function(Args){var Result=$lt5.$new();Result.ResultType=2;Result.resValue=$lp20($mod.ArgToFloat($lt5.$clone(Args[0])));return Result;};$impl.BuiltInSqrt=function(Args){var Result=$lt5.$new();Result.ResultType=2;Result.resValue=Math.sqrt($mod.ArgToFloat($lt5.$clone(Args[0])));return Result;};$impl.BuiltInExp=function(Args){var Result=$lt5.$new();Result.ResultType=2;Result.resValue=Math.exp($mod.ArgToFloat($lt5.$clone(Args[0])));return Result;};$impl.BuiltInLn=function(Args){var Result=$lt5.$new();Result.ResultType=2;Result.resValue=Math.log($mod.ArgToFloat($lt5.$clone(Args[0])));return Result;};$impl.L10=0.0;$impl.BuiltInLog=function(Args){var Result=$lt5.$new();Result.ResultType=2;Result.resValue=Math.log($mod.ArgToFloat($lt5.$clone(Args[0])))/$impl.L10;return Result;};$impl.BuiltInRound=function(Args){var Result=$lt5.$new();Result.ResultType=1;Result.resValue=Math.round($mod.ArgToFloat($lt5.$clone(Args[0])));return Result;};$impl.BuiltInTrunc=function(Args){var Result=$lt5.$new();Result.ResultType=1;Result.resValue=$lp21($mod.ArgToFloat($lt5.$clone(Args[0])));return Result;};$impl.BuiltInInt=function(Args){var Result=$lt5.$new();Result.ResultType=1;Result.resValue=$lp22($mod.ArgToFloat($lt5.$clone(Args[0])));return Result;};$impl.BuiltInFrac=function(Args){var Result=$lt5.$new();Result.ResultType=2;Result.resValue=$lp18($mod.ArgToFloat($lt5.$clone(Args[0])));return Result;};$impl.BuiltInLength=function(Args){var Result=$lt5.$new();Result.ResultType=1;Result.resValue=(""+Args[0].resValue).length;return Result;};$impl.BuiltInCopy=function(Args){var Result=$lt5.$new();Result.ResultType=4;Result.resValue=$lp23(""+Args[0].resValue,rtl.trunc(Args[1].resValue),rtl.trunc(Args[2].resValue));return Result;};$impl.BuiltInDelete=function(Args){var Result=$lt5.$new();var S="";Result.ResultType=4;S=""+Args[0].resValue;$lp24({get:function(){return S;},set:function(v){S=v;}},rtl.trunc(Args[1].resValue),rtl.trunc(Args[2].resValue));Result.resValue=S;return Result;};$impl.BuiltInPos=function(Args){var Result=$lt5.$new();Result.ResultType=1;Result.resValue=$lp25(""+Args[0].resValue,""+Args[1].resValue);return Result;};$impl.BuiltInUppercase=function(Args){var Result=$lt5.$new();Result.ResultType=4;Result.resValue=$lp26(""+Args[0].resValue);return Result;};$impl.BuiltInLowercase=function(Args){var Result=$lt5.$new();Result.ResultType=4;Result.resValue=$lp2(""+Args[0].resValue);return Result;};$impl.BuiltInStringReplace=function(Args){var Result=$lt5.$new();var F={};Result.ResultType=4;F={};if(!(Args[3].resValue==false))F=rtl.includeSet(F,0);if(!(Args[4].resValue==false))F=rtl.includeSet(F,1);Result.resValue=$lp27(""+Args[0].resValue,""+Args[1].resValue,""+Args[2].resValue,rtl.refSet(F));return Result;};$impl.BuiltInCompareText=function(Args){var Result=$lt5.$new();Result.ResultType=1;Result.resValue=$lp16(""+Args[0].resValue,""+Args[1].resValue);return Result;};$impl.BuiltInDate=function(Args){var Result=$lt5.$new();if(rtl.length(Args)===0);Result.ResultType=3;Result.resValue=$lp28();return Result;};$impl.BuiltInTime=function(Args){var Result=$lt5.$new();if(rtl.length(Args)===0);Result.ResultType=3;Result.resValue=$lp29();return Result;};$impl.BuiltInNow=function(Args){var Result=$lt5.$new();if(rtl.length(Args)===0);Result.ResultType=3;Result.resValue=$lp30();return Result;};$impl.BuiltInDayofWeek=function(Args){var Result=$lt5.$new();Result.ResultType=1;Result.resValue=$lp31(rtl.getNumber(Args[0].resValue));return Result;};$impl.BuiltInExtractYear=function(Args){var Result=$lt5.$new();var Y=0;var M=0;var D=0;Result.ResultType=1;$lp32(rtl.getNumber(Args[0].resValue),{get:function(){return Y;},set:function(v){Y=v;}},{get:function(){return M;},set:function(v){M=v;}},{get:function(){return D;},set:function(v){D=v;}});Result.resValue=Y;return Result;};$impl.BuiltInExtractMonth=function(Args){var Result=$lt5.$new();var Y=0;var M=0;var D=0;Result.ResultType=1;$lp32(rtl.getNumber(Args[0].resValue),{get:function(){return Y;},set:function(v){Y=v;}},{get:function(){return M;},set:function(v){M=v;}},{get:function(){return D;},set:function(v){D=v;}});Result.resValue=M;return Result;};$impl.BuiltInExtractDay=function(Args){var Result=$lt5.$new();var Y=0;var M=0;var D=0;Result.ResultType=1;$lp32(rtl.getNumber(Args[0].resValue),{get:function(){return Y;},set:function(v){Y=v;}},{get:function(){return M;},set:function(v){M=v;}},{get:function(){return D;},set:function(v){D=v;}});Result.resValue=D;return Result;};$impl.BuiltInExtractHour=function(Args){var Result=$lt5.$new();var H=0;var M=0;var S=0;var MS=0;Result.ResultType=1;$lp33(rtl.getNumber(Args[0].resValue),{get:function(){return H;},set:function(v){H=v;}},{get:function(){return M;},set:function(v){M=v;}},{get:function(){return S;},set:function(v){S=v;}},{get:function(){return MS;},set:function(v){MS=v;}});Result.resValue=H;return Result;};$impl.BuiltInExtractMin=function(Args){var Result=$lt5.$new();var H=0;var M=0;var S=0;var MS=0;Result.ResultType=1;$lp33(rtl.getNumber(Args[0].resValue),{get:function(){return H;},set:function(v){H=v;}},{get:function(){return M;},set:function(v){M=v;}},{get:function(){return S;},set:function(v){S=v;}},{get:function(){return MS;},set:function(v){MS=v;}});Result.resValue=M;return Result;};$impl.BuiltInExtractSec=function(Args){var Result=$lt5.$new();var H=0;var M=0;var S=0;var MS=0;Result.ResultType=1;$lp33(rtl.getNumber(Args[0].resValue),{get:function(){return H;},set:function(v){H=v;}},{get:function(){return M;},set:function(v){M=v;}},{get:function(){return S;},set:function(v){S=v;}},{get:function(){return MS;},set:function(v){MS=v;}});Result.resValue=S;return Result;};$impl.BuiltInExtractMSec=function(Args){var Result=$lt5.$new();var H=0;var M=0;var S=0;var MS=0;Result.ResultType=1;$lp33(rtl.getNumber(Args[0].resValue),{get:function(){return H;},set:function(v){H=v;}},{get:function(){return M;},set:function(v){M=v;}},{get:function(){return S;},set:function(v){S=v;}},{get:function(){return MS;},set:function(v){MS=v;}});Result.resValue=MS;return Result;};$impl.BuiltInEncodedate=function(Args){var Result=$lt5.$new();Result.ResultType=3;Result.resValue=$lp34(rtl.trunc(Args[0].resValue),rtl.trunc(Args[1].resValue),rtl.trunc(Args[2].resValue));return Result;};$impl.BuiltInEncodeTime=function(Args){var Result=$lt5.$new();Result.ResultType=3;Result.resValue=$lp35(rtl.trunc(Args[0].resValue),rtl.trunc(Args[1].resValue),rtl.trunc(Args[2].resValue),rtl.trunc(Args[3].resValue));return Result;};$impl.BuiltInEncodeDateTime=function(Args){var Result=$lt5.$new();Result.ResultType=3;Result.resValue=$lp34(rtl.trunc(Args[0].resValue),rtl.trunc(Args[1].resValue),rtl.trunc(Args[2].resValue))+$lp35(rtl.trunc(Args[3].resValue),rtl.trunc(Args[4].resValue),rtl.trunc(Args[5].resValue),rtl.trunc(Args[6].resValue));return Result;};$impl.BuiltInShortDayName=function(Args){var Result=$lt5.$new();Result.ResultType=4;Result.resValue=$lm1.FormatSettings.ShortDayNames[rtl.trunc(Args[0].resValue)];return Result;};$impl.BuiltInShortMonthName=function(Args){var Result=$lt5.$new();Result.ResultType=4;Result.resValue=$lm1.FormatSettings.ShortMonthNames[rtl.trunc(Args[0].resValue)-1];return Result;};$impl.BuiltInLongDayName=function(Args){var Result=$lt5.$new();Result.resValue=$lm1.FormatSettings.LongDayNames[rtl.trunc(Args[0].resValue)];return Result;};$impl.BuiltInLongMonthName=function(Args){var Result=$lt5.$new();Result.ResultType=4;Result.resValue=$lm1.FormatSettings.LongMonthNames[rtl.trunc(Args[0].resValue)-1];return Result;};$impl.BuiltInFormatDateTime=function(Args){var Result=$lt5.$new();Result.ResultType=4;Result.resValue=$lp8(""+Args[0].resValue,rtl.getNumber(Args[1].resValue));return Result;};$impl.BuiltInIntToStr=function(Args){var Result=$lt5.$new();Result.ResultType=4;Result.resValue=$lp7(rtl.trunc(Args[0].resValue));return Result;};$impl.BuiltInStrToInt=function(Args){var Result=$lt5.$new();Result.ResultType=1;Result.resValue=$lp11(""+Args[0].resValue);return Result;};$impl.BuiltInStrToIntDef=function(Args){var Result=$lt5.$new();Result.ResultType=1;Result.resValue=$lp36(""+Args[0].resValue,rtl.trunc(Args[1].resValue));return Result;};$impl.BuiltInFloatToStr=function(Args){var Result=$lt5.$new();Result.ResultType=4;Result.resValue=$lp9(rtl.getNumber(Args[0].resValue));return Result;};$impl.BuiltInStrToFloat=function(Args){var Result=$lt5.$new();Result.ResultType=2;Result.resValue=$lp12(""+Args[0].resValue);return Result;};$impl.BuiltInStrToFloatDef=function(Args){var Result=$lt5.$new();Result.ResultType=2;Result.resValue=$lp37(""+Args[0].resValue,rtl.getNumber(Args[1].resValue));return Result;};$impl.BuiltInDateToStr=function(Args){var Result=$lt5.$new();Result.ResultType=4;Result.resValue=$lp38(rtl.getNumber(Args[0].resValue));return Result;};$impl.BuiltInTimeToStr=function(Args){var Result=$lt5.$new();Result.ResultType=4;Result.resValue=$lp39(rtl.getNumber(Args[0].resValue));return Result;};$impl.BuiltInStrToDate=function(Args){var Result=$lt5.$new();Result.ResultType=3;Result.resValue=$lp40(""+Args[0].resValue);return Result;};$impl.BuiltInStrToDateDef=function(Args){var Result=$lt5.$new();Result.ResultType=3;Result.resValue=$lp41(""+Args[0].resValue,rtl.getNumber(Args[1].resValue));return Result;};$impl.BuiltInStrToTime=function(Args){var Result=$lt5.$new();Result.ResultType=3;Result.resValue=$lp42(""+Args[0].resValue);return Result;};$impl.BuiltInStrToTimeDef=function(Args){var Result=$lt5.$new();Result.ResultType=3;Result.resValue=$lp43(""+Args[0].resValue,rtl.getNumber(Args[1].resValue));return Result;};$impl.BuiltInStrToDateTime=function(Args){var Result=$lt5.$new();Result.ResultType=3;Result.resValue=$lp14(""+Args[0].resValue);return Result;};$impl.BuiltInStrToDateTimeDef=function(Args){var Result=$lt5.$new();Result.ResultType=3;Result.resValue=$lp44(""+Args[0].resValue,rtl.getNumber(Args[1].resValue));return Result;};$impl.BuiltInFormatFloat=function(Args){var Result=$lt5.$new();Result.ResultType=4;Result.resValue=$lp45(""+Args[0].resValue,rtl.getNumber(Args[1].resValue));return Result;};$impl.BuiltInBoolToStr=function(Args){var Result=$lt5.$new();Result.ResultType=4;Result.resValue=$lp46(!(Args[0].resValue==false),false);return Result;};$impl.BuiltInStrToBool=function(Args){var Result=$lt5.$new();Result.ResultType=0;Result.resValue=$lp47(""+Args[0].resValue);return Result;};$impl.BuiltInStrToBoolDef=function(Args){var Result=$lt5.$new();Result.resValue=$lp48(""+Args[0].resValue,!(Args[1].resValue==false));Result.ResultType=0;return Result;};$impl.BuiltInShl=function(Args){var Result=$lt5.$new();Result.ResultType=1;Result.resValue=rtl.shl(rtl.trunc(Args[0].resValue),rtl.trunc(Args[1].resValue));return Result;};$impl.BuiltInShr=function(Args){var Result=$lt5.$new();Result.ResultType=1;Result.resValue=rtl.shr(rtl.trunc(Args[0].resValue),rtl.trunc(Args[1].resValue));return Result;};$impl.BuiltinIFS=function(Args){var Result=$lt5.$new();Result.ResultType=4;if(!(Args[0].resValue==false)){Result.resValue=Args[1].resValue}
else Result.resValue=Args[2].resValue;return Result;};$impl.BuiltinIFI=function(Args){var Result=$lt5.$new();Result.ResultType=1;if(!(Args[0].resValue==false)){Result.resValue=Args[1].resValue}
else Result.resValue=Args[2].resValue;return Result;};$impl.BuiltinIFF=function(Args){var Result=$lt5.$new();Result.ResultType=2;if(!(Args[0].resValue==false)){Result.resValue=Args[1].resValue}
else Result.resValue=Args[2].resValue;return Result;};$impl.BuiltinIFD=function(Args){var Result=$lt5.$new();Result.ResultType=3;if(!(Args[0].resValue==false)){Result.resValue=Args[1].resValue}
else Result.resValue=Args[2].resValue;return Result;};$impl.InitFileFormatSettings=function(){$impl.FileFormatSettings.$assign($lm1.FormatSettings);$impl.FileFormatSettings.DecimalSeparator=".";$impl.FileFormatSettings.DateSeparator="-";$impl.FileFormatSettings.TimeSeparator=":";$impl.FileFormatSettings.ShortDateFormat="yyyy-mm-dd";$impl.FileFormatSettings.LongTimeFormat="hh:nn:ss";};$mod.$resourcestrings={SBadQuotes:{org:"Unterminated string"},SUnknownDelimiter:{org:'Unknown delimiter character: "%s"'},SErrUnknownCharacter:{org:'Unknown character at pos %d: "%s"'},SErrUnexpectedEndOfExpression:{org:"Unexpected end of expression"},SErrUnknownComparison:{org:"Internal error: Unknown comparison"},SErrUnknownBooleanOp:{org:"Internal error: Unknown boolean operation"},SErrBracketExpected:{org:"Expected ) bracket at position %d, but got %s"},SerrUnknownTokenAtPos:{org:"Unknown token at pos %d : %s"},SErrLeftBracketExpected:{org:"Expected ( bracket at position %d, but got %s"},SErrInvalidFloat:{org:"%s is not a valid floating-point value"},SErrUnknownIdentifier:{org:"Unknown identifier: %s"},SErrInExpression:{org:"Cannot evaluate: error in expression"},SErrInExpressionEmpty:{org:"Cannot evaluate: empty expression"},SErrCommaExpected:{org:"Expected comma (,) at position %d, but got %s"},SErrInvalidNumberChar:{org:"Unexpected character in number : %s"},SErrInvalidNumber:{org:"Invalid numerical value : %s"},SErrUnterminatedIdentifier:{org:"Unterminated quoted identifier: %s"},SErrNoOperand:{org:"No operand for unary operation %s"},SErrNoleftOperand:{org:"No left operand for binary operation %s"},SErrNoRightOperand:{org:"No right operand for binary operation %s"},SErrNoNegation:{org:"Cannot negate expression of type %s : %s"},SErrNoNOTOperation:{org:'Cannot perform "not" on expression of type %s: %s'},SErrTypesDoNotMatch:{org:'Type mismatch: %s<>%s for expressions "%s" and "%s".'},SErrNoNodeToCheck:{org:"Internal error: No node to check !"},SInvalidNodeType:{org:"Node type (%s) not in allowed types (%s) for expression: %s"},SErrUnterminatedExpression:{org:"Badly terminated expression. Found token at position %d : %s"},SErrDuplicateIdentifier:{org:'An identifier with name "%s" already exists.'},SErrInvalidResultCharacter:{org:'"%s" is not a valid return type indicator'},ErrInvalidArgumentCount:{org:"Invalid argument count for function %s"},SErrInvalidArgumentType:{org:"Invalid type for argument %d: Expected %s, got %s"},SErrInvalidResultType:{org:"Invalid result type: %s"},SErrIFNeedsBoolean:{org:"First argument to IF must be of type boolean: %s"},SErrCaseNeeds3:{org:"Case statement needs to have at least 4 arguments"},SErrCaseEvenCount:{org:"Case statement needs to have an even number of arguments"},SErrCaseLabelNotAConst:{org:'Case label %d "%s" is not a constant expression'},SErrCaseLabelType:{org:'Case label %d "%s" needs type %s, but has type %s'},SErrCaseValueType:{org:'Case value %d "%s" needs type %s, but has type %s'}};};$mod.$init=function(){$impl.L10=Math.log(10);$mod.RegisterStdBuiltins($mod.BuiltinIdentifiers(),$mod.AllBuiltIns);$impl.InitFileFormatSettings();};},["TypInfo"]);rtl.module("JSONDataset",["System","Types","JS","DB","Classes","SysUtils","TypInfo","fpexprpars"],function(){"use strict";var $mod=this;var $impl=$mod.$impl;var $lt=null;var $lt1=null;var $lt2=null;var $lt3=null;var $lt4=null;var $lt5=null;var $lt6=null;var $lt7=null;var $lt8=null;var $lt9=null;var $lt10=null;var $lt11=null;var $lt12=null;var $lt13=null;var $lt14=null;var $lt15=null;var $lt16=null;var $lt17=null;var $lt18=null;var $lt19=null;var $lt20=null;var $lm=pas.System;var $lt21=$lm.TObject;var $lm1=pas.DB;var $lt22=$lm1.TDateField;var $lt23=$lm1.TTimeField;var $lt24=$lm1.TDateTimeField;var $lp=$lm.Copy;var $lm2=pas.SysUtils;var $lp1=$lm2.CompareText;var $lp2=$lm2.CompareStr;var $lm3=pas.JS;var $lp3=$lm3.isDate;var $lp4=$lm2.JSDateToDateTime;var $lm4=pas.Classes;var $lt25=$lm4.TFPList;var $lt26=$lm1.EDatabaseError;var $lp5=$lm.VarRecs;var $lm5=pas.TypInfo;var $lp6=$lm5.GetEnumName;var $lp7=$lm3.isUndefined;var $lp8=$lm2.FreeAndNil;var $lt27=$lm1.TIndexDef;var $lt28=$lm1.TIndexDefs;var $lt29=$lm1.TDataSet;var $lm6=pas.fpexprpars;var $lt30=$lm6.TFPExpressionResult;var $lp9=$lm1.DatabaseErrorFmt$1;var $lt31=$lm6.TFPExpressionParser;var $lt32=$lm1.TDataRecord;var $lt33=$lm1.TBookmark;var $lp10=$lm1.DatabaseErrorFmt;var $lm7=null;var $lp11=null;var $lp12=null;var $lp13=$lm2.FormatDateTime;var $lp14=$lm3.JSDelete;$lt=this.TJSONRowType={"0":"rtJSONObject",rtJSONObject:0,"1":"rtJSONArray",rtJSONArray:1};rtl.createClass(this,"TJSONFieldMapper",$lt21,function(){$lt1=this;this.CopyRow=function(aRow){var Result=undefined;Result=JSON.parse(JSON.stringify(aRow));return Result;};this.GetJSONDataForField$1=function(F,Row){var Result=undefined;Result=this.GetJSONDataForField(F.FFieldName,F.GetIndex(),Row);return Result;};this.SetJSONDataForField$1=function(F,Row,Data){this.SetJSONDataForField(F.FFieldName,F.GetIndex(),Row,Data);};});rtl.createClass(this,"TJSONDateField",$lt22,function(){$lt2=this;this.$init=function(){$lt22.$init.call(this);this.FDateFormat="";};var $r=this.$rtti;$r.addProperty("DateFormat",0,rtl.string,"FDateFormat","FDateFormat");});rtl.createClass(this,"TJSONTimeField",$lt23,function(){$lt3=this;this.$init=function(){$lt23.$init.call(this);this.FTimeFormat="";};var $r=this.$rtti;$r.addProperty("TimeFormat",0,rtl.string,"FTimeFormat","FTimeFormat");});rtl.createClass(this,"TJSONDateTimeField",$lt24,function(){$lt4=this;this.$init=function(){$lt24.$init.call(this);this.FDateTimeFormat="";};var $r=this.$rtti;$r.addProperty("DateTimeFormat",0,rtl.string,"FDateTimeFormat","FDateTimeFormat");});rtl.createClass(this,"TFieldComparer",$lt21,function(){$lt5=this;this.$init=function(){$lt21.$init.call(this);this.FDesc=false;this.FValue=undefined;this.FField=null;this.FOptions={};this.FDataset=null;};this.$final=function(){this.FField=undefined;this.FOptions=undefined;this.FDataset=undefined;$lt21.$final.call(this);};this.Create$1=function(aDataset,aField,aValue,aOptions){this.FField=aField;this.FValue=aValue;this.FOptions=rtl.refSet(aOptions);this.FDataset=aDataset;return this;};this.GetFieldValue=function(RowIndex){var Result=undefined;Result=this.FDataset.FFieldMapper.GetJSONDataForField$1(this.FField,this.FDataset.FRows[RowIndex]);return Result;};this.CompareRows=function(RowIndex1,RowIndex2){var Result=0;Result=this.Compare(RowIndex1,this.GetFieldValue(RowIndex2));return Result;};this.Compare$1=function(RowIndex){var Result=0;Result=this.Compare(RowIndex,this.FValue);return Result;};});rtl.createClass(this,"TStringFieldComparer",$lt5,function(){$lt6=this;this.Compare=function(RowIndex,aValue){var Result=0;var S1="";var S2="";S1=""+this.GetFieldValue(RowIndex);S2=""+aValue;if(1 in this.FOptions)S1=$lp(S1,1,S2.length);if(0 in this.FOptions){Result=$lp1(S1,S2)}
else Result=$lp2(S1,S2);return Result;};});rtl.createClass(this,"TNativeIntFieldComparer",$lt5,function(){$lt7=this;this.Compare=function(RowIndex,aValue){var Result=0;var I1=0;var I2=0;I1=rtl.trunc(this.GetFieldValue(RowIndex));I2=rtl.trunc(aValue);Result=I1-I2;return Result;};});rtl.createClass(this,"TBooleanFieldComparer",$lt5,function(){$lt8=this;this.Compare=function(RowIndex,aValue){var Result=0;var B1=false;var B2=false;B1=!(this.GetFieldValue(RowIndex)==false);B2=!(aValue==false);Result=(B1+0)-(B2+0);return Result;};});rtl.createClass(this,"TDateTimeFieldComparer",$lt5,function(){$lt9=this;this.Compare=function(RowIndex,aValue){var $Self=this;var Result=0;var D1=0.0;var D2=0.0;function ToDate(v){var Result=0.0;if($lp3(v)){Result=$lp4(v)}
else Result=$Self.FDataset.ConvertDateTimeField(""+v,$Self.FField);return Result;};D1=ToDate(this.GetFieldValue(RowIndex));D2=ToDate(aValue);Result=Math.round(D1-D2);return Result;};});rtl.createClass(this,"TFloatFieldComparer",$lt5,function(){$lt10=this;this.Compare=function(RowIndex,aValue){var Result=0;var D1=0.0;var D2=0.0;D1=rtl.getNumber(this.GetFieldValue(RowIndex));D2=rtl.getNumber(aValue);Result=Math.round(D1-D2);return Result;};});rtl.createClass(this,"TRecordComparer",$lt21,function(){$lt11=this;this.$init=function(){$lt21.$init.call(this);this.FDataset=null;this.FIndexBased=false;this.FItems=[];this.FOptions={};this.FValues=[];};this.$final=function(){this.FDataset=undefined;this.FItems=undefined;this.FOptions=undefined;this.FValues=undefined;$lt21.$final.call(this);};this.ConstructItems=function(aFields){var L=null;var FCC=null;var F=null;var I=0;L=$lt25.$create("Create");try{this.FDataset.GetFieldList$1(L,aFields);if(!this.FIndexBased&&(L.FCount!==rtl.length(this.FValues)))throw $lt26.$create("CreateFmt",["Array of values has different length (%d) from array of fields (%d)",$lp5(19,rtl.length(this.FValues),0,L.FCount)]);this.FItems=rtl.arraySetLength(this.FItems,null,L.FCount);for(var $l=0,$end=L.FCount-1;$l<=$end;$l++){I=$l;F=rtl.getObject(L.Get(I));FCC=this.DataTypeToComparerClass(F.FDataType);if(FCC===null)throw $lt26.$create("CreateFmt",["Cannot locate on field %s of type %s)",$lp5(18,F.FFieldName,18,$lp6($lm1.$rtti["TFieldType"],F.FDataType))]);if(this.FIndexBased){this.FItems[I]=FCC.$create("Create$1",[this.FDataset,F,null,rtl.refSet(this.FOptions)])}
else this.FItems[I]=FCC.$create("Create$1",[this.FDataset,F,this.FValues[I],rtl.refSet(this.FOptions)]);};}finally{L=rtl.freeLoc(L);};};this.DataTypeToComparerClass=function(aFieldType){var Result=null;var $tmp=aFieldType;if(($tmp===11)||($tmp===12)||($tmp===1)){Result=$lt6}
else if(($tmp===9)||($tmp===2)||($tmp===3)){Result=$lt7}
else if($tmp===4){Result=$lt8}
else if($tmp===5){Result=$lt10}
else if(($tmp===6)||($tmp===7)||($tmp===8)){Result=$lt9}
else{Result=null;};return Result;};this.Compare=function(aRowindex){var Result=0;var I=0;var L=0;Result=0;I=0;L=rtl.length(this.FItems);while((Result===0)&&(I<L)){Result=this.FItems[I].Compare$1(aRowindex);I+=1;};return Result;};this.CompareRows=function(aRowindex1,aRowIndex2){var Result=0;var I=0;var L=0;Result=0;I=0;L=rtl.length(this.FItems);while((Result===0)&&(I<L)){Result=this.FItems[I].CompareRows(aRowindex1,aRowIndex2);if((Result!==0)&&this.FItems[I].FDesc)Result=-Result;I+=1;};return Result;};this.updateFromIndex=function(aIndex){var L=null;var I=0;L=$lt25.$create("Create");try{if(aIndex.FCaseinsFields!==""){this.FDataset.GetFieldList$1(L,aIndex.FCaseinsFields);for(var $l=0,$end=rtl.length(this.FItems)-1;$l<=$end;$l++){I=$l;if(L.IndexOf(this.FItems[I].FField)!==-1)this.FItems[I].FOptions=rtl.unionSet(this.FItems[I].FOptions,rtl.createSet(0));};};L.Clear();this.FDataset.GetFieldList$1(L,aIndex.FDescFields);for(var $l1=0,$end1=rtl.length(this.FItems)-1;$l1<=$end1;$l1++){I=$l1;this.FItems[I].FDesc=(2 in aIndex.FOptions)||(L.IndexOf(this.FItems[I].FField)!==-1);};}finally{L=rtl.freeLoc(L);};};this.Create$1=function(aDataset,aFields,aValues,aOptions){this.FDataset=aDataset;if(rtl.isArray(aValues)){this.FValues=aValues}
else{this.FValues=rtl.arraySetLength(this.FValues,undefined,1);this.FValues[0]=aValues;};this.FOptions=rtl.refSet(aOptions);this.ConstructItems(aFields);return this;};this.Create$2=function(aDataset,aIndex){this.FDataset=aDataset;this.FIndexBased=true;if(3 in aIndex.FOptions)this.FOptions=rtl.createSet(0);this.ConstructItems(aIndex.FFields);this.updateFromIndex(aIndex);return this;};this.Destroy=function(){var I=0;for(var $l=0,$end=rtl.length(this.FItems)-1;$l<=$end;$l++){I=$l;rtl.free(this.FItems,I);};$lt21.Destroy.call(this);};});rtl.createClass(this,"TJSONIndex",$lt21,function(){$lt12=this;this.$init=function(){$lt21.$init.call(this);this.FList=null;this.FRows=null;this.FDataset=null;};this.$final=function(){this.FList=undefined;this.FRows=undefined;this.FDataset=undefined;$lt21.$final.call(this);};this.GetRecordIndex=function(aListIndex){var Result=0;if($lp7(this.FList[aListIndex])){Result=-1}
else Result=rtl.trunc(this.FList[aListIndex]);return Result;};this.GetCount=function(){var Result=0;Result=this.FList.length;return Result;};this.ClearIndex=function(){this.FList.length=0;};this.Create$1=function(aDataset,aRows){this.FRows=aRows;this.FList=new Array(this.FRows.length);this.FDataset=aDataset;this.CreateIndex();return this;};this.Insert=function(aCurrentIndex,aRecordIndex){var Result=0;Result=this.Append(aRecordIndex);return Result;};});rtl.createClass(this,"TDefaultJSONIndex",$lt12,function(){$lt13=this;this.CreateIndex=function(){var I=0;for(var $l=0,$end=this.FRows.length-1;$l<=$end;$l++){I=$l;this.FList[I]=I;};};this.AppendToIndex=function(){var I=0;var L=0;L=this.FList.length;this.FList.length=this.FRows.length;for(var $l=L,$end=this.FRows.length-1;$l<=$end;$l++){I=$l;this.FList[I]=I;};};this.Append=function(aRecordIndex){var Result=0;Result=this.FList.push(aRecordIndex)-1;return Result;};this.Insert=function(aCurrentIndex,aRecordIndex){var Result=0;this.FList.splice(aCurrentIndex,0,aRecordIndex);Result=aCurrentIndex;return Result;};this.FindRecord=function(aRecordIndex){var Result=0;Result=this.FList.indexOf(aRecordIndex);return Result;};this.Update=function(aRecordIndex){var Result=0;Result=aRecordIndex;return Result;};});rtl.createClass(this,"TSortedJSONIndex",$lt12,function(){$lt14=this;this.$init=function(){$lt12.$init.call(this);this.FComparer=null;this.FUnique=false;};this.$final=function(){this.FComparer=undefined;$lt12.$final.call(this);};this.FindPos=function(aRecordIndex){var Result=0;var L=0;var R=0;var I=0;var CompareRes=0;if(!(this.FComparer!=null))return Result;L=0;R=this.GetCount()-1;while(L<=R){I=L+rtl.trunc((R-L)/2);CompareRes=this.FComparer.CompareRows(aRecordIndex,rtl.trunc(this.FList[I]));if(CompareRes>0){L=I+1}
else{R=I-1;if(CompareRes===0){if(this.FUnique)L=I;};};};Result=L;return Result;};this.MergeSort=function(aList){var Result=null;var temp=null;var l=0;var p=0;var q=0;var e=0;var tail=0;var insize=0;var nmerges=0;var psize=0;var qsize=0;if(aList===null)return null;l=aList.length;Result=new Array(l);if(l===0)return Result;insize=1;do{p=0;tail=0;nmerges=0;while(p<l){nmerges+=1;psize=l-p;if(insize<psize)psize=insize;q=p+psize;qsize=insize;while((psize>0)||((qsize>0)&&(q<l))){if(psize===0){e=q;q+=1;qsize-=1;}else if((qsize===0)||(q>=l)){e=p;p+=1;psize-=1;}else if(this.FComparer.CompareRows(rtl.trunc(aList[p]),rtl.trunc(aList[q]))<=0){e=p;p+=1;psize-=1;}else{e=q;q+=1;qsize-=1;};Result[tail]=aList[e];tail+=1;};p=q;};if(nmerges<=1)return Result;insize=insize*2;temp=Result;Result=aList;aList=temp;}while(!false);return Result;};this.Destroy=function(){$lp8({p:this,get:function(){return this.p.FComparer;},set:function(v){this.p.FComparer=v;}});$lt21.Destroy.call(this);};this.CreateComparer=function(aIndex){$lp8({p:this,get:function(){return this.p.FComparer;},set:function(v){this.p.FComparer=v;}});this.FComparer=$lt11.$create("Create$2",[this.FDataset,aIndex]);};this.CreateIndex=function(){var Lst=null;var Len=0;if(this.FComparer===null)return;Len=this.FRows.length-1;Lst=new Array(Len+1);while(Len>=0){Lst[Len]=Len;Len-=1;};this.FList=this.MergeSort(Lst);};this.AppendToIndex=function(){this.CreateIndex();};this.Append=function(aRecordIndex){var Result=0;Result=this.FindPos(aRecordIndex);this.FList.splice(Result,0,aRecordIndex);return Result;};this.FindRecord=function(aRecordIndex){var Result=0;Result=this.FList.indexOf(aRecordIndex);return Result;};this.Update=function(aRecordIndex){var Result=0;var aCurrentIndex=0;aCurrentIndex=this.FindRecord(aRecordIndex);Result=this.FindPos(aRecordIndex);if(Result!==aCurrentIndex)this.FList.splice(Result,0,this.FList.splice(aCurrentIndex,1)[0]);return Result;};});rtl.createClass(this,"TJSONIndexDef",$lt27,function(){$lt15=this;this.$init=function(){$lt27.$init.call(this);this.FIndex=null;};this.$final=function(){this.FIndex=undefined;$lt27.$final.call(this);};this.ClearIndex=function(){$lp8({p:this,get:function(){return this.p.FIndex;},set:function(v){this.p.FIndex=v;}});};this.BuildIndex=function(aDataset){if(this.FIndex===null){this.FIndex=$lt14.$create("Create$1",[aDataset,aDataset.FRows])}
else this.FIndex.ClearIndex();this.FIndex.CreateComparer(this);this.FIndex.CreateIndex();};});rtl.createClass(this,"TJSONIndexDefs",$lt28,function(){$lt16=this;this.GetD=function(aIndex){var Result=null;Result=rtl.as(this.GetItem$1(aIndex),$lt15);return Result;};});rtl.createClass(this,"TBaseJSONDataSet",$lt29,function(){$lt17=this;this.$init=function(){$lt29.$init.call(this);this.FActiveIndex="";this.FIndexes=null;this.FMUS=false;this.FOwnsData=false;this.FDefaultIndex=null;this.FCurrentIndex=null;this.FCurrent=0;this.FMetaData=null;this.FRows=null;this.FDeletedRows=null;this.FFieldMapper=null;this.FEditIdx=0;this.FEditRow=undefined;this.FFilterRow=undefined;this.FUseDateTimeFormatFields=false;this.FRowType=0;this.FFilterExpression=null;};this.$final=function(){this.FIndexes=undefined;this.FDefaultIndex=undefined;this.FCurrentIndex=undefined;this.FMetaData=undefined;this.FRows=undefined;this.FDeletedRows=undefined;this.FFieldMapper=undefined;this.FFilterExpression=undefined;$lt29.$final.call(this);};this.GetFilterField=function(AName){var Result=$lt30.$new();var F=null;var C=0;F=this.FieldByName(AName);Result.ResultType=this.FieldTypeToExpressionType(F.FDataType);var $tmp=Result.ResultType;if($tmp===0){Result.resValue=F.GetAsBoolean()}
else if($tmp===1){Result.resValue=F.GetAsLargeInt()}
else if($tmp===2){Result.resValue=F.GetAsFloat()}
else if($tmp===3){Result.resValue=F.GetAsDateTime()}
else if($tmp===4){Result.resValue=F.GetAsString()}
else if($tmp===5){C=F.GetAsFloat()*10000;Result.resValue=C/10000;};return Result;};this.SetActiveIndex=function(AValue){if(this.FActiveIndex===AValue)return;this.FActiveIndex=AValue;if(0 in this.FComponentState)return;this.ActivateIndex(this.GetActive());};this.SetIndexes=function(AValue){if(this.FIndexes===AValue)return;this.FIndexes.Assign(AValue);if(this.GetActive())this.BuildIndexes();};this.SetMetaData=function(AValue){this.CheckInactive();this.FMetaData=AValue;};this.SetRows=function(AValue){if(AValue===this.FRows)return;this.CheckInactive();this.FRows=null;this.AddToRows(AValue);};this.RemoveCalcFields=function(Buf){var i=0;for(var $l=0,$end=this.FFieldList.GetCount()-1;$l<=$end;$l++){i=$l;if(this.FFieldList.GetField(i).FFieldKind in rtl.createSet(1,3,2))this.FFieldMapper.RemoveField(this.FFieldList.GetField(i).FFieldName,this.FFieldList.GetField(i).GetIndex(),Buf);};};this.ActivateIndex=function(Build){var Idx=null;if(this.FActiveIndex!==""){Idx=rtl.as(this.FIndexes.Find$1(this.FActiveIndex),$lt15)}
else Idx=null;if(Idx===null){this.FCurrentIndex=this.FDefaultIndex}
else{if((Idx.FIndex===null)&&Build)Idx.BuildIndex(this);this.FCurrentIndex=Idx.FIndex;};if(this.GetActive())this.Resync(rtl.createSet(1));};this.FieldTypeToExpressionType=function(aDataType){var Result=0;var $tmp=aDataType;if(($tmp===11)||($tmp===12)||($tmp===1)){Result=4}
else if(($tmp===2)||($tmp===9)||($tmp===3)){Result=1}
else if($tmp===4){Result=0}
else if($tmp===5){Result=2}
else if(($tmp===6)||($tmp===7)||($tmp===8)){Result=3}
else{$lp9("Fields of type %s are not supported in filter expressions.",$lp5(18,$lm1.Fieldtypenames[aDataType]),this);};return Result;};this.GetFilterIsNull=function(Args){var Result=$lt30.$new();Result.ResultType=0;Result.resValue=this.FieldByName(""+Args[0].resValue).GetIsNull();return Result;};this.FilterExpressionClass=function(){var Result=null;Result=$lt31;return Result;};this.CreateFilterExpression=function(){var Result=null;var I=0;Result=this.FilterExpressionClass().$create("Create$1",[this]);for(var $l=0,$end=this.FFieldList.GetCount()-1;$l<=$end;$l++){I=$l;Result.FIdentifiers.AddVariable(this.FFieldList.GetField(I).FFieldName,this.FieldTypeToExpressionType(this.FFieldList.GetField(I).FDataType),rtl.createCallback(this,"GetFilterField"));};Result.FIdentifiers.AddFunction("IsNull","B","S",rtl.createCallback(this,"GetFilterIsNull"));Result.SetExpression(this.FFilterText);return Result;};this.DoFilterRecord=function(){var Result=false;var DS=0;Result=true;DS=this.SetTempState(6);try{if(this.FOnFilterRecord!=null){this.FOnFilterRecord(this,{get:function(){return Result;},set:function(v){Result=v;}});if(!Result)return Result;};if(!this.FFiltered||(this.FFilterText===""))return Result;if(this.FFilterExpression===null)this.FFilterExpression=this.CreateFilterExpression();Result=this.FFilterExpression.GetAsBoolean();}finally{this.RestoreState(DS);};return Result;};this.CreateIndexDefs=function(){var Result=null;Result=$lt16.$create("create$3",[this,this,$lt15]);return Result;};this.RecordComparerClass=function(){var Result=null;Result=$lt11;return Result;};this.LocateRecordIndex=function(KeyFields,KeyValues,Options){var Result=0;var Comp=null;var RI=0;var I=0;Result=-1;Comp=this.RecordComparerClass().$create("Create$1",[this,KeyFields,KeyValues,rtl.refSet(Options)]);try{if(2 in Options){I=this.FCurrent}
else I=0;RI=this.FCurrentIndex.GetRecordIndex(I);while((Result===-1)&&(RI!==-1)){if(Comp.Compare(RI)===0)Result=RI;I+=1;RI=this.FCurrentIndex.GetRecordIndex(I);};}finally{Comp=rtl.freeLoc(Comp);};return Result;};this.AllocRecordBuffer=function(){var Result=$lt32.$new();Result.data=new Object();Result.bookmark=null;Result.state=0;return Result;};this.FreeRecordBuffer=function(Buffer){Buffer.data=null;Buffer.bookmark=null;Buffer.state=0;};this.InternalInitRecord=function(Buffer){Buffer.data=this.FFieldMapper.CreateRow();Buffer.bookmark=null;Buffer.state=0;};this.GetRecord=function(Buffer,GetMode,DoCheck){var Result=0;var BkmIdx=0;var recordAccepted=false;Result=0;do{recordAccepted=true;var $tmp=GetMode;if($tmp===1){if(this.FCurrent<(this.FCurrentIndex.GetCount()-1)){this.FCurrent+=1}
else Result=2}
else if($tmp===2){if(this.FCurrent>0){this.FCurrent-=1}
else Result=1}
else if($tmp===0)if((this.FCurrent<0)||(this.FCurrent>=this.FCurrentIndex.GetCount()))Result=2;if(Result===0){BkmIdx=this.FCurrentIndex.GetRecordIndex(this.FCurrent);Buffer.data=this.FRows[BkmIdx];Buffer.bookmarkFlag=0;Buffer.bookmark=BkmIdx;this.GetCalcFields(Buffer);if(this.FFiltered){this.FFilterRow=Buffer.data;recordAccepted=this.DoFilterRecord();if(!recordAccepted&&(GetMode===0)){recordAccepted=true;Result=2;};};};}while(!recordAccepted);return Result;};this.AddToRows=function(AValue){if(this.FRows===null){this.FRows=AValue}
else{this.FRows=this.FRows.concat(AValue);this.AppendToIndexes();};};this.InternalClose=function(){this.BindFields(false);if(this.FDefaultFields)this.DestroyFields();this.FreeData();};this.InternalFirst=function(){this.FCurrent=-1;};this.InternalLast=function(){this.FCurrent=this.FCurrentIndex.GetCount();};this.InternalOpen=function(){$lp8({p:this,get:function(){return this.p.FFieldMapper;},set:function(v){this.p.FFieldMapper=v;}});this.FFieldMapper=this.CreateFieldMapper();if(this.FRows===null){this.FRows=new Array();this.FOwnsData=true;};this.CreateIndexes();this.InternalInitFieldDefs();if(this.FDefaultFields)this.CreateFields();this.BindFields(true);this.InitDateTimeFields();if(this.FActiveIndex!=="")this.ActivateIndex(true);this.FCurrent=-1;};this.InternalPost=function(){var I=0;var NewIdx=0;var NewCurrent=0;var Idx=0;var B=$lt33.$new();NewCurrent=-1;this.GetBookmarkData($lt32.$clone(this.ActiveBuffer()),B);if(this.FState===3){Idx=this.FRows.push(this.FEditRow)-1;if(this.GetBookmarkFlag($lt32.$clone(this.ActiveBuffer()))===2){this.FDefaultIndex.Append(Idx);for(var $l=0,$end=this.FIndexes.GetCount()-1;$l<=$end;$l++){I=$l;if(this.FIndexes.GetD(I).FIndex!=null){NewIdx=this.FIndexes.GetD(I).FIndex.Append(Idx);if(this.FIndexes.GetD(I).FIndex===this.FCurrentIndex)NewCurrent=NewIdx;};};}else{this.FCurrent=this.FDefaultIndex.Insert(this.FCurrent,Idx);for(var $l1=0,$end1=this.FIndexes.GetCount()-1;$l1<=$end1;$l1++){I=$l1;if(this.FIndexes.GetD(I).FIndex!=null){NewIdx=this.FIndexes.GetD(I).FIndex.Append(Idx);if(this.FIndexes.GetD(I).FIndex===this.FCurrentIndex)NewCurrent=NewIdx;};};};}else{if(this.FEditIdx===-1)$lp10("Failed to retrieve record index for record %d",$lp5(0,this.FCurrent));Idx=this.FEditIdx;this.FRows[Idx]=this.FEditRow;this.FDefaultIndex.Update(Idx);for(var $l2=0,$end2=this.FIndexes.GetCount()-1;$l2<=$end2;$l2++){I=$l2;NewIdx=this.FCurrentIndex.Update(Idx);if(this.FIndexes.GetD(I).FIndex!=null)if(this.FIndexes.GetD(I).FIndex===this.FCurrentIndex)NewCurrent=NewIdx;};};if(NewCurrent!==-1)this.FCurrent=NewCurrent;this.FEditIdx=-1;this.FEditRow=null;};this.InternalCancel=function(){this.FEditIdx=-1;this.FEditRow=null;};this.InternalInitFieldDefs=function(){if(this.FMetaData!=null)this.MetaDataToFieldDefs();if(this.FFieldDefs.GetCount()===0)throw $lt20.$create("Create$1",["No fields found"]);};this.InternalSetToRecord=function(Buffer){this.FCurrent=this.FCurrentIndex.FindRecord(rtl.trunc(Buffer.bookmark));};this.SetFilterText=function(Value){$lt29.SetFilterText.call(this,Value);$lp8({p:this,get:function(){return this.p.FFilterExpression;},set:function(v){this.p.FFilterExpression=v;}});if(this.GetActive())this.Resync(rtl.createSet(1));};this.SetFiltered=function(Value){$lt29.SetFiltered.call(this,Value);$lp8({p:this,get:function(){return this.p.FFilterExpression;},set:function(v){this.p.FFilterExpression=v;}});if(this.GetActive())this.Resync(rtl.createSet(1));};this.GetFieldClass=function(FieldType){var Result=null;if(this.FUseDateTimeFormatFields&&(FieldType in rtl.createSet(6,8,7))){var $tmp=FieldType;if($tmp===6){Result=$lt2}
else if($tmp===8){Result=$lt4}
else if($tmp===7)Result=$lt3;}else Result=$lt29.GetFieldClass.call(this,FieldType);return Result;};this.GetApplyUpdateData=function(Buffer){var Result=undefined;Result=this.FFieldMapper.CopyRow(Buffer.data);this.RemoveCalcFields(Result);return Result;};this.IsCursorOpen=function(){var Result=false;Result=this.FDefaultIndex!=null;return Result;};this.GetBookmarkData=function(Buffer,Data){Data.Data=Buffer.bookmark;};this.GetBookmarkFlag=function(Buffer){var Result=0;Result=Buffer.bookmarkFlag;return Result;};this.BuildIndexes=function(){var I=0;for(var $l=0,$end=this.FIndexes.GetCount()-1;$l<=$end;$l++){I=$l;this.FIndexes.GetD(I).BuildIndex(this);};};this.FreeData=function(){var I=0;if(this.FOwnsData){this.FRows=null;this.FMetaData=null;};for(var $l=0,$end=this.FIndexes.GetCount()-1;$l<=$end;$l++){I=$l;this.FIndexes.GetD(I).ClearIndex();};this.FCurrentIndex=null;$lp8({p:this,get:function(){return this.p.FDefaultIndex;},set:function(v){this.p.FDefaultIndex=v;}});$lp8({p:this,get:function(){return this.p.FFieldMapper;},set:function(v){this.p.FFieldMapper=v;}});this.FCurrentIndex=null;this.FDeletedRows=null;};this.AppendToIndexes=function(){this.FDefaultIndex.AppendToIndex();if((this.FCurrentIndex!=null)&&(this.FCurrentIndex!==this.FDefaultIndex))this.FCurrentIndex.AppendToIndex();};this.CreateIndexes=function(){this.FDefaultIndex=$lt13.$create("Create$1",[this,this.FRows]);this.AppendToIndexes();if(this.FCurrentIndex===null)this.FCurrentIndex=this.FDefaultIndex;};this.InitDateTimeFields=function(){};this.ConvertDateTimeField=function(S,F){var Result=0.0;var Ptrn="";Result=0;Ptrn="";var $tmp=F.FDataType;if($tmp===6){if($lt2.isPrototypeOf(F))Ptrn=rtl.as(F,$lt2).FDateFormat}
else if($tmp===7){if($lt3.isPrototypeOf(F))Ptrn=rtl.as(F,$lt3).FTimeFormat}
else if($tmp===8)if($lt4.isPrototypeOf(F))Ptrn=rtl.as(F,$lt4).FDateTimeFormat;if(Ptrn===""){Result=this.$class.DefaultConvertToDateTime(F,S,true)}
else Result=$lp11(Ptrn,S,1);return Result;};this.FormatDateTimeField=function(DT,F){var Result="";var Ptrn="";Result="";Ptrn="";var $tmp=F.FDataType;if($tmp===6){if($lt2.isPrototypeOf(F))Ptrn=F.FDateFormat}
else if($tmp===7){if($lt3.isPrototypeOf(F))Ptrn=F.FTimeFormat}
else if($tmp===8)if($lt4.isPrototypeOf(F))Ptrn=F.FDateTimeFormat;if(Ptrn===""){Result=$lp12(DT)}
else Result=$lp13(Ptrn,DT);return Result;};this.CreateFieldMapper=function(){var Result=null;if(this.FRowType===1){Result=$lt19.$create("Create")}
else Result=$lt18.$create("Create");return Result;};this.Create$1=function(AOwner){$lt29.Create$1.apply(this,arguments);this.FOwnsData=true;this.FUseDateTimeFormatFields=false;this.FEditIdx=-1;this.FIndexes=this.CreateIndexDefs();return this;};this.Destroy=function(){this.Close();$lp8({p:this,get:function(){return this.p.FFilterExpression;},set:function(v){this.p.FFilterExpression=v;}});$lp8({p:this,get:function(){return this.p.FIndexes;},set:function(v){this.p.FIndexes=v;}});this.FEditIdx=-1;$lt29.Destroy.call(this);};this.ConvertDateTimeToNative=function(aField,aValue){var Result=undefined;if(isNaN(aValue)){Result=null}
else Result=this.FormatDateTimeField(aValue,aField);return Result;};this.Lookup=function(KeyFields,KeyValues,ResultFields){var Result=undefined;var RI=0;var I=0;var l=null;var Vals=[];Result=null;l=$lt25.$create("Create");try{this.GetFieldList$1(l,ResultFields);Result=$lt29.Lookup.call(this,KeyFields,KeyValues,ResultFields);RI=this.LocateRecordIndex(KeyFields,KeyValues,{});if(RI!==-1){Vals=rtl.arraySetLength(Vals,undefined,l.FCount);for(var $l=0,$end=l.FCount-1;$l<=$end;$l++){I=$l;Vals[I]=this.FFieldMapper.GetJSONDataForField$1(rtl.getObject(l.Get(I)),this.FRows[RI]);};if(l.FCount===1){Result=Vals[I]}
else Result=Vals;};}finally{l=rtl.freeLoc(l);};return Result;};this.GetFieldData$1=function(Field,Buffer){var Result=undefined;var R=undefined;if(this.FState in rtl.createSet(5,11)){R=this.FCalcBuffer.data}
else if(this.FState===6){R=this.FFilterRow}
else if(this.FEditIdx==Buffer.bookmark){if(this.FState===8){R=Buffer.data}
else R=this.FEditRow;}else{if(this.FState===8){return null}
else R=Buffer.data;};Result=this.FFieldMapper.GetJSONDataForField$1(Field,R);if($lp7(Result))Result=null;return Result;};this.SetFieldData$1=function(Field,Buffer,AValue){var R=undefined;if(this.FState in rtl.createSet(5,11)){R=this.FCalcBuffer.data}
else R=this.FEditRow;this.FFieldMapper.SetJSONDataForField$1(Field,R,AValue);if(!(this.FState in rtl.createSet(5,11,6,7)))this.DataEvent(0,Field);this.SetModified(true);};this.CompareBookmarks=function(Bookmark1,Bookmark2){var Result=0;if(rtl.isNumber(Bookmark1.Data)&&rtl.isNumber(Bookmark2.Data)){Result=rtl.trunc(Bookmark2.Data)-rtl.trunc(Bookmark1.Data)}
else{if(rtl.isNumber(Bookmark1.Data)){Result=-1}
else if(rtl.isNumber(Bookmark2.Data)){Result=1}
else Result=0;};return Result;};});rtl.createClass(this,"TJSONObjectFieldMapper",$lt1,function(){$lt18=this;this.RemoveField=function(FieldName,FieldIndex,Row){$lp14(Row,FieldName);};this.SetJSONDataForField=function(FieldName,FieldIndex,Row,Data){Row[FieldName]=Data;};this.GetJSONDataForField=function(FieldName,FieldIndex,Row){var Result=undefined;Result=Row[FieldName];return Result;};this.CreateRow=function(){var Result=undefined;Result=new Object();return Result;};});rtl.createClass(this,"TJSONArrayFieldMapper",$lt1,function(){$lt19=this;this.RemoveField=function(FieldName,FieldIndex,Row){Row.splice(FieldIndex,1);};this.SetJSONDataForField=function(FieldName,FieldIndex,Row,Data){Row[FieldIndex]=Data;};this.GetJSONDataForField=function(FieldName,FieldIndex,Row){var Result=undefined;Result=Row[FieldIndex];return Result;};this.CreateRow=function(){var Result=undefined;Result=new Array();return Result;};});rtl.createClass(this,"EJSONDataset",$lt26,function(){$lt20=this;});$mod.$implcode=function(){$lm7=pas.DateUtils;$lp11=$lm7.ScanDateTime;$lp12=$lm7.DateTimeToRFC3339;};},["DateUtils"]);rtl.module("ExtJSDataset",["System","Classes","SysUtils","DB","JS","JSONDataset"],function(){"use strict";var $mod=this;var $lt=null;var $lm=pas.JSONDataset;var $lt1=$lm.TBaseJSONDataSet;var $lm1=pas.SysUtils;var $lp=$lm1.SameText;var $lm2=pas.JS;var $lp1=$lm2.isNull;var $lm3=pas.DB;var $lp2=$lm3.DatabaseError;var $lp3=$lm1.StringReplace;var $lp4=$lm1.LowerCase;var $lt2=$lm.EJSONDataset;var $lm4=pas.System;var $lp5=$lm4.VarRecs;var $lp6=$lm2.isUndefined;var $lt3=$lm.TJSONDateField;var $lt4=$lm.TJSONTimeField;var $lt5=$lm.TJSONDateTimeField;var $lp7=$lm2.toNumber;var $lp8=$lm4.Trunc;rtl.createClass(this,"TExtJSJSONDataSet",$lt1,function(){$lt=this;this.$init=function(){$lt1.$init.call(this);this.FFields=null;this.FIDField="";this.FRoot="";};this.$final=function(){this.FFields=undefined;$lt1.$final.call(this);};this.InternalOpen=function(){var I=0;$lt1.InternalOpen.call(this);for(var $l=0,$end=this.FFieldList.GetCount()-1;$l<=$end;$l++){I=$l;if($lp(this.FFieldList.GetField(I).FFieldName,this.FIDField))this.FFieldList.GetField(I).FProviderFlags=rtl.unionSet(this.FFieldList.GetField(I).FProviderFlags,rtl.createSet(2));};};this.DataPacketReceived=function(ARequest){var Result=false;var O=null;var A=null;Result=false;if($lp1(ARequest.FData))return Result;if(rtl.isString(ARequest.FData)){O=JSON.parse(""+ARequest.FData)}
else if(rtl.isObject(ARequest.FData)){O=ARequest.FData}
else $lp2("Cannot handle data packet");if(this.FRoot==="")this.FRoot="rows";if(this.FIDField==="")this.FIDField="id";if(O.hasOwnProperty("metaData")&&rtl.isObject(O["metaData"])){if(!this.GetActive())this.SetMetaData(O["metaData"]);if(this.FMetaData.hasOwnProperty("root")&&rtl.isString(this.FMetaData["root"]))this.FRoot=""+this.FMetaData["root"];if(this.FMetaData.hasOwnProperty("idField")&&rtl.isString(this.FMetaData["idField"]))this.FIDField=""+this.FMetaData["idField"];};if(O.hasOwnProperty(this.FRoot)&&rtl.isArray(O[this.FRoot])){A=O[this.FRoot];Result=A.length>0;this.AddToRows(A);};return Result;};this.ConvertDateFormat=function(S){var Result="";Result=$lp3(S,"y","yy",rtl.createSet(0));Result=$lp3(Result,"Y","yyyy",rtl.createSet(0));Result=$lp3(Result,"g","h",rtl.createSet(0));Result=$lp3(Result,"G","hh",rtl.createSet(0));Result=$lp3(Result,"F","mmmm",rtl.createSet(0));Result=$lp3(Result,"M","mmm",rtl.createSet(0));Result=$lp3(Result,"n","m",rtl.createSet(0));Result=$lp3(Result,"D","ddd",rtl.createSet(0));Result=$lp3(Result,"j","d",rtl.createSet(0));Result=$lp3(Result,"l","dddd",rtl.createSet(0));Result=$lp3(Result,"i","nn",rtl.createSet(0));Result=$lp3(Result,"u","zzz",rtl.createSet(0));Result=$lp3(Result,"a","am\/pm",rtl.createSet(0,1));Result=$lp4(Result);return Result;};this.MetaDataToFieldDefs=function(){var A=null;var F=null;var I=0;var FS=0;var N="";var ft=0;var D=undefined;this.FFieldDefs.Clear();D=this.FMetaData["fields"];if(!rtl.isArray(D))throw $lt2.$create("Create$1",["Invalid metadata object"]);A=D;for(var $l=0,$end=A.length-1;$l<=$end;$l++){I=$l;if(!rtl.isObject(A[I]))throw $lt2.$create("CreateFmt",["Field definition %d in metadata is not an object",$lp5(0,I)]);F=A[I];D=F["name"];if(!rtl.isString(D))throw $lt2.$create("CreateFmt",["Field definition %d in has no or invalid name property",$lp5(0,I)]);N=""+D;D=F["type"];if($lp1(D)||$lp6(D)){ft=1}
else if(!rtl.isString(D)){throw $lt2.$create("CreateFmt",["Field definition %d in has invalid type property",$lp5(0,I)]);}else{ft=this.StringToFieldType(""+D);};if(ft===1){FS=this.GetStringFieldLength(F,N,I)}
else FS=0;this.FFieldDefs.Add$4(N,ft,FS);};this.FFields=A;};this.InitDateTimeFields=function(){var F=null;var FF=null;var I=0;var Fmt="";var D=undefined;if(this.FFields===null)return;for(var $l=0,$end=this.FFields.length-1;$l<=$end;$l++){I=$l;F=this.FFields[I];D=F["type"];if(rtl.isString(D)&&((""+D)==="date")){D=F["dateFormat"];if(rtl.isString(D)){Fmt=this.ConvertDateFormat(""+D);FF=this.FindField(""+F["name"]);if((FF!==null)&&(FF.FDataType in rtl.createSet(6,7,8))&&(FF.FFieldKind===0)){if($lt3.isPrototypeOf(FF)){FF.FDateFormat=Fmt}
else if($lt4.isPrototypeOf(FF)){FF.FTimeFormat=Fmt}
else if($lt5.isPrototypeOf(FF))FF.FDateTimeFormat=Fmt;};};};};};this.StringToFieldType=function(S){var Result=0;if(S==="int"){Result=3}
else if(S==="float"){Result=5}
else if(S==="boolean"){Result=4}
else if(S==="date"){Result=8}
else if((S==="string")||(S==="auto")||(S==="")){Result=1}
else if(this.FMUS){Result=1}
else throw $lt2.$create("CreateFmt",["Unknown JSON data type : %s",$lp5(18,S)]);return Result;};this.GetStringFieldLength=function(F,AName,AIndex){var Result=0;var I=0;var L=0;var D=undefined;Result=0;D=F["maxlen"];if(!isNaN($lp7(D))){Result=$lp8($lp7(D));if(Result<=0)throw $lt2.$create("CreateFmt",["Invalid maximum length specifier for field %s",$lp5(18,AName)]);}else{for(var $l=0,$end=this.FRows.length-1;$l<=$end;$l++){I=$l;D=this.FFieldMapper.GetJSONDataForField(AName,AIndex,this.FRows[I]);if(rtl.isString(D)){L=(""+D).length;if(L>Result)Result=L;};};};if(Result===0)Result=20;return Result;};this.Create$1=function(AOwner){$lt1.Create$1.call(this,AOwner);this.FUseDateTimeFormatFields=true;return this;};var $r=this.$rtti;$r.addProperty("FieldDefs",2,$lm3.$rtti["TFieldDefs"],"FFieldDefs","SetFieldDefs");$r.addProperty("Indexes",2,$lm.$rtti["TJSONIndexDefs"],"FIndexes","SetIndexes");$r.addProperty("ActiveIndex",2,rtl.string,"FActiveIndex","SetActiveIndex");$r.addProperty("Active",3,rtl.boolean,"GetActive","SetActive",{Default:false});$r.addProperty("BeforeOpen",0,$lm3.$rtti["TDataSetNotifyEvent"],"FBeforeOpen","FBeforeOpen");$r.addProperty("AfterOpen",0,$lm3.$rtti["TDataSetNotifyEvent"],"FAfterOpen","FAfterOpen");$r.addProperty("BeforeClose",0,$lm3.$rtti["TDataSetNotifyEvent"],"FBeforeClose","FBeforeClose");$r.addProperty("AfterClose",0,$lm3.$rtti["TDataSetNotifyEvent"],"FAfterClose","FAfterClose");$r.addProperty("BeforeInsert",0,$lm3.$rtti["TDataSetNotifyEvent"],"FBeforeInsert","FBeforeInsert");$r.addProperty("AfterInsert",0,$lm3.$rtti["TDataSetNotifyEvent"],"FAfterInsert","FAfterInsert");$r.addProperty("BeforeEdit",0,$lm3.$rtti["TDataSetNotifyEvent"],"FBeforeEdit","FBeforeEdit");$r.addProperty("AfterEdit",0,$lm3.$rtti["TDataSetNotifyEvent"],"FAfterEdit","FAfterEdit");$r.addProperty("BeforePost",0,$lm3.$rtti["TDataSetNotifyEvent"],"FBeforePost","FBeforePost");$r.addProperty("AfterPost",0,$lm3.$rtti["TDataSetNotifyEvent"],"FAfterPost","FAfterPost");$r.addProperty("BeforeCancel",0,$lm3.$rtti["TDataSetNotifyEvent"],"FBeforeCancel","FBeforeCancel");$r.addProperty("AfterCancel",0,$lm3.$rtti["TDataSetNotifyEvent"],"FAfterCancel","FAfterCancel");$r.addProperty("BeforeDelete",0,$lm3.$rtti["TDataSetNotifyEvent"],"FBeforeDelete","FBeforeDelete");$r.addProperty("AfterDelete",0,$lm3.$rtti["TDataSetNotifyEvent"],"FAfterDelete","FAfterDelete");$r.addProperty("BeforeScroll",0,$lm3.$rtti["TDataSetNotifyEvent"],"FBeforeScroll","FBeforeScroll");$r.addProperty("AfterScroll",0,$lm3.$rtti["TDataSetNotifyEvent"],"FAfterScroll","FAfterScroll");$r.addProperty("OnCalcFields",0,$lm3.$rtti["TDataSetNotifyEvent"],"FOnCalcFields","FOnCalcFields");$r.addProperty("OnDeleteError",0,$lm3.$rtti["TDataSetErrorEvent"],"FOnDeleteError","FOnDeleteError");$r.addProperty("OnEditError",0,$lm3.$rtti["TDataSetErrorEvent"],"FOnEditError","FOnEditError");$r.addProperty("OnFilterRecord",2,$lm3.$rtti["TFilterRecordEvent"],"FOnFilterRecord","SetOnFilterRecord");$r.addProperty("OnNewRecord",0,$lm3.$rtti["TDataSetNotifyEvent"],"FOnNewRecord","FOnNewRecord");$r.addProperty("OnPostError",0,$lm3.$rtti["TDataSetErrorEvent"],"FOnPostError","FOnPostError");$r.addProperty("OwnsData",0,rtl.boolean,"FOwnsData","FOwnsData");});});rtl.module("ajaxlib",["System","Classes","SysUtils","Web","Types","JS"],function(){"use strict";var $mod=this;var $lt=null;var $lm=pas.Classes;var $lt1=$lm.TComponent;var $lt2=$lm.TStringList;rtl.createClass(this,"TWebRequest",$lt1,function(){$lt=this;this.$init=function(){$lt1.$init.call(this);this.FMethod="";this.FURI="";this.FCallback=null;this.FRequest=null;this.FHeaders=null;};this.$final=function(){this.FCallback=undefined;this.FRequest=undefined;this.FHeaders=undefined;$lt1.$final.call(this);};this.GetComplete=function(){var Result=false;if(this.FRequest.readyState===4){Result=true}
else Result=false;return Result;};this.GetResponseText=function(){var Result="";Result=this.FRequest.responseText;return Result;};this.GetStatus=function(){var Result=0;Result=this.FRequest.status;return Result;};this.SetCallback=function(AValue){if(rtl.eqCallback(this.FCallback,AValue))return;this.FCallback=AValue;this.FRequest.onreadystatechange=AValue;};this.ProcessHeaders=function(){var i=0;for(var $l=0,$end=this.FHeaders.GetCount()-1;$l<=$end;$l++){i=$l;this.FRequest.setRequestHeader(this.FHeaders.GetName(i),this.FHeaders.GetValueFromIndex(i));};};this.Create$2=function(AOwner,AMethod,AURI){this.FRequest=new XMLHttpRequest();this.FHeaders=$lt2.$create("Create$1");this.FMethod=AMethod;this.FURI=AURI;return this;};this.DoRequest=function(){this.DoRequest$1("");};this.DoRequest$1=function(body){var uri="";if(this.FMethod==="get"){uri=this.FURI+"?"+body}
else uri=this.FURI;this.FRequest.open(this.FMethod,uri,true);this.ProcessHeaders();if(this.FMethod==="post"){this.FRequest.setRequestHeader("content-type","application\/x-www-form-urlencoded");if(body!==""){this.FRequest.send(body);this.FHeaders.Clear();return;};};this.FRequest.send();this.FHeaders.Clear();};});});rtl.module("jsontable",["System","Classes","SysUtils","p2jsres","Web","ExtJSDataset","JS","ajaxlib"],function(){"use strict";var $mod=this;var $lt=null;var $lt1=null;var $lt2=null;var $lt3=null;var $lm=pas.SysUtils;var $lt4=$lm.Exception;var $lm1=pas.Classes;var $lt5=$lm1.TComponent;var $lm2=pas.p2jsres;var $lt6=$lm2.TResourceInfo;var $lp=$lm2.GetResourceInfo$1;var $lm3=pas.ajaxlib;var $lt7=$lm3.TWebRequest;var $lm4=pas.ExtJSDataset;var $lt8=$lm4.TExtJSJSONDataSet;rtl.createClass(this,"EJSONTable",$lt4,function(){$lt=this;});rtl.createClass(this,"EBadDatafile",$lt,function(){$lt1=this;});rtl.createClass(this,"ENoDataSet",$lt,function(){$lt2=this;});rtl.createClass(this,"TJSONTable",$lt5,function(){$lt3=this;this.$init=function(){$lt5.$init.call(this);this.FActive=false;this.FDataSet=null;this.FDatafile="";this.FFilter="";this.FRequest=null;this.FOnSuccess=null;this.FOnFailure=null;};this.$final=function(){this.FDataSet=undefined;this.FRequest=undefined;this.FOnSuccess=undefined;this.FOnFailure=undefined;$lt5.$final.call(this);};this.GetDataSet=function(){var Result=null;if(!this.FActive)throw $lt2.$create("Create$1",["Dataset not available."]);Result=this.FDataSet;return Result;};this.GetDates=function(AField){var Result=0.0;Result=this.FDataSet.FieldByName(AField).GetAsDateTime();return Result;};this.GetInts=function(AField){var Result=0;Result=this.IntField(AField);return Result;};this.GetStrings=function(AField){var Result="";Result=this.StringField(AField);return Result;};this.SetActive=function(AValue){if(this.FActive===AValue)return;if(AValue&&(this.FDatafile===""))throw $lt1.$create("Create$1",["Datafile is not set."]);if(AValue){this.OpenTable()}
else this.CloseTable();this.FActive=AValue;};this.SetDatafile=function(AValue){if(this.FDatafile===AValue)return;if(this.FActive)throw $lt1.$create("Create$1",["Datafile cannot be set while active."]);this.FDatafile=AValue;};this.ParseTable=function(data){var json=null;json=JSON.parse(data);this.FDataSet.SetMetaData(json["metaData"]);this.FDataSet.SetRows(json["Data"]);this.FDataSet.Open();};this.ParseJSON=function(){if(!this.FRequest.GetComplete())return;if(this.FRequest.GetStatus()!==200){if(this.FOnFailure!=null)this.FOnFailure();}else{this.ParseTable(this.FRequest.GetResponseText());if(this.FOnSuccess!=null)this.FOnSuccess();};};this.OpenTable=function(){var info=$lt6.$new();if($lp(0,this.FDatafile,info)){this.ParseTable(window.atob(info.data))}
else{this.FRequest=$lt7.$create("Create$2",[this,"get",this.FDatafile+".json"]);this.FRequest.SetCallback(rtl.createSafeCallback(this,"ParseJSON"));this.FRequest.DoRequest();};};this.CloseTable=function(){this.FDataSet.Close();};this.SetFilter=function(AValue){if(this.FFilter===AValue)return;if(!this.FActive)throw $lt2.$create("Create$1",["Dataset is not active."]);if(AValue===""){this.FDataSet.SetFiltered(false)}
else{this.FDataSet.SetFilterText(AValue);this.FDataSet.SetFiltered(true);this.FDataSet.First();};this.FFilter=AValue;};this.StringField=function(AField){var Result="";Result=this.FDataSet.FieldByName(AField).GetAsString();return Result;};this.IntField=function(AField){var Result=0;Result=this.FDataSet.FieldByName(AField).GetAsInteger();return Result;};this.Create$1=function(AOwner){$lt5.Create$1.call(this,AOwner);this.FDataSet=$lt8.$create("Create$1",[this]);this.FDatafile="";return this;};this.Destroy=function(){rtl.free(this,"FDataSet");$lt5.Destroy.call(this);};});});rtl.module("models",["System","Classes","SysUtils","browserconsole","jsontable"],function(){"use strict";var $mod=this;var $lt=null;var $lm=pas.jsontable;var $lt1=$lm.TJSONTable;rtl.createClass(this,"TWebsiteDB",$lt1,function(){$lt=this;this.Create$1=function(AOwner){$lt1.Create$1.call(this,AOwner);this.SetDatafile("website");this.SetActive(true);return this;};});});rtl.module("strutils",["System","SysUtils","Types"],function(){"use strict";var $mod=this;var $impl=$mod.$impl;var $lm=pas.System;var $lp=$lm.upcase;var $lp1=$lm.StringOfChar;this.Soundex=function(AText,ALength){var Result="";var S="";var PS="";var I=0;var L=0;Result="";PS="\x00";if(AText.length>0){Result=$lp(AText.charAt(0));I=2;L=AText.length;while((I<=L)&&(Result.length<ALength)){S=$impl.SScore.charAt(AText.charCodeAt(I-1)-1);if(!(S.charCodeAt()in rtl.createSet(48,105,PS.charCodeAt())))Result=Result+S;if(S!=="i")PS=S;I+=1;};};L=Result.length;if(L<ALength)Result=Result+$lp1("0",ALength-L);return Result;};this.SoundexSimilar=function(AText,AOther,ALength){var Result=false;Result=$mod.Soundex(AText,ALength)===$mod.Soundex(AOther,ALength);return Result;};this.SoundexSimilar$1=function(AText,AOther){var Result=false;Result=$mod.SoundexSimilar(AText,AOther,4);return Result;};this.SoundexProc=function(AText,AOther){var Result=false;Result=$mod.SoundexSimilar$1(AText,AOther);return Result;};this.AnsiResemblesProc=null;this.ResemblesProc=null;this.RPosex$1=function(Substr,Source,offs){var Result=0;Result=(new String(Source)).lastIndexOf(Substr,offs-1)+1;return Result;};this.RPos=function(c,S){var Result=0;Result=$mod.RPosex$1(c,S,S.length);return Result;};$mod.$implcode=function(){$impl.SScore="00000000000000000000000000000000"+"00000000000000000000000000000000"+"0123012i02245501262301i2i2"+"000000"+"0123012i02245501262301i2i2"+"00000000000000000000000000000000"+"00000000000000000000000000000000"+"00000000000000000000000000000000"+"00000000000000000000000000000000"+"00000";};$mod.$init=function(){$mod.AnsiResemblesProc=$mod.SoundexProc;$mod.ResemblesProc=$mod.SoundexProc;};},["JS"]);rtl.module("webrouter",["System","Classes","SysUtils","Web"],function(){"use strict";var $mod=this;var $impl=$mod.$impl;var $lt=null;var $lt1=null;var $lt2=null;var $lt3=null;var $lt4=null;var $lt5=null;var $lt6=null;var $lt7=null;var $lt8=null;var $lt9=null;var $lt10=null;var $lt11=null;var $lt12=null;var $lt13=null;var $lt14=null;var $lm=pas.SysUtils;var $lt15=$lm.Exception;var $lm1=pas.Classes;var $lm2=pas.System;var $lt16=$lm2.TObject;var $lp=$lm2.Copy;var $lp1=$lm2.Pos;var $lt17=$lm1.TStringList;var $lt18=$lm1.TCollectionItem;var $lp2=$lm2.Delete;var $lp3=$lm.CompareText;var $lm3=null;var $lp4=null;var $lt19=$lm1.TCollection;var $lt20=$lm1.TComponent;var $lp5=$lm2.VarRecs;var $lp6=$lm.FreeAndNil;var $lm4=null;var $lp7=null;var $lp8=$lm.IntToStr;var $lp9=null;rtl.createClass(this,"EHTTPRoute",$lt15,function(){$lt=this;});rtl.recNewT(this,"TScrollPoint",function(){$lt1=this;this.X=0.0;this.Y=0.0;this.$eq=function(b){return(this.X===b.X)&&(this.Y===b.Y);};this.$assign=function(s){this.X=s.X;this.Y=s.Y;return this;};});this.$rtti.$Class("TRoute");this.$rtti.$RefToProcVar("TRouteEvent",{procsig:rtl.newTIProcSig([["URl",rtl.string],["aRoute",this.$rtti["TRoute"]],["Params",$lm1.$rtti["TStrings"]]])});$lt2=this.TTransitionResult={"0":"trOK",trOK:0,"1":"trError",trError:1,"2":"trAbort",trAbort:2};$lt3=this.THistoryKind={"0":"hkAuto",hkAuto:0,"1":"hkAbstract",hkAbstract:1,"2":"hkHash",hkHash:2,"3":"hkHTML5",hkHTML5:3};rtl.createClass(this,"THistory",$lt16,function(){$lt4=this;this.$init=function(){$lt16.$init.call(this);this.FOnAllow=null;this.FRouter=null;this.FOnChange=null;this.FOnReady=null;this.FOnError=null;this.FCurrent=null;this.FBase="";};this.$final=function(){this.FOnAllow=undefined;this.FRouter=undefined;this.FOnChange=undefined;this.FOnReady=undefined;this.FOnError=undefined;this.FCurrent=undefined;$lt16.$final.call(this);};this.GetCurrent=function(){var Result=null;Result=this.FCurrent;return Result;};this.SetupListeners=function(){};this.Create$2=function(aRouter,aBase){this.FRouter=aRouter;this.FBase=aBase;return this;};this.NormalizeHash=function(aHash){var Result="";Result=aHash;if($lp(Result,1,1)!=="\/")Result="\/"+Result;return Result;};this.UpdateRoute=function(aRoute){this.FCurrent=aRoute;if(this.FOnChange!=null)this.FOnChange(aRoute);};this.Destroy=function(){$lt16.Destroy.call(this);};this.ExpectScroll=function(){var Result=false;Result=(this.FRouter!=null)&&(this.FRouter.FOnScroll!=null);return Result;};this.SupportsScroll=function(){var Result=false;Result=$lt13.supportsPushState()&&this.ExpectScroll();return Result;};this.getLocation=function(base){var Result="";var path="";path=window.location.pathname;if((base!=="")&&($lp1(base,path)===1))path=$lp(path,base.length+1,path.length-base.length);Result=path;if(Result==="")Result="\/";Result=Result+window.location.search+window.location.hash;return Result;};this.Push=function(location){var Result=0;var Old=null;Old=this.GetCurrent();Result=this.TransitionTo(location);if(Result===0){Result=this.doPush(location);if(Result===0)$lt12.handle(this.FRouter,this.GetCurrent(),Old,false);};return Result;};this.TransitionTo=function(aLocation){var Result=0;var Params=null;var R=null;Params=$lt17.$create("Create$1");try{R=this.FRouter.FindHTTPRoute(aLocation,Params);var $tmp=this.ConfirmTransition(R,Params);if($tmp===0){R=this.FRouter.DoRouteRequest(R,aLocation,Params);this.UpdateRoute(R);if(this.FOnReady!=null)this.FOnReady(this,aLocation,R);}else if($tmp===1)if(this.FOnError!=null)this.FOnError(this,aLocation,R);}finally{Params=rtl.freeLoc(Params);};Result=0;return Result;};this.ConfirmTransition=function(aRoute,Params){var Result=0;var Old=null;var allow=false;Old=this.GetCurrent();allow=true;if(this.FOnAllow!=null)this.FOnAllow(this,Old,aRoute,Params,{get:function(){return allow;},set:function(v){allow=v;}});if(!allow){this.ensureURL(false);Result=2;};Result=0;return Result;};});rtl.createClass(this,"TAbstractHistory",$lt4,function(){$lt5=this;this.$init=function(){$lt4.$init.call(this);this.FIndex=0;this.FStack=[];};this.$final=function(){this.FStack=undefined;$lt4.$final.call(this);};this.MaybeGrow=function(AIndex){if((AIndex+1)>rtl.length(this.FStack))this.FStack=rtl.arraySetLength(this.FStack,"",AIndex+1);};this.doPush=function(location){var Result=0;this.FIndex+=1;this.MaybeGrow(this.FIndex);this.FStack[this.FIndex]=location;Result=0;return Result;};this.Create$2=function(router,base){$lt4.Create$2.apply(this,arguments);this.FStack=rtl.arraySetLength(this.FStack,"",0);this.FIndex=-1;return this;};this.GetCurrentLocation=function(){var Result="";var I=0;var Route="";I=rtl.length(this.FStack)-1;if(I>=0){Route=this.FStack[I]}
else Result="\/";Result=Route;return Result;};this.ensureURL=function(Push){if(Push);};});rtl.createClass(this,"THashHistory",$lt4,function(){$lt6=this;this.$init=function(){$lt4.$init.call(this);this.FlastHash="";};this.DoHashChange=function(){var NewHash="";var Old=null;NewHash=this.$class.NormalizeHash(this.$class.getHash());if(NewHash===this.FlastHash)return;Old=this.GetCurrent();if(this.TransitionTo(NewHash)===0){$lt12.handle(this.FRouter,this.GetCurrent(),Old,true);this.FlastHash=NewHash;}else this.$class.replaceHash(this.FlastHash);};this.SetupListeners=function(){if(this.SupportsScroll())$lt12.Setup();if($lt13.supportsPushState()){window.addEventListener("popstate",rtl.createCallback(this,"DoHashChange"))}
else window.addEventListener("hashchange",rtl.createCallback(this,"DoHashChange"));};this.doPush=function(location){var Result=0;var L="";L=this.$class.NormalizeHash(location);this.FlastHash=L;this.$class.pushHash(L);Result=0;return Result;};this.ensureURL=function(push){var aHash="";var CURL="";CURL=this.$class.NormalizeHash(this.FlastHash);aHash=this.$class.getHash();if(aHash!==CURL)if(push){this.$class.pushHash(CURL)}
else this.$class.replaceHash(CURL);};this.GetCurrentLocation=function(){var Result="";Result=this.$class.getHash();return Result;};this.pushHash=function(path){if($lt13.supportsPushState()){$lt13.PushState(this.getUrl(path),false)}
else window.location.hash=path;};this.replaceHash=function(path){var H="";H=this.getHash();if(H===path)return;if($lt13.supportsPushState()){$lt13.ReplaceState(this.getUrl(path))}
else window.location.replace(this.getUrl(path));};this.getUrl=function(APath){var Result="";var HRef="";var Idx=0;HRef=window.location.href;Idx=$lp1("#",HRef);if(Idx===0){Result=HRef}
else Result=$lp(HRef,1,Idx-1);Result=Result+"#"+APath;return Result;};this.getHash=function(){var Result="";var HRef="";var Idx=0;HRef=window.location.href;Idx=$lp1("#",HRef);if(Idx===0){Result=""}
else Result=$lp(HRef,Idx+1,HRef.length-Idx);return Result;};});rtl.createClass(this,"THTMLHistory",$lt4,function(){$lt7=this;this.$init=function(){$lt4.$init.call(this);this.FlastLocation="";};this.DoStateChange=function(){var NewLocation="";var Old=null;NewLocation=this.$class.getLocation(this.FBase);if(NewLocation===this.FlastLocation)return;Old=this.GetCurrent();if(this.TransitionTo(NewLocation)===0){$lt12.handle(this.FRouter,this.GetCurrent(),Old,true);this.FlastLocation=NewLocation;}else this.$class.replaceState(this.FlastLocation);};this.SetupListeners=function(){window.addEventListener("popstate",rtl.createCallback(this,"DoStateChange"));};this.doPush=function(location){var Result=0;this.$class.pushState(this.getUrl(location),false);Result=0;return Result;};this.ensureURL=function(push){var URL="";var Actual="";var Expected="";Actual=this.GetCurrentLocation();Expected=this.FlastLocation;if(Actual!==Expected){URL=this.getUrl(Expected);if(push){this.$class.pushState(URL,false)}
else this.$class.replaceState(URL);};};this.GetCurrentLocation=function(){var Result="";Result=window.location;return Result;};this.pushState=function(path,doReplace){$lt13.PushState(path,doReplace);};this.replaceState=function(path){this.pushState(path,true);};this.getUrl=function(ALocation){var Result="";Result=$mod.IncludeHTTPPathDelimiter(this.FBase);while((ALocation!=="")&&($lp(ALocation,1,1)==="\/"))ALocation=$lp(ALocation,2,ALocation.length-1);Result=this.FBase+ALocation;return Result;};});rtl.createClass(this,"TRoute",$lt18,function(){$lt8=this;this.$init=function(){$lt18.$init.call(this);this.FDefault=false;this.FEvent=null;this.FURLPattern="";};this.$final=function(){this.FEvent=undefined;$lt18.$final.call(this);};this.SetURLPattern=function(AValue){var V="";V=this.$class.NormalizeURLPattern(AValue);if(this.FURLPattern===V)return;this.FURLPattern=V;};this.NormalizeURLPattern=function(AValue){var Result="";var V="";V=$mod.IncludeHTTPPathDelimiter(AValue);if((V!=="\/")&&(V.charAt(0)==="\/"))$lp2({get:function(){return V;},set:function(v){V=v;}},1,1);Result=V;return Result;};this.Matches=function(APattern){var Result=false;Result=$lp3(this.FURLPattern,this.$class.NormalizeURLPattern(APattern))===0;return Result;};this.MatchPattern=function(Path,L){var $Self=this;var Result=false;function StartsWith(C,S){var Result=false;Result=(S.length>0)&&(S.charAt(0)===C);return Result;};function EndsWith(C,S){var Result=false;var L=0;L=S.length;Result=(L>0)&&(S.charAt(L-1)===C);return Result;};function ExtractNextPathLevel(ALeft,ALvl,ARight,ADelim){var P=0;if(ALvl.get()!==ADelim){ALeft.set(ALeft.get()+ALvl.get());if(StartsWith(ADelim,ARight.get())){ALeft.set(ALeft.get()+ADelim);$lp2(ARight,1,1);};};P=$lp1(ADelim,ARight.get());if(P===0)P=ARight.get().length+1;ALvl.set($lp(ARight.get(),1,P-1));ARight.set($lp(ARight.get(),P,2147483647));};function ExtractPrevPathLevel(ALeft,ALvl,ARight,ADelim){var P=0;var L=0;if(ALvl.get()!==ADelim){ARight.set(ALvl.get()+ARight.get());L=ALeft.get().length;if(EndsWith(ADelim,ALeft.get())){ARight.set(ADelim+ARight.get());$lp2(ALeft,L,1);};};P=$lp4(ADelim,ALeft.get());ALvl.set($lp(ALeft.get(),P+1,2147483647));ALeft.set($lp(ALeft.get(),1,P));};function AddParam(aName,AValue){if(L!=null)L.SetValue(aName,AValue);};var APathInfo="";var APattern="";var VLeftPat="";var VRightPat="";var VLeftVal="";var VRightVal="";var VVal="";var VPat="";var VName="";Result=false;if(this.FURLPattern==="")return Result;APathInfo=Path;APattern=this.FURLPattern;$lp2({get:function(){return APattern;},set:function(v){APattern=v;}},$lp1("?",APattern),2147483647);$lp2({get:function(){return APathInfo;},set:function(v){APathInfo=v;}},$lp1("?",APathInfo),2147483647);if(StartsWith("\/",APattern))$lp2({get:function(){return APattern;},set:function(v){APattern=v;}},1,1);if(StartsWith("\/",APathInfo))$lp2({get:function(){return APathInfo;},set:function(v){APathInfo=v;}},1,1);VLeftPat="";VLeftVal="";VPat="\/";VVal="\/";VRightPat=APattern;VRightVal=APathInfo;do{ExtractNextPathLevel({get:function(){return VLeftPat;},set:function(v){VLeftPat=v;}},{get:function(){return VPat;},set:function(v){VPat=v;}},{get:function(){return VRightPat;},set:function(v){VRightPat=v;}},"\/");ExtractNextPathLevel({get:function(){return VLeftVal;},set:function(v){VLeftVal=v;}},{get:function(){return VVal;},set:function(v){VVal=v;}},{get:function(){return VRightVal;},set:function(v){VRightVal=v;}},"\/");if(StartsWith(":",VPat)){AddParam($lp(VPat,2,2147483647),VVal)}
else if(StartsWith("*",VPat)){VName=$lp(VPat,2,2147483647);VLeftPat=VRightPat;VLeftVal=VVal+VRightVal;VPat="\/";VVal="\/";VRightPat="";VRightVal="";if(EndsWith("\/",VLeftPat)&&!EndsWith("\/",VLeftVal))$lp2({get:function(){return VLeftPat;},set:function(v){VLeftPat=v;}},VLeftPat.length,1);do{ExtractPrevPathLevel({get:function(){return VLeftPat;},set:function(v){VLeftPat=v;}},{get:function(){return VPat;},set:function(v){VPat=v;}},{get:function(){return VRightPat;},set:function(v){VRightPat=v;}},"\/");ExtractPrevPathLevel({get:function(){return VLeftVal;},set:function(v){VLeftVal=v;}},{get:function(){return VVal;},set:function(v){VVal=v;}},{get:function(){return VRightVal;},set:function(v){VRightVal=v;}},"\/");if(StartsWith(":",VPat)){AddParam($lp(VPat,2,2147483647),VVal);}else if(!((VPat==="")&&(VLeftPat===""))&&(VPat!==VVal))return Result;if((VLeftPat==="")||(VLeftVal==="")){if(VLeftPat===""){if(VName!=="")AddParam(VName,VLeftVal+VVal);Result=true;};return Result;};}while(!false);}else if(VPat!==VVal)return Result;if((VRightPat==="")||(VRightVal==="")){if((VRightPat==="")&&(VRightVal==="")){Result=true}
else if(VRightPat==="\/")Result=true;return Result;};}while(!false);return Result;};var $r=this.$rtti;$r.addProperty("Default",0,rtl.boolean,"FDefault","FDefault");$r.addProperty("URLPattern",2,rtl.string,"FURLPattern","SetURLPattern");$r.addProperty("Event",0,$mod.$rtti["TRouteEvent"],"FEvent","FEvent");});rtl.createClass(this,"TRouteList",$lt19,function(){$lt9=this;this.GetR=function(AIndex){var Result=null;Result=rtl.as(this.GetItem(AIndex),$lt8);return Result;};});rtl.recNewT(this,"TScrollParams",function(){$lt10=this;this.selector="";this.$new=function(){var r=Object.create(this);r.Position=$lt1.$new();return r;};this.$eq=function(b){return(this.selector===b.selector)&&this.Position.$eq(b.Position);};this.$assign=function(s){this.selector=s.selector;this.Position.$assign(s.Position);return this;};});rtl.createClass(this,"TRouter",$lt20,function(){$lt11=this;this.FService=null;this.FServiceClass=null;this.$init=function(){$lt20.$init.call(this);this.FAfterRequest=null;this.FBeforeRequest=null;this.FHistory=null;this.FOnScroll=null;this.FRoutes=null;};this.$final=function(){this.FAfterRequest=undefined;this.FBeforeRequest=undefined;this.FHistory=undefined;this.FOnScroll=undefined;this.FRoutes=undefined;$lt20.$final.call(this);};this.GetHistory=function(){var Result=null;if(this.FHistory===null)this.InitHistory(0,"");Result=this.FHistory;return Result;};this.CreateHTTPRoute=function(AClass,APattern,IsDefault){var Result=null;this.CheckDuplicate(APattern,IsDefault);Result=AClass.$create("Create$1",[this.FRoutes]);Result.SetURLPattern(APattern);Result.FDefault=IsDefault;return Result;};this.CreateRouteList=function(){var Result=null;Result=$lt9.$create("Create$1",[$lt8]);return Result;};this.CheckDuplicate=function(APattern,isDefault){var I=0;var DI=0;var R=null;DI=-1;for(var $l=0,$end=this.FRoutes.GetCount()-1;$l<=$end;$l++){I=$l;R=this.FRoutes.GetR(I);if(R.FDefault)DI=I;if(R.Matches(APattern))throw $lt.$create("CreateFmt",[rtl.getResStr($mod,"EDuplicateRoute"),$lp5(18,APattern)]);};if(isDefault&&(DI!==-1))throw $lt.$create("CreateFmt",[rtl.getResStr($mod,"EDuplicateDefaultRoute"),$lp5(18,APattern)]);};this.DoRouteRequest=function(ARoute,AURL,AParams){var Result=null;Result=ARoute;if(Result!=null){Result.HandleRequest(this,AURL,AParams)}
else throw $lt.$create("CreateFmt",["No route for URL: %s",$lp5(18,AURL)]);return Result;};this.DoRouteRequest$1=function(AURL,DoPush){var Result=null;var APath="";var Params=null;APath=AURL;Params=$lt17.$create("Create$1");try{Result=this.GetRoute(APath,Params);if(DoPush){this.Push(AURL)}
else Result=this.DoRouteRequest(Result,APath,Params);}finally{Params=rtl.freeLoc(Params);};return Result;};this.Create$1=function(AOwner){$lt20.Create$1.call(this,AOwner);this.FRoutes=this.CreateRouteList();return this;};this.Destroy=function(){$lp6({p:this,get:function(){return this.p.FRoutes;},set:function(v){this.p.FRoutes=v;}});$lt20.Destroy.call(this);};this.InitHistory=function(aKind,aBase){$lp6({p:this,get:function(){return this.p.FHistory;},set:function(v){this.p.FHistory=v;}});var $tmp=aKind;if($tmp===1){this.FHistory=$lt5.$create("Create$2",[this,aBase])}
else if($tmp===2){this.FHistory=$lt6.$create("Create$2",[this,aBase])}
else if($tmp===3){this.FHistory=$lt7.$create("Create$2",[this,aBase])}
else if($tmp===0)if($lt13.supportsPushState()){this.FHistory=$lt7.$create("Create$2",[this,aBase])}
else this.FHistory=$lt6.$create("Create$2",[this,aBase]);this.FHistory.SetupListeners();};this.SanitizeRoute=function(Path){var Result="";Result=Path;return Result;};this.Service=function(){var Result=null;if(this.FService===null)$lt11.FService=this.ServiceClass().$create("Create$1",[null]);Result=this.FService;return Result;};this.ServiceClass=function(){var Result=null;if(this.FServiceClass===null)$lt11.FServiceClass=$lt11;Result=this.FServiceClass;return Result;};this.RegisterRoute=function(APattern,AEvent,IsDefault){var Result=null;Result=this.CreateHTTPRoute($lt14,APattern,IsDefault);Result.FEvent=AEvent;return Result;};this.FindHTTPRoute=function(Path,Params){var Result=null;var I=0;var APathInfo="";APathInfo=this.$class.SanitizeRoute(Path);Result=null;I=0;while((Result===null)&&(I<this.FRoutes.GetCount())){Result=this.FRoutes.GetR(I);if(!Result.MatchPattern(APathInfo,Params))Result=null;I+=1;};return Result;};this.GetRoute=function(Path,Params){var Result=null;Result=this.FindHTTPRoute(Path,Params);if(!(Result!=null))throw $lt.$create("Create$1",["Not found"]);return Result;};this.RouteRequest=function(ARouteURL,DoPush){var Result=null;var AURL="";AURL=ARouteURL;if(this.FBeforeRequest!=null)this.FBeforeRequest(this,{get:function(){return AURL;},set:function(v){AURL=v;}});Result=this.DoRouteRequest$1(AURL,DoPush);if(this.FAfterRequest!=null)this.FAfterRequest(this,AURL);return Result;};this.RouteFromURL=function(){var Result="";Result=this.GetCurrentLocation();if(Result!=="")$mod.Router().RouteRequest(Result,true);return Result;};this.GetCurrentLocation=function(){var Result="";Result=this.GetHistory().GetCurrentLocation();return Result;};this.Push=function(location){var Result=0;Result=this.GetHistory().Push(location);return Result;};});rtl.createClass(this,"TWebScroll",$lt16,function(){$lt12=this;this.scrollToPosition=function(AScroll){var el=null;var P=$lt1.$new();if(AScroll.selector!==""){el=document.querySelector(AScroll.selector);if(el!=null){P.$assign($impl.getElementPosition(el,$lt1.$clone(AScroll.Position)))}
else P.$assign(AScroll.Position);}else P.$assign(AScroll.Position);window.scrollTo(Math.round(P.X),Math.round(P.Y));};this.getScrollPosition=function(){var Result=$lt1.$new();var Key="";var O=undefined;Key=this.GetStateKey();Result.X=0;Result.Y=0;if(Key!==""){O=$impl.positionStore[Key];if(rtl.isObject(O)){Result.X=rtl.getNumber(O["x"]);Result.Y=rtl.getNumber(O["y"]);};};return Result;};this.SaveScrollPosition=function(){var Key="";Key=this.GetStateKey();if(Key!=="")$impl.positionStore[Key]=$lp7(["x",window.scrollX,"y",window.scrollY]);};this.Setup=function(){window.history.replaceState($lp7(["key",this.GetStateKey()]),"");window.addEventListener("popstate",rtl.createSafeCallback($impl,"DoScroll"));};this.handle=function(router,ato,afrom,isPop){var Position=$lt1.$new();var ScrollParams=$lt10.$new();if(!(router.FOnScroll!=null))return;Position.$assign(this.getScrollPosition());ScrollParams.$assign(router.FOnScroll(router,ato,afrom,$lt1.$clone(Position)));this.scrollToPosition($lt10.$clone(ScrollParams));};this.GetStateKey=function(){var Result="";Result=(new Date()).toString();return Result;};});rtl.createClass(this,"TBrowserState",$lt16,function(){$lt13=this;this.TheKey="";this.GenKey=function(){var Result="";Result=$lp8(Date.now());return Result;};this.supportsPushState=function(){var $Self=this;var Result=false;var UA="";function isB(B){var Result=false;Result=$lp1(B,UA)!==0;return Result;};Result=false;if($lp9(window)&&$lp9(window.navigator)){UA=window.navigator.userAgent;Result=!(isB("Android 2.")||isB("Android 4.0")||isB("Mobile Safari")||isB("Chrome")||isB("Windows Phone"));};if(Result)Result=$lp9(window.history)&&$lp9(window.history);return Result;};this.GetStateKey=function(){var Result="";if(this.TheKey==="")$lt13.TheKey=this.GenKey();Result=this.TheKey;return Result;};this.SetStateKey=function(akey){$lt13.TheKey=akey;};this.PushState=function(aUrl,replace){var O=null;$lt12.SaveScrollPosition();try{if(!replace)this.SetStateKey(this.GenKey());O=$lp7(["key",this.GetStateKey()]);if(replace){window.history.replaceState(O,"",aUrl)}
else window.history.pushState(O,"",aUrl);}catch($e){if(replace){window.location.replace(aUrl)}
else window.location.assign(aUrl);};};this.ReplaceState=function(aUrl){this.PushState(aUrl,true);};});this.Router=function(){var Result=null;Result=$lt11.Service();return Result;};this.IncludeHTTPPathDelimiter=function(S){var Result="";if($lp(S,S.length,1)==="\/"){Result=S}
else Result=S+"\/";return Result;};$mod.$implcode=function(){$lm3=pas.strutils;$lp4=$lm3.RPos;$lm4=pas.JS;$lp7=$lm4.New;$lp9=$lm4.isDefined;rtl.createClass($impl,"TRouteEventHandler",$lt8,function(){$lt14=this;this.HandleRequest=function(ARouter,URL,Params){if(this.FEvent!=null)this.FEvent(URL,this,Params);};});$impl.DoScroll=function(Event){var Result=false;$lt12.SaveScrollPosition();Result=true;return Result;};$impl.positionStore=null;$impl.getElementPosition=function(el,offset){var Result=$lt1.$new();var DocEl=null;var docRect=null;var elRect=null;DocEl=document.documentElement;docRect=DocEl.getBoundingClientRect();elRect=el.getBoundingClientRect();Result.X=elRect.left-docRect.left-offset.X;Result.Y=elRect.top-docRect.top-offset.Y;return Result;};$mod.$resourcestrings={EDuplicateRoute:{org:"Duplicate route pattern: %s"},EDuplicateDefaultRoute:{org:"Duplicate default route registered with pattern: %s"}};};$mod.$init=function(){$impl.positionStore=$lp7([]);};},["strutils","JS"]);rtl.module("program",["System","browserconsole","browserapp","JS","Classes","SysUtils","Web","models","DateUtils","webrouter"],function(){"use strict";var $mod=this;var $lt=null;var $lm=pas.browserapp;var $lt1=$lm.TBrowserApplication;var $lm1=pas.SysUtils;var $lp=$lm1.QuotedStr;var $lp1=$lm1.FormatDateTime;var $lm2=pas.webrouter;var $lp2=$lm2.Router;var $lm3=pas.models;var $lt2=$lm3.TWebsiteDB;rtl.createClass(this,"TMyHomePage",$lt1,function(){$lt=this;this.$init=function(){$lt1.$init.call(this);this.FDatabase=null;};this.$final=function(){this.FDatabase=undefined;$lt1.$final.call(this);};this.HandleRoute=function(URL,aRoute,Params){var ct=0;this.FDatabase.SetFilter("Path="+$lp(URL,"'"));if(this.FDatabase.GetDataSet().FEOF){this.GetHTMLElement("title").innerHTML=$mod.WEBSITE_TITLE;document.title="Resource not found";this.GetHTMLElement("modified").innerHTML="An error has occured.";this.GetHTMLElement("content").innerHTML="<h1>Resource not found.<\/h1>";return;};this.GetHTMLElement("title").innerHTML=this.FDatabase.GetStrings("Title");if(this.FDatabase.GetStrings("Title")!==$mod.WEBSITE_TITLE)document.title=this.FDatabase.GetStrings("Title")+" :: "+$mod.WEBSITE_TITLE;this.GetHTMLElement("modified").innerHTML=this.GetDateInfo();ct=this.FDatabase.GetInts("ContentType");this.GetHTMLElement("content").innerHTML=this.RenderContent(ct);if((ct>99)&&(ct<200)){window.hljs.initHighlighting()}
else if(ct===50){window.eval(this.FDatabase.GetStrings("Content"))}
else if(ct===51)window.eval("window.brython({pythonpath:['\/pyapi']});");};this.GetDateInfo=function(){var Result="";var ddiff=0.0;Result=$lp1($mod.DATE_FORMAT,this.FDatabase.GetDates("Created"));ddiff=this.FDatabase.GetDates("Modified")-this.FDatabase.GetDates("Created");if(ddiff>=1.0)Result="<b>Created on<\/b> "+Result+"<br\/><b>Last Updated on<\/b> "+$lp1($mod.DATE_FORMAT,this.FDatabase.GetDates("Modified"));return Result;};this.CodeHighlight=function(lang,content){var Result="";Result='<pre><code class="language-'+lang+'">'+content+"<\/code><\/pre>";return Result;};this.RenderContent=function(ct){var Result="";var $tmp=ct;if($tmp===0){Result=this.FDatabase.GetStrings("Content")}
else if($tmp===1){Result=window.marked.parse(this.FDatabase.GetStrings("Content"))}
else if($tmp===50){Result="Loading JavaScript Application, please wait..."}
else if($tmp===51){Result='<script type="text\/python">'+this.FDatabase.GetStrings("Content")+"<\/script>"}
else if($tmp===100){Result=this.CodeHighlight("pascal",this.FDatabase.GetStrings("Content"))}
else if($tmp===101){Result=this.CodeHighlight("bash",this.FDatabase.GetStrings("Content"))}
else if($tmp===102){Result=this.CodeHighlight("python",this.FDatabase.GetStrings("Content"))}
else if($tmp===103){Result=this.CodeHighlight("ruby",this.FDatabase.GetStrings("Content"))}
else if($tmp===104){Result=this.CodeHighlight("c",this.FDatabase.GetStrings("Content"))}
else if($tmp===105){Result=this.CodeHighlight("makefile",this.FDatabase.GetStrings("Content"))}
else if($tmp===106){Result=this.CodeHighlight("javascript",this.FDatabase.GetStrings("Content"))}
else{Result="<b>Unknown Content-Type!<\/b>";};return Result;};this.HandleRequest=function(){this.GetContent("\/NaR");$lp2().InitHistory(2,"");$lp2().RegisterRoute("*",rtl.createCallback(this,"HandleRoute"),false);this.AfterInit(false);};this.DoRun=function(){this.FDatabase=$lt2.$create("Create$1",[this]);this.HandleRequest();};this.GetContent=function(APath){var Result="";this.FDatabase.SetFilter("Path="+$lp(APath,"'"));if(this.FDatabase.GetDataSet().FEOF){Result=""}
else Result=this.RenderContent(this.FDatabase.GetInts("ContentType"));return Result;};this.AfterInit=function(RealRun){if(!RealRun)return;if($lp2().RouteFromURL()==="")$lp2().Push("\/index");};});this.WEBSITE_TITLE="kveroneau.github.io";this.DATE_FORMAT='dddd mmmm d, yyyy "at" hh:nn';this.Application=null;$mod.$main=function(){$mod.Application=$lt.$create("Create$1",[null]);$mod.Application.Initialize();$mod.Application.Run();};});initAPI=function(){window.GetContent=rtl.createSafeCallback(pas.program.Application,"GetContent");AfterInit=rtl.createSafeCallback(pas.program.Application,"AfterInit");AfterInit(true);};SetTitle=function(s){document.getElementById('title').innerHTML=s;};SetContent=function(s){document.getElementById('content').innerHTML=s;};