var pas={$libimports:{}},rtl={version:20200,quiet:!1,debug_load_units:!1,debug_rtti:!1,$res:{},debug:function(){if(rtl.quiet||!console||!console.log)return;console.log(arguments)},error:function(e){throw rtl.debug("Error: ",e),e},warn:function(e){rtl.debug("Warn: ",e)},checkVersion:function(e){if(rtl.version!=e)throw"expected rtl version "+e+", but found "+rtl.version},hiInt:Math.pow(2,53),hasString:function(e){return rtl.isString(e)&&e.length>0},isArray:function(e){return Array.isArray(e)},isFunction:function(e){return typeof e=="function"},isModule:function(e){return rtl.isObject(e)&&rtl.hasString(e.$name)&&pas[e.$name]===e},isImplementation:function(e){return rtl.isObject(e)&&rtl.isModule(e.$module)&&e.$module.$impl===e},isNumber:function(e){return typeof e=="number"},isObject:function(e){var t=typeof e;return typeof e=="object"&&e!=null},isString:function(e){return typeof e=="string"},getNumber:function(e){return typeof e=="number"?e:NaN},getChar:function(e){return typeof e=="string"&&e.length===1?e:""},getObject:function(e){return typeof e=="object"||typeof e=="function"?e:null},isTRecord:function(e){return rtl.isObject(e)&&e.hasOwnProperty("$new")&&typeof e.$new=="function"},isPasClass:function(e){return rtl.isObject(e)&&e.hasOwnProperty("$classname")&&rtl.isObject(e.$module)},isPasClassInstance:function(e){return rtl.isObject(e)&&rtl.isPasClass(e.$class)},hexStr:function(e,t){return("000000000000000"+e.toString(16).toUpperCase()).slice(-t)},m_loading:0,m_loading_intf:1,m_intf_loaded:2,m_loading_impl:3,m_initializing:4,m_initialized:5,module:function(e,t,n,s){rtl.debug_load_units&&rtl.debug('rtl.module name="'+e+'" intfuses='+t+" impluses="+s),rtl.hasString(e)||rtl.error('invalid module name "'+e+'"'),rtl.isArray(t)||rtl.error('invalid interface useslist of "'+e+'"'),rtl.isFunction(n)||rtl.error('invalid interface code of "'+e+'"'),s!=null&&!rtl.isArray(s)&&rtl.error('invalid implementation useslist of "'+e+'"'),pas[e]&&rtl.error('module "'+e+'" is already registered');var o=Object.create(rtl.tSectionRTTI),i=o.$module=pas[e]={$name:e,$intfuseslist:t,$impluseslist:s,$state:rtl.m_loading,$intfcode:n,$implcode:null,$impl:null,$rtti:o};s&&(i.$impl={$module:i,$rtti:o})},exitcode:0,run:function(e){try{rtl.hasString(e)||(e="program"),rtl.debug_load_units&&rtl.debug('rtl.run module="'+e+'"'),rtl.initRTTI();var n,t=pas[e];t||rtl.error('rtl.run module "'+e+'" missing'),rtl.loadintf(t),rtl.loadimpl(t),(e=="program"||e=="library")&&(rtl.debug_load_units&&rtl.debug("running $main"),n=pas[e].$main(),rtl.isNumber(n)&&(rtl.exitcode=n))}catch(e){if(!rtl.showUncaughtExceptions)throw e;rtl.handleUncaughtException(e)||(rtl.showException(e),rtl.exitcode=216)}return rtl.exitcode},showException:function(e){var t=rtl.hasString(e.$classname)?e.$classname:"";t+=(t?": ":"")+(e.hasOwnProperty("fMessage")?e.fMessage:e),alert("Uncaught Exception : "+t)},handleUncaughtException:function(e){if(rtl.onUncaughtException)try{return rtl.onUncaughtException(e),!0}catch{return!1}else return!1},loadintf:function(e){if(e.$state>rtl.m_loading_intf)return;rtl.debug_load_units&&rtl.debug('loadintf: "'+e.$name+'"'),e.$state===rtl.m_loading_intf&&rtl.error('unit cycle detected "'+e.$name+'"'),e.$state=rtl.m_loading_intf,rtl.loaduseslist(e,e.$intfuseslist,rtl.loadintf),rtl.debug_load_units&&rtl.debug('loadintf: run intf of "'+e.$name+'"'),e.$intfcode(e.$intfuseslist),e.$state=rtl.m_intf_loaded},loaduseslist:function(e,t,n){if(t==null)return;for(var s,i=t.length,o=0;o<i;o++)s=t[o],rtl.debug_load_units&&rtl.debug('loaduseslist of "'+e.$name+'" uses="'+s+'"'),pas[s]==void 0&&rtl.error('module "'+e.$name+'" misses "'+s+'"'),n(pas[s])},loadimpl:function(e){if(e.$state>=rtl.m_loading_impl)return;e.$state<rtl.m_intf_loaded&&rtl.error('loadimpl: interface not loaded of "'+e.$name+'"'),rtl.debug_load_units&&rtl.debug('loadimpl: load uses of "'+e.$name+'"'),e.$state=rtl.m_loading_impl,rtl.loaduseslist(e,e.$impluseslist,rtl.loadintf),rtl.loaduseslist(e,e.$intfuseslist,rtl.loadimpl),rtl.loaduseslist(e,e.$impluseslist,rtl.loadimpl),rtl.debug_load_units&&rtl.debug('loadimpl: run impl of "'+e.$name+'"'),rtl.isFunction(e.$implcode)&&e.$implcode(e.$impluseslist),rtl.debug_load_units&&rtl.debug('loadimpl: run init of "'+e.$name+'"'),e.$state=rtl.m_initializing,rtl.isFunction(e.$init)&&e.$init(),e.$state=rtl.m_initialized},createCallback:function(e,t){var n;if(typeof t=="string"){if(e.hasOwnProperty("$events")||(e.$events={}),n=e.$events[t],n)return n;e.$events[t]=n=function(){return e[t].apply(e,arguments)}}else n=function(){return t.apply(e,arguments)};return n.scope=e,n.fn=t,n},createSafeCallback:function(e,t){var n;if(typeof t=="string"){if(e.hasOwnProperty("$events")||(e.$events={}),n=e.$events[t],n)return n;e.$events[t]=n=function(){try{return e[t].apply(e,arguments)}catch(e){if(!rtl.handleUncaughtException(e))throw e}}}else n=function(){try{return t.apply(e,arguments)}catch(e){if(!rtl.handleUncaughtException(e))throw e}};return n.scope=e,n.fn=t,n},eqCallback:function(e,t){return e===t||e!=null&&t!=null&&e.fn&&e.scope===t.scope&&e.fn===t.fn},initStruct:function(e,t,n){return t.$module&&t.$module.$impl===t&&(t=t.$module),e.$parent=t,rtl.isModule(t)?(e.$module=t,e.$name=n):(e.$module=t.$module,e.$name=t.$name+"."+n),t},initClass:function(e,t,n,s,o){t[n]=e,e.$class=e,e.$classname=o||n,t=rtl.initStruct(e,t,n),e.$fullname=t.$name+"."+n,rtl.debug_rtti&&rtl.debug("initClass "+e.$fullname);var i=e.$module.$rtti.$Class(e.$classname,{class:e});e.$rtti=i,rtl.isObject(e.$ancestor)&&(i.ancestor=e.$ancestor.$rtti),i.ancestor||(i.ancestor=null),s.call(e)},createClass:function(e,t,n,s,o){var i=null;n!=null?(i=Object.create(n),i.$ancestor=n):(i={$ancestor:null},i.$create=function(e,t){t==null&&(t=[]);var n=Object.create(this);n.$init();try{typeof e=="string"?n[e].apply(n,t):e.apply(n,t),n.AfterConstruction()}catch(e){throw n.Destroy&&n.Destroy(),n.$final(),e}return n},i.$destroy=function(e){this.BeforeDestruction(),this[e]&&this[e](),this.$final()}),rtl.initClass(i,e,t,s,o)},createClassExt:function(e,t,n,s,o,i){var r=rtl.isFunction(n),a=null;if(r?(a=Object.create(n.prototype),a.$ancestorfunc=n,a.$ancestor=null):n.$func?(r=!0,a=Object.create(n),a.$ancestor=n):(a=Object.create(n),a.$ancestor=null),a.$create=function(e,t){t==null&&(t=[]);var n=null;s.length>0?n=this[s](e,t):r?n=new this.$func(t):n=Object.create(a),n.$init&&n.$init();try{typeof e=="string"?this[e].apply(n,t):e.apply(n,t),n.AfterConstruction&&n.AfterConstruction()}catch(e){throw n.Destroy&&n.Destroy(),n.$final&&n.$final(),e}return n},a.$destroy=function(e){this.BeforeDestruction&&this.BeforeDestruction(),this[e]&&this[e](),this.$final&&this.$final()},rtl.initClass(a,e,t,o,i),r){function c(){}c.prototype=a,a.$func=c}},createHelper:function(e,t,n,s,o){var a,i=null;n!=null?(i=Object.create(n),i.$ancestor=n):i={$ancestor:null},e[t]=i,i.$class=i,i.$classname=o||t,e=rtl.initStruct(i,e,t),i.$fullname=e.$name+"."+t,a=i.$module.$rtti.$Helper(i.$classname,{helper:i}),i.$rtti=a,rtl.isObject(n)&&(a.ancestor=n.$rtti),a.ancestor||(a.ancestor=null),s.call(i)},tObjectDestroy:"Destroy",free:function(e,t){if(e[t]==null)return null;e[t].$destroy(rtl.tObjectDestroy),e[t]=null},freeLoc:function(e){return e==null?null:(e.$destroy(rtl.tObjectDestroy),null)},hideProp:function(e,t,n){Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0}),arguments.length>2&&(e[t]=n)},recNewT:function(e,t,n,s){var i,o={};return e&&(e[t]=o),i=rtl.hideProp,s&&(rtl.initStruct(o,e,t),o.$record=o,i(o,"$record"),i(o,"$name"),i(o,"$parent"),i(o,"$module"),i(o,"$initSpec")),n.call(o),o.$new||(o.$new=function(){return Object.create(o)}),o.$clone=function(e){return o.$new().$assign(e)},i(o,"$new"),i(o,"$clone"),i(o,"$eq"),i(o,"$assign"),o},is:function(e,t){return t.isPrototypeOf(e)||e===t},isExt:function(e,t,n){return e!=null&&!(typeof t!="object"&&typeof t!="function")&&(e===t?n!==1&&(n!==2||rtl.isPasClass(e)):t.isPrototypeOf&&t.isPrototypeOf(e)?n===1?rtl.isPasClassInstance(e):n!==2||rtl.isPasClass(e):typeof t=="function"&&e instanceof t)},Exception:null,EInvalidCast:null,EAbstractError:null,ERangeError:null,EIntOverflow:null,EPropWriteOnly:null,raiseE:function(e){var n,t=rtl[e];if(t==null&&(n=pas.SysUtils,n||(n=pas.sysutils),n&&(t=n[e],t||(t=n[e.toLowerCase()]),t||(t=n.Exception),t||(t=n.exception))),t){if(t.Create)throw t.$create("Create");if(t.create)throw t.$create("create")}throw e==="EInvalidCast"?"invalid type cast":e==="EAbstractError"?"Abstract method called":e==="ERangeError"?"range error":e},as:function(e,t){if(e===null||rtl.is(e,t))return e;rtl.raiseE("EInvalidCast")},asExt:function(e,t,n){if(e===null||rtl.isExt(e,t,n))return e;rtl.raiseE("EInvalidCast")},createInterface:function(e,t,n,s,o,i){var r,a=o?Object.create(o):{};return e[t]=a,a.$module=e,a.$name=t,a.$fullname=e.$name+"."+t,a.$guid=n,a.$guidr=null,a.$names=s||[],rtl.isFunction(i)&&(rtl.debug_rtti&&rtl.debug("createInterface "+a.$fullname),r=a.$module.$rtti.$Interface(t,{interface:a,module:e}),a.$rtti=r,o&&(r.ancestor=o.$rtti),r.ancestor||(r.ancestor=null),i.call(a)),a},strToGUIDR:function(e,t){var o,n=0;function s(t){var s=e.substr(n,t);return n+=t,parseInt(s,16)}n+=1,t.D1=s(8),n+=1,t.D2=s(4),n+=1,t.D3=s(4),n+=1,t.D4||(t.D4=[]),t.D4[0]=s(2),t.D4[1]=s(2),n+=1;for(o=2;o<8;o++)t.D4[o]=s(2);return t},guidrToStr:function(e){if(e.$intf)return e.$intf.$guid;for(var t=rtl.hexStr,n="{"+t(e.D1,8)+"-"+t(e.D2,4)+"-"+t(e.D3,4)+"-"+t(e.D4[0],2)+t(e.D4[1],2)+"-",s=2;s<8;s++)n+=t(e.D4[s],2);return n+="}",n},createTGUID:function(e){var t=pas.System?pas.System.TGuid:pas.system.tguid,n=rtl.strToGUIDR(e,t.$new());return n},getIntfGUIDR:function(e){if(!e)return null;if(!e.$guidr){var t=rtl.createTGUID(e.$guid);e.hasOwnProperty("$guid")||(e=Object.getPrototypeOf(e)),t.$intf=e,e.$guidr=t}return e.$guidr},addIntf:function(e,t,n){function l(e){return typeof e=="function"?function(){return e.apply(this.$o,arguments)}:function(){rtl.raiseE("EAbstractError")}}n||(n={});var o,i,a,r,s=t,c=Object.create(s);e.hasOwnProperty("$intfmaps")||(e.$intfmaps={}),e.$intfmaps[t.$guid]=c;do{if(o=s.$names,!o)break;for(i=0;i<o.length;i++)a=o[i],r=n[a],r||(r=a),c[a]=l(e[r]);s=Object.getPrototypeOf(s)}while(s!=null)},getIntfG:function(e,t,n){if(!e)return null;var s,o,i,a=e.$intfmaps;if(!a)return null;if(o=a[t],!o)return null;if(typeof o=="function")return o.call(e);if(s=null,e.$interfaces&&(s=e.$interfaces[t]),s||(s=Object.create(o),s.$o=e,e.$interfaces||(e.$interfaces={}),e.$interfaces[t]=s),typeof n=="object")return i=null,s.QueryInterface(rtl.getIntfGUIDR(n),{get:function(){return i},set:function(e){i=e}})===0?i:null;else n===2&&s.$kind==="com"&&s._AddRef();return s},getIntfT:function(e,t){return rtl.getIntfG(e,t.$guid)},queryIntfT:function(e,t){return rtl.getIntfG(e,t.$guid,t)},queryIntfIsT:function(e,t){var n=rtl.getIntfG(e,t.$guid);return!!n&&(n.$kind==="com"&&n._Release(),!0)},asIntfT:function(e,t){var n=rtl.getIntfG(e,t.$guid);if(n!==null)return n;rtl.raiseEInvalidCast()},intfIsIntfT:function(e,t){return e!==null&&rtl.queryIntfIsT(e.$o,t)},intfAsIntfT:function(e,t){if(!e)return null;var n=rtl.getIntfG(e.$o,t.$guid);if(n)return n;rtl.raiseEInvalidCast()},intfIsClass:function(e,t){return e!=null&&rtl.is(e.$o,t)},intfAsClass:function(e,t){return e==null?null:rtl.as(e.$o,t)},intfToClass:function(e,t){return e!==null&&rtl.is(e.$o,t)?e.$o:null},intfRefs:{ref:function(e,t){var n=this[e];return n&&(delete this[e],n._Release()),t&&(this[e]=t),t},free:function(){for(e in this)if(this.hasOwnProperty(e)){var e,t=this[e];t&&t._Release()}}},createIntfRefs:function(){return Object.create(rtl.intfRefs)},setIntfP:function(e,t,n,s){var o=e[t];if(o===n)return;o!==null&&(e[t]=null,o._Release()),n!==null&&(s||n._AddRef(),e[t]=n)},setIntfL:function(e,t,n){return e!==t?(t!==null&&(n||t._AddRef()),e!==null&&e._Release()):n&&e!==null&&e._Release(),t},_AddRef:function(e){return e&&e._AddRef(),e},_Release:function(e){return e&&e._Release(),e},trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)},checkMethodCall:function(e,t){if(rtl.isObject(e)&&rtl.is(e,t))return;rtl.raiseE("EInvalidCast")},oc:function(e){if(Math.floor(e)===e&&e>=-0x1fffffffffffff&&e<=0x1fffffffffffff)return e;rtl.raiseE("EIntOverflow")},rc:function(e,t,n){if(Math.floor(e)===e&&e>=t&&e<=n)return e;rtl.raiseE("ERangeError")},rcc:function(e,t,n){if(typeof e=="string"&&e.length===1){var s=e.charCodeAt(0);if(s>=t&&s<=n)return e}rtl.raiseE("ERangeError")},rcSetCharAt:function(e,t,n){return(typeof e!="string"||t<0||t>=e.length)&&rtl.raiseE("ERangeError"),rtl.setCharAt(e,t,n)},rcCharAt:function(e,t){return(typeof e!="string"||t<0||t>=e.length)&&rtl.raiseE("ERangeError"),e.charAt(t)},rcArrR:function(e,t){if(Array.isArray(e)&&typeof t=="number"&&t>=0&&t<e.length){if(arguments.length>2){e=e[t];for(var n=2;n<arguments.length;n++)e=rtl.rcArrR(e,arguments[n]);return e}return e[t]}rtl.raiseE("ERangeError")},rcArrW:function(e,t,n){for(var s=3;s<arguments.length;s++)e=rtl.rcArrR(e,t),t=arguments[s-1],n=arguments[s];if(Array.isArray(e)&&typeof t=="number"&&t>=0&&t<e.length)return e[t]=n;rtl.raiseE("ERangeError")},length:function(e){return e==null?0:e.length},arrayRef:function(e){return e!=null&&rtl.hideProp(e,"$pas2jsrefcnt",1),e},arraySetLength:function(e,t){d=[],h=9999;for(s=2;s<arguments.length;s++)m=arguments[s],m==="s"?h=s-2:d.push({dim:m+0,a:null,i:0,src:null});var s,d,h,m,f=d.length-1,a=0,r=0,i=null,o=null,c=e,l=0,u=0;do{if(a>0&&(i=d[a-1],c=i.src&&i.src.length>i.i?i.src[i.i]:null),c?c.$pas2jsrefcnt>0||a>=h?(o=[],l=c.length,u=l):(o=c,l=0,u=o.length):(o=[],l=0,u=0),r=d[a].dim,o.length=r,a>0&&(i.a[i.i]=o,i.i++,r===0&&i.i<i.a.length))continue;if(r>0){if(a<f){i=d[a],i.a=o,i.i=0,i.src=c,a++;continue}if(l>r&&(l=r),rtl.isArray(t)){for(s=0;s<l;s++)o[s]=c[s];for(s=u;s<r;s++)o[s]=[]}else if(rtl.isObject(t))if(rtl.isTRecord(t)){for(s=0;s<l;s++)o[s]=t.$clone(c[s]);for(s=u;s<r;s++)o[s]=t.$new()}else{for(s=0;s<l;s++)o[s]=rtl.refSet(c[s]);for(s=u;s<r;s++)o[s]={}}else{for(s=0;s<l;s++)o[s]=c[s];for(s=u;s<r;s++)o[s]=t}}for(;a>0&&d[a-1].i>=d[a-1].dim;)a--;if(a===0)return f===0?o:d[0].a}while(!0)},arrayEq:function(e,t){if(e===null)return t===null;if(t===null)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},arrayClone:function(e,t,n,s,o,i){if(e==="refSet")for(;n<s;n++)o[i++]=rtl.refSet(t[n]);else if(rtl.isTRecord(e))for(;n<s;n++)o[i++]=e.$clone(t[n]);else for(;n<s;n++)o[i++]=t[n]},arrayConcat:function(e){for(var t,o=[],s=0,n=1;n<arguments.length;n++)t=arguments[n],t!==null&&(s+=t.length);o.length=s,s=0;for(n=1;n<arguments.length;n++){if(t=arguments[n],t===null)continue;rtl.arrayClone(e,t,0,t.length,o,s),s+=t.length}return o},arrayConcatN:function(){for(var t,e=null,n=0;n<arguments.length;n++){if(t=arguments[n],t===null)continue;e===null?e=rtl.arrayRef(t):e=e.concat(t)}return e},arrayCopy:function(e,t,n,s){if(t===null)return[];n<0&&(n=0),s===void 0&&(s=t.length);var i,o=n+s;return o>t.length&&(o=t.length),n>=o?[]:e===0?t.slice(n,o):(i=[],i.length=o-n,rtl.arrayClone(e,t,n,o,i,0),i)},arrayInsert:function(e,t,n){return t?(t.splice(n,0,e),t):[e]},setCharAt:function(e,t,n){return e.substr(0,t)+n+e.substr(t+1)},getResStr:function(e,t){var n=e.$resourcestrings[t];return n.current?n.current:n.org},createSet:function(){for(var t,s,o,n={},e=0;e<arguments.length;e++)if(arguments[e]!=null)n[arguments[e]]=!0;else{s=arguments[e+=1],o=arguments[e+=1];for(t=s;t<=o;t++)n[t]=!0}return n},cloneSet:function(e){var n,t={};for(n in e)t[n]=!0;return t},refSet:function(e){return rtl.hideProp(e,"$shared",!0),e},includeSet:function(e,t){return e.$shared&&(e=rtl.cloneSet(e)),e[t]=!0,e},excludeSet:function(e,t){return e.$shared&&(e=rtl.cloneSet(e)),delete e[t],e},diffSet:function(e,t){var s,n={};for(s in e)t[s]||(n[s]=!0);return n},unionSet:function(e,t){var s,n={};for(s in e)n[s]=!0;for(s in t)n[s]=!0;return n},intersectSet:function(e,t){var s,n={};for(s in e)t[s]&&(n[s]=!0);return n},symDiffSet:function(e,t){var n,s={};for(n in e)t[n]||(s[n]=!0);for(n in t)e[n]||(s[n]=!0);return s},eqSet:function(e,t){for(var n in e)if(!t[n])return!1;for(var n in t)if(!e[n])return!1;return!0},neSet:function(e,t){return!rtl.eqSet(e,t)},leSet:function(e,t){for(var n in e)if(!t[n])return!1;return!0},geSet:function(e,t){for(var n in t)if(!e[n])return!1;return!0},strSetLength:function(e,t){var n=e.length;if(n>t)return e.substring(0,t);if(e.repeat)return e+" ".repeat(t-n);for(;n<t;)e+=" ",n++;return e},spaceLeft:function(e,t){var n=e.length;if(n>=t)return e;if(e.repeat)return" ".repeat(t-n)+e;for(;n<t;)e=" "+e,n++;return e},floatToStr:function(e,t,n){if(arguments.length>2)return rtl.spaceLeft(e.toFixed(n),t);var n,o,i="",s=Math.abs(e);return s>1&&s<1e10||s>1e-10&&s<1?i="00":(s>1&&s<1e100||s<1e-10)&&(i="0"),arguments.length<2?t=24:t<9&&(t=9),n=t-8,o=(e>0?" ":"")+e.toExponential(n),o=o.replace(/e(.)/,"E$1"+i),rtl.spaceLeft(o,t)},valEnum:function(e,t,n){e=e.toLowerCase();for(var s in t)if(typeof s=="string"&&s.toLowerCase()===e)return n(0),t[s];return n(1),0},lw:function(e){return e<0?e+4294967296:e},and:function(e,t){var n=2147483648,s=2147483647,o=e/n&t/n,i=e&s&(t&s);return o*n+i},or:function(e,t){var n=2147483648,s=2147483647,o=e/n|t/n,i=e&s|t&s;return o*n+i},xor:function(e,t){var n=2147483648,s=2147483647,o=e/n^t/n,i=e&s^t&s;return o*n+i},shr:function(e,t){return e<0&&(e+=rtl.hiInt),e<2147483648?e>>t:t<=0?e:t>54?0:Math.floor(e/Math.pow(2,t))},shl:function(e,t){if(e<0&&(e+=rtl.hiInt),t<=0)return e;if(t>54)return 0;var n=e*Math.pow(2,t);return n<=rtl.hiInt?n:n%rtl.hiInt},initRTTI:function(){rtl.debug_rtti&&rtl.debug("initRTTI"),rtl.tTypeInfo={name:"tTypeInfo",kind:0,$module:null,attr:null};function e(e,t,n){n||(n=rtl.tTypeInfo),rtl.debug_rtti&&rtl.debug('initRTTI.newBaseTI "'+e+'" '+t+' ("'+n.name+'")');var s=Object.create(n);return s.name=e,s.kind=t,rtl[e]=s,s}function n(t,n,s,o){var i=e(t,1,rtl.tTypeInfoInteger);return i.minvalue=n,i.maxvalue=s,i.ordtype=o,i}e("tTypeInfoInteger",1),n("shortint",-128,127,0),n("byte",0,255,1),n("smallint",-32768,32767,2),n("word",0,65535,3),n("longint",-2147483648,2147483647,4),n("longword",0,4294967295,5),n("nativeint",-0x10000000000000,0xfffffffffffff,6),n("nativeuint",0,0xfffffffffffff,7),e("char",2),e("string",3),e("tTypeInfoEnum",4,rtl.tTypeInfoInteger),e("tTypeInfoSet",5),e("double",6),e("boolean",7),e("tTypeInfoProcVar",8),e("tTypeInfoMethodVar",9,rtl.tTypeInfoProcVar),e("tTypeInfoArray",10),e("tTypeInfoDynArray",11),e("tTypeInfoPointer",15);var t,o=e("pointer",15,rtl.tTypeInfoPointer);o.reftype=null,e("jsvalue",16),e("tTypeInfoRefToProcVar",17,rtl.tTypeInfoProcVar),rtl.tTypeMember={attr:null};function s(e,t){var n=Object.create(rtl.tTypeMember);n.name=e,n.kind=t,rtl[e]=n}s("tTypeMemberField",1),s("tTypeMemberMethod",2),s("tTypeMemberProperty",3),rtl.tTypeMembers={},t=e("tTypeInfoStruct",0),t.$addMember=function(e,t,n){if(rtl.debug_rtti){if(!rtl.hasString(e)||e.charAt()==="$")throw'invalid member "'+e+'", this="'+this.name+'"';if(!rtl.is(t,rtl.tTypeMember))throw'invalid ancestor "'+t+":"+t.name+'", "'+this.name+"."+e+'"';if(n!=null&&typeof n!="object")throw'invalid options "'+n+'", "'+this.name+"."+e+'"'}var o,s=Object.create(t);if(s.name=e,this.members[e]=s,this.names.push(e),rtl.isObject(n))for(o in n)n.hasOwnProperty(o)&&(s[o]=n[o]);return s},t.addField=function(e,t,n){var s=this.$addMember(e,rtl.tTypeMemberField,n);if(rtl.debug_rtti&&!rtl.is(t,rtl.tTypeInfo))throw'invalid type "'+t+'", "'+this.name+"."+e+'"';return s.typeinfo=t,this.fields.push(e),s},t.addFields=function(){for(var t,n,e=0;e<arguments.length;)t=arguments[e++],n=arguments[e++],e<arguments.length&&typeof arguments[e]=="object"?this.addField(t,n,arguments[e++]):this.addField(t,n)},t.addMethod=function(e,t,n,s,o,i){var a=this.$addMember(e,rtl.tTypeMemberMethod,i);return a.methodkind=t,a.procsig=rtl.newTIProcSig(n,s,o),this.methods.push(e),a},t.addProperty=function(e,t,n,s,o,i){var a=this.$addMember(e,rtl.tTypeMemberProperty,i);return a.flags=t,a.typeinfo=n,a.getter=s,a.setter=o,a.params=rtl.isArray(a.params)?rtl.newTIParams(a.params):null,this.properties.push(e),rtl.isString(a.stored)||(a.stored=""),a},t.getField=function(e){return this.members[this.fields[e]]},t.getMethod=function(e){return this.members[this.methods[e]]},t.getProperty=function(e){return this.members[this.properties[e]]},e("tTypeInfoRecord",12,rtl.tTypeInfoStruct),e("tTypeInfoClass",13,rtl.tTypeInfoStruct),e("tTypeInfoClassRef",14),e("tTypeInfoInterface",18,rtl.tTypeInfoStruct),e("tTypeInfoHelper",19,rtl.tTypeInfoStruct),e("tTypeInfoExtClass",20,rtl.tTypeInfoClass)},tSectionRTTI:{$module:null,$inherited:function(e,t,n){rtl.debug_rtti&&rtl.debug('tSectionRTTI.newTI "'+(this.$module?this.$module.$name:"(no module)")+'"."'+e+'" ('+t.name+") "+(n?"init":"forward"));var o,s=this[e];if(s){{if(!s.$forward)throw'duplicate type "'+e+'"';if(!t.isPrototypeOf(s))throw'typeinfo ancestor mismatch "'+e+'" ancestor="'+t.name+'" t.name="'+s.name+'"'}}else s=Object.create(t),s.name=e,s.$module=this.$module,this[e]=s;if(n){delete s.$forward;for(o in n)n.hasOwnProperty(o)&&(s[o]=n[o])}else s.$forward=!0;return s},$Scope:function(e,t,n){var s=this.$inherited(e,t,n);return s.members={},s.names=[],s.fields=[],s.methods=[],s.properties=[],s},$TI:function(e,t,n){var s=this.$inherited(e,rtl.tTypeInfo,n);return s.kind=t,s},$Int:function(e,t){return this.$inherited(e,rtl.tTypeInfoInteger,t)},$Enum:function(e,t){return this.$inherited(e,rtl.tTypeInfoEnum,t)},$Set:function(e,t){return this.$inherited(e,rtl.tTypeInfoSet,t)},$StaticArray:function(e,t){return this.$inherited(e,rtl.tTypeInfoArray,t)},$DynArray:function(e,t){return this.$inherited(e,rtl.tTypeInfoDynArray,t)},$ProcVar:function(e,t){return this.$inherited(e,rtl.tTypeInfoProcVar,t)},$RefToProcVar:function(e,t){return this.$inherited(e,rtl.tTypeInfoRefToProcVar,t)},$MethodVar:function(e,t){return this.$inherited(e,rtl.tTypeInfoMethodVar,t)},$Record:function(e,t){return this.$Scope(e,rtl.tTypeInfoRecord,t)},$Class:function(e,t){return this.$Scope(e,rtl.tTypeInfoClass,t)},$ClassRef:function(e,t){return this.$inherited(e,rtl.tTypeInfoClassRef,t)},$Pointer:function(e,t){return this.$inherited(e,rtl.tTypeInfoPointer,t)},$Interface:function(e,t){return this.$Scope(e,rtl.tTypeInfoInterface,t)},$Helper:function(e,t){return this.$Scope(e,rtl.tTypeInfoHelper,t)},$ExtClass:function(e,t){return this.$Scope(e,rtl.tTypeInfoExtClass,t)}},newTIParam:function(e){var t={name:e[0],typeinfo:e[1],flags:rtl.isNumber(e[2])?e[2]:0};return t},newTIParams:function(e){var t,n=[];if(rtl.isArray(e))for(t=0;t<e.length;t++)n.push(rtl.newTIParam(e[t]));return n},newTIProcSig:function(e,t,n){var s={params:rtl.newTIParams(e),resulttype:t||null,flags:n||0};return s},addResource:function(e){rtl.$res[e.name]=e},getResource:function(e){var t=rtl.$res[e];return t!==void 0?t:null},getResourceList:function(){return Object.keys(rtl.$res)}};rtl.addResource({name:"website",unit:"models",format:"application/javascript",encoding:"base64",data:"eyAibWV0YURhdGEiIDogeyAiZmllbGRzIiA6IFt7ICJuYW1lIiA6ICJJRCIsICJ0eXBlIiA6ICJpbnQiIH0sIHsgIm5hbWUiIDogIlBBVEgiLCAidHlwZSIgOiAic3RyaW5nIiB9LCB7ICJuYW1lIiA6ICJUSVRMRSIsICJ0eXBlIiA6ICJzdHJpbmciIH0sIHsgIm5hbWUiIDogIkNSRUFURUQiLCAidHlwZSIgOiAiZGF0ZSIgfSwgeyAibmFtZSIgOiAiTU9ESUZJRUQiLCAidHlwZSIgOiAiZGF0ZSIgfSwgeyAibmFtZSIgOiAiQ09OVEVOVFRZUEUiLCAidHlwZSIgOiAiaW50IiB9LCB7ICJuYW1lIiA6ICJDT05URU5UIiwgInR5cGUiIDogInN0cmluZyIgfV0sICJyb290IiA6ICJEYXRhIiB9LCAiRGF0YSIgOiBbeyAiSUQiIDogMywgIlBBVEgiIDogIi9pbmRleCIsICJUSVRMRSIgOiAia3Zlcm9uZWF1LmdpdGh1Yi5pbyIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTA1VDE4OjU1OjA0LjQ1NFoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDMtMzBUMTg6MjI6MjEuNzA1WiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiV2VsY29tZSB0byBteSBzbWFsbCBzcGFjZSBvbiAqR2l0SHViKiB3aGVyZSBJIGNhbiBzaG93Y2FzZSB2YXJpb3VzIHByb2dyYW1zIEkndmUgZG9uZSB3aXRoIGFueW9uZSB3aG9tIG1pZ2h0IGJlIGludGVyZXN0ZWQuXG5cbldoaWxlIHRoaXMgd2Vic2l0ZSBtaWdodCBsb29rIHNpbXBsZSBmcm9tIHRoZSBmaXJzdCBsb29rLCBpdCBpcyBpbmZhY3QgYSBkYXRhLWRyaXZlbiB3ZWJzaXRlIGJ1aWx0IHVzaW5nIFtPYmplY3QgUGFzY2FsXSgjL09iamVjdFBhc2NhbCksIGEgbGFuZ3VhZ2UgbW9zdCBwZW9wbGUgZGVlbWVkIGRlYWQgYnkgdGhlIGVhcmx5IDIwMDBzLiAgSXQgaXMgaW5kZWVkIHN0aWxsIHdlbGwgYW5kIGFsaXZlIGFuZCBiZWluZyB1cGRhdGVkIHdpdGggbWFueSBtb2Rlcm4gc3RhbmRhcmRzIHVudGlsIHRoaXMgdmVyeSBkYXkuICBJIGhpZ2hseSByZWNvbW1lbmQgdGFraW5nIGEgbG9vayBhdCB0aGUgc291cmNlIGNvZGUgZm9yIHRoaXMgd2Vic2l0ZSwgd2hpY2ggY2FuIGJlIGZvdW5kIG9uIG15IFtHaXRIdWJdKGh0dHBzOi8vZ2l0aHViLmNvbS9rdmVyb25lYXUva3Zlcm9uZWF1LmdpdGh1Yi5pbykuXG5cbllvdSBjYW4gZmluZCBhIFtzaXN0ZXIgc2l0ZV0oaHR0cHM6Ly9rdmVyb25lYXUucHV0ZXIuc2l0ZS8pIG9mIHRoaXMgb3ZlciBvbiBbUHV0ZXJdKCMvUHV0ZXIpLiAgSWYgeW91IGxpa2UgdG8gaGF2ZSBhIGJsb2cgd2hpY2ggd29ya3Mgc2ltaWxhciB0byB0aGlzIG9uZSBhbmQgY2FuIGJlIGFkbWluaXN0ZXJlZCBvdmVyIGEgSmF2YVNjcmlwdCBhcHBsaWNhdGlvbiBpbiB0aGUgUHV0ZXIgY2xvdWQsIHRoZW4gZ2l2ZSBbUHV0ZXJCbG9nZ2VyXShodHRwczovL3B1dGVyLmNvbS9hcHAvcHV0ZXJibG9nZ2VyKSBhIHRyeSB0b2RheSFcblxuWW91IGNhbiBsZWFybiBtb3JlIGFib3V0IFt0aGlzIHdlYnNpdGVdKCMvQWJvdXRTaXRlKSB0aGVyZS4gIFlvdSBtaWdodCBiZSBzdGFydGluZyB0byBhc2sgeW91cnNlbGYsIFwiV2hhdCB1cCB3aXRoIHRoaXMgd2Vic2l0ZT9cIiAgVGhhdCBpcyBhIGdyZWF0IGFuZCBtb3N0IG5hdHVyYWwgcXVlc3Rpb24gdG8gYmUgYXNraW5nLiAgRmlyc3RseSwgSSBkb24ndCBiZWxpZXZlIGluIG92ZXJ3aGVsbWluZyB0aGUgdXNlciB3aXRoIHRvbyBtdWNoLCBzbyBhcyBhIHJlc3VsdCwgdGhpcyB3ZWJzaXRlIHRha2VzIGEgKmh1Z2VseSBuYXR1cmFsKiB0YWtlIG9uIGNvbnRlbnQgZXhwbG9yYXRpb24gYW5kIGNvbnN1bXB0aW9uLCBhIG5vdmVsIGNvbmNlcHQgSSBrbm93LiAgUmF0aGVyIHRoYW4gbWFraW5nIGFsbCB0aGUgY29udGVudCBhdmFpbGFibGUgb24gdGhlIHdlYnNpdGUgYXZhaWxhYmxlIHJpZ2h0IGZyb20gdGhlIGdldC1nbywgaW5zdGVhZCB0aGUgd2Vic2l0ZSB3b3JrcyBtb3JlIG9yIHNvIGxpa2UgaG93IG9uZSB3b3VsZCBwbGF5IGEgdHlwaWNhbCBbWmVsZGFdKCMvWmVsZGEpIGdhbWUsIHdoZXJlYXMgdGhlIGdhbWUgd29ybGQgYmVjb21lcyB0byBvcGVuIHVwIGFzIHlvdSBiZWdpbiB0byBwcm9ncmVzcyBpbiB0aGUgc3RvcnkgdG8gZ2FpbiBuZXcgaXRlbXMgYW5kIGFiaWxpdGllcywgZW5mb3JjaW5nIHlvdSB0byB1c2UgdGhlc2UgbmV3IGFiaWxpdGllcyB0byBrZWVwIGJlaW5nIGN1cmlvdXMgYW5kIGV4cGxvcmluZyBwbGFjZXMgeW91IGNvdWxkbid0IHdpdGggeW91ciBwcmV2aW91cyBhYmlsaXRpZXMuICBUaGlzIHdlYnNpdGUgY2FuIGFsc28ga2VlcCB0cmFjayBvZiB3aGVyZSBleGFjdGx5IHlvdSBhcmUsIGFzIHlvdSB3aWxsIG5vdGljZSBieSB0aGUgKkxvY2F0aW9uKiBjaGFuZ2luZyBpbiB5b3VyIGJyb3dzZXIsIGFzIGEgcmVzdWx0LCBpZiB5b3UgZG8gZmluZCBhbiBhcnRpY2xlIHlvdSdkIGxvdmUgdG8gc2hhcmUgd2l0aCBhIGZyaWVuZCBvciBmYW1pbHksIG9yIHRvIGp1c3QgbWFrZSBmdW4gb2Ygb24gc29tZSBjb21tdW5pdHkgZm9ydW0gc29tZXBsYWNlIG9uIHRoZSBJbnRlcm5ldCwgdGhlbiBJIGltcGxvcmUgdGhhdCB5b3UganVzdCBoaXQgdGhhdCBzaGFyZSBidXR0b24gaW4geW91ciBicm93c2VyIGFuZCBzaGFyZSBpdCBhbW9uZyB5b3VyIHBlZXJzLiAgU2luY2UgbW9zdCBwZW9wbGUgYnJvd3NlIG9uIG1vYmlsZSBkZXZpY2VzIHRoZXNlIGRheXMsIHRoZSBlYXNlIG9mIHNoYXJpbmcgd2ViIGxpbmtzIHRvIHZhcmlvdXMgYXBwcyBhbmQgc2VydmljZXMgaGFzbid0IGJlZW4gZWFzaWVyLiAgVGhpcyB3ZWJzaXRlIGFsc28gY29tZXMgd2l0aCBhbm90aGVyIGJlbmVmaXQgbW9zdCB3ZWJzaXRlcyBjb3VsZCBuZXZlci4gIFRoZSBlbnRpcmUgd2Vic2l0ZSByaWdodCBub3cgYXMgeW91IGFyZSByZWFkaW5nIHRoaXMsIGlzIG5vdyBmdWxseSBkb3dubG9hZGVkIG9udG8geW91ciBkZXZpY2UgYW5kIDEwMCUgYXZhaWxhYmxlIG9mZmxpbmUgd2l0aCBubyBhZGRpdGlvbmFsIGVmZm9ydCBmcm9tIHlvdS4gIFRoaXMgbWVhbnMgdGhhdCBpZiB5b3Ugc28gaGFwcGVuIHRvIGJlIHJlYWRpbmcgdGhpcyBvbiBhbiBhZXJvcGxhbmUgd2l0aCBubyBXaUZpLCBvciBhcmUgdHJhdmVsbGluZyBpbiBhIFN1YndheSBzeXN0ZW0sIHlvdSBjYW4gZmVlbCByZXN0IGFzc3VyZWQgdGhhdCB5b3VyIG5leHQgY2xpY2sgb24gdGhpcyB3ZWJzaXRlKCphcyBsb25nIGFzIGl0J3MgYW4gaW50ZXJuYWwgbGluayopIHdpbGwgbG9hZCB3aXRob3V0IGFueSBpc3N1ZXMgb3IgcmVxdWlyZSBhbnkgYWRkaXRpb25hbCBjb25uZWN0aW9uIHRvIHRoZSBJbnRlcm5ldC4gIFRoZSBvdGhlciBhZHZhbnRhZ2UgdG8gdGhpcyBhcHByb2FjaCBpcyAqdXNlciBwcml2YWN5KiwgbWUsIG5vciBhbnlib2R5IGJ1dCB5b3Ugd2lsbCBrbm93IGV4YWN0bHkgd2hhdCBwYWdlcyBvbiB0aGlzIHdlYnNpdGUgeW91J3ZlIHNlZW4uICBBcyBubyBkYXRhIGFib3V0IHdoYXQgcGFnZSB5b3UgYXJlIGFib3V0IHRvIGxvYWQgaXMgZXZlciB0cmFuc21pdHRlZC5cblxuIyMjIyBIZXJlIGlzIGEgYmFzaWMgc2l0ZS1tYXAgdG8gZ2V0IHlvdSBzdGFydGVkIG9uIHlvdXIgZXhwbG9yYXRpb246XG5cbiAgKiBbUHJvamVjdHNdKCMvUHJvamVjdHMpXG4gICogW3hQcm9qZWN0IEY5XSgjL3hQcm9qZWN0LUY5KVxuICAqIFtJbnRyYVdlYl0oIy9JbnRyYVdlYilcbiAgKiBbQUkgaW4gUGFzY2FsXSgjL1Bhc2NhbEFJKVxuICAqIFtEb2NrZXIgU3R1ZmZdKCMvRG9ja2VyKVxuXG4jIyMjIExpbnV4IFRpcCBhbmQgVHJpY2tzOlxuXG4gICogW1ggV2luZG93IFN5c3RlbV0oIy9XaHlJTG92ZVgpXG5cbiMjIyMgV2hlcmUgZWxzZSBjYW4geW91IGZpbmQgbWUgb25saW5lP1xuXG4gICogW2t2ZXJvbmVhdSBvbiBQdXRlcl0oaHR0cHM6Ly9rdmVyb25lYXUucHV0ZXIuc2l0ZS8pXG4gICogW1RlY2g0MDYgb24gUHV0ZXJdKGh0dHBzOi8vdGVjaDQwNi5wdXRlci5zaXRlLylcbiIgfSwgeyAiSUQiIDogNCwgIlBBVEgiIDogIi9PYmplY3RQYXNjYWwiLCAiVElUTEUiIDogIk9iamVjdFBhc2NhbCIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTA1VDE5OjAzOjUxLjg0NVoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMjVUMjM6MTA6NDguMjQxWiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiTm93IHlvdSBhcmUgcHJvYmFibHkgc2NyYXRjaGluZyB5b3VyIGhlYWQgYXNraW5nIHlvdXJzZWxmLCBcIldoeSwgSSBoYXZlbid0IGhlYXJkIGFib3V0ICpQYXNjYWwqIGluIGRlY2FkZXMsIHdoeSB3b3VsZCBhbnlib2R5IGluIHRoZSByaWdodCBtaW5kIGJlIHdhbnRpbmcgdG8gdXNlIHN1Y2ggYW5jaWVudCB0ZWNobm9sb2d5IG15IGdyYW5kZmF0aGVyIG9uY2UgdXNlZCBvbiBhbiBvbGQgbWFpbmZyYW1lIGNvbXB1dGVyLlwiXG5cbipNb2Rlcm4gT2JqZWN0UGFzY2FsKiBpcyBqdXN0IHRoYXQsIGEgbW9kZXJuIHZlcnNpb24gb2YgdGhlIFBhc2NhbCBsYW5ndWFnZSB3aXRoIGZ1bGwgT2JqZWN0IE9yaWVudGVkIHByb2dyYW1taW5nIHlvdSBzZWUgaW4gbW9kZXJuIGxhbmd1YWdlcy4gIFdoYXQgaXMgYWN0dWFsbHkgYW1hemluZyB0aG91Z2ggaXMgdGhhdCBPYmplY3RQYXNjYWwgaXMgZnVsbHkgYmFja3dhcmRzIGNvbXBhdGlibGUgd2l0aCByZWd1bGFyIFBhc2NhbCwgaW5jbHVkaW5nIE1TLURPUyBUdXJib1Bhc2NhbCB2ZXJzaW9ucy4gIFlvdSBjYW4gdGFrZSBtb3N0IGNvZGUgd3JpdHRlbiBmb3IgTVMtRE9TIEJvcmxhbmQgVHVyYm9QYXNjYWwgNC4wIGFuZCB1cCBhbmQgaXQgd2lsbCB1c3VhbGx5IGNvbXBpbGUgd2l0aCBsaXR0bGUgdG8gbm8gZXJyb3JzIG9uIHRoZSBmaXJzdCB0cnkuICBJZiB0aGUgcHJvZ3JhbSB1c2VzIHRoZSBgZ3JhcGhgIHVuaXQsIHRoZW4gYSBmZXcgc2xpZ2h0IG1vZGlmaWNhdGlvbnMgZG8gbmVlZCB0byBiZSBtYWRlLCBvciBpZiB5b3UgZG8gcnVuIGl0IG9uIExpbnV4LCB5b3Ugd2lsbCBuZWVkIHRvIGRvIHNvIGluIHlvdXIgY29uc29sZSBhbmQgb3V0c2lkZSBvZiBYMTEvV2F5bGFuZCBzbyB0aGF0IHRoZSBwcm9ncmFtIGNhbiBzcGVhayB3aXRoIHlvdXIgdmlkZW8gaGFyZHdhcmUgYXMgZGlkIHRoZSBvcmlnaW5hbCBgZ3JhcGhgIHVuaXQuICBPbiBXaW5kb3dzIGl0IG1heSBub3Qgd29yaywgYXMgY29uc29sZSBFWEVzIHdyaXR0ZW4gZm9yIFdpbmRvd3MgZG8gbm90IGhhdmUgYWNjZXNzIHRvIHN1Y2ggYSBmcmFtZWJ1ZmZlciwgYnV0IGlmIHlvdSBjb21waWxlIHRoZSBwcm9ncmFtIGZvciAzMi1iaXQgTVMtRE9TIEdvMzIsIHRoZW4gaXQgc2hvdWxkIGp1c3Qgd29yaywgYnV0IHdpdGggdGhlIGFkZGVkIGJlbmVmaXQgb2Ygbm93IGJlaW5nIDMyLWJpdCBpbnN0ZWFkIG9mIHRoZSAxNi1iaXQgcHJvZ3JhbXMgVHVyYm9QYXNjYWwgZ2VuZXJhdGVkLiAgSG93ZXZlciwgaXQgaXMgZW50aXJlbHkgcG9zc2libGUgdG8gZ2V0IHRoZXNlIGBncmFwaGAgTVMtRE9TIHByb2dyYW1zIHRvIHJ1biBuYXRpdmVseSBvbiBtb2Rlcm4gb3BlcmF0aW5nIHN5c3RlbXMgdXNpbmcgdmFyaW91cyBbYWJzdHJhY3Rpb25dKCMvQWJzdHJhY3Rpb24pIHVuaXRzLiAgSWYgeW91IHRha2UgYW55IHByb2dyYW0gd2hpY2ggdXNlcyB0aGUgYGNydGAgdW5pdCwgdGhlIHN0YW5kYXJkIHVuaXQgdXNlZCB0byBjb250cm9sIHRoZSAqY2hhcmFjdGVyIGRpc3BsYXkqIGFuZCBjb21waWxlIGl0IG9uIExpbnV4LCBpdCB3aWxsIHJ1biBwZXJmZWN0bHkgZmluZSBhcyBhIExpbnV4IGNvbnNvbGUgYXBwbGljYXRpb24gd2hpY2ggbWF5IGF0IGZpcnN0IGFwcGVhciBsaWtlIGl0J3MgdXNpbmcgYG5jdXJzZXNgLCBidXQgaW5zdGVhZCBpdCdzIHdyaXRpbmcgKnJhdyBBTlNJKiBjb2RlcyB0byB0aGUgdGVybWluYWwsIGFuZCB0aHVzIGhhcyBubyBleHRlcm5hbCBkZXBlbmRlbmNpZXMgYW5kIHJldGFpbnMgYWxtb3N0IGZ1bGwgY29tcGF0aWJpbGl0eSB3aXRoIGl0J3MgTVMtRE9TIGNvdW50ZXJwYXJ0LCBtYWtpbmcgcG9ydGluZyBzdWNoIGZ1bGwtc2NyZWVuIHRleHQgYXBwcyBvdmVyIHRvIGEgbW9kZXJuIG9wZXJhdGluZyBzeXN0ZW0gYSBjYWtlIHdhbGsuXG5cbiMjIyBXaHkgT2JqZWN0IFBhc2NhbD9cblxuV2h5IG5vdD8gIEkgdXNlZCAqVHVyYm8gUGFzY2FsIDQuMCogd2hlbiBJIHdhcyBhYm91dCAxNywgYnV0IHdhcyBhbHdheXMgaW50cmlndWVkXG5pbiB0aGUgbGFuZ3VhZ2UgZm9yIG1hbnkgeWVhcnMgcHJpb3Igd2hlbiBJIG1ldCBteSBwYXJlbnQncyBmcmllbmRzIHdob20gd2VyZVxuaW4gZWl0aGVyIGEgc29mdHdhcmUgZGV2ZWxvcG1lbnQgam9iLCBvciB3ZXJlIHRha2luZyBjb21wdXRlciBzY2llbmNlIGluIHVuaXZlcnNpdHkuXG5UaGlzIHdhcyBiYWNrIGluIHRoZSBoZXlkYXkgd2hlbiBCb3JsYW5kIHdhcyAqKnRoZSoqIHNvZnR3YXJlIGRldmVsb3BtZW50IGtpdCBraW5nLlxuTW9kZXJuIGRheSBQYXNjYWwgaXMganVzdCBhcyBmYXN0IHdoZW4gaXQgY29tZXMgZG93biB0byBjb21waWxpbmcgdmVyeSBsYXJnZVxucHJvZ3JhbXMsIHdoaWNoIHdhcyBvbmUgcmVhc29uIGl0IHdhcyBleHRyZW1lbHkgcG9wdWxhciBpbiB0aGUgODBzIGFuZCA5MHMuIEluIHRoZVxubW9kZXJuIGRheSB3aGVuIGNvbXBhcmluZyBhIGxhcmdlIE9iamVjdFBhc2NhbCBwcm9ncmFtIHRvIGEgQysrIHByb2dyYW0gaW4gdGVybXNcbm9mIGNvbXBpbGUgdGltZSwgT2JqZWN0UGFzY2FsIHN0aWxsIGJlYXRzIEMrKywgSmF2YSwgYW5kIG1hbnkgb3RoZXIgbW9kZXJuIGNvbXBpbGluZ1xubGFuZ3VhZ2VzLiAgSGVyZSdzIGEgbmljZSBvdmVydmlldyBvZiBzb21lIG9mIHRoZSBmZWF0dXJlcyBpbiBQYXNjYWwvT2JqZWN0UGFzY2FsXG5JIHJlYWxseSBsaWtlOlxuXG4gICogVW5pdCBmaWxlcyBhcmUgZWFzaWVyIHRoYW4gaGVhZGVyIGZpbGVzXG4gICogQWxsIHZhcmlhYmxlcyBhcmUgZGVjbGFyZWQgaW4gYSAqa25vd24gbG9jYXRpb24qXG4gICogRWFzaWx5IHN1cHBvcnRzIGJvdGggc3RydWN0dXJlZCBhbmQgb2JqZWN0IHByb2dyYW1taW5nXG4gICogRXh0cmVtZWx5IGVhc3kgdG8gdXNlIHN0YW5kYXJkIEMgbGlicmFyaWVzLCAqKmgycGFzKipcbiAgKiBPdmVyYWxsIHN5bnRheCBpcyBhIHBsZWFzdXJlIHRvIHdyaXRlLCByZWFkLCBhbmQgdW5kZXJzdGFuZFxuICAqIEhhcyBhIHZlcnkgbGFyZ2Ugc3RhbmRhcmQgbGlicmFyeSBpbmNsdWRlZCBvdXQgb2YgdGhlIGJveFxuICAqIENhbiB0cnVseSBjcmVhdGUgY29tcGlsZWQgbmF0aXZlIGNyb3NzLXBsYXRmb3JtIGJpbmFyeSBwcm9ncmFtc1xuICAgICogSSBjYW5ub3Qgc3RhdGUgdGhpcyBwb2ludCBlbm91Z2gsIGhhcyBtYW55IHRhcmdldHMgYXMgd2VsbC5cbiAgKiBIYXMgYSB2ZXJ5IHBvd2VyZnVsICpSQUQgSURFKiB0byBkZXNpZ24gYW5kIGRldmVsb3AgY3Jvc3MtcGxhdGZvcm0gR1VJIGFwcHMuXG4gICogRGVscGhpIFhFIGNhbiBhY3R1YWxseSB0dXJuIGEgZGVza3RvcCBhcHAgaW50byBhIG5hdGl2ZSBpT1MgYW5kIEFuZHJvaWQgYXBwLlxuICAqIEZ1bGwgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aCBwYXN0IHZlcnNpb25zLCBhbGwgdGhlIHdheSBiYWNrIHRvIFR1cmJvIFBhc2NhbC5cbiAgICAqIE5vIG90aGVyIHByb2dyYW1taW5nIGxhbmd1YWdlIGNhbiBzYXkgdGhhdCB0aGV5IGFyZSB0aGlzIGJhY2t3YXJkcyBjb21wYXRpYmxlLlxuICAgICogWW91ciBjb2RlIHdpbGwgYWx3YXlzIHJlLWNvbXBpbGUgaW4gdGhlIGxhdGVzdCB2ZXJzaW9uIG9mIHRoZSBjb21waWxlciFcbiAgKiBBbmQgbXVjaCBtb3JlLi4uXG5cbiMjIyBDcm9zcy1wbGF0Zm9ybSBHVUkgbWFkZSBlYXN5XG5cblRoaXMgaXMgd2hhdCB1bHRpbWF0ZWx5IGxlZCBtZSB0byBkaXZlIGJhY2sgaW50byBQYXNjYWwgb25jZSBhZ2FpbiBpbiBteSBhZHVsdFxueWVhcnMuICBNeSBoYXMgUGFzY2FsIGV2b2x2ZWQsIG5vdCBvbmx5IGNhbiBJIGNvbXBpbGUgYSBUdXJibyBQYXNjYWwgNC4wIHByb2dyYW1cbmluICoqRnJlZVBhc2NhbCoqLCBidXQgSSBjYW4gYWxzbyBjb21waWxlIG1vZGVybiAqKkRlbHBoaSoqIGFuZCAqKk9iamVjdFBhc2NhbCoqXG5wcm9ncmFtcyB3aXRoIGxpdHRsZSB0byBubyBleHRyYSBlZmZvcnQuICBIYXZlIEkgZm91bmQgaGVhdmVuIG9uIEVhcnRoPyAgSSBoYXZlbid0XG5zZWVuIGFueSBwcm9ncmFtbWluZyBsYW5ndWFnZSB0YWtlIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHNvIHNlcmlvdXNseSBhcyBJJ3ZlIHNlZW5cbmluIHRoZSBGcmVlUGFzY2FsIGNvbW11bml0eS4gIEkgbGlrZSB0byBrbm93IHRoYXQgaWYgSSBidWlsZCBhIHByb2dyYW0gdG9kYXksXG50aGF0IGl0IGNhbiBiZSBlYXNpbHkgcmVjb21waWxlZCBvbiBhIGNvbXB1dGVyIG9mIHRoZSBmdXR1cmUgd2l0aCBubyBhZGRpdGlvbmFsXG5lZmZvcnQsIGFuZCB0aGlzIGlzIHdoYXQgRnJlZVBhc2NhbCB0cnVseSBkZWxpdmVycy5cblxuTm93IGxldHMgYWRkIHNvbWUgZmFuY3kgaWN5aW5nIHRvIHRoZSBjYWtlLi4uICBXaXRoIExhemFydXMsIHRoZSBGcmVlUGFzY2FsIFJBRFxuSURFLCB5b3UgZG8gbm90IG5lZWQgdG8gd29ycnkgYWJvdXQgd2hpY2ggR1VJIFRvb2xraXQgeW91IG5lZWQgdG8gdGFyZ2V0LCB5b3UganVzdFxubmVlZCB0byB0aGluayBhYm91dCB0aGUgbGF5b3V0LCBidXNpbmVzcyBsb2dpYywgYW5kIG1vc3QgaW1wb3J0YW50bHkgaG93IHlvdXIgcHJvZ3JhbVxud2lsbCB3b3JrLiAgVGhlIExDTCBUb29sa2l0IHRha2VzIGNhcmUgb2YgbWFraW5nIHN1cmUgeW91ciBjb21waWxlZCBwcm9ncmFtIGxvb2tzXG5uYXRpdmUgb24gZXZlcnkgb3BlcmF0aW5nIHN5c3RlbSB5b3UgYnVpbGQgb24uICBPbiBMaW51eCwgeW91IGNhbiBtb3N0IGRlZmluYXRlbHlcbmNob29zZSBiZXR3ZWVuIGVpdGhlciBHVEsgYW5kIFF0LCB3aGljaCBpcyBncmVhdCwgYXMgeW91IGNhbiBlYXNpbHkgdXNlIHRoZSBzYW1lXG5zb3VyY2UgY29kZSBhbmQgYnVpbGQgdGhlIHByb2dyYW0gZm9yIGJvdGggS0RFIGFuZCBHTk9NRSB1c2VycyB3aXRoIG5vIGFkZGl0aW9uYWxcbmVmZm9ydC4gIE9uY2UgeW91IGFyZSByZWFkeSB0byB0YWtlIHlvdXIgcHJvZ3JhbSBtYWluc3RyZWFtIGFuZCBqdW1wIHRvIGJvdGhcbk1hY09TIFggYW5kIFdpbmRvd3MsIGluIG1vc3QgY2FzZXMgeW91IGNhbiBhY3R1YWxseSBnZW5lcmF0ZSB0aGUgLmFwcCBhbmQgLmV4ZVxuZmlsZXMgZGlyZWN0bHkgb24geW91ciBMaW51eCBib3guICBIb3dldmVyLCBJIHBlcnNvbmFsbHkgcHJlZmVyIHRvIGRvIHRoZSBidWlsZGluZ1xub24gdGhvc2Ugb3BlcmF0aW5nIHN5c3RlbXMgcmVzcGVjdGl2ZWx5LCBhcyBJIGNhbiBzZWUgaG93IHRoZSBHVUkgcmVuZGVycyBuYXRpdmVseS5cblRoaXMgaXMgZXNwZWNpYWxseSB0cnVlIGZvciBPUyBYLCBhcyBpdCBoYXMgdGhlICpnbG9iYWwgbWVudSBiYXIqIHlvdSBuZWVkIHRvIHdvcnJ5XG5hYm91dCwgc28geW91IG1pZ2h0IG5lZWQgdG8gc2xpZ2h0bHkgYWRqdXN0IHlvdXIgRm9ybSB0byByZW1vdmUgdGhlIGdhcCB3aGVyZVxudGhlIGVtYmVkZGVkIG1lbnUgYmFyIG9uIG1vc3Qgb3BlcmF0aW5nIHN5c3RlbXMgdXN1YWxseSBpcy4gIEJ1dCBvdmVyYWxsLCB0aGF0IGlzXG5yZWFsbHkgYWxsIHRoYXQgbmVlZHMgdG8gYmUgZG9uZS4gIElmIHlvdSB1c2UgdGhlIHN0YW5kYXJkIEdVSSBjb21wb25lbnRzLCBhbmQgdGhlXG5wcm9wZXIgT2JqZWN0UGFzY2FsIGNsYXNzZXMsIGFsbCB5b3VyIGNvZGUgd2lsbCBqdXN0IGNvbXBpbGUgZmluZSBvbiBldmVyeSBPUy5cblxuQW5kIHRoYXQgZmluYWwgc3RhdGVtZW50IGFib3ZlIGlzIGV4YWN0bHkgd2h5IEkgY2hvc2UgKipPYmplY3RQYXNjYWwqKiBvdmVyXG5hbnl0aGluZyBlbHNlLiAgTm8gb3RoZXIgbGFuZ3VhZ2UgdGhhdCBJIGFtIGF3YXJlIG9mIGNhbiBkbyB0aGlzIHdpdGggc3VjaCBsaXR0bGVcbmVmZm9ydC4gIEl0J3Mgbm90aGluZyBzaG9ydCBvZiBhbWF6aW5nIHRvIHNlZSBhIEdVSSBwcm9ncmFtIGNyZWF0ZWQgb24geW91ciBMaW51eFxuYm94IGp1c3QgY29tcGlsZSB3aXRoIG5vIGNvZGUgY2hhbmdlcyBvbiBXaW5kb3dzIGFuZCBPUyBYLCBhbmQgYWxzbyB1c2UgdGhlaXJcbm5hdGl2ZSBsb29rIGFuZCBmZWVsLiAgSXQgbWFrZXMgeW91ciBwcm9ncmFtIGxvb2sgbW9yZSBwcm9mZXNzaW9uYWwgd2hlbiB0aGVcbmVuZC11c2VyIHNlZXMgaXQgdXNpbmcgdGhlIG5hdGl2ZSBHVUkgdG9vbGtpdCBvZiB0aGVpciBPUywgdGhlIHByb2dyYW0gZml0cyBpblxud2l0aCB0aGUgdXNlcidzIG90aGVyIGFwcGxpY2F0aW9ucy4gIEJlY2F1c2Ugb2YgdGhpcywgT2JqZWN0UGFzY2FsIGZlZWxzIGxpa2VcblB5dGhvbiwgd2hlcmUgSSBjYW4gcnVuIGEgc2NyaXB0IG9uIGFub3RoZXIgb3BlcmF0aW5nIHN5c3RlbSwgYW5kIGl0IHdpbGwgdXN1YWxseVxucnVuIGZpbmUgaWYgSSB1c2UgdGhlIGxpYnJhcmllcyBwcm92aWRlZCBieSBQeXRob24sIGJ1dCBpcyBuYXRpdmUgY29kZSwgYW5kIGFcbm11Y2ggc21hbGxlciBkaXN0cmlidXRpb24gc2l6ZS5cbiIgfSwgeyAiSUQiIDogNSwgIlBBVEgiIDogIi9BYm91dFNpdGUiLCAiVElUTEUiIDogIkFib3V0IHRoaXMgV2Vic2l0ZSIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTA1VDE5OjQ2OjI2LjU1NFoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMDZUMTk6NTg6MzUuMTQyWiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiQXMgc3RhdGVkIG9uIHRoZSBwcmlvciBwYWdlLCB0aGlzIGVudGlyZSB3ZWJzaXRlIGlzIGJ1aWx0IHVzaW5nIFtPYmplY3RQYXNjYWxdKCMvT2JqZWN0UGFzY2FsKSB0ZWNobm9sb2d5LiAgSW4gdGhpcyBhcnRpY2xlIGhlcmUsIEkgd2lsbCBleHBsYWluIGhvdyBpdCBhbGwgd29ya3MgZXhhY3RseSBmb3IgdGhvc2Ugd2hvbSBhcmUgY3VyaW91cyBhbmQgd291bGQgbGlrZSB0byBiZSBtb3JlIGVubGlnaHRlbmVkLiAgSW4gdGhlIGN1cnJlbnQgaXRlcmF0aW9uIG9mIHRoaXMgd2Vic2l0ZSwgYW5kIG1vc3QgbGlrZWx5IGluIGZ1dHVyZSBpdGVyYXRpb25zLCBhbnlvbmUgd2FudGluZyB0byBob3N0IHN1Y2ggYSAqc3Vkby1zdGF0aWMgd2Vic2l0ZSogY2FuIGVhc2lseSB3aXRoIHRoZSBoZWxwIG9mIHRoaXMgV2ViIEFwcGxpY2F0aW9uLiAgSXQgaXMgYSBiaXQgZWFzaWVyIHRvIHNldC11cCBhbmQgY29uZmlndXJlIHRoYW4gYSB0eXBpY2FsIHN0YXRpYyBzaXRlIGdlbmVyYXRvci4gIFJhdGhlciB0aGFuIGhhdmluZyB0byAqcmUtY29tcGlsZSB5b3VyIHdlYnNpdGUqIGVhY2ggdGltZSB5b3UgYWRkIGEgbmV3IGJsb2cgcG9zdCwgdGhpcyBmcmFtZXdvcmsgdGFrZXMgYSBkaWZmZXJlbnQgYXBwcm9hY2guICBUaGUgd2Vic2l0ZSBpdHNlbGYgaXMgb25seSBjb21waWxlZCB3aGVuIGEgZmVhdHVyZSBjaGFuZ2UgdG8gdGhlIGZyYW1ld29yayBpdHNlbGYgaXMgbmVlZGVkLCBhbGwgY29udGVudCBkYXRhIGlzIHN0b3JlZCBvdXRzaWRlIG9mIHRoZSBmcmFtZXdvcmsgaW4gYW4gZXh0ZXJuYWwgKipKU09OKiogZmlsZS4gIFRoaXMgZGF0YWJhc2UgZmlsZSBjYW4gZWl0aGVyIGJlIGdlbmVyYXRlZCBieSBoYW5kLCBwcm9ncmFtbWF0aWNhbGx5IHVzaW5nIGEgdG9vbCB0byBidWlsZCBpdCwgb3IgYnkgdXNpbmcgdGhlIGluY2x1ZGVkIFtBZG1pblRvb2xdKCMvQWRtaW5Ub29sKSB3aGljaCBpcyBhYmxlIHRvIGJvdGggc3RvcmUgdGhlIGRhdGFiYXNlIGFuZCBjYW4gY3JlYXRlIG5ldyBleHBvcnRzIG9mIHRoZSAqKkpTT04qKiBkYXRhIHdoZW4gZGF0YSBoYXMgYmVlbiBjaGFuZ2VkIG9uIHRoZSBzaXRlLiAgVGhpcyB0b29sIGlzIHdyaXR0ZW4gaW4gKk9iamVjdFBhc2NhbCogYW5kIGNhbiBiZSBjcm9zcy1jb21waWxlZCB0byBhbGwgc3VwcG9ydGVkIG9wZXJhdGluZyBzeXN0ZW1zLiAgT25jZSBhIGNvbXBhdGlibGUgKipKU09OKiogZGF0YSBmaWxlIGlzIHJlYWR5LCBpdCBjYW4gYmUgcGxhY2VkIGF0IHRoZSBzYW1lIHBvc2l0aW9uIGFzIHRoZSAqKkhUTUwqKiBmaWxlIHRvIGJlIGxvYWRlZCBpbi4gIEhlcmUgaXMgYW4gZXhhbXBsZSBvZiBhIHR5cGljYWwgd2ViIHRyZWUgd2l0aCB0aGlzIGZyYW1ld29yazpcblxuYGBgXG4vXG4gIGluZGV4Lmh0bWxcbiAgV2ViQXBwLm1pbi5qc1xuICB3ZWJzaXRlLmpzb25cbmBgYFxuXG5Zb3UgY2FuIHN0eWxlIHlvdXIgSFRNTCBwYWdlIGhvd2V2ZXIgeW91IHBsZWFzZSwgaW5jbHVkaW5nIGFkZGluZyBtYW55IG1vcmUgbGlua3MgdG8gY29udGVudCBwYWdlcyB1c2luZyB0aGUgaGFzaCByb3V0aW5nIHN5c3RlbS4gIE9rYXksIHNvIHdpdGggdGhlIGhvdyB0byBnZXQgaXQgYWxsIHVwIGFuZCBydW5uaW5nIGJpdCBvdXQgb2YgdGhlIHdheSwgaG93IGRvZXMgaXQgd29yayBleGFjdGx5P1xuXG5bU291cmNlIENvZGVdKGh0dHBzOi8vZ2l0aHViLmNvbS9rdmVyb25lYXUva3Zlcm9uZWF1LmdpdGh1Yi5pby9ibG9iL21haW4vc3JjL1dlYkFwcC5scHIpXG5cblRoZXJlJ3Mgbm90IHJlYWxseSBtdWNoIGNvZGUgdGhlcmUsIGlzIHRoZXJlPyAgVGhhdCdzIHRoZSBiZWF1dHkgb2YgKk9iamVjdFBhc2NhbCosIGl0IGlzIGV4dHJlbWVseSBmdW5jdGlvbmFsIGlmIHB1dCB0byBnb29kIHVzZS5cblxuVGhlIGBXZWJSb3V0ZXJgIGlzIGFuIGluY3JlZGlibGUgdXNlZnVsIGFuZCBzdXBlciBlYXN5IHRvIHVzZSBjbGllbnQtc2lkZSBoYXNoIHJvdXRlci4gIEl0IGFsbG93cyBlbmQtdXNlcnMgdG8gZWFzaWx5IHNoYXJlIGFuZCBib29rbWFyayBwYWdlcyBvbiBhIHNpbmdsZSBwYWdlIGFwcGxpY2F0aW9uIHN1Y2ggYXMgdGhpcy4gIEl0IGFsc28gaW50ZWdyYXRlcyByZWFsbHkgd2VsbCB3aXRoIGJyb3dzZXIgaGlzdG9yeSwgc28gdGhlIGVuZC11c2VyIGNhbiBzdGlsbCB1c2UgdGhlaXIgYmFjayBhbmQgZm9yd2FyZCBidXR0b25zIGFzIHRoZXknZCBleHBlY3QgZnJvbSBhIHJlZ3VsYXIgd2Vic2l0ZS5cblxuT25lIHRoaW5nIHdoaWNoIHdvcmtzIHJlYWxseSB3ZWxsIGluIE9iamVjdFBhc2NhbCBpcyAqRGF0YVNldHMqLCBhbmQgYmVpbmcgYWJsZSB0byBlYXNpbHkgYmluZCBhbmQgdXNlIHRoZW0gaW4gdmFyaW91cyB3YXlzIGFuZCBhcHBsaWNhdGlvbnMuICBJbiB0aGlzIHByb2dyYW0gSSBhbSB1c2luZyBhIHNwZWNpYWwgRGF0YXNldCB3aGljaCBjYW4gYWxzbyBiZSB1c2VkIGluIHRoZSBkZXNrdG9wIE9iamVjdFBhc2NhbCBwcm9ncmFtcyBhcyB3ZWxsLCB0aGUgYFRFeHRKU09ORGF0YVNldGAuICBUaGlzIGlzIGFuIGV4dGVuZGVkIHZlcnNpb24gb2YgKipKU09OKiogdG8gc3VwcG9ydCBlbWJlZGRlZCAqbWV0YURhdGEqLCB3aGljaCBkZXNjcmliZSB0aGUgc2NoZW1hIG9mIHRoZSB0YWJsZSBiZWluZyBsb2FkZWQgYW5kIHVzZWQuICBFc3NlbnRpYWxseSB0aGUgZW50aXJlIHdlYnNpdGUgY29udGVudCBpcyBkb3dubG9hZGVkIHRvIHRoZSBlbmQtdXNlciBQQyB3aGVuIHRoZXkgdmlzaXQgdGhlIHdlYnNpdGUsIGFuZCBpcyB0aGVuIGNhY2hlZCB1bnRpbCB0aGUgd2Vic2l0ZSBjb250ZW50IGhhcyBiZWVuIHVwZGF0ZWQuICBPbiBhIHNsb3cgY29ubmVjdGlvbiBpdCBjYW4gbGVhZCB0byBhIHNsaWdodCBkZWxheSB1cG9uIGZpcnN0IHZpc2l0aW5nIHRoZSB3ZWJzaXRlIGZvciBhIG5ldyB1c2VyLCBob3dldmVyIG9uY2UgaXQgaXMgbG9hZGVkLCB0aGUgZW5kLXVzZXIgd2lsbCBuZXZlciBuZWVkIHRvIG1ha2UgYW5vdGhlciByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIuICBUaGlzIGFsbG93cyB0aGUgYXBwbGljYXRpb24gdG8gYmUgbW9yZSByZXNwb25zZSwgYnV0IGFsc28gaGFzIHRoZSBhZGRlZCBiZW5lZml0IG9mIHdvcmtpbmcgY29tcGxldGVseSBvZmYtbGluZS4gIEZvciBleGFtcGxlLCBpZiBzb21lb25lIHdhcyByZWFkaW5nIHRoaXMgd2Vic2l0ZSB3aGlsZSB0aGV5IHdlcmUgcmlkaW5nIHRoZSBzdWJ3YXksIGV2ZW4gaWYgdGhleSBsb3NlIGNvbm5lY3Rpb24gdG8gdGhlIEludGVybmV0IGVudGlyZWx5LCB0aGV5IGNhbiBzdGlsbCBjbGljayBhbmQgY29udGludWUgcmVhZGluZyBtb3JlIGFydGljbGVzIHdpdGhvdXQgZmVhciBvZiBpdCBub3QgbG9hZGluZy4gIEFub3RoZXIgcmVhbCBuZWF0IGZlYXR1cmUgb2YgdGhlc2UgKkRhdGFTZXRzKiBpcyB0aGF0IHRoZXkgY2FuIGJlIGVhc2lseSBmaWx0ZXJlZCBvbiB0aGUgY2xpZW50LXNpZGUgYWZ0ZXIgaXQncyBhbGwgZG93bmxvYWRlZC4gIEkgYW0gcGxhbm5pbmcgb24gYWRkaW5nIHNvbWUgYWRkaXRpb25hbCBmZWF0dXJlcyB0byB0aGlzIHdlYnNpdGUgZnJhbWV3b3JrIGluIHRoZSBjb21pbmcgZGF5cyB3aGljaCB3aWxsIGFsbG93IHRvIHVzZSByZWFsLXRpbWUgZmlsdGVycyBvbiB0aGUgd2Vic2l0ZSBkYXRhIGFuZCB0byBwZXJmb3JtIHJlYWwtdGltZSBzZWFyY2hlcy5cblxuU28sIHRoYXQncyBiYXNpY2FsbHkgaG93IHRoaXMgd2Vic2l0ZSB3b3JrcyBpbiBhIG51dHNoZWxsLiAgSSBoaWdobHkgcmVjb21tZW5kIGp1c3QgdGFraW5nIGEgbG9vayBhdCB0aGUgc291cmNlIGNvZGUgYW5kIG1heWJlIHRyeWluZyB0byBjb21waWxlIGl0IHlvdXJzZWxmLiAgSSB3aWxsIHNvb24gYmUgcmVsZWFzaW5nIGEgc3RhbmQtYWxvbmUgdmVyc2lvbiB3aGljaCBjYW4ganVzdCBiZSB1c2VkIG9uIGEgd2Vic2l0ZSBhbG9uZyB3aXRoIGEgW3dlYnNpdGUuanNvbl0oIy93ZWJzaXRlLmpzb24pIGZpbGUgdG8gaW1tZWRpYXRlIHdvcmsgYXMgdGhpcyBvbmUgZG9lcyBidXQgd2l0aCB0b3RhbGx5IGRpZmZlcmVudCBjb250ZW50LlxuXG4jIyMgVGVjaG5pY2FsIERlZXAgRGl2ZVxuXG5Pa2F5LCBzbyBhZnRlciBhbm90aGVyIGRheSBvZiB3b3JraW5nIG9uIHRoaXMgZnJhbWV3b3JrLCBpdCBub3cgaGFzIHN1cHBvcnQgZm9yIG11bHRpcGxlICpDb250ZW50LVR5cGVzKiB3aGljaCB0aGUgZnJhbWV3b3JrIGhhbmRsZXMgYWZ0ZXIgYmVpbmcgc2V0IGNvcnJlY3RseSB3aXRoaW4gdGhlIHByb3ZpZGVkICpEYXRhU2V0Ki4gIEhlcmUgaXMgYSBsaXN0IG9mIGN1cnJlbnRseSBrbm93biAqQ29udGVudC1UeXBlcyogYXZhaWxhYmxlOlxuXG4gICogW0hUTUxdKCMvX19ERUJVR19fL0hUTUwpXG4gICogKipNYXJrZG93bioqICBUaGlzIGRvY3VtZW50IHNob3VsZCBiZSBhIHByZXR0eSBnb29kIGV4YW1wbGUuXG4gICogW0phdmFTY3JpcHQgUHJvZ3JhbV0oIy9fX0RFQlVHX18vSlNQcm9nKVxuICAqIFtCcnl0aG9uIEFwcGxpY2F0aW9uXSgjL19fREVCVUdfXy9QeUFwcClcbiAgKiBbUGFzY2FsIFNvdXJjZSBDb2RlXSgjL19fREVCVUdfXy9QYXNjYWwpXG4gICogW0Jhc2ggU2NyaXB0XSgjL19fREVCVUdfXy9CYXNoKVxuICAqIFtQeXRob24gU291cmNlIENvZGVdKCMvX19ERUJVR19fL1B5dGhvbilcbiAgKiBbUnVieSBTb3VyY2UgQ29kZV0oIy9fX0RFQlVHX18vUnVieSlcbiAgKiBbQyBTb3VyY2UgQ29kZV0oIy9fX0RFQlVHX18vQylcbiAgKiBbTWFrZWZpbGVdKCMvX19ERUJVR19fL01ha2VmaWxlKVxuICAqIFtKYXZhU2NyaXB0XSgjL19fREVCVUdfXy9KYXZhU2NyaXB0KVxuICAqIFtFbWJlZGRpbmcgRXhhbXBsZV0oIy9fX0RFQlVHX18vQWxsU291cmNlKVxuXG5Nb3JlIGNhbiBiZSBzdXBwb3J0ZWQgYnkgdXBkYXRlZCB0aGUgYXBwbGljYXRpb24gY29kZSBhbmQgcmUtY29tcGlsaW5nLiAgSSBoYXZlIHByb3ZpZGVkIGFuIGV4YW1wbGUgdG8gZWFjaCBvbmUgc28geW91IGNhbiBzZWUgaG93IGVhY2ggaXMgcmVuZGVyZWQgYnkgdGhlIGZyYW1ld29yayBpbiB0aGUgYnJvd3Nlci5cblxuVW5mb3J0dW5hdGVseSBpdCBzZWVtcyB0aGF0IHRoZSBjdXJyZW50IHNvdXJjZSBjb2RlIGhpZ2hsaWdodGVyIGRvZXMgbm90IHN1cHBvcnQgc2luZ2xlIHBhZ2UgYXBwbGljYXRpb25zIGFuZCBhcyBhIHJlc3VsdCBpdCBjYW4gb25seSBwZXJmb3JtIGEgaGlnaGxpZ2h0IG9uY2UgcGVyIGxpYnJhcnkgbG9hZC4gIFRvIHNlZSB0aGUgaGlnaGxpZ2h0aW5nIG9mIHRob3NlIHR5cGVzIGluIGFjdGlvbiwganVzdCByZWxvYWQgdGhlIHBhZ2UgYWZ0ZXIgZ29pbmcgdG8gdGhlIHJlc3BlY3QgY29udGVudCBwYWdlLlxuIiB9LCB7ICJJRCIgOiA2LCAiUEFUSCIgOiAiL0FkbWluVG9vbCIsICJUSVRMRSIgOiAiREJBZG1pbiBUb29sIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMDVUMTk6NDk6MDMuMjExWiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0wNlQxNjoyMTo1OS4yNzVaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICIhW0FkbWluIFRvb2xdKHNyYy9BZG1pbkFwcC9TY3JlZW5zaG90LnBuZylcclxuXHJcblRoaXMgaXMgdGhlIEFkbWluIFRvb2wgY29tcGlsZWQgb24gKkRlYmlhbiBMaW51eCosIGl0IGlzIGF0IHRoZSBjdXJyZW50IG1vbWVudCBhIHZlcnkgc2ltcGxlLCBidXQgYWxzbyBhIHZlcnkgZWZmZWN0aXZlIHRvb2wuICBJdCBzdG9yZXMgaXQncyBkYXRhIGluIGEgbG9jYWwgZGF0YWJhc2UgZmlsZSB3aGljaCBpcyB0aGVuIGNvbm5lY3RlZCB0aHJvdWdoIHVzaW5nIHRoZSBzdGFuZGFyZCAqRGF0YVNldHMqIHN5c3RlbSB0byBtYWtlIHRoZSBlbnRpcmUgZm9ybSB3b3JrIHdpdGggYWxtb3N0IG5vIGNvZGUuXHJcblxyXG5bU291cmNlIENvZGVdKGh0dHBzOi8vZ2l0aHViLmNvbS9rdmVyb25lYXUva3Zlcm9uZWF1LmdpdGh1Yi5pby9ibG9iL21haW4vc3JjL0FkbWluQXBwL2RiYWRtaW53aW5kb3cucGFzKVxyXG5cclxuQWx0aG91Z2ggbW9zdCBvZiB0aGUgZnVuIGhhcHBlbnMgZHVyaW5nIHRoZSBbRGVzaWduIFBoYXNlXShodHRwczovL2dpdGh1Yi5jb20va3Zlcm9uZWF1L2t2ZXJvbmVhdS5naXRodWIuaW8vYmxvYi9tYWluL3NyYy9BZG1pbkFwcC9kYmFkbWlud2luZG93LmxmbSkuXHJcblxyXG5JIHdpbGwgYmUgc29vbiByZWxlYXNpbmcgYSB2aWRlbyB3aGljaCB3aWxsIGdvIG92ZXIgaG93IHRoaXMgd2Vic2l0ZSBpcyB1cGRhdGVkIGluIGEgbnV0c2hlbGwsIHRoZSB2aWRlbyB3aGljaCB3aWxsIGJlIGNyZWF0ZWQgYW5kIHVwbG9hZGVkIHNvb24gd2lsbCByZXBsYWNlIHRoaXMgdGV4dCBhbmQgdGhlIHZpZGVvIHdpbGwgc2hvdyBtZSBkb2luZyBqdXN0IHRoYXQgYXMgSSByZXBsYWNlIGl0IHdpdGggYSB2aWRlbyBsaW5rIGFuZCBzaG93cyB0aGUgcHJvY2VzcyBvZiBhIHR5cGljYWwgd2Vic2l0ZSB1cGRhdGUuXHJcblxyXG5Fc3NlbnRpYWxseSB0aGlzIHByb2dyYW0gZ2l2ZXMgbWUgYSBsb2NhbCBwZXJzaXN0ZW50IGRhdGFiYXNlIHdoaWNoIEkgY2FuIHVwZGF0ZSB1c2luZyB0aGlzIHByb2dyYW0uICBUaGVuIHdoZW4gSSBhbSByZWFkeSB0byBkZXBsb3kgb3V0LCBJIGp1c3QgaGl0IHRoYXQgbG92ZWx5ICoqRXhwb3J0KiogYnV0dG9uIGFuZCBpdCB3aWxsIGdlbmVyYXRlIGEgd29ya2luZyBbd2Vic2l0ZS5qc29uXSgjL3dlYnNpdGUuanNvbikuXHJcbiBcclxuVGhlIEFkbWluVG9vbCBhbHNvIHdvcmtzIHdlbGwgdW5kZXIgdGhlIG9ic2VjdXJlICpNaWNyb3NvZnQqIG9wZXJhdGluZyBzeXN0ZW0sIGZvciBhbnlvbmUgd2l0aCBhIHJpZ2h0IG1pbmQgdG8gYmUgcnVubmluZyB0aGF0LCBvdGhlciB0aGFuIGZvciBlZHVjYXRpb25hbCBhbmQgcmVzZWFyY2ggcHVycG9zZXMgdGhhdCBpcy4uLiAgSSBsaWtlIHRvIHVuZGVyc3RhbmQgd2h5IHNvLWNhbGxlZCAqcmVndWxhciBwZW9wbGUqIHRlbmQgdG8gZG8gdGhlIHRoaW5ncyB0aGV5IGRvLCBzdWNoIGFzIHVzZSBzdWNoIGFuIG9wZXJhdGluZyBzeXN0ZW0uICBJdCdzIGEgZnVuIHRveSBhdCBiZXN0IHRoYXQgbW9zdCBidXNpbmVzc2VzIHByZWZlciB0aGVpciBkcm9uZXMgdG8gdXNlLiAgSSBndWVzcyBpdCBjYW4gYWxzbyBwbGF5IHZpZGVvIGdhbWVzIHdlbGwsIGJ1dCAqU3RlYW1PUyogaXMgcmVhbGx5IHNob3dpbmcgdGhhdCBpdCBpcyBhbHNvIG5vdCB3ZWxsIGF0IHRoZSBvbmUgdGhpbmcgaXQgdXNlZCB0byBiZSB3ZWxsIGF0LCB3aXRoICpTdGVhbU9TKiBoYXZpbmcgc2lnbmlmaWNhbnRseSBtb3JlIHBlcmZvcm1hbmNlIG9uIHRoZSBzYW1lIGhhcmR3YXJlIHdpdGggdGhlIHNhbWUgZ2FtZS4gIEFueXdheXMsIGVuam95IHRoZSAqQWRtaW5Ub29sKiBydW5zIG9uIFdpbmRvd3MgMTAgaW4gYWxsIGl0J3MgYXdlIGFuZCB3b25kZXI6XHJcblxyXG4hW0FkbWluIFRvb2xdKHNyYy9BZG1pbkFwcC9TY3JlZW5zaG90X1dpbjEwLnBuZylcbiIgfSwgeyAiSUQiIDogNywgIlBBVEgiIDogIi93ZWJzaXRlLmpzb24iLCAiVElUTEUiIDogIndlYnNpdGUuanNvbiBmb3JtYXQgaW5mb3JtYXRpb24iLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0wNVQyMTowMDo1MC44MzdaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTE4VDEzOjI5OjE5Ljk5NloiLCAiQ09OVEVOVFRZUEUiIDogMCwgIkNPTlRFTlQiIDogIkZvcm1hdCBvZiB0aGUgPGI+d2Vic2l0ZS5qc29uPC9iPiBmaWxlOjxoci8+XG48cHJlPlxueyAgICBcbiAgXCJtZXRhRGF0YVwiOiB7XG4gICAgXCJmaWVsZHNcIjogW1xuICAgICAgICB7XCJuYW1lXCI6XCJJZFwiLCBcInR5cGVcIjpcImludFwifSxcbiAgICAgICAge1wibmFtZVwiOlwiUGF0aFwiLCBcInR5cGVcIjpcInN0cmluZ1wifSxcbiAgICAgICAge1wibmFtZVwiOlwiVGl0bGVcIiwgXCJ0eXBlXCI6XCJzdHJpbmdcIn0sXG4gICAgICAgIHtcIm5hbWVcIjpcIkNyZWF0ZWRcIiwgXCJ0eXBlXCI6XCJkYXRlXCJ9LFxuICAgICAgICB7XCJuYW1lXCI6XCJNb2RpZmllZFwiLCBcInR5cGVcIjpcImRhdGVcIn0sXG4gICAgICAgIHtcIm5hbWVcIjpcIkNvbnRlbnRUeXBlXCIsIFwidHlwZVwiOlwiaW50XCJ9LFxuICAgICAgICB7XCJuYW1lXCI6XCJDb250ZW50XCIsIFwidHlwZVwiOlwic3RyaW5nXCJ9XG4gICAgXSxcbiAgICBcInJvb3RcIjogXCJEYXRhXCJcbiAgfSxcbiAgXCJEYXRhXCI6IFsgLi4uIF1cbn1cbjwvcHJlPlxuPHA+VGhpcyBpcyB3aGF0IHdvdWxkIGJlIGNhbGxlZCB0aGUgPGk+c3RhbmRhcmQgaGVhZGVyPC9pPiBmb3IgdGhlIEpTT04gZmlsZSwgbXVjaCBsaWtlIGhvdyBvdGhlciBmaWxlIHR5cGVzIG1heSBjb250YWluIGEgaGVhZGVyIG9mIHNvcnRzIHdoaWNoIGNhbiBjb250YWluIGFkZGl0aW9uYWwgPGk+bWV0YURhdGE8L2k+IGFzIGRvZXMgdGhlIHVzZSBvZiA8aT5EYXRhU2V0czwvaT4uPC9wPlxuPHA+VGhlIEFycmF5IGxvY2F0ZWQgaW4gdGhlIDxpPkRhdGE8L2k+IGlzIHdoZXJlIGFsbCB0aGUgYWN0dWFsIGRhdGEgZ29lcywgYW5kIGVhY2ggcm93IGluIHRoZSBhcnJheSBzaG91bGQgdGFrZSBvbiB0aGlzIGZvcm1hdDo8L3A+XG48cHJlPlxue1xuICBcIklkXCI6IDEsXG4gIFwiUGF0aFwiOiBcIi9oZWxsb1wiLFxuICBcIlRpdGxlXCI6IFwiSGVsbG8gV29ybGRcIixcbiAgXCJDb250ZW50VHlwZVwiOiAxLFxuICBcIkNyZWF0ZWRcIjogXCIyMDI0LTAyLTA1VDE5OjAzOjUxLjg0NS0wNzowMFwiLFxuICBcIk1vZGlmaWVkXCIgOiBcIjIwMjQtMDItMDVUMTk6MTg6NDkuMzI4LTA3OjAwXCIsXG4gIFwiQ29udGVudFwiIDogXCIjIEhlbGxvIFdvcmxkXFxuXFxuTWFya2Rvd24gd2lsbCBhbHNvIGJlIHN1cHBvcnRlZCFcXG5cIlxufVxuPC9wcmU+XG48cD5FYWNoIGl0ZW0gc2hvdWxkIGhhdmUgYSB1bmlxdWUgPGI+SWQ8L2I+IGFuZCA8Yj5QYXRoPC9iPi4gIFRoZSBjb250ZW50IHR5cGUgaXMgdXNlZCB0byBkZXRlcm1pbmUgaG93IHRoZSB3ZWIgYXBwbGljYXRpb24gd2lsbCBoYW5kbGUgdGhlIGNvbnRlbnQgaXRzZWxmLiAgSGVyZSBpcyBhIGN1cnJlbnQgbGlzdCBvZiBzdXBwb3J0ZWQgY29udGVudCB0eXBlIG51bWJlcnM6PC9wPlxuPHRhYmxlIGJvcmRlcj1cIjFcIiBiZ2NvbG9yPVwiI2FlYWVhZVwiPlxuICA8dGhlYWQ+XG4gICAgPHRyPjx0aD5UeXBlPC90aD48dGg+RGVzY3JpcHRpb24gLyBQdXJwb3NlPC90aD48L3RyPlxuICA8L3RoZWFkPlxuICA8dGJvZHk+XG4gICAgPHRyPjx0ZD4wPC90ZD48dGQ+SFRNTDwvdGQ+PC90cj5cbiAgICA8dHI+PHRkPjE8L3RkPjx0ZD5NYXJrZG93bjwvdGQ+PC90cj5cbiAgICA8dHI+PHRoIGNvbHNwYW49XCIyXCI+Q2xpZW50LXNpZGUgQXBwbGljYXRpb24gVHlwZXM8L3RoPjwvdHI+XG4gICAgPHRyPjx0ZD41MDwvdGQ+PHRkPjxhIGhyZWY9XCIjL1dlYnNpdGUvSlNBcHBcIj5KYXZhU2NyaXB0IEFwcGxpY2F0aW9uPC9hPjwvdGQ+PC90cj5cbiAgICA8dHI+PHRkPjUxPC90ZD48dGQ+PGEgaHJlZj1cIiMvV2Vic2l0ZS9QeUFwcFwiPlB5dGhvbiBXZWIgQXBwbGljYXRpb248L2E+PC90ZD48L3RyPlxuICAgIDx0cj48dGggY29sc3Bhbj1cIjJcIj5Tb3VyY2UgQ29kZSBIaWdobGlnaHRlcnM8L3RoPjwvdHI+XG4gICAgPHRyPjx0ZD4xMDA8L3RkPjx0ZD5QYXNjYWwgU291cmNlIENvZGU8L3RkPjwvdHI+XG4gICAgPHRyPjx0ZD4xMDE8L3RkPjx0ZD5CYXNoIFNjcmlwdCBTb3VyY2U8L3RkPjwvdHI+XG4gICAgPHRyPjx0ZD4xMDI8L3RkPjx0ZD5QeXRob24gU291cmNlPC90ZD48L3RyPlxuICAgIDx0cj48dGQ+MTAzPC90ZD48dGQ+UnVieSBTb3VyY2U8L3RkPjwvdHI+XG4gICAgPHRyPjx0ZD4xMDQ8L3RkPjx0ZD5DIFNvdXJjZTwvdGQ+PC90cj5cbiAgICA8dHI+PHRkPjEwNTwvdGQ+PHRkPk1ha2VmaWxlPC90ZD48L3RyPlxuICAgIDx0cj48dGQ+MTA2PC90ZD48dGQ+SmF2YVNjcmlwdCBTb3VyY2U8L3RkPjwvdHI+XG4gIDwvdGJvZHk+XG48L3RhYmxlPlxuPHA+VGhlc2UgY29udGVudCB0eXBlcyBhcmUgc2V0dGFibGUgdmlhIGEgZHJvcC1kb3duIGluIHRoZSA8YSBocmVmPVwiIy9BZG1pblRvb2xcIj5BZG1pbiBUb29sPC9hPiwgYW5kIHRoZSB0b29sIHdpbGwgZXZlbiBzdXBwb3J0IEhUTUwgc3ludGF4IGhpZ2hsaWdodGluZyB0byBtYWtlIHdyaXRpbmcgcHVyZSBIVE1MIGNvbnRlbnQgcGFnZXMgbXVjaCBlYXNpZXIuICBJJ2QgYWxzbyBoaWdobHkgcmVjb21tZW5kIGNoZWNraW5nIG91dCBteSA8YSBocmVmPVwiIy9GdXR1cmVGZWF0dXJlc1wiPkZ1dHVyZSBGZWF0dXJlczwvYT4gcGFnZSB0byBzZWUgd2hhdCB0byBleHBlY3QgaW4gdXBjb21pbmcgcmVsZWFzZXMgb2YgdGhpcyB3ZWIgYXBwbGljYXRpb24uPC9wPlxuIiB9LCB7ICJJRCIgOiA4LCAiUEFUSCIgOiAiL0Z1dHVyZUZlYXR1cmVzIiwgIlRJVExFIiA6ICJGdXR1cmUgRmVhdHVyZXMiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0wNVQyMToxMzo0OC45OTJaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTIzVDIxOjU1OjE3LjUzOFoiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIiMjIyBIZXJlIGlzIGEgbGlzdCBvZiBwb3RlbnRpYWwgZnV0dXJlIGZlYXR1cmVzIGZvciB0aGlzIHdlYnNpdGUgZnJhbWV3b3JrOlxuXG4gICogU291cmNlIEhpZ2hsaWdodCBDb250ZW50LVR5cGUgKipDb21wbGV0ZWQqKlxuICAqIFRhYmxlIEdlbmVyYXRvciBDb250ZW50LVR5cGVcbiAgICAtIFN0aWxsIHVuc3VyZSBvZiB0aGUgb3ZlcmFsbCBmb3JtYXQgb2YgdGhlIENvbnRlbnQgdG8gbWFrZSBpdCByZW5kZXIuXG4gICogRWFzeSB3YXkgdG8gZW1iZWQgbWFjcm9zIGludG8gQ29udGVudCB3aGljaCBjYW4gYmUgcGFyc2VkLlxuICAgIC0gQ2FuIGJlIHVzZWQgaW4gc2F5IEhUTUwgdG8gbG9hZC9lbWJlZCBhbm90aGVyIHJlc291cmNlIGxpa2UgYSB0YWJsZS5cbiAgKiBDcmVhdGUgYSBwcm9wZXIgcmVsZWFzZSBidWlsZCB0aGF0IGRvZXMgdXNlIGFuIGV4dGVybmFsIFt3ZWJzaXRlLmpzb25dKCMvd2Vic2l0ZS5qc29uKS5cbiAgICAtIFRoZSBjdXJyZW50IHZlcnNpb24gb2YgdGhpcyB3ZWJzaXRlIHlvdSBhcmUgdmlld2luZyBoYXMgdGhlIGRhdGFiYXNlIGVtYmVkZGVkLlxuXG4jIyMgU29tZSBmZWF0dXJlcyBmb3IgdGhlIHdlYnNpdGUsIHdoaWNoIG1heSBuZWVkIG5ldyBmcmFtZXdvcmsgZmVhdHVyZXM6XG5cbiAgKiAqKk1vcmUgQ29udGVudCEqKlxuXG4jIyMgRmVhdHVyZXMgZm9yIHRoZSBbQWRtaW4gVG9vbF0oIy9BZG1pblRvb2wpOlxuXG4gICogSW1wcm92ZSB0aGUgb3ZlcmFsbCBVSSB0byBoYXZlIGEgbGFyZ2VyIE1lbW8gdmlldy4gKipOb3cgUmVzaXphYmxlKipcbiAgKiBQb3RlbnRpYWxseSByZXBsYWNlIHRoZSBUREJNZW1vIHdpdGggYSBTeW5FZGl0IGluc3RlYWQuICAqKlN1cHBvcnRlZCBBZGRlZCoqXG4gICAgLSBUaGlzIG1lYW5zIHRoYXQgSSB3aWxsIG5lZWQgdG8gbWFuYWdlIHRoZSBtb3ZlbWVudCBvZiBkYXRhIGZyb20gdGhpcyBmaWVsZCBtYW51YWxseS5cbiAgKiBBZGQgbWFueSBzZWFyY2ggZmVhdHVyZXMgaW4gYSBuZXcgKipTZWFyY2gqKiB0YWIuXG4gICAgLSAqUGxlYXNlIGl0ZXJhdGUqXG4iIH0sIHsgIklEIiA6IDksICJQQVRIIiA6ICIvQWJzdHJhY3Rpb24iLCAiVElUTEUiIDogIkFic3RyYWN0aW9uIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMDVUMjE6NDY6MzcuNzYzWiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0wNVQyMTo0NzowMC4wMjBaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJCb3RoIFtGcmVlUGFzY2FsXSgjL0ZyZWVQYXNjYWwpIGFuZCBbTGF6YXJ1c10oIy9MYXphcnVzKSBoYXZlIGFtYXppbmcgYWJzdHJhY3Rpb24gbGF5ZXJzLiAgVGhlIGFic3RyYWN0aW9uIGxheWVyIGluICpGcmVlUGFzY2FsKiBtYWtlcyBpdCBwb3NzaWJsZSB0byB0YWtlIHRoZSBzYW1lIHNvdXJjZSBjb2RlIGFuZCBjYW4gY29tcGlsZSBpdCBvbiBhIGRpZmZlcmVudCBwcm9jZXNzb3IgYW5kIG9wZXJhdGluZyBzeXN0ZW0sIGFuZCBpdCB3aWxsIHdvcmsgYWxtb3N0IHRoZSBzYW1lIGFzIGl0IGRpZCBvZiB0aGUgc3lzdGVtIHdoaWNoIGl0IHdhcyBvcmlnaW5hbGx5IHByb2dyYW1tZWQgb24uICBUaGlzIGFic3RyYWN0aW9uIGxheWVyIGNvbmNlcHQgSSBiZWxpZXZlIGdvZXMgYmFjayBhdCBsZWFzdCB1bnRpbCAqVHVyYm9QYXNjYWwgNC4wKiB3aGVyZSBpdCBoYWQgdHdvIHVuaXRzIHdoaWNoIHdlcmUgaW4gYSBzZW5zZSBoYXJkd2FyZSBpbmRlcGVuZGVudCwgYGNydGAgYW5kIGBncmFwaGAuXG5cblRoZSBgY3J0YCB1bml0IHdhcyB1c2VkIGxpa2UgaG93IGBuY3Vyc2VzYCBpcyB1c2VkIHRvZGF5LCBhbmQgaWYgeW91IHRha2UgYSAqVHVyYm9QYXNjYWwqIHByb2dyYW0gd2hpY2ggdXNlcyB0aGUgYGNydGAgdW5pdCBmcm9tIGJhY2sgaW4gdGhlIDgwcyBhbmQgY29tcGlsZSBpdCB3aXRoICpGcmVlUGFzY2FsKiwgaXQgd2lsbCBydW4gYWxtb3N0IGV4YWN0bHkgYXMgaXQgZGlkIGJhY2sgdGhlbi4gIFRoZXJlIGFsc28gZXhpc3RzIGEgbW9yZSBtb2Rlcm4gdW5pdCBjYWxsZWQgYG5jcnRgIHdoaWNoIGlzIGEgZHJvcC1pbiByZXBsYWNlbWVudCBmb3IgdGhlIGBjcnRgIHVuaXQsIGJ1dCBpbnN0ZWFkIG9mIGNvbnRyb2xsaW5nIHRoZSB0ZXJtaW5hbCBkaXJlY3RseSwgaXQgaW5zdGVhZCBsaW5rcyBhbmQgdXNlcyBgbmN1cnNlc2AgQVBJIGNhbGxzLlxuXG5UaGUgYGdyYXBoYCB1bml0IG9yaWdpbmFsbHkgdXNlZCB3aGF0IHdlcmUgY2FsbGVkIGBCR0lgIG9yICpCb3JsYW5kIEdyYXBnaGljcyBJbnRlcmZhY2UqIGRyaXZlcnMgaW4gdGhlICpUdXJib1Bhc2NhbCogZXJhLiAgVGhlc2UgZHJpdmVycyB3ZXJlIGFsc28gdXNlZCB3aXRoICpUdXJibyBDKiBwcm9ncmFtcyBhcyB3ZWxsIGFzIHRoZSBzdGFuZGFyZCBncmFwaGljcyBkcml2ZXJzLiAgVGhlIGBncmFwaGAgdW5pdCB3YXMgdGhlIGFic3RyYWN0aW9uIEFQSSB3aGljaCB3b3JrZWQgd2l0aCB0aGVzZSBkcml2ZXJzIHRvIGNvbnRyb2wgdGhlIGdyYXBoaWNzIG9uIHRoZSBzY3JlZW4uICBUaGlzIHVuaXQgc3RpbGwgZXhpc3RzIGluICpGcmVlUGFzY2FsKiwgYW5kIGlmIGNvbXBpbGluZyBhIDMyLWJpdCBNUy1ET1MgcHJvZ3JhbSB3aXRoIGl0LCB0aGUgYGdyYXBoYCB1bml0IHdpbGwgZnVuY3Rpb24gdGhlIHNhbWUsIG1pbnVzIHRoZSBuZWVkIGZvciB0aGUgYEJHSWAgZHJpdmVycy4gIFRoaXMgYWxsb3dzIG9sZGVyIDE2LWJpdCAqVHVyYm9QYXNjYWwqIHByb2dyYW1zIHRvIGJlIGRpcmVjdGx5IGNvbXBpbGVkIGludG8gbW9kZXJuIDMyLWJpdCBwcm9ncmFtcywgZWl0aGVyIGZvciBNUy1ET1Mgc3RpbGwsIG9yIGZvciBhIG1vZGVybiBvcGVyYXRpbmcgc3lzdGVtLCBhbmQgZXZlbiBpbnRvIHRoZSA2NC1iaXQgZXJhLiAgKipUYWxrIGFib3V0IGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5ISoqXG5cbkp1c3QgYXMgYGNydGAgaGFzIGBuY3J0YCBzbyBpdCBjYW4gdXNlIG1vZGVybiBsaWJyYXJpZXMsIHNvIGRvZXMgdGhlIGBncmFwaGAgdW5pdC4gIElmIHlvdSB3YW50ZWQgeW91ciBNUy1ET1MgZ3JhcGgtYmFzZWQgcHJvZ3JhbSB0byBhcHBlYXIgaW4gYSBuYXRpdmUgd2luZG93IG9uIGEgbW9kZXJuIG9wZXJhdGluZyBzeXN0ZW0gd2l0aCBhbWF6aW5nIDY0LWJpdCBwb3dlciEgIFRoZW4gdGhlc2UgYGdyYXBoYCBkcm9wLWluIHVuaXRzIGFyZSBqdXN0IHdoYXQgeW91IG5lZWQuICBUaGUgYGdnaWdyYXBoYCB1bml0IHVzZXMgdGhlIFtHZW5lcmFsIEdyYXBoaWNzIEludGVyZmFjZV0oaHR0cDovL2liaWJsaW8ub3JnL2dnaWNvcmUvKSwgYW4gb3RoZXIgZ3JhcGhpY3Mgc3RhbmRhcmQgb24gb2xkZXIgKipOSVgqKiBYMTEgbWFjaGluZXMuICBBbm90aGVyIG9wdGlvbiBpcyBgcHRjZ3JhcGhgIHVuaXQgd2hpY2ggaXMgdGhlIG9uZSB3aGljaCBJIGJlbGlldmUgd29ya2VkIGJlc3QgZm9yIG1lIHRvIGNvbXBpbGUgYEdSREVNTy5QQVNgIG92ZXIgZGlyZWN0bHkgZnJvbSBNUy1ET1MgdG8gbXkgbW9kZXJuIERlYmlhbiBMaW51eCBzeXN0ZW0uICBUaGVyZSBpcyBhbHNvIGEgdW5pdCB3aGljaCB1c2VzICpTREwqIGFzIHRoZSBiYWNrZW5kLiAgVGhlIGlkZWEgYmVoaW5kIGFsbCB0aGVzZSB1bml0cyBpcyB0byBwcmVzZXJ2ZSBmdWxsIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGFuZCBlbnN1cmUgdGhhdCBwcm9ncmFtcyBjYW4gc3RpbGwgY29tcGlsZSBvbiBtb2Rlcm4gdmVyc2lvbnMgb2YgdGhlIGNvbXBpbGVyLiAgSXQncyBhbHNvIHRoaXMgdHlwZSBvZiBhYnN0cmFjdGlvbiB0aGF0IGFsbG93cyAqRnJlZVBhc2NhbCogdG8gYmUgYXMgY3Jvc3MtcGxhdGZvcm0gYXMgaXQgaXMgZm9yIGEgbmF0aXZlIGJpbmFyeSBjb21waWxlci4gIEl0IGhhcyBhIGhlY2sgb2YgYSBsb3Qgb2YgdGFyZ2V0cywgYWxtb3N0IGFzIG1hbnkgYXMgRGViaWFuLlxuXG5PbmUgb2YgdGhlIGxhcmdlc3QgYWJzdHJhY3Rpb24gbGF5ZXJzIGluICpGcmVlUGFzY2FsKiBoYXMgdG8gYmUgdGhlIFtMQ0xdKCMvTENMKSBvciB0aGUgKkxhemFydXMgQ29tcG9uZW50IExpYnJhcnkqLiAgTGF6YXJ1cyBpbiBpdCdzIG1vc3Qgc2ltcGxlc3QgZm9ybSBpcyBhIGNvbXBvbmVudCBsaWJyYXJ5IG9mIGFic3RyYWN0aW9uIGxheWVycyBmb3IgZXZlcnkgbW9kZXJuIEdVSS4gIElmIHlvdSBjb21waWxlIGEgTGF6YXJ1cyBhcHBsaWNhdGlvbiBvbiBMaW51eCwgaXQgd2lsbCBub3JtYWxseSBjb21waWxlIGFnYWluc3QgdGhlICpHVEsqIGZyYW1ld29yaywgYW5kIGNhbiBjb21waWxlIGFnYWluc3QgKlF0KiB0b28gd2l0aCBqdXN0IGEgc2luZ2xlIGNvbXBpbGUgb3B0aW9uIGNoYW5nZS4gIFRoaXMgc2FtZSBwcm9ncmFtIHdoZW4gY29tcGlsZWQgb24gV2luZG93cyB3aWxsIGdlbmVyYXRlIGEgcHJvZ3JhbSB3aGljaCB1c2VzIHRoZSBzdGFuZGFyZCBXaW5kb3dzIEdVSSBBUElzIHRvIGRyYXcgaXQncyB3aWRnZXRzLCBjcmVhdGluZyBhbiBhcHBsaWNhdGlvbiB3aGljaCBhcHBlYXJzIGVudGlyZWx5IG5hdGl2ZSwgYXMgdGhhdCBpcyBleGFjdGx5IHdoYXQgaXQgaXMuICBUaGUgc2FtZSBnb2VzIHdoZW4gY29tcGlsaW5nIHRoZSBzYW1lIHByb2dyYW0gZm9yIE1hY09TLCBpdCB3aWxsIHVzZSB0aGUgQ29jb2EgdG9vbGtpdCBhbmQgd2lsbCB1c2UgbmF0aXZlIE1hY09TIFVJIHdpZGdldHMuICBBbGwgb2YgdGhpcyB3aXRoIG5vIGFkZGl0aW9uYWwgZWZmb3J0IGZyb20gdGhlIGRldmVsb3Blci4gIFRoZSBvbmx5IGFkZGl0aW9uYWwgZWZmb3J0IGlzIHdpdGggdGhlIHRlc3RlcnMgYW5kIFVYIGRlc2lnbmVycyB3aG8gbWF5IG5lZWQgdG8gYWRqdXN0IHZhcmlvdXMgY29udHJvbHMgb24gdGhlIGZvcm0gZm9yIGVhY2ggb3BlcmF0aW5nIHN5c3RlbSBpZiBjdXN0b20gY29tcG9uZW50cyBhcmUgYmVpbmcgdXNlZCB0byBlbnN1cmUgaXQgbG9va3MgY29uc2lzdGVudC5cblxuSSBkbyBwbGFuIG9uIG1ha2luZyBhIHZpZGVvIGF0IHNvbWUgcG9pbnQgaW4gdGhlIG5lYXIgZnV0dXJlIHNob3dpbmcgYW4gYXBwbGljYXRpb24gYmVpbmcgZGV2ZWxvcGVkIG9uIG9uZSBvcGVyYXRpbmcgc3lzdGVtIHNlYW1sZXNzbHkgYmVpbmcgY29tcGlsZWQgb24gYW5vdGhlciB3aXRoIHplcm8gYWRkaXRpb25hbCBlZmZvcnQuXG4iIH0sIHsgIklEIiA6IDEwLCAiUEFUSCIgOiAiL0ZyZWVQYXNjYWwiLCAiVElUTEUiIDogIkZyZWVQYXNjYWwiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0wNVQyMTo0Nzo1OC4wNzlaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTA1VDIxOjQ5OjEwLjc2NVoiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIlRoaXMgaXMgbXkgKk9iamVjdFBhc2NhbCogY29tcGlsZXIgb2YgY2hvaWNlLCBpdCBjYW4gYmUgZG93bmxvYWRlZCBmcm9tIHRoZWlyIG9mZmljaWFsIHdlYnNpdGUsIFtmcmVlcGFzY2FsLm9yZ10oaHR0cHM6Ly93d3cuZnJlZXBhc2NhbC5vcmcvKS4iIH0sIHsgIklEIiA6IDExLCAiUEFUSCIgOiAiL0xhemFydXMiLCAiVElUTEUiIDogIkxhemFydXMgSURFIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMDVUMjE6NDk6MzkuMDczWiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0wNlQxMTozMzo1OC43MDRaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJBbiAqSW50ZWdyYXRlZCBEZXZlbG9wbWVudCBFbnZpcm9ubWVudCogZm9yIHRoZSBbRnJlZVBhc2NhbF0oIy9GcmVlUGFzY2FsKSBsYW5ndWFnZS4gIEl0IHdvcmtzIG1vcmUgb3IgbGVzcyBsaWtlIHRoZSAqRGVscGhpKiBJREUuXG5cbiFbTGF6YXJ1cyBJREUgZnJvbSBXaWtpcGVkaWFdKGh0dHBzOi8vdXBsb2FkLndpa2ltZWRpYS5vcmcvd2lraXBlZGlhL2NvbW1vbnMvdGh1bWIvMC8wMS9MYXphcnVzXzEuMF9DYXJib24ucG5nLzEwMjRweC1MYXphcnVzXzEuMF9DYXJib24ucG5nKSIgfSwgeyAiSUQiIDogMTIsICJQQVRIIiA6ICIvTENMIiwgIlRJVExFIiA6ICJMYXphcnVzIENvbXBvbmVudCBMaWJyYXJ5IiwgIkNSRUFURUQiIDogIjIwMjQtMDItMDVUMjE6NTE6MzEuNjU2WiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0wNVQyMTo1NDoxNy4xNzFaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJUaGUgY3Jvc3MtcGxhdGZvcm0gR1VJIGFic3RyYWN0aW9uIGxheWVyIGZvciBbRnJlZVBhc2NhbF0oIy9GcmVlUGFzY2FsKS4gIEl0IGlzIGFsbW9zdCBlbnRpcmVseSBjb21wYXRpYmxlIHdpdGggdGhlICpEZWxwaGkqIHZlcnNpb24gY2FsbGVkICoqVkNMKiogb3IgdGhlICpWaXN1YWwgQ29tcG9uZW50IExpYnJhcnkqLiAgV2hpY2ggaXMgaW4gaXRzZWxmIGEgbGlicmFyeSBvZiBjbGFzc2VzIHdoaWNoIGFyZSBhYmxlIHRvIGNyZWF0ZSBjcm9zcy1wbGF0Zm9ybSBHVUkgYXBwbGljYXRpb25zIHdpdGggdGhlIHNhbWUgY29kZWJhc2UuIiB9LCB7ICJJRCIgOiAxMywgIlBBVEgiIDogIi9QYXNjYWxSZXNvdXJjZXMiLCAiVElUTEUiIDogIk9iamVjdFBhc2NhbCBSZXNvdXJjZXMiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0wNlQxMDo0MzozNS45NDVaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTA2VDEwOjQ3OjA0Ljc4OVoiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIlRoaXMgaXMgYSBwYWdlIHdpdGggdmFyaW91cyByZXNvdXJjZXMgd2hpY2ggSSBtYXkgdXNlIG9uIGEgZGFpbHkgYmFzaXMgZHVyaW5nIGNvZGluZyBzZXNzaW9uczpcblxuICAqIFtMYXphcnVzIFRkYmYgVHV0b3JpYWxdKGh0dHBzOi8vd2lraS5mcmVlcGFzY2FsLm9yZy9MYXphcnVzX1RkYmZfVHV0b3JpYWwpICAtIFVzZWZ1bCBpbmZvcm1hdGlvbiBvbiBmaWx0ZXIgY29tbWFuZHMgYW5kIGV4cHJlc3Npb25zLlxuIiB9LCB7ICJJRCIgOiAxNCwgIlBBVEgiIDogIi9MaXZlU3RyZWFtaW5nIiwgIlRJVExFIiA6ICJMaXZlIFN0cmVhbWluZyIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTA2VDEwOjQ4OjI4LjExOFoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMDZUMTA6NTQ6MjIuMTk5WiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiSSBhbSBrbm93biB0byAqTGl2ZSBTdHJlYW0qIG15IGNvZGluZyBzZXNzaW9ucyBvbmxpbmUgdGhyb3VnaCBteSBvd24gcGVyc29uYWwgbGl2ZSBzdHJlYW1pbmcgc2VydmljZSBJJ3ZlIGNyZWF0ZWQgdG8gbGltaXQgYW55IGV4dGVybmFsIGRpc3RyYWN0aW9ucyBhcyB0byBlbmFibGUgbXkgYWJpbGl0eSB0byAqSHlwZXIgRm9jdXMqIG9uIGEgc2luZ2xlIGNvZGluZyB0YXNrLiAgWW91IGNhbiBmaW5kIHRoZSBmdWxsIHdlYnNpdGUgYXQgW2xpdmUudmVyb25lYXUubmV0XShodHRwOi8vbGl2ZS52ZXJvbmVhdS5uZXQvIy9jaGFubmVsL2NvZGluZykuICBJIHdhcyBnb2luZyB0byBpbmNsdWRlIGEgZmVlZCB0byB0aGUgbGl2ZSBzdHJlYW0gb24gdGhpcyBwYWdlIGhlcmUsIGJ1dCBpdCB3b3VsZCByZXF1aXJlIG1lIHRvIGluY2x1ZGUgdGhlIEphdmFTY3JpcHQgZmlsZXMgZm9yIHRoZSBjb2RlIHJlcXVpcmVkIHRvIGVuYWJsZSBpdC4gIEFueXdheXMsIHBlcmhhcHMgdGhpcyBpcyBhIHdheSBmb3IgcGVvcGxlIHRvIHRha2UgYSBsb29rIGF0IG15IG5ldyBMaXZlIFN0cmVhbWluZyBQb3J0YWwgd2Vic2l0ZSB0aGF0IEkgc3B1biB1cCBpbiBhYm91dCBhIGRheSdzIHdvcmsuXG4iIH0sIHsgIklEIiA6IDE1LCAiUEFUSCIgOiAiL1Byb2plY3RzIiwgIlRJVExFIiA6ICJNeSBWYXJpb3VzIFByb2plY3RzIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMDZUMTE6MjM6NTYuNzIyWiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMy0zMFQxODoyNTowOC40OThaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJXZWxsLCBmaXJzdGx5IEkgZ3Vlc3MgdGhpcyBbd2Vic2l0ZSBmcmFtZXdvcmtdKC8jQWJvdXRTaXRlKSBoZXJlIGNvdW50cyBhcyBhIHByb2plY3Qgb2YgbWluZS5cblxuIyMjIExpYnJhcmllcyAvIFBhY2thZ2VzXG5cbiAgKiBba2xpYl0oIy9rbGliKVxuICAgIC0gQSBbTGF6YXJ1c10oIy9MYXphcnVzKSBQYWNrYWdlIHdoaWNoIGNhbiBhbHNvIGJlIHVzZWQgaW4gW0ZyZWVQYXNjYWxdKCMvRnJlZVBhc2NhbCkgd2l0aCBhbiBhc3NvcnRtZW50IG9mIHVzZWZ1bCB1bml0cyBJIHVzZSBpbiBhIG1ham9yaXR5IG9mIG15IHBlcnNvbmFsIHByb2plY3RzLiAgSXQgd2FzIG5hbWVkIGFzIHN1Y2ggYXMgSSByZWFsbHkgZG9uJ3Qga25vdyBob3cgdG8gbmFtZSBhbnl0aGluZywgc28gYXMgYSBkZXZlbG9wZXIsIEkgY2hvb3NlIHRoZSBtb3N0IHNpbXBsZXN0IG9mIG5hbWVzLCBvZiB3aGljaCB5b3Ugd2lsbCBjb21lIHRvIHNlZSB3aXRoIHRoZSByZXN0IG9mIHRoZSBwcm9qZWN0cyBvbiB0aGlzIGxpc3QuXG4gICogW2tsaWJMYXpdKCMva2xpYilcbiAgICAtIEEgKkxhemFydXMqIHBhY2thZ2Ugd2hpY2ggd2lsbCBhZGQgc2V2ZXJhbCBjb21wb25lbnRzIHVuZGVyIGBrbGliYCBpbiB5b3VyIGNvbXBvbmVudCBwYWxldHRlIHdpdGggdmFyaW91cyBjb21wb25lbnRzIEkndmUgY3JlYXRlZC5cbiAgKiBbanNsaWJdKCMvanNsaWIpXG4gICAgLSBBIGNvbGxlY3Rpb24gb2YgKkZyZWVQYXNjYWwqIHVuaXRzIGZvciB1c2Ugd2l0aCB0aGUgdGl0dWxhciBbcGFzMmpzXSgjL3BhczJqcykgY29tcGlsZXIgdG8gYnVpbGQgd2ViIGFwcGxpY2F0aW9uIHN1Y2ggYXMgdGhpcyBvbmUuXG5cbiMjIyBTb2Z0d2FyZVxuXG4gICogW1B1dGVyIEJsb2dnZXJdKGh0dHBzOi8vcHV0ZXIuY29tL2FwcC9wdXRlcmJsb2dnZXIpXG4gICAgLSBUaGlzIGJsb2dnaW5nIHBsYXRmb3JtLCBidXQgdGhyb3VnaCBhIFB1dGVyIEFwcC5cbiAgKiBbRGV2RGVza3RvcE9TXSgjL0RldkRlc2t0b3BPUylcbiAgICAtIEEgRGViaWFuIExpdmUgQ0Qgd2l0aCBtYW55IGRldmVsb3BlciB0b29scyByaWdodCB0byB1c2UgYW5kIGNvbmZpZ3VyZWQgZnJvbSBib290IHdpdGggZGVjZW50IHNldHRpbmdzLlxuICAqIFtOZXR3b3JrIFNoYXJlZCBIZWFwIFNlcnZlcl0oIy9tY3NlcnZlcilcbiAgICAtIE90aGVyd2lzZSBrbm93biBhcyAqTWVtb3J5IENhcmQgU2VydmVyKiwgd2hpY2ggYWxsb3dzIGFwcGxpY2F0aW9ucyB0byBzdWJzY3JpYmUgdG8gYmxvY2tzIG9mIG1lbW9yeSBvbiB0aGUgbmV0d29yay5cbiAgICAtIENhbiBiZSB2ZXJ5IHVzZWZ1bCBpbiAqbG93IHJlc291cmNlKiBlbnZpcm9ubWVudHMgd2hlcmUgdGhlIHBhcnNpbmcgb2YgY29tcGxleCBkYXRhIHN0cnVjdHVyZXMgc3VjaCBhcyAqKkpTT04qKiBhbmQgKipYTUwqKiBhcmUgdG9vIHRheGluZy5cbiAgKiBbU2ltNjUwMl0oIy9TaW02NTAyKVxuICAgIC0gQSAqKk1PUyA2NTAyKiogZGlzY292ZXJ5IHRveSwgYSBmdW4gbGVhcm5pbmcgZW52aXJvbm1lbnQgZm9yIHRoZSBjaGlwLCBhbGxvd2luZyB0aGUgY3JlYXRpb24gYW5kIHNoYXJpbmcgb2YgNjUwMiBwcm9ncmFtcyBhbmQgbGVhcm5pbmcgc2NlbmFyaW9zIHRvIGJlIGVhc2lseSBzaGFyZWQgYW1vbmdzdCBpdCdzIHVzZXJzLlxuICAqIFtIYWNrZXIgTWFrZXJdKCMvSGFja2VyTWFrZXIpXG4gICAgLSBQbGVhc2UgZG9uJ3QganVkZ2UgbWUgb24gdGhlIG5hbWUsIEkgZG8gbm90IGNvbmRvbmUgc3VjaCBhY3Rpdml0aWVzLCBtdWNoIGxpa2UgaG93IHRoZSBjcmVhdG9ycyBvZiAqR1RBKiBvYnZpb3VzbHkgd291bGQgbmV2ZXIgY29uZG9uZSBtb3N0IGFjdGl2aXRpZXMgcGxheWVycyBkbyBpbiB0aGVpciBnYW1lLlxuICAgIC0gVGhpcyBpcyBnb2luZyB0byBiZSBhbiB1cGNvbWluZyBnYW1lIHByb2plY3QsIEkgYW0gY3VycmVudGx5IGluIHRoZSAqUHJvdG90eXBlKiBzdGFnZXMgb2YgZGV2ZWxvcG1lbnQgYXQgdGhlIG1vbWVudC5cblxuIyMjIERvY3VtZW50YXRpb24gSSBtYWludGFpblxuXG4gICogW2tkb2NzXShodHRwczovL2tkb2NzLnB1dGVyLnNpdGUvaW5kZXgueG1sKVxuICAgIC0gQSBzaXRlIHNpbWlsYXIgdG8gdGhpcyBwZXJoYXBzLCBidXQgd2l0aCBtdWNoIG1vcmUgZG9jdW1lbnRhdGlvbi5cblxuSWYgeW91IGFyZSBsb29raW5nIGZvciBbZmFpbGVkIHByb2plY3RzXSgjL0ZhaWx1cmVzKSwgdGhlbiBJIGhpZ2hseSByZWNvbW1lbmQgY2hlY2tpbmcgb3V0IHRoYXQgcGFnZS5cblxuIiB9LCB7ICJJRCIgOiAxNiwgIlBBVEgiIDogIi9aZWxkYSIsICJUSVRMRSIgOiAiVGhlIExlZ2VuZCBvZiBaZWxkYSIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTA2VDExOjQ1OjI2LjM0OFoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMjVUMTI6NTU6MTEuMjQxWiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiVGhlIHZpZGVvIGdhbWVzIHNlcmllcyBJJ3ZlIGJlZW4gcGxheWluZyBzaW5jZSBJIHdhcyBhIGtpZCB3aXRoIHRoZSByZWxlYXNlIG9yaWdpbmFsIHJlbGVhc2Ugb24gdGhlICpOaW50ZW5kbyBFbnRlcnRhaW5tZW50IFN5c3RlbSosIHllcyBJJ20gb2xkIG5vdy4gIEkgc3RpbGwgcGxheSBhbGwgdGhlIGdhbWVzIGluIHRoZSBzZXJpZXMgYXQgdmFyaW91cyBwb2ludHMgaWYgSSBmZWVsIEkgd2FudCB0byByZXZpc2l0IGEgZ2FtZSBpbiB0aGUgc2VyaWVzLlxuXG5EbyBsb29rIGZvcndhcmQgdG8gbW9yZSBjb250ZW50IG9uIHRoaXMgcGFnZSBhcyB0aW1lIGdvZXMgb24uICBGb3Igbm93IEkgYW0gdHJ5aW5nIHRvIGZvY3VzIG9uIG90aGVyIGNvbnRlbnQgYXQgdGhlIHNpdGUgaXMgYnJhbmQtbmV3LlxuXG5JZiB5b3UgZW5qb3kgdGhlICpzZW5zZSBvZiBwcm9ncmVzc2lvbiogaW4geW91ciBsaWZlIGxpa2UgeW91IG1heSBmZWVsIGluIGEgKlplbGRhKiBnYW1lLCB0aGVuIEkgaGlnaGx5IHJlY29tbWVuZCB0YWtpbmcgYSBsb29rIGF0IHRoZSBbUXVpbnRldF0oIy9RdWludGV0KSBnYW1lcy5cbiIgfSwgeyAiSUQiIDogMTcsICJQQVRIIiA6ICIvcGFzMmpzIiwgIlRJVExFIiA6ICJwYXMyanMgVHJhbnNwaWxlciIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTA2VDExOjQ5OjE3LjMzMloiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMDZUMTE6NTM6MjUuMTEyWiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiVGhpcyBpcyB0aGUgY29tcGlsZXIgd2hpY2ggd2FzIHVzZWQgdG8gdHVybiB0aGlzIFt3ZWJzaXRlXSgjL0Fib3V0U2l0ZSkgZnJvbSBbT2JqZWN0UGFzY2FsXSgjL09iamVjdFBhc2NhbCkgY29kZSBpbnRvICpKYXZhU2NyaXB0KiBjb2RlIHdoaWNoIGNhbiBydW4gaW4geW91ciB3ZWIgYnJvd3Nlci4gIEl0IHN1cHBvcnRzIGFsbCB0aGUgbW9kZXJuIGZlYXR1cmVzIG9mICpPYmplY3RQYXNjYWwqIHN1Y2ggYXMgcHJvcGVyIGNsYXNzZXMsIGFuZCBhIHN0YXRpY2FsbHkgdHlwZWQgbGFuZ3VhZ2UgbWFraW5nIGl0IGVhc2llciB0byBkZWJ1ZyBhbmQgdHJvdWJsZXNob290IGFwcGxpY2F0aW9uIGlzc3Vlcy5cblxuSSBoaWdobHkgcmVjb21tZW5kIHRha2luZyBhIGxvb2sgYXQgdGhlIFtzb3VyY2UgY29kZV0oaHR0cHM6Ly9naXRodWIuY29tL2t2ZXJvbmVhdS9rdmVyb25lYXUuZ2l0aHViLmlvL2Jsb2IvbWFpbi9zcmMvV2ViQXBwLmxwcikgZm9yIHRoaXMgd2Vic2l0ZSB0byBsZWFybiBtb3JlLiAgSSBkbyBwbGFuIG9uIG1ha2luZyBzb21lIHVwY29taW5nIHZpZGVvcyB0byBzaG93IHBlb3BsZSBob3cgdG8gZ2V0IHN0YXJ0ZWQuXG4gIiB9LCB7ICJJRCIgOiAxOCwgIlBBVEgiIDogIi9rbGliIiwgIlRJVExFIiA6ICJLZXZpbidzIExpYnJhcnkgb2YgdXNlZnVsIHVuaXRzIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMDZUMTE6NTQ6MDAuNjk0WiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0wNlQxMjo1MDo1Ny42MjRaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJBIHBhY2thZ2Ugd2hpY2ggY2FuIGJlIHVzZWQgd2l0aCB0aGUgW0xhemFydXMgSURFXSgjL0xhemFydXMpIG9yIHVzZWQgYnkgaXRzZWxmIGlmIGNvbmZpZ3VyZWQgY29ycmVjdGx5IGluIHlvdXIgYGZwYy5jZmdgIGZpbGUuXG5cbltHaXRIdWIgUmVwb10oaHR0cHM6Ly9naXRodWIuY29tL2t2ZXJvbmVhdS9rbGliKVxuXG5IZXJlIGlzIGEgbGlzdCBvZiB0aGUgdW5pdHMgcHJvdmlkZWQgaW4gdGhlICpwYWNrYWdlKjpcblxuICAqICoqY21kc3lzKiogcHJvdmlkZXMgc29tZSBiYXNpYyBsaW5lIHBhcnNpbmcgZm9yIGNyZWF0aW5nIHF1aWNrIGNvbW1hbmQtbGluZSBwcm9ncmFtcy5cbiAgKiAqKmNydGhlbHBlcioqIHByb3ZpZGVzIG9yIHdpbGwgc29vbiBwcm92aWRlIHNvbWUgdXRpbGl0eSBhbmQgd3JhcHBlcnMgYXJvdW5kIHRoZSBgY3J0YCB1bml0LlxuICAqICoqZWN3ZWF0aGVyKiogcHJvdmlkZXMgd2VhdGhlciBkYXRhIGZvciAqQ2FsZ2FyeSogdXNpbmcgdGhlICpFbnZpcm9ubWVudCBDYW5hZGEqIHdlYnNpdGUuXG4gICogKiplZ2Fjb25zb2xlKiogaXMgYSBwb3J0IG9mIG15ICpweXRob24tdmdhY29uc29sZSogYnV0IHJlbmFtZWQgdG8gYmUgcHJvcGVyIHRvIHdoYXQgaXQgaXMgYXMgd2hlbiBJIG1hZGUgdGhlIFB5dGhvbiB2ZXJzaW9uIEkgZGlkbid0IGtub3cgSSB3YXMgdGVjaG5pY2FsbHkgcmVwbGljYXRpbmcgYW4gRUdBIGZlYXR1cmUgd2hpY2gganVzdCBzbyBoYXBwZW5zIHRvIHdvcmsgb24gVkdBIGFkYXB0ZXJzLlxuICAqICoqZm9yZWNhc3QqKiBob2xkcyBhIHR5cGUgYW5kIGEgcG9pbnRlciB0byBzYWlkIHR5cGUgd2hpY2ggaG9sZHMgZm9yZWNhc3QgZGF0YSB1c2VkIGJ5IGBlY3dlYXRoZXJgIHVuaXQuXG4gICogKipob21lY3UqKiBwcm92aWRlcyBteSBwcm9ncmFtcyB3aXRoIGFjY2VzcyB0byBteSBbSG9tZSBBdXRvbWF0aW9uXSgjL0hvbWVDVSkgc3lzdGVtLlxuICAqICoqaHVkYnV0dG9uKiogcHJvdmlkZXMgYSB0b3VjaCBmcmllbmRseSBidXR0b24gKkxhemFydXMgY29tcG9uZW50Ki5cbiAgKiAqKmh1ZHRvZ2dsZSoqIHByb3ZpZGVzIGEgdG91Y2ggZnJpZW5kbHkgdG9nZ2xlLWJ1dHRvbiAqTGF6YXJ1cyBjb21wb25lbnQqLlxuICAqICoqa2FwaSoqIGhvbGRzIGEgdHlwZSBhbmQgYSBwb2ludGVyIHRvIHNhaWQgdHlwZSB3aGljaCBob2xkcyBhbiBBUEkgc3RydWN0dXJlIHVzZWQgYnkgYGtzZXJ2ZXJgIGFuZCBga2NsaWVudGAuXG4gICogKiprYnVuZGxlKiogd2FzIGFuIGVhcmx5IGF0dGVtcHQgYXQgdHJ5aW5nIHRvIGNyZWF0ZSBhICpjb25zb2xpZGF0ZWQgZmlsZSBmb3JtYXQqLlxuICAqICoqa2NsaWVudCoqIGlzIGEgY2xpZW50IGNsYXNzIHdoaWNoIGFsbG93cyBtdWx0aXBsZSBmb3JtcyBvZiBvcGVyYXRpb24gZm9yIG5ldHdvcmsgY2xpZW50IGFjY2VzcyByb3V0aW5lcy5cbiAgKiAqKmtldnNoZWxsKiogaXMgdGhlIHRpdHVsYXIgc2hlbGwgcHJvZ3JhbSB3cml0dGVuIGJ5IFtLZXZpbl0oIy9BYm91dE1lKSB0byBjcmVhdGUgYW5kIGF1dG9tYXRlIG11bmRhbmUgdGFza3MgdXNpbmcgKjY1MDIqIG1hY2hpbmUgY29kZS5cbiAgKiAqKmtldnRlbCoqIGlzIGEgY29ubmVjdG9yIHRvIEtldmluJ3Mgb3duICpJbnRlcmFjdGl2ZSBWb2ljZSBSZXNwb25zZSogc3lzdGVtIGhlIGRldmVsb3BlZC5cbiAgKiAqKmtpcGMqKiBwcm92aWRlcyBhIGxpZ2h0d2VpZ2h0IElQQyBTZXJ2ZXIgYW5kIENsaWVudCBvdmVyIHRoZSBzdGFuZGFyZCAqVU5JWCBkb21haW4gc29ja2V0Ki5cbiAgKiAqKmtsb2dnZXIqKiBwcm92aWRlcyBzZWFtbGVzcyBhY2Nlc3MgdG8gdGhlIGBURXZlbnRMb2dgIGNsYXNzLCBtYWtpbmcgaXQgb25seSBhIHNpbmdsZSBsaW5lIG9mIGNvZGUgdG8gZW5hYmxlIGxvZ2dpbmcuXG4gICogKiprb25zb2xlKiogaXMgbm90IHRvIGJlIGNvbmZ1c2VkIHdpdGggdGhlICpLREUgUGxhc21hKiBwcm9ncmFtIG9mIHRoZSBzYW1lIG5hbWUuICBJbnN0ZWFkLCB0aGlzIGlzIGEgKkxhemFydXMgY29tcG9uZW50KiB3aGljaCBleHRlbmRzIHRoZSBzdGFuZGFyZCBgVE1lbW9gIHRvIGNyZWF0ZSBhIGJhc2ljIGNvbW1hbmQgc2hlbGwgaW4gYSBHVUkgcHJvZ3JhbS5cbiAgKiAqKmtzZXJ2ZXIqKiBpcyBhIHNlcnZlciBjbGFzcyB3aGljaCBhbGxvd3MgbXVsdGlwbGUgZm9ybXMgb2Ygb3BlcmF0aW9uIGZvciBuZXR3b3JrIHNlcnZlciBjcmVhdGlvbi5cbiAgKiAqKmtzaWduYWxzKiogbWFrZXMgaXQgZWFzeSBmb3IgeW91ciBhcHBsaWNhdGlvbiB0byBwcm9wZXJseSB0ZXJtaW5hdGUgd2hlbiBpdCByZWNlaXZlcyB0aGUgcHJvcGVyIFVOSVggc2lnbmFscy5cbiAgICAtIFByb3ZpZGVzIGV2ZW50IGNhbGxiYWNrIGZvciB3aGVuIHByb2dyYW0gZ2V0cyB0aGUgKipTSUdURVJNKiogb3IgW0N0cmwtQ10oIy9DdHJsLUMpIHNpZ25hbHMuXG4gICogKiprdGhyZWFkcyoqIGlzIGEgdGhyZWFkaW5nIGNsYXNzIHdpdGggc3VwcG9ydCBmb3IgY29tbWFuZCBxdWV1aW5nLlxuICAqICoqa3V0aWxzKiogaGFzIHZhcmlvdXMgdXRpbGl0eSBmdW5jdGlvbnMuXG4gICogKipsYXo2NTAyKiogaXMgdGhlICpMYXphcnVzIGNvbXBvbmVudCogZm9yIGBsaWI2NTAyYCwgd2hpY2ggaXMgYWxzbyB0aGUgbW9zdCByZWNvbW1lbmRlZCB3YXkgdG8gdXNlIHRoaXMgbGlicmFyeSBpbiAqT2JqZWN0UGFzY2FsKi5cbiAgKiAqKmxhemtjbGllbnQqKiBpcyBhICpMYXphcnVzIGNvbXBvbmVudCogZm9yIGBrY2xpZW50YCwgYWxsb3dzIHRvIGNvbmZpZ3VyZSB0aGUgdmFyaW91cyBwcm9wZXJ0aWVzIGF0IGRlc2lnbi10aW1lLlxuICAqICoqbGF6bWVtY2FyZCoqIGlzIGEgKkxhemFydXMgY29tcG9uZW50KiBmb3IgYG1lbWNhcmRgLCBhbmQgaXQgY2FuIGFsc28gYmUgdXNlZCBhcyBhIGNvbm5lY3RvciBmb3IgKm1lbWNhcmQtYXdhcmUqIGNvbXBvbmVudHMuXG4gICogKipsYXpuZXRjYXJkKiogaXMgYSAqTGF6YXJ1cyBjb21wb25lbnQqIGZvciBgbmV0Y2FyZGAsIGFuZCBpdCBjYW4gYWxzbyBiZSB1c2VkIGFzIGEgY29ubmVjdG9yIGZvciAqbmV0Y2FyZC1hd2FyZSogY29tcG9uZW50cywgc3VjaCBhcyB0aGUgYFROZXRNZW1vYCBjb21wb25lbnQuICBJdCBldmVuIHN1cHBvcnRzICpzZXJ2ZXIgc3Vic2NyaXB0aW9ucyosIHNvIGl0IGNhbiBiZSB1c2VkIHRvIHNheSBzeW5jIGBUTmV0TWVtb2Agd2lkZ2V0cyBhY3Jvc3MgYSBuZXR3b3JrLlxuICAqICoqbGliNjUwMioqIHByb3ZpZGVzIGJvdGggbG93LWxldmVsIGFuZCBjbGFzcy1iYXNlZCBhY2Nlc3MgdG8gdGhlIGBsaWI2NTAyLnNvYCBsaWJyYXJ5LCBhbHNvIGNhbGxlZCBgNjUwMi5ETExgIG9uIFdpbmRvd3MuXG4gICogKiptZW1jYXJkKiogaXMgYW4gaW1wbGVtZW50YXRpb24gb2YgYSBtZW1vcnkgY2FyZCBzdG9yYWdlIHN5c3RlbSBmb3Igc3RydWN0dXJlZCBkYXRhLCBzaW1pbGFyIHRvIGhvdyBkYXRhIHdhcyBzdG9yZWQgb24gYSAqUGxheVN0YXRpb24gMSBNZW1vcnkgQ2FyZCouXG4gICogKipuZXRjYXJkKiogaXMgdGhlIG5ldHdvcmstYXdhcmUgdmVyc2lvbiBvZiBgbWVtY2FyZGAsIGFuZCBjYW4gYmUgdXNlZCBpbiBtb3N0IGNhc2VzIGFzIGEgZHJvcC1pbiByZXBsYWNlbWVudCB3aXRoIG9ubHkgYSBmZXcgZXh0cmEgbGluZXMgbmVlZGVkIHRvIHN0YXRlIHRoZSBob3N0bmFtZSwgcG9ydCwgYW5kIGNyZWRlbnRpYWxzLlxuICAqICoqbmV0bWVtbyoqIGlzIGEgKm5ldGNhcmQtYXdhcmUqIGBUTWVtb2AgY29tcG9uZW50LlxuICAqICoqbm90aWZ5aGVscGVyKiogYmVjYXVzZSBwcm9ncmFtbWluZyAqRC1CdXMqIGlzIHRvbyBjb21wbGljYXRlZCBmcm9tICpPYmplY3RQYXNjYWwqLCBvciByYXRoZXIgYW55IGNvbXBpbGVkIGxhbmd1YWdlLi4uXG4gICogKipwaHVlKiogcHJvdmlkZXMgYWNjZXNzIHRvIHRoZSAqUGhpbGlwcyBIdWUqIHN5c3RlbSBvZiBsaWdodGluZyB0aHJvdWdoIGl0J3MgbG9jYWwgSW9UIEFQSS5cbiAgKiAqKnBpc2VydmljZSoqIHByb3ZpZGVzIGFjY2VzcyB0byBhIGN1c3RvbSBkYWVtb24gd2hpY2ggcnVucyBvbiBteSBQaXMgdG8gY29udHJvbCB0aGUgYmFja2xpZ2h0LlxuICAqICoqcGlzb3VuZCoqIHByb3ZpZGVzIGEgd3JhcHBlciBhcm91bmQgdGhlICpQdWxzZUF1ZGlvKiBjb21tYW5kLWxpbmUgdG9vbHMgdG8gcGxheSB2b2ljZSBhbmQgYXVkaW8gb24gYSBQaS5cbiAgKiAqKnF2ZnMqKiBpcyBhIFF1aWNrIFZpcnR1YWwgRmlsZSBTeXN0ZW0gaW1wbGVtZW50YXRpb24sIGl0J3MgdmVyeSBsaW1pdGluZywgYnV0IHRoYXQncyBhbHNvIHBhcnQgb2YgaXQncyBjaGFybSBJIHRoaW5rLlxuICAqICoqcXZmc2pzb24qKiBpcyBhIEpTT04gcmVuZGVyaW5nIGFkYXB0ZXIgZm9yIHRoZSBgcXZmc2AuICBDYW4gYmUgdXNlZCB0byBwcm92aWRlIFZGUyBhY2Nlc3MgZnJvbSBhIHdlYiBzZXJ2ZXIuXG4gICogKipTY3JpcHRTeXN0ZW0qKiBpcyBhIHZlcnkgYmFzaWMgYW5kIHByaW1pdGl2ZSBzY3JpcHRpbmcgc3lzdGVtIHdoaWNoIGNhbiBvbmx5IG1vdmUgdGhlIHBvaW50ZXIgZm9yd2FyZCBpbiB0aGUgY29kZS4gIFRoZXJlIGFyZSBubyBsb29wcywgc3Vicm91dGluZXMsIG9yIEpNUC1saWtlIG9wLWNvZGVzLiAgSXQgd2FzIGJ1aWx0IHRvIGJlIGFzIHNpbXBsZSB0byBydW4gYSBsaW5lYXIgc2V0IG9mIHN0ZXBzIGFzIGEgbGl0ZXJhbCBzY3JpcHQuICBBIHNjcmlwdCBpbiByZWFsLWxpZmUgZG9lc24ndCBoYXZlIGNvbmRpdGlvbmFscywgbGlrZSBhbiBhY3RvciBjYW4ndCBqdXN0IHJlYWQgdGhlaXIgc2NyaXB0IGFuZCBhbGwgb2YgYSBzdWRkZW4gdGhleSBhcmUgY2hhbmdpbmcgZnJvbSBwYWdlIDIwIGJhY2sgdG8gcGFnZSA4LCB0aGF0J2QgYmUgc3R1cGlkLCBzbyBteSBzY3JpcHRpbmcgZW5naW5lIGZvbGxvd3MgdGhlIHRydWUgbWVhbmluZyBvZiBhIHNjcmlwdC5cbiAgICAtIEl0IGFsc28gaGFzIGZ1bGwgSURFIGludGVncmF0aW9uIGFuZCBjYW4gYmUgZWFzaWx5IGRyb3BwZWQgb250byBhIHN0YW5kYXJkIGBURm9ybWAgb3IgYFREYXRhTW9kdWxlYCBmb3IgYWRkZWQgY29udmVuaWVuY2UgYW5kIGRlc2lnbi10aW1lIGNvbmZpZ3VyYXRpb24uXG4gICogKipTZWdtZW50RGlzcGxheSoqIGlzIG9uZSBjb21wb25lbnQgSSBhbSBwcmV0dHkgcHJvdWQgb2YsIGFzIGl0IHdvcmtzIHJlYWxseSB3ZWxsIGFzIGEgZHJhZyBhbmQgZHJvcCAqU2VnbWVudERpc3BsYXkqIGluIExhemFydXMgd2l0aCBkZXNpZ24tdGltZSBjb25maWd1cmF0aW9uIHRvIHNlZSB0aGUgZGlzcGxheSB1cGRhdGUgaW4gcmVhbC10aW1lIHdoaWxlIGRlc2lnbmluZy5cbiAgKiAqKnN1bmNhbGMqKiBpcyBhIFN1bnJpc2UvU3Vuc2V0IGNhbGN1YXRpb24gd3JpdHRlbiBpbiAqT2JqZWN0UGFzY2FsKi5cbiAgKiAqKnR3aWxpb2FwaSoqIGN1cnJlbnRseSBwcm92aWRlcyBvbmx5IFNNUyBzZW5kaW5nIGFiaWxpdGllcyB1c2luZyB0aGUgVHdpbGlvIEFQSS5cbiAgKiAqKnVuaXhzaWduYWxzKiogaXMgbXkgb3JpZ2luYWwgdmVyc2lvbiBvZiBzaWduYWwgaGFuZGxpbmcgYmVmb3JlIGBrc2lnbmFsc2AgZW50ZXJlZCB0aGUgc2NlbmUuXG4gICogKip1cmxsaWIqKiBjdXJyZW50bHkgb25seSBwcm92aWRlcyBvbmUgdXNlZnVsIHV0aWxpdHkgZnVuY3Rpb24gYFVSTEdldGAgd2hpY2ggZG9lcyBleGFjdGx5IGFzIGl0J3MgbmFtZSBpbXBsaWVzLlxuICAiIH0sIHsgIklEIiA6IDE5LCAiUEFUSCIgOiAiL2pzbGliIiwgIlRJVExFIiA6ICJXZWIgcmVsYXRlZCB1bml0cyBmb3IgT2JqZWN0UGFzY2FsIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMDZUMTI6MzI6NDUuMDIyWiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0wNlQxMjo0NjowMi42MDNaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJUaGlzICpwYWNrYWdlKiBpcyBtZWFudCB0byBiZSB1c2VkIHdpdGggdGhlIFtwYXMyanNdKCMvcGFzMmpzKSBjb21waWxlciB0byBidWlsZCBhcHBsaWNhdGlvbnMgZm9yIHRoZSB3ZWIsIHJhdGhlciB0aGFuIHRvIGJlIHVzZWQgd2l0aCBkZXNrdG9wIGRldmVsb3BtZW50LiAgQWx0aG91Z2ggc29tZSBvZiB0aGVzZSB1bml0cywgdGhlIG9uZXMgd2hpY2ggZG8gbm90IHVzZSB0aGUgRE9NIHNob3VsZCBpbiBnZW5lcmFsIGNvbXBpbGUgaW4gdGhlIHJlZ3VsYXIgZGVza3RvcCBjb21waWxlciwgYnV0IGJlIHdhcm5lZCwgdGhhdCB3YXNuJ3QgdGhpcyBwYWNrYWdlJ3MgaW50ZW5kZWQgdXNlLWNhc2UuXG5cbiBbR2l0SHViIFJlcG9dKGh0dHBzOi8vZ2l0aHViLmNvbS9rdmVyb25lYXUvanNsaWIpXG5cbkhlcmUgaXMgYSBsaXN0IG9mIHRoZSB1bml0cyBwcm92aWRlZCBpbiB0aGUgKnBhY2thZ2UqOlxuXG4gICogKiphamF4bGliKiogcHJvdmlkZXMgYSBmZXcgY2xhc3NlcyB0byBtYWtlIGl0IGVhc2llciB0byBtYW5hZ2UgY29ubmVjdGlvbnMgdG8gZXh0ZXJuYWwgd2ViIHJlc291cmNlcy5cbiAgKiAqKmJ1bG1hKiogcHJvdmlkZXMgbWFueSAqT2JqZWN0UGFzY2FsKiBjbGFzc2VzIHRvIHdvcmsgd2l0aCBtYW55ICpCdWxtYSogd2lkZ2V0cyB3aXRoIGVhc2UuXG4gICogKippdWkqKiBwcm92aWRlcyBzb21lICpPYmplY3RQYXNjYWwqIGNsYXNzZXMgdG8gd29yayB3aXRoIHRoZSBpVUkgd2ViIGZyYW1ld29yay5cbiAgKiAqKmpzZG9zYm94KiogaXMgYSB1bml0IHdoaWNoIHByb3ZpZGVzIGVhc3kgYWNjZXNzIHRvIHRoZSAqSlMtRE9TQm94KiBsaWJyYXJ5IGZyb20gKk9iamVjdFBhc2NhbCouXG4gICAgLSBJdCBkb2VzIG5vdCB5ZXQgc3VwcG9ydCBhbGwgdGhlIGZ1bmN0aW9uYWxpdHksIGl0IG9ubHkgc3VwcG9ydHMgd2hhdCBJIHdhcyBuZWVkaW5nIGZyb20gaXQuXG4gICAgLSBBbHRob3VnaCBleHRlbmRpbmcgaXQgdG8gc3VwcG9ydCB0aGUgcmVzdCBvZiB0aGUgQVBJIHNob3VsZCBiZSB0cml2aWFsLlxuICAqICoqanNvbmxpYioqIG1ha2VzIHdvcmtpbmcgd2l0aCBKU09OIGRhdGEgaW4gKk9iamVjdFBhc2NhbCogbXVjaCBlYXNpZXIuXG4gICogKipqc29udGFibGUqKiBpcyBhIGhhbmR5ICpEYXRhU2V0KiB3cmFwcGVyIG1ha2luZyBpdCBlYXN5IHRvIGFjY2VzcyAqRGF0YVNldHMqIHN0b3JlZCBpbiBKU09OIGZvcm1hdCBzdXBlciBlYXN5IHRvIGFjY2Vzcy5cbiAgKiAqKmpzdGVybSoqIGlzIGEgbmljZSBhbmQgZWFzeSB0byB1c2Ugd3JhcHBlciBhcm91bmQgYGpxdWVyeS50ZXJtaW5hbGAuXG4gICogKipsaWJ2aWRlb2pzKiogaXMgYSB3cmFwcGVyIGFyb3VuZCBzb21lIHVzZWZ1bCBmdW5jdGlvbnMgaW4gdGhlIGB2aWRlb2pzYCBKYXZhU2NyaXB0IGxpYnJhcnkuXG4gICogKiptYXJrZWQqKiBhIHNpbXBsZSB3cmFwcGVyIGFyb3VuZCB0aGUgYG1hcmtlZC5qc2AgSmF2YVNjcmlwdCBsaWJyYXJ5LlxuICAqICoqbXhtbCoqIGEgd3JhcHBlciBhcm91bmQgYE1hZ2ljWE1MYCBKYXZhU2NyaXB0IGxpYnJhcnkuXG4gICogKipub3RpZmljYXRpb25zKiogaXMgbXkgYXR0ZW1wdCBhdCB0cnlpbmcgdG8gZ2V0ICpIVE1MNSBOb3RpZmljYXRpb25zKiB3b3JraW5nLlxuICAqICoqcXZmcyoqIGhhcyBzb21lIGNvbm5lY3RvcnMgdG8gdGFsayB0byBhIHNlcnZlciB1c2luZyB0aGUgZm9ybWF0IGluIGBxdmZzanNvbmAgZnJvbSBga2xpYmAuXG4gICogKip2dHdpZGdldHMqKiBpcyBhIHNldCBvZiB3aWRnZXRzIGltcGxlbWVudGVkIHVzaW5nIFZULWNvbW1hbmRzIG9udG9wIG9mIHRoZSBgd2VidnQxMDBgIHVuaXQuXG4gICogKip3ZWJzY3JpcHQqKiBpcyB0aGUgYnJvd3Nlci1zaWRlIHZlcnNpb24gb2YgdGhlIGBTY3JpcHRTeXN0ZW1gIGZvdW5kIGluIGBrbGliYCB0byBhbGxvdyBzaW1pbGFyIHNjcmlwdHMgdG8gcnVuIGluIHRoZSBjb250ZXh0IG9mIHRoZSBicm93c2VyLlxuICAqICoqd2VidnQxMDAqKiBwcm92aWRlcyBib3RoIGEgd3JhcHBlciBhcm91bmQgKlNoZWxsSW5BQm94ZXMnKiBgdnQxMDAuanNgIEphdmFTY3JpcHQgbGlicmFyeSBhbmQgYSAqT2JqZWN0UGFzY2FsKiBjbGFzcyB0byBtYWtlIHdvcmtpbmcgd2l0aCBpdCBtdWNoIGVhc2llci5cbiIgfSwgeyAiSUQiIDogMjAsICJQQVRIIiA6ICIvQ3RybC1DIiwgIlRJVExFIiA6ICJDb250cm9sLUMiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0wNlQxMjo0NzowNC40MDVaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTA2VDEyOjUwOjMwLjUyOVoiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIklmIHlvdSBhcmUgZmFpcmx5IG5ldyB0byBjb21wdXRlcnMgYW5kIHRlY2hub2xvZ3kgdGhlbiB3aGVuIHNvbWVvbmUgc2F5cyAqQ29udHJvbCBDKiBhbG91ZCwgeW91IG1pZ2h0IGp1c3QgdGhpbmsgdGhhdCB0aGV5IGFyZSB0YWxraW5nIGFib3V0IG9uZSBvZiB0aGUgbW9zdCBjb21tb24gYWN0aXZpdGllcyBvbiBhIG1vZGVybiBQQywgKipwbGFnaWFyaXNtKiouICBCdXQgYmVmb3JlIHRoZSBlcmEgb2YgdGhlICpjb3B5L3Bhc3RlIHByb2dyYW1tZXIqLCAqc2VhcmNoIFN0YWNrT3ZlcmZsb3cqLCBhbmQgKmNvcHkgb3V0cHV0IGZyb20gQ2hhdEdQVCosIHRoaXMga2V5IGNvbWJpbmF0aW9uIGhhZCBvdGhlciBpbmZhbW91cyB1c2VzLi4uXG4iIH0sIHsgIklEIiA6IDIxLCAiUEFUSCIgOiAiL0hvbWVDVSIsICJUSVRMRSIgOiAiS2V2aW4ncyBIb21lIENvbnRyb2wgVW5pdCIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTA2VDEyOjUyOjAwLjUzOVoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMDZUMTM6MDI6NDAuMDcwWiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiTXkgSG9tZSBBdXRvbWF0aW9uIFN5c3RlbSB3ZW50IHRocm91Z2ggIGZldyBpdGVyYXRpb25zIHRocm91Z2hvdXQgdGhlIHllYXJzIGZyb20gMjAxNSB3aGVuIEkgZmlyc3QgYmVnYW4gdG8gd29yayBvbiBpdC4gIEl0IG9yaWdpbmFsbHkgc3RhcnRlZCBhcyBhIGJhc2ljIGBib3R0bGUucHlgIHdlYiBhcHBsaWNhdGlvbiB0aGF0IHJhbiBvbiBhIGxvY2FsIG9yaWdpbmFsIGdlbmVyYXRpb24gUmFzcGJlcnJ5IFBpIGluIG15IGhvbWUuICBBZnRlciBJIHB1cmNoYXNlZCB0aGUgKlBoaWxpcHMgSHVlKiBsaWdodGluZyBzeXN0ZW0sIGEgY28td29ya2VyIGF0IHdvcmsgb25lIGRheSBtZW50aW9uZWQgdGhhdCB0aGUgKklvVCogZGV2aWNlIGluIG15IGhvbWUgYWN0dWFsbHkgaGFzIGEgaGlkZGVuIGZlYXR1cmUuICBJdCBleHBvc2VzIGFuIGVhc3kgdG8gdXNlICoqUkVTVCBBUEkqKiEgIEJlZm9yZSBrbm93aW5nIHRoaXMsIEkgd2FzIGNvbnRyb2xsaW5nIG15IGxpZ2h0cyBsaWtlIGFuIGF2ZXJhZ2UgSm9lLCBvcGVuaW5nIHRoZSBhcHAgb24gbXkgcGhvbmUgYSBzZXR0aW5nIHRoZSBtb29kIEkgd2FudGVkLiAgSG93ZXZlciwgSSB3YW50ZWQgYW4gZWFzaWVyIHdheSB0byBjb250cm9sIG15IGxpZ2h0cyB3aXRob3V0IG5lZWRpbmcgdG8gb3BlbiBhbiBhcHAuICBJdCB3YXMgYWxzbyBhcm91bmQgdGhpcyB0aW1lIHRoYXQgSSB3YXMgZXhwZXJpbWVudGluZyB3aXRoICoqTkZDIFRhZ3MqKiBhbmQgYW4gYXBwIHdoaWNoIGFsbG93cyBtZSB0byBzYXkgdGFwIG15IHBob25lIG9uIGEgdGFnIGFuZCBoYXZlIGl0IGNvbm5lY3QgdG8gYSBVUkwgZW5kcG9pbnQuICBJIGdvdCB0byB3b3JrIGFuZCBjcmVhdGVkIHRoZSBmaXJzdCB2ZXJzaW9uIG9mIHRoZSBhdXRvbWF0aW9uIHN5c3RlbSB3aGljaCBoYWQgc29tZSBiYXNpYyBIVFRQIGVuZHBvaW50cyB3aGljaCBteSBwaG9uZSBjb3VsZCB0aGVuIGNvbm5lY3QgdG8gYnkgdXNpbmcgdGhlIE5GQyB0YXBzIHRvIGNvbnRyb2wgbXkgbGlnaHRzIG92ZXIgdGhpcyBBUEkuXG5cbk92ZXIgdGhlIHllYXJzIHRoaXMgcHJvamVjdCBncmV3IG11Y2ggbGFyZ2VyIHRoYW4gSSBjb3VsZCBldmVyIGltYWdpbmUgaW50byB3aGF0IGl0IGN1cnJlbnRseSBpcyB0b2RheS4gIFRoZSBuZXh0IGZlYXR1cmUgSSBhZGRlZCB0byBoYXZlIHNvbWUgc29ydCBvZiBvdXRwdXQgZnJvbSBteSBORkMgYWN0aW9ucyB3YXMgdG8gZW5hYmxlIGF1ZGlvIG91dHB1dCBpbiB0aGUgZm9ybSBvZiBydW5uaW5nIHRoZSBwb3B1bGFyIGBlc3BlYWtgIGNvbW1hbmQgdG8gZGljYXRlIG5vdGlmaWNhdGlvbnMgb24gd2hhdCBlYWNoIGVuZHBvaW50IHdhcyBkb2luZyB3aGVuIHRyaWdnZXJlZCB0byBlbnN1cmUgdGhhdCBpdCB3YXMgd29ya2luZyBhbmQgSSBnb3QgbW9yZSBmZWVkYmFjayB0aGFuIHRoZSBsaWdodHMgY2hhbmdlcy4gIFRoaXMgc29vbiBldm9sdmVkIGludG8gbWUgYWRkaW5nIHRocmVhZHMgaW50byB0aGUgUHl0aG9uIHByb2dyYW0gdG8gcGVyZm9ybSBhY3Rpb25zIHdoaWNoIGRpZG4ndCByZWx5IG9uIG1lIHRhcHBpbmcgbXkgcGhvbmUsIGJ1dCBjb3VsZCBkbyBhIHZhcmlldHkgb2YgdGFza3MgZWFjaCBtaW51dGUuICBUaGVzZSB0YXNrcyBpbmNsdWRlZCB0aGUgY2hlY2tpbmcgb2YgdGhlIGxpZ2h0cyB0byBzZWUgaG93IGxvbmcgdGhleSBoYXZlIGJlZW4gdHVybmVkIG9uIGZvciwgYW5kIGlmIGlmIGEgbGlnaHQgaW4gYSByb29tIHdoaWNoIEkgYW0gbm90IGN1cnJlbnRseSBhY3RpdmUgaXMgb3RoZXJ3aXNlIGxlZnQgb24sIHRoZSBhdXRvbWF0aW9uIHN5c3RlbSB3b3VsZCB0aGVuIGtpbmRseSB0dXJuIG9mZiB0aG9zZSBvdGhlciBsaWdodHMgZm9yIG1lLiAgRm9yIG1hbnkgeWVhcnMgSSBjb21wbGV0ZWx5IGZvcmdvdCB3aGF0IGEgKmxpZ2h0IHN3aXRjaCogZXZlbiB3YXMsIGFzIEkgbmV2ZXIgbmVlZGVkIHRvIGV2ZXIgdG91Y2ggb25lIGZvciB5ZWFycy5cblxuVG9kYXkgbXkgaG9tZSBhdXRvbWF0aW9uIHN5c3RlbSBpcyBzdGlsbCBhY3RpdmUsIGFsdGhvdWdoIHdpdGggbGVzcyBvdmVyYWxsIHVwZGF0ZXMuICBJIHdhcyBwbGFubmluZyBhIGZ1bGwgcmV3cml0ZSB0aGF0IGdvdCBwcmV0dHkgZmFyLCBidXQgbmV2ZXIgZnVsbHkgZGVwbG95ZWQgaXQuICBUaGVyZSBpcyBhIGh1Z2UgcG90ZW50aWFsIG9mIG1lIGdvaW5nIGhvbWVsZXNzIGluIHRoZSBuZXh0IG1vbnRoIGR1ZSB0byB0aGUgbGFjayBvZiBmaW5kaW5nIHByb3BlciBlbXBsb3ltZW50LCBzbyBJIGhhdmUgdGFrZW4gbXkgZm9jdXMgb2ZmIG9mIHRoaW5ncyB3aGljaCBtYXkgbmV2ZXIgZXZlbiBtYXR0ZXIgaW4gdGhlIGxvbmcgcnVuLiAgSWYgeW91IGFyZSBjdXJpb3VzIG9uIHRoZSBjb2RlLCBJIGRpZCBwdXQgaXQgdXAgb24gbXkgW0dpdEh1Yl0oaHR0cHM6Ly9naXRodWIuY29tL2t2ZXJvbmVhdS9ob21lYXV0b21hdGlvbikgYXQgb25lIHBvaW50LlxuIiB9LCB7ICJJRCIgOiAyMiwgIlBBVEgiIDogIi9BYm91dE1lIiwgIlRJVExFIiA6ICJBIGxpdHRsZSBiaXQgYWJvdXQgS2V2aW4gVmVyb25lYXUiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0wNlQxMzowMjo1MS44NDFaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTI1VDIzOjAzOjQ2Ljc2MFoiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIk15IG5hbWUgYnkgbm93IHNob3VsZCBhdCBsZWFzdCBiZSBrbm93biB0byB5b3UuICBJIGFtIG5vdCByZWFsbHkgdGhhdCBnb29kIGF0IHdyaXRpbmcgYWJvdXQgbXlzZWxmIGZvciBhIHB1YmxpYyBjb250ZXh0IHN1Y2ggYXMgdGhpcyB3ZWJzaXRlLiAgVGhyb3VnaG91dCBteSBsaWZlIEkgaGF2ZSBiZWVuIHdvcmtpbmcgd2l0aCB2YXJpb3VzIGRpZmZlcmVudCB0ZWNobm9sb2dpZXMuICBHcm93aW5nIHVwIGluIHRoZSA4MHMgYW5kIDkwcyBpbnRyb2R1Y2VkIG1lIHRvIHRoZSBlYXJseSBkYXlzIG9mIHRoZSAqcGVyc29uYWwgY29tcHV0ZXIqLCBhbmQgYm90aCB0byAqTWljcm9zb2Z0IFdpbmRvd3MqIGFuZCB0aGUgdmFyaW91cyAqQXBwbGUqIGRldmljZXMgYXQgdGhlIHRpbWUsIHN1Y2ggYXMgdGhlIGV2ZXIgcG9wdWxhciAqKkFwcGxlIF1bKiogc2VyaWVzIG9mIGNvbXB1dGVycywgYW5kIG9mIGNvdXJzZSB0aGUgdGhlbiAqZnV0dXJpc3RpYyogKipNYWNpbnRvc2gqKiB3aXRoIGl0J3MgZnVsbHkgYW5pbWF0ZWQgaGlnaCByZXNvbHV0aW9uIGdyYXBoaWNzIG9uIHRoZXNlIG11bHRpbWVkaWEgZGlzY3MgdGhleSBjYWxsZWQgKipDRC1ST01zKiouICBJbiBjb250cmFzdCwgdGhlICoqSUJNIFBDcyoqIGluIG15IHNjaG9vbHMgY29tcHV0ZXIgbGFiIHdlcmUgYWxsICo4MDI4Niogc3lzdGVtcyB3aXRoIG9ubHkgYSBsYW1lICozLjVcIiBmbG9wcHkgZGlzayogcnVubmluZyB0aGUgKipNUy1ET1MqKiBvcGVyYXRpbmcgc3lzdGVtIHdoaWNoIGJvb3RlZCB0byAqKkRPU1NoZWxsKiogYXMgdGhlIG1haW4gaW50ZXJmYWNlLiAgSWYgeW91IGxvb2sgb25saW5lIG5vdyBhbmQgc2VhcmNoIGZvciBpbWFnZXMgb2YgKipNUy1ET1NTaGVsbCoqIGFuZCAqKlN5c3RlbSA3LjUuMCoqIHdoaWNoIEkgYmVsaWV2ZSB0aGUgbXVsdGltZWRpYSBtYWNzIHJhbiwgeW91J2xsIHNlZSB3aHkgSSBtZW50aW9uZWQgaXQgYXMgSSBkaWQuICBJdCB3YXMgcXVpdGUgbGl0ZXJhbGx5ICpuaWdodCBhbmQgZGF5KiBpbiB0ZXJtcyBvZiB2aXN1YWxzIGFuZCBob3cgKmZ1dHVyaXN0aWMqIG9uZSB3YXMgd2hlbiBjb21wYXJlZCB0byB0aGUgb3RoZXIuXG5cbkFueXdheXMsIHRoYXQgd2FzIGJhc2ljYWxseSBteSBpbnRyb2R1Y3Rpb24gcmlnaHQgdGhlcmUgZ3Jvd2luZyB1cCB0byB3aGF0IGEgKmNvbXB1dGVyKiBldmVuIHdhcy4gIEFuZCBvZiBjb3Vyc2UgdGhlIHJlc3QgaXMgaGlzdG9yeS4gIFNpbmNlIHRoZW4gSSBoYXZlIHVzZWQgc28gbWFueSBkaWZmZXJlbnQgb3BlcmF0aW5nIHN5c3RlbXMgYW5kIHRlY2hub2xvZ2llcyB0aHJvdWdob3V0IHRoZSB5ZWFycywgZXZlbnR1YWxseSBzZXR0bGluZyB3aXRoICoqRGViaWFuIEdOVS9MaW51eCoqIGFzIG15IG9wZXJhdGluZyBzeXN0ZW0gb2YgY2hvaWNlIEkgcHJlZmVyIHRvIHJ1biBvbiBib3RoIG15IGhvbWUgd29ya3N0YXRpb24gYW5kIG15IHNlcnZlcnMuICBJIGhhdmUgYmVlbiB1c2luZyAqTGludXgqIHNpbmNlIGFyb3VuZCAqMjAwMyogbWF5YmUsIGJ1dCBub3QgZnVsbC10aW1lLCBhcyBJIGRpZCBkdWFsLWJvb3QgYmV0d2VlbiB1c3VhbGx5ICpXaW5kb3dzIDk4KiBhdCB0aGUgdGltZS4gIEkgYWxzbyBkaWRuJ3QganVzdCB0cnkgb3V0ICpMaW51eCogZWl0aGVyLCBhdCBvbmUgdGltZSBJIGp1c3QgcmFuICoqT3BlbkJTRCoqIHN5c3RlbXMgaW4gbXkgaG9tZSwgYW5kIGF0IGZpcnN0IEkgZm91bmQgdGhhdCBteSB0aGVuIG5ldyAqQ0QgQnVybmVyKiBvbmx5IHdvcmtlZCBvbiAqKk9wZW5CU0QqKiBhbmQgSSBjb3VsZG4ndCBmaWd1cmUgb3V0IGhvdyB0byBnZXQgaXQgdG8gb3BlcmF0ZSBvbiAqTGludXgqLiAgSSBsYXRlciBmb3VuZCBvdXQgdGhlIHRyaWNrIGlzIHRvIHRlbGwgdGhlIExpbnV4IGtlcm5lbCwgYXQgdGhlIHRpbWUgKjIuNCogdG8gdXNlICpTQ1NJIGVtdWxhdGlvbiogb24gdGhhdCAqSURFIGRldmljZSosIGFzIHRoYXQgaXMgdGhlIG9ubHkgd2F5IGJ1cm5lcnMgY2FuIG9wZXJhdGUgdW5kZXIgVU5JWC1saWtlIG9wZXJhdGluZyBzeXN0ZW1zLCBhdCBsZWFzdCBhdCB0aGUgdGltZS4gIEl0IGlzIG5vdyBzZWFtbGVzcyB0byBnZXQgYSBidXJuZXIgdG8gd29yayBvbiBMaW51eCwgYnV0IGJhY2sgdGhlbiwgdW5sZXNzIHlvdSBrbmV3IHRoaXMgbGl0dGxlIGZhY3QsIHlvdSdkIGVpdGhlciBuZWVkIHRvIHNlYXJjaCBhcm91bmQgb3IgYmUgaGVscGxlc3MgYW5kIG5vdCB1c2UgdGhlIGJ1cm5lciBhdCBhbGwuICAqKk9wZW5CU0QqKiBhbHNvIGhhZCBvdGhlciBhZHZhbnRhZ2VzIGF0IHRoZSB0aW1lIG92ZXIgKkxpbnV4KiBhcyB3ZWxsLCBuYW1lbHkgdmlkZW8gY2FyZCBhY2NlbG9yYXRpb24gZm9yIG15ICpBVEkgUmFnZSAxMjgqIGNhcmQsIHdoaWNoIEkgY291bGQgbm90IGdldCB3b3JraW5nIG9uICoqRGViaWFuKiogYXQgdGhlIHRpbWUsIGluIHJldHJvc3BlY3QsIEkgYmVsaWV2ZSBpdCB3YXMgbW9zdCBsaWtlbHkgYmVjYXVzZSBJIHdhcyB1bmF3YXJlIG9mIHdoaWNoIG9mIHRoZSBrZXJuZWwgbW9kdWxlcyBJIG5lZWRlZCB0byBzZWxlY3QgZHVyaW5nIHRoZSBpbnN0YWxsYXRpb24uICBZb3Ugc2VlLCB0aGVzZSByZWFsbHkgZWFybHkgdmVyc2lvbnMgb2YgKkRlYmlhbiogZGlkIG5vdCBoYXZlIGF1dG8tZGV0ZWN0aW9uIG9mIGhhcmR3YXJlLCBhbmQgdW5sZXNzIHlvdSBrbmV3IHlvdXIgaGFyZHdhcmUgcmVhbGx5IHdlbGwgYW5kIGtuZXcgd2hpY2ggbW9kdWxlcyB0byB1c2UsIGl0IHdhcyBhIGJpdCBvZiBhIHBhaW4gZm9yIG1hbnkgbmV3IHVzZXJzLCBteXNlbGYgaW5jbHVkZWQuICBPZGRseSwgKk9wZW5CU0QqIHdhcyBtdWNoIG1vcmUgbW9kZXJuIGluIHRoZXNlIHRlcm1zIGF0IHRoZSB0aW1lLCB3aGVyZSBpdCB3YXMgYWJsZSB0byBib3RoIGVmZm9ydGxlc3NseSBidXJuIGFuZCBjb3VsZCBhdXRvLWRldGVjdCBhbGwgbXkgaGFyZHdhcmUgd2l0aCBubyBpc3N1ZXMgdGhhdCBJIGNhbiByZWFsbHkgbWFrZSBub3RlIG9mLlxuXG5TbywgdGhlcmUgaXMgbXkgYnJpZWYgaGlzdG9yeSBvbiBteSBmaXJzdCBqb3VybmV5IGludG8gdGhlIHdvcmxkIG9mICpMaW51eCogb3IgcmF0aGVyICpVTklYLWxpa2UqIG9wZXJhdGluZyBzeXN0ZW1zLlxuXG4jIyMgUGVyc29uYWwgRGV2ZWxvcG1lbnQgSGlzdG9yeVxuXG5Gb3IgdGhvc2Ugd2hvbSBkbyBub3Qga25vdyBtZSwgSSBoYXZlIGJlZW4gcHJvZ3JhbW1pbmcgaW4gUHl0aG9uIHNpbmNlIGFib3V0IDIwMTAsXG5pdCB3YXMgbXkgc29sZSBsYW5ndWFnZSBvZiBjaG9pY2UgZm9yIG1hbnkgbWFueSB5ZWFycy4gIFByaW9yIHRvIFB5dGhvbiwgSSB3YXNcbmRldmVsb3Bpbmcgd2Vic2l0ZXMgaW4gUEhQKCpTbyBnbGFkIEkgbW92ZWQgb24qKSBmb3IgbWFueSB5ZWFycyBzaW5jZSBhYm91dCAyMDAxLlxuQmVmb3JlIFBIUCwgSSB3YXMgcGxheWluZyBhcm91bmQgd2l0aCBQZXJsIENHSSwgQVNQLCBhbmQgb2YgY291cnNlIFZpc3VhbCBCYXNpYy5cbkFjdHVhbGx5LCBwcmlvciB0byBQSFAsIEkgd2FzIG1haW5seSBhIEJBU0lDIGRldmVsb3BlciBpbiBteSBjaGlsZGhvb2QsIGFuZCBoYXZpbmdcbnRoZSBjaGFuY2UgdG8gcGxheSBhcm91bmQgd2l0aCBUdXJibyBQYXNjYWwgaW4gdGhvc2UgZGF5cyB3YXMgYSByZWFsIGV5ZS1vcGVuZXIuXG5cbkluIHJlY2VudCB5ZWFycywgSSBoYXZlIGJlZW4gd2FudGluZyB0byBjcmVhdGUgcmVkaXN0cmlidXRhYmxlIHByb2dyYW1zLCB3aGlsZVxudGhpcyBjYW4gd29yayBpbiBQeXRob24sIGl0IGlzIGRlZmluYXRlbHkgbm90IHRoZSBiZXN0IHRvb2wgZm9yIHRoZSBqb2IuICBJdCBtYXlcbnJ1biBwZXJmZWN0bHkgb24gbXkgRGViaWFuIG1hY2hpbmUsIGJ1dCBpZiBJIGRlY2lkZWQgdG8gaGF2ZSBpdCBydW4gb24gZWl0aGVyXG5NYWNPUyBvciBXaW5kb3dzLi4uICBJdCBpcyBhICoqSFVHRSoqIHBhaW4uICBQeXRob24gYWxzbyBkb2VzIG5vdCBmdWxseSBzdXBwb3J0XG50aGUgbmF0aXZlIEdVSSBvbiB0aGVzZSBvcGVyYXRpbmcgc3lzdGVtcywgYXMgYSByZXN1bHQgSSBuZWVkIHRvIGVpdGhlciBsZWFyblxuKkdUSyogb3IgKlF0Ki4gIFB5dGhvbiBkb2VzIGhhdmUgKlRrKiBpbmNsdWRlZCwgYWxvbmcgd2l0aCBzdXBwb3J0IGZvciAqd3hXaW5kb3dzKixcbmJ1dCB0aGVzZSBHVUkgdG9vbGtpdHMgYXJlIGZhciBmcm9tIGlkZWFsIHdoZW4geW91IHdpc2ggdG8gcG9ydCB5b3VyIHByb2dyYW0gdG9cbm90aGVyIG9wZXJhdGluZyBzeXN0ZW1zLiAgVGhpcyBpcyB3aGVyZSBteSByZXNlYXJjaCBpbnRvIGEgdG9vbCBvciBsYW5ndWFnZSB3aGljaFxuaXMgYm90aCBvcGVyYXRpbmcgc3lzdGVtIGFuZCBHVUkgdG9vbGtpdCBhZ25vc3RpYyBjb21lcyBpbnRvIHBsYXkuLi5cblxuQmVmb3JlIHNldHRsaW5nIG9uIE9iamVjdFBhc2NhbCwgSSBkaWQgbG9vayBpbnRvIGEgZmV3IG90aGVyIG9wdGlvbnMuICBJIGNoZWNrZWRcbm91dCBKYXZhLCBhcyBJIHdhcyBhbHNvIGludGVyZXN0ZWQgaW4gZGV2ZWxvcGluZyBmb3IgQW5kcm9pZCwgYW5kIHRob3VnaHQgbGVhcm5pbmdcbkphdmEgd291bGQgYmUgZ29vZCBmb3IgYm90aCBjcmVhdGluZyBkZXNrdG9wIGFwcHMgYW5kIEFuZHJvaWQgYXBwcy4uLiBIb3dldmVyLFxuYXMgc29tZSBvZiB5b3UgbWlnaHQga25vdywgSmF2YSBvbiB0aGUgZGVza3RvcCBpcyBzb3J0IG9mIGEgZHlpbmcgYmVhc3QuICBVc2Vyc1xubm93IG5lZWQgdG8gaW5zdGFsbCB0aGUgSmF2YSBSdW50aW1lIEVudmlyb25tZW50IG9uIHRoZWlyIFBDcywgb3IgdGhlIGluc3RhbGxlclxubmVlZHMgdG8gaW5jbHVkZSBpdC4gIFRoaXMgbGVhZHMgdG8gYSB2ZXJ5IGxhcmdlIHByb2dyYW0gc2l6ZSwgd2l0aCBhIG5vdCBzbyBnb29kXG50cmFkZS1vZmYuICBJdCB3b3JrZWQgZm9yIE1pbmVjcmFmdCwgYnV0IEkgZG91YnQgaXQgd291bGQgd29yayBmb3IgcmVndWxhciBkZXNrdG9wXG5hcHBsaWNhdGlvbnMuLi4gIFNvIHRoZSBodW50IGNvbnRpbnVlZC5cblxuSSB0aGVuIGxvb2tlZCBpbnRvIGxlYXJuaW5nIGhvdyBDIGNvZGUgY291bGQgYmUgcG9ydGFibGUgYnkgd29ya2luZyB3aXRoIHNvbWVcbm9wZW4gc291cmNlIEMgcHJvZ3JhbXMgd2hpY2ggaGF2ZSBhbHJlYWR5IGJlZW4gcG9ydGVkIHRvIG11bHRpcGxlIG9wZXJhdGluZyBzeXN0ZW1zLlxuVGhpcyBpcyB3aGVuIEkgYmVjYW1lIHRoZSB0ZW1wb3JhcnkgbWFpbnRhaW5lciBvZiAqKnNkbEJhc2ljKiogcHJvamVjdCwgYSBCQVNJQ1xuaW50ZXJwcmV0ZXIgYWltZWQgYXQgbWFraW5nIGdhbWVzIHdpdGggYSBzaW1pbGFyIGRpYWxlY3QgdG8gKkFNT1MgQkFTSUMqLiAgSSBoYWRcbmEgbG90IG9mIHRyb3VibGUgdHJ5aW5nIHRvIGdldCBpdCB0byBwcm9wZXJseSBjb21waWxlIG9uIFdpbmRvd3MgYW5kIGxhdGVyIE9TIFguXG5JbiB0aGUgZW5kLCBJIGdhdmUgdXAgb24gdHJ5aW5nIHRvIHVzZSBDIGFzIGEgcG9ydGFibGUgbGFuZ3VhZ2UsIGFzIHRyeWluZyB0b1xuY29tcGlsZSBMaW51eCBHQ0MgcHJvZ3JhbXMgb24gV2luZG93cyB3YXMgYSBodWdlIHBhaW4sIGxldCBhbG9uZSB0cnlpbmcgdG8gZ2V0XG5TREwgdG8gd29yayBwcm9wZXJseSwgSSdkIGltYWdpbmUgdHJ5aW5nIHRvIGNyb3NzLWNvbXBpbGUgYSBmdWxsIEdVSSBwcm9ncmFtXG53b3VsZCBoYXZlIGJlZW4gYSBuaWdodG1hcmUgdG8gbWFpbnRhaW4uXG4iIH0sIHsgIklEIiA6IDI2LCAiUEFUSCIgOiAiL19fREVCVUdfXy9IVE1MIiwgIlRJVExFIiA6ICJFeGFtcGxlIEhUTUwgUGFnZSIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTA2VDE5OjI4OjI4LjA2MFoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMDZUMTk6Mjk6NDMuODQ0WiIsICJDT05URU5UVFlQRSIgOiAwLCAiQ09OVEVOVCIgOiAiPHA+XG5UaGlzIHBhZ2UgaXMgZW50aXJlbHkgc3RvcmVkIGFzIHB1cmUgSFRNTCB3aXRoaW4gdGhlIGRhdGFiYXNlIGFuZCBpbiB0aGUgPGk+RGF0YVNldDwvaT4sIGFuZCBhcyBzdWNoIGl0IGNhbiB1c2UgYW55IEhUTUwgZWxlbWVudHMuICBUaGlzIHBhZ2Ugd2lsbCBjb250YWluIGV4YW1wbGVzIG9mIHN1Y2ggZWxlbWVudHMgaW4gdGhlIG5lYXIgZnV0dXJlLlxuPC9wPlxuIiB9LCB7ICJJRCIgOiAyNywgIlBBVEgiIDogIi9fX0RFQlVHX18vSlNQcm9nIiwgIlRJVExFIiA6ICJFeGFtcGxlIEphdmFTY3JpcHQgUHJvZ3JhbSIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTA2VDE5OjMwOjE2LjQ0NFoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMThUMTM6NDk6NTEuMjE0WiIsICJDT05URU5UVFlQRSIgOiA1MCwgIkNPTlRFTlQiIDogIlNldFRpdGxlKCdFeGFtcGxlIEphdmFTY3JpcHQgUHJvZ3JhbScpO1xudmFyIGJ1Zj1HZXRDb250ZW50KCcvV2Vic2l0ZS9KU0FwcCcpO1xuYnVmPWJ1ZisnPGg0PkV4YW1wbGUgQ29kZTo8L2g0PicrR2V0Q29udGVudCgnL1dlYnNpdGUvSlNFeGFtcGxlJyk7XG5TZXRDb250ZW50KGJ1Zik7XG4iIH0sIHsgIklEIiA6IDI4LCAiUEFUSCIgOiAiL19fREVCVUdfXy9QeUFwcCIsICJUSVRMRSIgOiAiRXhhbXBsZSBCcnl0aG9uIFByb2dyYW0iLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0wNlQxOTozMjo0My4xMTZaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTE4VDEzOjUzOjU4LjAxOVoiLCAiQ09OVEVOVFRZUEUiIDogNTEsICJDT05URU5UIiA6ICJmcm9tIGJyb3dzZXIgaW1wb3J0IGRvY3VtZW50LCB3aW5kb3dcbmZyb20gd2Vic2l0ZSBpbXBvcnQgU2V0VGl0bGUsIFNldENvbnRlbnQsIEdldENvbnRlbnRcblxuYmxvY2sxID0gR2V0Q29udGVudCgnL1dlYnNpdGUvUHlBcHAnKVxuYmxvY2syID0gJzxoND5FeGFtcGxlIENvZGU6PC9oND4nK0dldENvbnRlbnQoJy9XZWJzaXRlL1B5RXhhbXBsZScpXG5cblNldENvbnRlbnQoJ1RoaXMgd2FzIHdyaXR0ZW4gdG8gdGhlIERPTSB2aWEgPGk+QnJ5dGhvbjwvaT4gY29kZS48YnIvPicrYmxvY2sxK2Jsb2NrMilcbiIgfSwgeyAiSUQiIDogMjksICJQQVRIIiA6ICIvX19ERUJVR19fL1Bhc2NhbCIsICJUSVRMRSIgOiAiUGFzY2FsIFNvdXJjZSBFeGFtcGxlIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMDZUMTk6MzU6MzAuNTkyWiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0wNlQxOTozNzo1MC40MjVaIiwgIkNPTlRFTlRUWVBFIiA6IDEwMCwgIkNPTlRFTlQiIDogInByb2dyYW0gY29vbGFwcDtcbnsgIFRoaXMgaXMgYW4gZXhhbXBsZSBvZiBob3cgUGFzY2FsIGNvZGUgY2FuIGJlIGVhc2lseSBoaWdobGlnaHRlZCB3aXRoIHRoaXMgZnJhbWV3b3JrLiB9XG5cbnVzZXMgY3J0O1xuXG5wcm9jZWR1cmUgSGVsbG8obmFtZTogc3RyaW5nKTtcbmJlZ2luXG4gIFdyaXRlTG4oJ0hlbGxvLCAnLG5hbWUsJyEnKTtcbmVuZDtcblxuYmVnaW5cbiAgLy8gRXhwZWN0IGEgYmV0dGVyIGNvZGUgZXhhbXBsZSBpbiB0aGUgZnV0dXJlLlxuICBIZWxsbygnV2Vic2l0ZSBWaXNpdG9yIScpO1xuZW5kLlxuIiB9LCB7ICJJRCIgOiAzMCwgIlBBVEgiIDogIi9fX0RFQlVHX18vQmFzaCIsICJUSVRMRSIgOiAiQmFzaCBFeGFtcGxlIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMDZUMTk6Mzg6MDEuNTM5WiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0wNlQxOTozODo0MC4wNzZaIiwgIkNPTlRFTlRUWVBFIiA6IDEwMSwgIkNPTlRFTlQiIDogIiMhL2Jpbi9zaFxuXG5lY2hvIFwiU29tZSBjb29sIHNjcmlwdCBzaG91bGQgYmUgaGVyZSBzb29uIHRvIHJlcGxhY2UgbWUuXCJcblxuZXhpdCAwXG4iIH0sIHsgIklEIiA6IDMxLCAiUEFUSCIgOiAiL19fREVCVUdfXy9QeXRob24iLCAiVElUTEUiIDogIlB5dGhvbiBDb2RlIEV4YW1wbGUiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0wNlQxOTozODo0Ni42OTRaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTI1VDE0OjMwOjQ5LjU0NVoiLCAiQ09OVEVOVFRZUEUiIDogMTAyLCAiQ09OVEVOVCIgOiAiIyBUaGlzIGlzIGFjdHVhbGx5IHRoZSBjb2RlIHRoYXQgcnVucyB0byBkaXNwbGF5IHRoZSBFbWJlZGRpbmcgRXhhbXBsZS5cblxuZnJvbSBicm93c2VyIGltcG9ydCBkb2N1bWVudCwgd2luZG93XG5mcm9tIHdlYnNpdGUgaW1wb3J0IFNldFRpdGxlLCBTZXRDb250ZW50XG5cblNldENvbnRlbnQoJ1RoaXMgd2FzIHdyaXR0ZW4gdG8gdGhlIERPTSB2aWEgPGk+QnJ5dGhvbjwvaT4gY29kZS48YnIvPkEgYmV0dGVyIGV4YW1wbGUgd2lsbCBzb29uIGZvbGxvdy4nKTtcbmZyb20gYnJvd3NlciBpbXBvcnQgd2luZG93XG5mcm9tIHdlYnNpdGUgaW1wb3J0IFNldENvbnRlbnQsIEdldENvbnRlbnRcblxuYnVmID0gJzxpPlRoaXMgY29udGVudCBpcyBnZW5lcmF0ZWQgYnkgYSBicm93c2VyIHJ1biBQeXRob24gU2NyaXB0LjwvaT48aHIvPic7XG5cbmZvciBsYW5nIGluICgnSFRNTCcsICdQYXNjYWwnLCAnQmFzaCcsICdQeXRob24nLCAnQycsICdNYWtlZmlsZScsICdKYXZhU2NyaXB0Jyk6XG4gICAgYnVmKz0nPGg0PkV4YW1wbGUgQ29kZSBmb3IgJytsYW5nKyc6PC9oND4nXG4gICAgYnVmKz1HZXRDb250ZW50KCcvX19ERUJVR19fLycrbGFuZylcblxuU2V0Q29udGVudChidWYpXG53aW5kb3cuaGxqcy5pbml0SGlnaGxpZ2h0aW5nKClcbiIgfSwgeyAiSUQiIDogMzIsICJQQVRIIiA6ICIvX19ERUJVR19fL0MiLCAiVElUTEUiIDogIkMgQ29kZSBFeGFtcGxlIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMDZUMTk6NDA6NDUuNDkxWiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0wNlQxOTo0MTo0OS44OTJaIiwgIkNPTlRFTlRUWVBFIiA6IDEwNCwgIkNPTlRFTlQiIDogIiNpbmNsdWRlIDxzdGRpby5oPlxuXG5pbnQgbWFpbigpe1xuICAgIHByaW50ZihcIlRoaXMgaXMgYW4gYXdmdWwgQyBDb2RlIGV4YW1wbGVcXG5cIik7XG4gICAgcmV0dXJuKDApO1xufVxuIiB9LCB7ICJJRCIgOiAzMywgIlBBVEgiIDogIi9fX0RFQlVHX18vTWFrZWZpbGUiLCAiVElUTEUiIDogIk1ha2VmaWxlIEV4YW1wbGUiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0wNlQxOTo0MTo1Ni4wMzZaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTA2VDE5OjQyOjI3LjAyN1oiLCAiQ09OVEVOVFRZUEUiIDogMTA1LCAiQ09OVEVOVCIgOiAiZGVidWc6IFdlYkFwcC5qc1xuICAgICAgICBweXRob24zIC1tIGh0dHAuc2VydmVyXG5cbmRlcGxveTogV2ViQXBwLm1pbi5qc1xuICAgICAgICBjcCAkXiAuLi9cbiAgICAgICAgc2VkICdzL1dlYkFwcFxcLmpzL1dlYkFwcFxcLm1pblxcLmpzLycgaW5kZXguaHRtbCB8IHNlZCAncy9hcGlcXC5qcy9zcmNcXC9hcGlcXC5qcy8nID4gLi4vaW5kZXguaHRtbFxuXG5XZWJBcHAuanM6IFdlYkFwcC5scHJcbiAgICAgICAgcGFzMmpzIC1UYnJvd3NlciAtUGVjbWFzY3JpcHQ1IC1NT2JqRlBDIC1TYyAtTzIgLWwgLXZld25oaWJxIC1GaWpzIC1GdS4uLy4uL2pzbGliIC1GdS4gLUZVanMgLUZFLiAtb1dlYkFwcC5qcyAtZFBhczJqcyAtZFBhczJqcyAtSmV1dGYtOCAtSmlydGwuanMgLUpjIC1KbS0gLUpSanMgV2ViQXBwLmxwclxuXG5XZWJBcHAubWluLmpzOiBXZWJBcHAuanNcbiAgICAgICAgY2F0ICReIHwgbWluaWZ5IC0tdHlwZSBqcyA+ICRAXG5cbmNsZWFuOlxuICAgICAgICBybSAtZiBXZWJBcHAubWluLmpzIFdlYkFwcC5qc1xuIiB9LCB7ICJJRCIgOiAzNCwgIlBBVEgiIDogIi9fX0RFQlVHX18vSmF2YVNjcmlwdCIsICJUSVRMRSIgOiAiSmF2YVNjcmlwdCBFeGFtcGxlIENvZGUiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0wNlQxOTo0MzowNi4yMTFaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTA2VDE5OjQ0OjA5LjI5MloiLCAiQ09OVEVOVFRZUEUiIDogMTA2LCAiQ09OVEVOVCIgOiAiLy8gVGhpcyBpcyBhY3R1YWxseSB0aGUgY29kZSB0aGF0IHJ1bnMgd2hlbiB5b3UgZ28gdG8gdGhlIEphdmFTY3JpcHQgUHJvZ3JhbS5cblxud2luZG93LmNsaWNrbWUgPSBmdW5jdGlvbigpe1xuICAgIHdpbmRvdy5hbGVydCgnVGhpcyBpcyBhbGwgY29udGFpbmVkIHdpdGhpbiB0aGUgZGF0YXNldCBhcyBhIGNvbnRlbnQtdHlwZSEnKTtcbiAgICBTZXRUaXRsZSgnU2NhcnkgRE9NISEhJyk7XG4gICAgU2V0Q29udGVudCgnQW5kIGl0IGhhcyBmdWxsIHNjYXJ5IERPTSBhY2Nlc3MgdG9vIScpO1xufVxuXG5TZXRDb250ZW50KCc8YnV0dG9uIG9uY2xpY2s9XCJ3aW5kb3cuY2xpY2ttZSgpO1wiPkNsaWNrIG1lITwvYnV0dG9uPicpO1xuIiB9LCB7ICJJRCIgOiAzNSwgIlBBVEgiIDogIi9fX0RFQlVHX18vQWxsU291cmNlIiwgIlRJVExFIiA6ICJFbWJlZGRlZCBUZXN0IiwgIkNSRUFURUQiIDogIjIwMjQtMDItMDZUMTk6NTU6MzMuODU3WiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0yNVQxNDoyOToxOS41MDFaIiwgIkNPTlRFTlRUWVBFIiA6IDUxLCAiQ09OVEVOVCIgOiAiZnJvbSBicm93c2VyIGltcG9ydCB3aW5kb3dcbmZyb20gd2Vic2l0ZSBpbXBvcnQgU2V0Q29udGVudCwgR2V0Q29udGVudFxuXG5idWYgPSAnPGk+VGhpcyBjb250ZW50IGlzIGdlbmVyYXRlZCBieSBhIGJyb3dzZXIgcnVuIFB5dGhvbiBTY3JpcHQuPC9pPjxoci8+JztcblxuZm9yIGxhbmcgaW4gKCdIVE1MJywgJ1Bhc2NhbCcsICdCYXNoJywgJ1B5dGhvbicsICdDJywgJ01ha2VmaWxlJywgJ0phdmFTY3JpcHQnKTpcbiAgICBidWYrPSc8aDQ+RXhhbXBsZSBDb2RlIGZvciAnK2xhbmcrJzo8L2g0PidcbiAgICBidWYrPUdldENvbnRlbnQoJy9fX0RFQlVHX18vJytsYW5nKVxuXG5TZXRDb250ZW50KGJ1ZilcbndpbmRvdy5obGpzLmluaXRIaWdobGlnaHRpbmcoKVxuIiB9LCB7ICJJRCIgOiAzNiwgIlBBVEgiIDogIi9CdWdzL0FkbWluVG9vbCIsICJUSVRMRSIgOiAiREJBZG1pbiBUb29sIEJ1ZyBUcmFja2VyIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMDZUMjE6NDY6NTguMDE5WiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0yM1QyMTo1Mjo0OS4zNThaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJWYXJpb3VzIGJ1Z3MgSSd2ZSB0YWtlbiBub3RlIG9mOlxuXG4gICogRmlsdGVyaW5nIGZvciBjb250ZW50LXR5cGUgZG9lcyBub3Qgd29yaywgSW5kZXggaXNzdWUuICoqQ29tcGxldGVkKipcblxuTmV3IEZlYXR1cmVzIEknZCBsaWtlIGFkZGVkOlxuXG4gICogQnV0dG9uIHRvIG9wZW4gQ29udGVudCBpbiBhIFN5bkVkaXQgc291cmNlIGNvZGUgZWRpdG9yIHdpbmRvdywgb3Igc2VlIGlmIFN5bkVkaXQgaGFzIGEgRGF0YS1hd2FyZSBjb21wb25lbnQuICoqQ29tcGxldGVkKipcbiIgfSwgeyAiSUQiIDogMzgsICJQQVRIIiA6ICIveFByb2plY3QtRjkiLCAiVElUTEUiIDogIk1vZGVybiBXZWIgQXBwbGljYXRpb25zPyIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTA4VDIwOjM1OjQ1LjQyNFoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMDhUMjA6NDE6MTIuMzA3WiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiVG9kYXkgYXMgSSB3YXMgb24gdGhlICpGcmVlUGFzY2FsKiBmb3J1bXMgdG8gbWFrZSBhIHBvc3QgYWJvdXQgdGhpcyB3ZWJzaXRlIGhlcmUgYW5kIGl0J3Mgc291cmNlIGNvZGUsIEkgcmVhZCBzb21lIHJlcGxpZXMgdG8gYW4gb2xkZXIgcG9zdCBhYm91dCBjb21waWxpbmcgYWN0dWFsIExDTCBhcHBsaWNhdGlvbnMgdG8gSFRNTDUgdXNpbmcgdGhlIENhbnZhcywgYW5kIGd1ZXNzIHdoYXQ/ICBTb21lIGNvbXBhbnkgd2VudCBhbmQgZGlkIGl0LCBhbmQgaXQncyBub3QgYSBmcmVlIG5vciBvcGVuIHNvdXJjZSBwcm9kdWN0LCBhY3R1YWxseSBjb21lIHRvIHRoaW5rIG9mIGl0LCBub3QgbWFueSAqT2JqZWN0UGFzY2FsKiBwcm9ncmFtcyBhcmUgb3BlbiBzb3VyY2VkLCBhbnl3YXlzLi4uXG5cblRoaXMgYWRkLW9uIGZvciAqTGF6YXJ1cyosIHdoaWNoIGNhbiBhbHNvIGJlIHVzZWQgd2l0aCAqVmlzdWFsIFN0dWRpbyBDb2RlKiBjYW4gY3JlYXRlIHdlYnNpdGVzIHdoaWNoIGxvb2sgZW50aXJlbHkgbGlrZSBhIHJ1biBvZiB0aGUgbWlsbCBkZXNrdG9wIHByb2dyYW0geW91IG1pZ2h0IHNlZSBqdXN0IHJ1bm5pbmcgb24geW91ciBkZXNrdG9wLiAgSXQncyBpbmNyZWRpYmxlIHRvIHNlZSB0aGlzIHRlY2hub2xvZ3ksIGhhdmUgYSBsb29rIGZvciB5b3Vyc2VsZjpcblxuW3hQcm9qZWN0IEY5IERlbW9zXShodHRwczovL2dyZWVuLWhpbGwuc3JsL2RlbW9zL2luZGV4Lmh0bWwpXG5cbkNsaWNrIG9udG8gYW4gaW5kaXZpZHVhbCBkZW1vIHRvIGZyb20gdGhlIGxpbmsgYWJvdmUgdG8gc2VlIHdoYXQgSSBtZWFuLiAgQ2FsbCBtZSBpbXByZXNzZWQsIGFuZCBub3QgdGhhdCBtdWNoIHNlZW1zIHRvIHJlYWxseSBpbXByZXNzIG1lIHRoZXNlIGRheXMuXG4iIH0sIHsgIklEIiA6IDM5LCAiUEFUSCIgOiAiL0RldkRlc2t0b3BPUyIsICJUSVRMRSIgOiAiRGV2RGVza3RvcE9TIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMTBUMDA6MDE6NTIuNjU0WiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0xMFQwMDowMjo0Mi44MzNaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICIjIERldkRlc2t0b3BPU1xuXG5bR2l0SHViIFJlcG9dKGh0dHBzOi8vZ2l0aHViLmNvbS9rdmVyb25lYXUvRGV2RGVza3RvcE9TKVxuXG5BIEN1c3RvbSBzcGluIG9mIHRoZSBEZWJpYW4gTGl2ZSBDRCB0YWlsb3JlZCBzcGVjaWZpY2FsbHkgZm9yIGRldmVsb3BtZW50IHdpdGggYXMgbWluaW1hbCBjb25maWd1cmF0aW9uIG5lZWRlZCB0byBnZXQgdXAgYW5kIHJ1bm5pbmcuXG5cblRoZSBpZGVhIGJlaGluZCB0aGlzIHByb2plY3QgZXZlbnR1YWxseSBpcyB0byBwcm92aWRlIHBlb3BsZSB3aG8gd2FudCB0byBnZXQgdXAgYW5kIHJ1bm5pbmcgd2l0aCBhIGRldmVsb3BtZW50IHN5c3RlbSBhcyBxdWlja2x5IGFzIHBvc3NpYmxlIGFuZCB3aXRoIGFzIGxpdHRsZSBjb25maWd1cmF0aW9uIGFzIHBvc3NpYmxlLiAgVGhlIGlkZWEgaXMgdG8gaGF2ZSBzYW5lIGRlZmF1bHRzIHRoYXQgY2FuIHRhaWxvciB0byBtb3N0IGRldmVsb3BlcnMsIGFuZCBzaW5jZSBpdCBpcyBiYXNlZCBvbiB0aGUgRGViaWFuIExpdmUgcHJvamVjdCwgaXQgaGFzIHN1cHBvcnQgZm9yIHBlcnNpc3RlbmNlLCBhbGxvd2luZyBkZXZlbG9wZXJzIHRvIGFsdGVyIHRoZSBjb25maWd1cmF0aW9uIGluIHRoZSBlbnZpcm9ubWVudCB3aGljaCBjYW4gdGhlbiBiZSB1c2VkIGFjcm9zcyByZWJvb3RzLlxuXG5bRGViaWFuIExpdmUgTWFudWFsXShodHRwczovL2xpdmUtdGVhbS5wYWdlcy5kZWJpYW4ubmV0L2xpdmUtbWFudWFsL2h0bWwvbGl2ZS1tYW51YWwvaW5kZXguZW4uaHRtbClcblxuVGhpcyBpcyBhbHNvIGEgZ2l0IHByb2plY3QsIHNvIGlmIHlvdSBmZWVsIHRoYXQgeW91J2QgcHJlZmVyICoqR05PTUUqKiBvdmVyICoqUGxhc21hKiosIG9yIHdhbnQgYSBtb3JlIG1pbmltYWwgV2luZG93IE1hbmFnZXIgbGlrZSAqKkF3ZXNvbWUqKi4gIFlvdSBjYW4gZm9yayB0aGUgcmVwbyBhbmQgbWFrZSB0aGUgbmVlZGVkIHBhY2thZ2UgdXBkYXRlcyB3aXRoaW4gdGhlIGBjb25maWcvcGFja2FnZS1saXN0c2AgZGlyZWN0b3J5LiAgU2luY2UgdGhpcyBpcyBqdXN0IGJ1aWxkaW5nIGEgbGl2ZSBlbnZpcm9ubWVudCwgd2hpY2ggb24gYSBkZWNlbnRseSBwb3dlcmZ1bCBtYWNoaW5lLCBkb2VzIG5vdCB0YWtlIHZlcnkgbG9uZywgdGhlcmUgaXMgbGVzcyByaXNrcyB0byBleHBlcmltZW50IHdpdGggZGlmZmVyZW50IHBhY2thZ2UgY29uZmlndXJhdGlvbnMgaW4gYSBmb3JrLlxuXG5BdCB0aGUgbW9tZW50LCBpdCBpcyB2ZXJ5IGJhcmVib25lcywgdGhlIG1haW4gaGlnaGxpZ2h0IGZlYXR1cmVzIG9mIHRoaXMgdmVyeSBlYXJseSBhbHBoYSByZWxlYXNlKCppZiB5b3UgY2FuIGV2ZW4gY2FsbCBpdCB0aGF0KikgaXMgdGhlIGZvbGxvd2luZzpcblxuICAqIEZ1bGx5IGNvbmZpZ3VyZWQgYW5kIHJlYWR5IHRvIHVzZSAqKmxpYnZpcnQqKiBhbmQgKipWaXJ0dWFsIE1hY2hpbmUgTWFuYWdlcioqLlxuICAgIC0gVmlydHVhbCBNYWNoaW5lIE1hbmFnZXIgaXMgYSBHVUkgVk0gbWFuYWdlciB3aGljaCBjYW4gbWFuYWdlIHRoZSBmb2xsb3dpbmcgdmlydHVhbGl6YXRpb24gdGVjaDpcbiAgICAgIC0gUUVNVS9LVk1cbiAgICAgIC0gTFhDXG4gICAgICAtIFhlblxuICAgICAgLSBIeXBlci1WXG4gICAgICAtIEFuZCBJIHRoaW5rIGEgZmV3IG1vcmUuXG4gICAgLSBJbiBhIGZ1dHVyZSB2ZXJzaW9uIHRoZXJlIHdpbGwgYmUgZnVsbCBzdXBwb3J0IGZyb20gYm9vdCB0byB1c2UgYHZhZ3JhbnRgIHRvIHNwaW4gdXAgYGxpYnZpcnRgIGNvbXBhdGlibGUgaW1hZ2VzIHdpdGggaXQgZm9yIGRldmVsb3BtZW50IGFuZCB0ZXN0aW5nIHB1cnBvc2VzLlxuICAgIC0gVGhlIExpdmUgVXNlciBpcyBwYXJ0IG9mIHRoZSBgbGlidmlydGAgZ3JvdXAgd2hpY2ggd2lsbCBnaXZlIHlvdSBhY2Nlc3MgdG8gVmlydC1NYW5hZ2VyLlxuICAqIEZ1bGx5IGNvbmZpZ3VyZWQgYW5kIHdvcmtpbmcgRG9ja2VyIGZvciBMaW51eC5cbiAgICAtIFRoZSBMaXZlIHVzZXIgd2lsbCBiZSBhIHBhcnQgb2YgdGhlIGBkb2NrZXJgIGdyb3VwLCBhbGxvd2luZyBub3JtYWwgZG9ja2VyIGNvbW1hbmRzIHRvIGJlIHBlcmZvcm1lZCBmcm9tIElERXMgYW5kIHN1Y2guXG4gICogT0JTIFN0dWRpbyBhbmQgS0RFbkxpdmVcbiAgICAtIEFsbG93cyBmb3IgdGhlIGVhc3kgcmVjb3JkaW5nIGFuZCBzdHJlYW1pbmcgb2YgY29kaW5nIHNlc3Npb25zIGlmIG5lZWRlZC4gIFRoaXMgY2FuIGJlIGVhc2lseSByZW1vdmVkIGJ5IHJlbW92aW5nIHRoZSBwYWNrYWdlcyBmcm9tIHRoZSBwYWNrYWdlcy1saXN0IGJlZm9yZSBidWlsZGluZy5cbiAgKiBWZXJ5IGJhc2ljIHNldCBvZiBkZXYgdG9vbHMgZm9yIG5vdywgc3RpbGwgZGVjaWRpbmcgb24gaG93IG11Y2ggSSB3YW50IHRvIGluY2x1ZGUuICBJIGFtIGd1ZXNzaW5nIG1hbnkgd2lsbCBleHBlY3QgdGhlIENocm9tZSBicm93c2VyLCBidXQgSSBkb24ndCB0aGluayBJIGNhbiBkaXJlY3RseSBpbmNsdWRlIGl0LCBidXQgSSBjYW4gZXhwbGFpbiBob3cgdG8gYnVpbGQgaXQgaW50byB5b3VyIG93biBsaXZlIGltYWdlIG9uIHlvdXIgb3duLCBpdCdzIHJlYWxseSBlYXN5IHRvIGFkZC5cblxuIyMgV2hhdCBhcmUgdGhlIG90aGVyIGJlbmVmaXRzIG9mIHRoaXMgb3ZlciBhIHJlZ3VsYXIgc3lzdGVtP1xuXG5XZWxsLCBpdCBpcyBtdWNoIG1vcmUgZGlmZmljdWx0IHRvIGJyZWFrIGEgc3lzdGVtIHdoaWNoIGJvb3RzIGZyb20gYSBMaXZlIG1lZGlhLCBvciByYXRoZXIgYSByZWFkLW9ubHkgZmlsZSBzeXN0ZW0uICBUaGlzIGltYWdlIGNvdWxkIGZvciBleGFtcGxlIGJlIHVzZWQgYXMgYSBiYXNlIGZvciBhIGNvbXBhbnktd2lkZSBkZXZlbG9wZXIgaW1hZ2UsIHdoaWNoIGNhbiBjb250YWluIGFsbCB0aGUgbmVlZGVkIHRvb2xzIHRoZSBkZXZlbG9wZXIgd291bGQgbmVlZCwgYW5kIHRoZSBMaW51eCBhZG1pbmlzdHJhdG9ycyBjYW4gdGhlbiBoYW5kbGUgdGhlIHVwZGF0ZXMgdmlhIHRoZSB1cGRhdGUgYW5kIGRpc3RyaWJ1dGlvbiBvZiBhIG5ldyBsaXZlIGltYWdlLiAgSXQgY2FuIGFsc28gYmUgYm9vdGVkIHVwIHdpdGhpbiBhIHZpcnR1YWwgbWFjaGluZSBvbiBhIFdpbmRvd3MgZGVza3RvcCB0byBoYXZlIGEgZnVsbCBMaW51eCBkZXNrdG9wIGZvciBkZXZlbG9wbWVudCByZWFkeSB0byBnby4gIEl0IGFsc28gbWFrZXMgaXQgZWFzaWVyIHRvIGJvdGggb25ib2FyZCBhbmQgZ2V0IGEgZGV2ZWxvcGVyIHdob20gbWlnaHQgaGF2ZSBhIGRvd24gc3lzdGVtIGJhY2sgdXAgYW5kIGRldmVsb3BpbmcsIHNhdmluZyB0aGUgY29tcGFueSBtb25leS5cblxuIyMgSWRlYXMgZm9yIHRoZSBmdXR1cmU6XG5cbkknZCBwZXJzb25hbGx5IGxvdmUgdG8gZ3JvdyB0aGlzIGludG8gYSBzcGVjaWFsaXplZCBEZWJpYW4tYmFzZWQgTGludXggZGlzdHJvIG1hZGUgYnkgZGV2ZWxvcGVycyBmb3IgZGV2ZWxvcGVycy4gIElmIHRoZXJlIGlzIGVub3VnaCBpbnRlcmVzdCBpbiBzdWNoIGEgTGl2ZSBTeXN0ZW0sIGFuZCBpZiB0aGVyZSBpcyBhIHBsYWNlIHdoZXJlIEkgY2FuIGZyZWVseSBob3N0IElTT3MsIEkgY2FuIGRvIGFsbCB0aGUgaW1hZ2UgYnVpbGRpbmcuICBBcyBpdCBzdGFuZHMsIHdpdGhvdXQgYSBhdWRpZW5jZSwgYnVpbGRpbmcgYW5kIGhvc3RpbmcgYW4gSVNPIGlzbid0IHdvcnRoIGFzIG11Y2ggZWZmb3J0IGFzIGl0IHdvdWxkIGJlIHRvIGFkZCBuZXcgZmVhdHVyZXMgdG8gdGhpcyBsaXZlIGltYWdlIGZvciB3aGVuIHBlb3BsZSBkbyBzdHVtYmxlIGFjcm9zcyBpdC5cblxuSGVyZSBpcyBhbiBvdXRsaW5lIG9mIG90aGVyIHBvc3NpYmxlIGlkZWFzOlxuXG4gICogVmFyaW91cyBEZXZEZXNrdG9wT1MgKnNwaW5zKlxuICAgIC0gU3VjaCBhcyBvbmUgd2hpY2ggaXMgZm9yIHdlYiBkZXZlbG9wbWVudCwgY29udGFpbmluZyAqbm9kZS5qcyosICpucG0qLCBldGMuLi5cbiAgICAtIE9uZSBmb3IgbXVsdGltZWRpYSBkZXZlbG9wbWVudCwgd2l0aCB0b29scyBsaWtlIEJsZW5kZXIgYW5kIHN1Y2ggcHJlbG9hZGVkIGFuZCBjb25maWd1cmVkLlxuICAgIC0gRGlmZmVyZW50IHRlY2huaWNhbCBwcm9mZXNzaW9ucywgc3VjaCBhcyBEZXZPcHMgd2l0aCByZWxhdGVkIGRlcGxveW1lbnQgdG9vbHMuXG5cblRoZSBtYWluIGlkZWEgaXMgZm9yIHRoZSBlbnZpcm9ubWVudCB0byBiZSBmdWxseSBmdW5jdGlvbmFsIGZvciBhbG1vc3QgYW55IHVzZXIgcmlnaHQgZnJvbSBib290LiAgTXVjaCBsaWtlIHRoZSBzcGlyaXQgb2Ygb2xkIFNsYWNrd2FyZSBhbmQgb3RoZXIgc3BlY2lhbGl6ZWQgTGl2ZSBkaXN0cm9zIGxpa2UgKkR5bmU6Qm9saWMqLCB3aGljaCB3ZXJlIGJvdGggYSBjZWxlYnJhdGlvbiBhbmQgYSBzaG93Y2FzZSBvZiBtYW55IG9wZW4gc291cmNlIHByb2plY3RzIGluIGEgc3VwZXIgZWFzeSB0byBjb25zdW1lIGZvcm1hdCwgYSBMaXZlQ0QuICBJIGFsd2F5cyBmb3VuZCBpdCByZWFsbHkgY29vbCB0byBib290IHVwIGEgc3BlY2lhbGl6ZWQgTGl2ZUNEIGxpa2UgKkR5bmU6Qm9saWMqIGFuZCB3YXMgYWJsZSB0byBleHBsb3JlIGEgd29ybGQgb2YgZnVuIG9wZW4gc291cmNlIG11bHRpbWVkaWEgc29mdHdhcmUgSSd2ZSBuZXZlciBzZWVuIGFuZCBzb21ldGltZXMgbmV2ZXIgaGVhcmQgb2YgYmVmb3JlLiAgSSBtaXNzIHRob3NlIGRheXMgd2hlbiBMaW51eCBMaXZlQ0RzIGhhZCBhbiBhbWF6aW5nIHB1cnBvc2UsIHRvIG5vdCBqdXN0IGludHJvZHVjZSBwZW9wbGUgdG8gTGludXgsIGJ1dCB0byBpbnRyb2R1Y2UgcGVvcGxlIHRvIHRlY2hub2xvZ3kgaW4gYSByZWFsbHkgZWFzeSwgcmlzayBmcmVlIHdheS4gIFRoZXJlIHdhcyBubyBkcml2ZXJzIHRvIGluc3RhbGwsIG5vIHNvZnR3YXJlIHRvIGluc3RhbGwsIG5vIGNvbXBsZXggY29uZmlndXJhdGlvbnMgdG8gbWFuYWdlLCBubyBuZWVkaW5nIHRvIGhvcCBvbiBtdWx0aXBsZSBmb3J1bXMgdG8gZmluZCBhIHNwZWNpZmljIGNvbmZpZ3VyYXRpb24sIGluIG1vc3QgY2FzZXMgYSBsb3Qgb2YgdGhlc2UgTGl2ZUNEcyBkaWQgd29yayBmb3IgdGhlIG1ham9yaXR5IG9mIHBlb3BsZSB3aXRoIG5vIGFkZGl0aW9uYWwgZWZmb3J0LiAgVGhpcyBpcyB0aGUgc3Bpcml0IEkgd2FudCB0byB0cnkgYW5kIGJyaW5nIGJhY2sgd2l0aCAqRGV2RGVza3RvcE9TKiwgYSBMaXZlIENEIHRvIGFsbG93IHRoYXQgZnVuIHNlbnNlIG9mIGV4cGxvcmF0aW9uIGFnYWluLCBwZXJoYXBzIGZpbmRpbmcgb3IgdXNpbmcgc29tZSBvcGVuIHNvdXJjZSBzb2Z0d2FyZSB5b3UgbWF5IG5ldmVyIGhhdmUgb3RoZXJ3aXNlIHRyaWVkLlxuXG4jIyBDdXJyZW50IHByb2plY3QgcGxhbnNcblxuRXNzZW50aWFsbHkgc2luY2UgSSBhbSBjdXJyZW50bHkgb25seSBidWlsZGluZyB0aGlzIGZvciBteXNlbGYgYXQgdGhlIG1vbWVudCwgYW5kIGl0IGlzbid0IHJlYWxseSBkaWZmaWN1bHQgdG8gY2hhbmdlIGlmIGl0IGdhaW5zIGF0dGVudGlvbi4gIEkgd2lsbCBiZSBmb2N1c2luZyBvbiB0cnlpbmcgdG8gcmVwbGljYXRlIG15IGN1cnJlbnQgYGJ1c3RlcmAgTGludXggd29ya3N0YXRpb24gYXMgYSBmdWxsIGBib29rd29ybWAgTGl2ZUNELCB3aGljaCB3aWxsIGluY2x1ZGUgbW9zdCBvZiB0aGUgc29mdHdhcmUgcGFja2FnZXMgSSBoYXZlIGluc3RhbGxlZCBvbiBteSBub3JtYWwgZGV2ZWxvcG1lbnQgc3lzdGVtLCBzb21lIHByZS1jb25maWd1cmVkIHdpdGggc29tZSBvZiBteSBwcmVzZXRzIG9mIGNvdXJzZS4gIFRoaXMgcHJvamVjdCBjYW4gb3RoZXJ3aXNlIGJlIGEgZ29vZCBzdGFydGluZyBwb2ludCBmb3IgYW55b25lIHdhbnRpbmcgdG8gYnVpbGQgYSBEZWJpYW4gTGl2ZSBpbWFnZSBvZiB0aGVpciBvd24uICBBcyB0aGUgb2ZmaWNpYWwgZG9jdW1lbnRhdGlvbiBjYW4gYmUgYSBiaXQgbXVjaCB0byBnbyB0aHJvdWdoLlxuIiB9LCB7ICJJRCIgOiA0MCwgIlBBVEgiIDogIi9Eb2NrZXIiLCAiVElUTEUiIDogIkRvY2tlciBDb250YWluZXJzIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMThUMTM6MTE6MDguNzIwWiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0xOFQxMzoyMDo0OS40MjFaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJEb2NrZXIgaXMgYSBjb250YWluZXIgdGVjaG5vbG9neSBJIGZpcnN0IGJlZ2FuIHRvIGxlYXJuIGJhY2sgaW4gMjAxNiBvciBzbyBhZnRlciBJIGZpcnN0IGhlYXJkIGFib3V0LiAgQXQgZmlyc3QgSSB0cmllZCBsZWFybmluZyBpdCBhcyBJIHdvdWxkIHNvbWUgb3RoZXIgdmlydHVhbGl6YXRpb24gdGVjaG5vbG9neSwgYXMgSSBkaWRuJ3QgcXVpdGUga25vdyB3aGF0IGEgKmNvbnRhaW5lciogZXZlbiB3YXMsIGFuZCB3aGF0IGFsbCB0aGUgY29uY2VwdHMgbWVhbnQgYXQgZmlyc3QuICBPZiBjb3Vyc2Ugbm93LCBJIGFtIHZlcnkgZmFtaWxhciB3aXRoIGhvdyBEb2NrZXIgd29ya3MgYW5kIGZ1bmN0aW9ucy4gIEkgaGF2ZSBpbnN0YWxsZWQgdGhlIERvY2tlciBlbmdpbmUgb24gdmFyaW91cyBEZWJpYW4gc2VydmVycyBhbmQgY29uZmlndXJlZCBhIGNvbXBsZXRlIHN0YWNrIGZyb20gdGhlcmUuICBIZXJlIGFyZSBzb21lIG9mIG15IGZhdm9yaXRlIGRvY2tlciBpbWFnZXMsIGVpdGhlciBmb3IgYXNzaXN0aW5nIHdpdGggc2luZ2xlIHNlcnZlciBob3N0aW5nLCBvciBqdXN0IGEgcmVhbGx5IG5pY2UgRG9ja2VyIGltYWdlIHRoYXQgSSBqdXN0IHVzZSBwZXJzb25hbGx5OlxuXG4gICogW1BvcnRhaW5lcl0oIy9Qb3J0YWluZXIpICAtIEEgcmVhbGx5IG5pY2UgRG9ja2VyIG1hbmFnZW1lbnQgVUkgZm9yIHRoZSB3ZWIuXG4gICogW0ZvY2FsQm9hcmRdKCMvRm9jYWxCb2FyZCkgLSBBIHNpbXBsZSwgYnV0IHN0aWxsIHBvd2VyZnVsIGVub3VnaCBLYW5iYW4gYm9hcmQuXG5cbk5vdCByZWFsbHkgc3VyZSB3aGF0IG90aGVyIGltYWdlcyB0byByZWFsbHkgcGxhY2UgaGVyZSwgYXMgaW1hZ2VzIHN1Y2ggYXMgKkdpdExhYiogY2FuIGNsZWFybHkgYmUgcnVuIHN0YW5kLWFsb25lLCBhbmQgSSdtIHN1cmUgRm9jYWxCb2FyZCBjYW4gYWxzbyBydW4gc3RhbmQtYWxvbmUuICBXaGljaCBicmluZ3MgbWUgdG8gYSBmZWF0dXJlIEkgcmVhbGx5IGRvIGxpa2UgYWJvdXQgRG9ja2VyLCBzaW5jZSBJIG1haW5seSBydW4gdGhlIHN0YWJsZSB2ZXJzaW9uIG9mIERlYmlhbiBvbiBteSBwZXJzb25hbCBzeXN0ZW1zLCB1c2luZyBkb2NrZXIgYWxsb3dzIG1lIHRvIGVhc2lseSBydW4gbWFueSB2ZXJzaW9ucyBvZiBwcm9ncmFtcyB3aGljaCBhcmVuJ3QgeWV0IGluY2x1ZGVkIHdpdGggRGViaWFuIHN0YWJsZS4gIEkgYWxzbyBkbyBsaWtlIHRoZSBzb2Z0d2FyZSBkaXNjb3Zlcnkgd2l0aCBEb2NrZXIuICBJIG9ubHkgZm91bmQgb3V0IGFib3V0IHNvbWUgbmljaGUgd2ViIGFwcCBiZWNhdXNlIEkgc2F3IGl0IGluIGEgRG9ja2VyIHdlYiBhZG1pbmlzdHJhdGlvbiBpbnRlcmZhY2UgbGlrZSAqUG9ydGFpbmVyKiBhcyBhbiBhcHBsaWNhdGlvbiB3aGljaCBoYXMgYW4gZWFzeSBpbnN0YWxsIHByb2Nlc3MuXG5cbk15IGxhdGVzdCB3ZWIgc2VydmVyIHJlbGF1bmNoIGlzIGdvaW5nIHRvIGJlIHVzaW5nIHNvbGVseSBkb2NrZXIgZm9yIGFsbCB0aGUgYXBwbGljYXRpb25zIGFuZCBjb21wb3NlIGZpbGVzIHRvIGRlcGxveSBhbmQgb3JjaGVzdHJhdGUgbXkgdmFyaW91cyBwZXJzb25hbCBhcHBzIGFzIHN0YWNrcy4gIEkgYW0gcmVhbGx5IGV4Y2l0ZWQgdG8gaGF2ZSBzdGFydGVkIHRoaXMgcHJvY2VzcywgYW5kIGNhbid0IHdhaXQgdG8gc2VlIGl0IHRvIGNvbXBsZXRpb24uXG4iIH0sIHsgIklEIiA6IDQxLCAiUEFUSCIgOiAiL1BvcnRhaW5lciIsICJUSVRMRSIgOiAiUG9ydGFpbmVyIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMThUMTM6MjE6MTYuNjEzWiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0xOFQxMzoyMzozMy45MTBaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJUaGlzIGEgc2ltcGxlLCBidXQgdmVyeSBwb3dlcmZ1bCBkb2NrZXIgbWFuYWdlbWVudCB3ZWIgY29uc29sZSwgd2hpY2ggaXMgd2VsbCBzdWl0ZWQgZm9yIHN0YW5kLWFsb25lIGRvY2tlciBpbnN0YWxscy4gIEl0IGhhcyBhIGxvdCBvZiBmZWF0dXJlcywgYW5kIGV2ZW4gaGFzIGEgKnBybyogcGFpZCB2ZXJzaW9uIHdoaWNoIG9mZmVycyBldmVuIG1vcmUuXG5cbltQb3J0YWluZXIgSG9tZSBQYWdlXShodHRwczovL3d3dy5wb3J0YWluZXIuaW8vKVxuXG5UaGlzIHdlYiBhcHAgaXMgZ3JlYXQgZm9yIGFuZCBkdXJpbmcgZGV2ZWxvcG1lbnQgYXMgaXQgZG9lcyBzaG93IGFuIGFwcCdzIHRvdGFsIG1lbW9yeSwgQ1BVLCBhbmQgbmV0d29yayB1c2FnZS4gIFRoaXMgY2FuIGFsbG93IHNjYWxpbmcgdG8gcG90ZW50aWFsbHkgYmUgY2FsY3VhdGVkIHRvIGRldGVybWluZSB0aGUgc2VydmVyIGxheW91dCBhbmQgY29uZmlndXJhdGlvbiB0byBlbnN1cmUgb3B0aW1hbCByZXN1bHRzLlxuIiB9LCB7ICJJRCIgOiA0MiwgIlBBVEgiIDogIi9Gb2NhbEJvYXJkIiwgIlRJVExFIiA6ICJGb2NhbEJvYXJkIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMThUMTM6MjM6NDcuNjc2WiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0xOFQxMzoyNTo1NS41NjFaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJBIHNpbXBsZSwgYnV0IHN0aWxsIHBvd2VyZnVsIGVub3VnaCBLYW5iYW4gYm9hcmQgZm9yIHBlcnNvbmFsIGFuZCBzbWFsbCB0ZWFtcy4gIEl0IHVzZXMgYSB2ZXJ5IGZhbWlsYXIgbGF5b3V0IG1vc3Qgc2NydW0gbWFzdGVycyBhcmUgZmFtaWxpYXIgd2l0aCwgYW5kIGlzIGVhc3kgZm9yIGFueSBkZXZlbG9wbWVudCwgZXZlbiB0aG9zZSBub3QgZmFtaWxhciB3aXRoIGEga2FuYmFuIGJvYXJkIHRvIGVhc2lseSBwaWNrIGl0IHVwLlxuXG5bRm9jYWxCb2FyZCBXZWJzaXRlXShodHRwczovL3d3dy5mb2NhbGJvYXJkLmNvbS8pXG5cbkZvciBtYW5hZ2luZyBhIHBlcnNvbmFsIHByb2plY3QsIG9yIGEgc21hbGwgdGVhbSBwcm9qZWN0LCAqRm9jYWxCb2FyZCogY2FuIGJlIHRoZXJlIGZvciB5b3UuXG4iIH0sIHsgIklEIiA6IDQzLCAiUEFUSCIgOiAiL1dlYnNpdGUvSlNBcHAiLCAiVElUTEUiIDogIkphdmFTY3JpcHQgQXBwbGljYXRpb24iLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0xOFQxMzoyOTozNS4yNjBaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTE4VDEzOjM1OjE1LjA2OFoiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIlRoaXMgKmNvbnRlbnQtdHlwZSogd2lsbCBydW4gYSBKYXZhU2NyaXB0IHByb2dyYW0gaW4gdGhlIGNsaWVudCBicm93c2VyLiAgVGhpcyBjYW4gYmUgdXNlZCBmb3IgYW4gYXNvcnRtZW50IG9mIHB1cnBvc2VzLCBzdWNoIGFzIG1peGluZyBtdWx0aXBsZSBjb250ZW50LXR5cGVzIHRvZ2V0aGVyIGludG8gYSBzaW5nbGUgdW5pZmllZCBkb2N1bWVudCwgYW5kIHRvIHByb3ZpZGUgYSBpbnRlcmFjdGl2ZSBleHBlcmllbmNlIHRvIGEgdXNlciwgc3VjaCBhcyBhIHF1aXogb3Igc29tZXRoaW5nIGVsc2UuXG5cblRoZSAqQVBJKiBmb3IgdGhpcyBpcyBzdGlsbCBpbiBkZXZlbG9wbWVudCwgYnV0IG90aGVyd2lzZSwgZXZlcnkgbm9ybWFsIEphdmFTY3JpcHQgZnVuY3Rpb24vY2FsbCBzaG91bGQgd29yayBpZiBpdCB3b3JrcyBpbiBhbnkgb3RoZXIgd2ViIHBhZ2UuICBIYXZlIGEgcGVlayBpbiB0aGUgYGFwaS5qc2AgZmlsZSB3aXRoaW4gdGhlIHNvdXJjZSBjb2RlIHRvIHNlZSB3aGF0IFtPYmplY3RQYXNjYWxdKCMvT2JqZWN0UGFzY2FsKSBBUElzIGFyZSBhbHNvIGV4cG9ydGVkIHRvIEphdmFTY3JpcHQgY29tcG9uZW50cy5cblxuW1NvdXJjZSBFeGFtcGxlXSgjL1dlYnNpdGUvSlNFeGFtcGxlKVxuXG5bUnVuIEV4YW1wbGVdKCMvX19ERUJVR19fL0pTUHJvZylcbiIgfSwgeyAiSUQiIDogNDQsICJQQVRIIiA6ICIvV2Vic2l0ZS9KU0V4YW1wbGUiLCAiVElUTEUiIDogIkV4YW1wbGUgSmF2YVNjcmlwdCBQcm9ncmFtIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMThUMTM6MzM6MzAuMzYyWiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0xOFQxMzo1MDoxMC44NDBaIiwgIkNPTlRFTlRUWVBFIiA6IDEwNiwgIkNPTlRFTlQiIDogIlNldFRpdGxlKCdFeGFtcGxlIEphdmFTY3JpcHQgUHJvZ3JhbScpO1xudmFyIGJ1Zj1HZXRDb250ZW50KCcvV2Vic2l0ZS9KU0FwcCcpO1xuYnVmPWJ1ZisnPGg0PkV4YW1wbGUgQ29kZTo8L2g0PicrR2V0Q29udGVudCgnL1dlYnNpdGUvSlNFeGFtcGxlJyk7XG5TZXRDb250ZW50KGJ1Zik7IiB9LCB7ICJJRCIgOiA0NSwgIlBBVEgiIDogIi9XZWJzaXRlL1B5QXBwIiwgIlRJVExFIiA6ICJQeXRob24gV2ViIEFwcGxpY2F0aW9uIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMThUMTM6MzU6NTguMTAwWiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0xOFQxMzozOToyMC4yMTNaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJUaGlzICpjb250ZW50LXR5cGUqIHdpbGwgYWxsb3cgdGhlIHdlYnNpdGUgYXV0aG9yIHRvIHJ1biAqKlB5dGhvbioqIGNvZGUgZGlyZWN0bHkgd2l0aGluIHRoZSBicm93c2VyIHRvIGludGVyYWN0IHdpdGggdGhlIHVzZXIsIGFtb25nIG90aGVyIHRoaW5ncy4gIFRoZSAqQVBJKiBmb3IgdGhpcyBsaXZlcyBpbnNpZGUgdGhlIGBweWFwaS9gIGRpcmVjdG9yeS4gIEl0IGlzIGFkdmlzZWQgdG8gbG9vayBhdCB0aGUgbW9kdWxlcyBpbiB0aGVyZSBmb3IgY3VycmVudGx5IGF2YWlsYWJsZSAqQVBJIENhbGxzKi4gIFRoZSBBUEkgaXMgZmFyIGZyb20gY29tcGxldGUsIGJ1dCB0aGUgRE9NIHJvdXRpbmVzIGZyb20gW0JyeXRob25dKCMvQnJ5dGhvbikgY2FuIGFsc28gYmUgdXNlZC5cblxuW0V4YW1wbGUgUHl0aG9uIFNvdXJjZV0oIy9XZWJzaXRlL1B5RXhhbXBsZSlcblxuW1J1biBFeGFtcGxlXSgjL19fREVCVUdfXy9QeUFwcClcbiIgfSwgeyAiSUQiIDogNDYsICJQQVRIIiA6ICIvV2Vic2l0ZS9QeUV4YW1wbGUiLCAiVElUTEUiIDogIlB5dGhvbiBXZWIgQXBwbGljYXRpb24gRXhhbXBsZSIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTE4VDEzOjM5OjUzLjYyNVoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMThUMTM6NTM6MTQuNDc1WiIsICJDT05URU5UVFlQRSIgOiAxMDIsICJDT05URU5UIiA6ICJmcm9tIGJyb3dzZXIgaW1wb3J0IGRvY3VtZW50LCB3aW5kb3dcbmZyb20gd2Vic2l0ZSBpbXBvcnQgU2V0VGl0bGUsIFNldENvbnRlbnQsIEdldENvbnRlbnRcblxuYmxvY2sxID0gR2V0Q29udGVudCgnL1dlYnNpdGUvUHlBcHAnKVxuYmxvY2syID0gJzxoND5FeGFtcGxlIENvZGU6PC9oND4nK0dldENvbnRlbnQoJy9XZWJzaXRlL1B5RXhhbXBsZScpXG5cblNldENvbnRlbnQoJ1RoaXMgd2FzIHdyaXR0ZW4gdG8gdGhlIERPTSB2aWEgPGk+QnJ5dGhvbjwvaT4gY29kZS48YnIvPicrYmxvY2sxK2Jsb2NrMilcbiIgfSwgeyAiSUQiIDogNDcsICJQQVRIIiA6ICIvQnJ5dGhvbiIsICJUSVRMRSIgOiAiQnJ5dGhvbjogUHl0aG9uIGZvciB0aGUgYnJvd3Nlcj8iLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0xOFQxMzo0Mjo1My4xMTFaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTE4VDEzOjQ0OjAzLjAwNloiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIlllcyEgIFB5dGhvbiBjYW4gbm93IHJ1biAqYWxtb3N0KiBuYXRpdmVseSB3aXRoaW4gdGhlIHdlYiBicm93c2VyIHdpdGggdGhlIHBvd2VyIG9mIFtCcnl0aG9uXShodHRwczovL2JyeXRob24uaW5mby8pIVxuIiB9LCB7ICJJRCIgOiA0OCwgIlBBVEgiIDogIi9tY3NlcnZlciIsICJUSVRMRSIgOiAiTmV0d29yayBTaGFyZWQgSGVhcCBTZXJ2ZXIiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0xOFQxNDowNjoxOC4yMzZaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTE4VDE0OjE4OjIwLjEyNFoiLCAiQ09OVEVOVFRZUEUiIDogMCwgIkNPTlRFTlQiIDogIjxwPlxuVGhpcyBpcyBhIHNlcnZlciBwcm9ncmFtIEkgd3JvdGUgaW4gPGEgaHJlZj1cIiMvT2JqZWN0UGFzY2FsXCI+T2JqZWN0UGFzY2FsPC9hPlxuYWJvdXQgMiB5ZWFycyBhZ28uICBJdCBpcyB2ZXJ5IHNpbXBsZSBpbiBjb25jZXB0LCBhIHNlcnZlciB3aGljaCBjYW4gc2VuZCBhbmRcbnJlY2VpdmUgYmxvY2tzIG9mIG1lbW9yeSwgYW5kIGFsc28gPGk+c3Vic2NyaWJlPC9pPiB0byBzYWlkIGJsb2NrcyBvZiBtZW1vcnkgYW5kXG5yZWNlaXZlIGEgbGl2ZSBub3RpZmljYXRpb24gd2hlbiBhbm90aGVyIGNsaWVudCBjaGFuZ2VzIHRoYXQgYmxvY2sgb24gdGhlIHNlcnZlcixcbmFsbG93aW5nIG11bHRpcGxlIGFwcGxpY2F0aW9ucyBvdmVyIGEgbmV0d29yayB0byBlYXNpbHkgc2hhcmUgYSBzdGF0ZSBhbmQga2VlcFxuaW4gc3luYy4gIFRoaW5rIG9mIDxiPklvVDwvYj4gYXBwbGljYXRpb25zIGZvciBleGFtcGxlLCB3aGVyZSBhIDxpPmNlbnRyYWwgdW5pdDwvaT5cbm9mIHNvcnRzIHJ1bnMgdGhpcyBzZXJ2ZXIgYW5kIHN1YnNjcmliZXMgdG8gY2hhbmdlcyBmcm9tIGFub3RoZXIgcHJvZ3JhbSB0byBjaGFuZ2VcbnRoZSB2YXJpb3VzIGhvbWUgYXV0b21hdGlvbiBmZWF0dXJlcy4gIFRoZXNlIGJsb2NrcyBjYW4gdGhlbiBiZSByZWFkIGJ5IG90aGVyXG5kZXZpY2VzIHRvIGtlZXAgYSBzaW1pbGFyIHN0YXRlIHNoYXJlZCBiZXR3ZWVuIGVhY2ggZGV2aWNlLiAgVGhlIHRyYW5zZmVyIGlzXG5pbmNyZWRpYmx5IHNpbXBsZSBmb3IgPGI+U29DczwvYj4gdG8gdXNlLCBhcyBpdCBjYW4gbG9hZCB0aGUgYmxvY2sgZnJvbSB0aGVcbm5ldHdvcmsgZGlyZWN0bHkgaW50byBtZW1vcnkgd2l0aG91dCBuZWVkaW5nIHRvIHBhcnNlLiAgQ3VycmVudGx5LCBpdCBpcyBub3RcbndlbGwgc3VpdGVkIGZvciB1c2Ugb3ZlciBwdWJsaWMgaW50ZXJuZXRzLCBhcyB0aGUgc2VjdXJpdHkgb2YgdGhlIHByb3RvY29sIGlzXG5jdXJyZW50bHkgdmVyeSBsb3cuICBIb3dldmVyLCBJIGRpZCByZWNlbnRseSBvcGVuIHNvdXJjZSB0aGUgc2VydmVyIG9uIG15IEdpdEh1YixcbnNvIEkgaG9wZSB0aGF0IHBlb3BsZSBpbnRlcmVzdGVkIGluIHN1Y2ggYSBjb25jZXB0IGNhbiBjb250cmlidXRlIGFuZCBhZHZhbmNlXG50aGUgaWRlYSBmb3J3YXJkLlxuPC9wPlxuXG48aWZyYW1lIHdpZHRoPVwiNDIwXCIgaGVpZ2h0PVwiMzE1XCIgc3JjPVwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvaXR6REpsRWxNWmtcIj48L2lmcmFtZT5cblxuPHA+XG48YSBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL2t2ZXJvbmVhdS9tY3NlcnZlclwiPlNvdXJjZSBDb2RlIFJlbGVhc2U8L2E+XG48L3A+XG5cbiIgfSwgeyAiSUQiIDogNDksICJQQVRIIiA6ICIvU2ltNjUwMiIsICJUSVRMRSIgOiAiU2ltNjUwMiIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTE4VDE0OjE4OjQ1Ljk0OVoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMThUMTQ6MjM6MjkuNDI3WiIsICJDT05URU5UVFlQRSIgOiAwLCAiQ09OVEVOVCIgOiAiPHA+XG5UaGlzIHByb2plY3Qgd2FzIHN0YXJ0ZWQgaW4gZWFybHkgMjAyMyBhZnRlciBJIGxlZnQgbXkgbGFzdCBqb2IgYXMgYSBwb3RlbnRpYWxcbjxpPmZvci1wcm9maXQ8L2k+IHByb2plY3QuICBJdCB3YXMgdG8gYmUgYW4gPGk+ZWR1dGFpbm1lbnQgZ2FtZS9wcm9kdWN0PC9pPixcbndoaWNoIHdvdWxkIGFsc28gaGF2ZSBhbiBhcHBlYWwgdG8gdmFyaW91cyA8Yj5NT1MgNjUwMjwvYj4gaG9iYmlzdHMuICBJZiB5b3UgZXZlclxuZW5qb3llZCB3b3JraW5nIHdpdGggdGhlIDxpPjY1MDI8L2k+LCB0aGVuIEkgaGlnaGx5IHJlY29tbWVuZCBjaGVja2luZyBpdCBvdXQuXG48L3A+XG5cbjxpZnJhbWUgd2lkdGg9XCI0MjBcIiBoZWlnaHQ9XCIzMTVcIiBzcmM9XCJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC9Ia0ZibG9rOVV4Z1wiPjwvaWZyYW1lPlxuXG48cD5cblRoaXMgcHJvamVjdCByZW1haW5zIGNsb3NlZCBzb3VyY2UsIGFzIEkgc3RpbGwgZmlybWx5IGJlbGlldmUgdGhhdCBvbmUgZGF5IElcbm1pZ2h0IHR1cm4gdGhpcyBpbnRvIGEgZnVuIDxpPmNvbXB1dGVyIHNjaWVuY2U8L2k+IGxlYXJuaW5nIGFpZC4gIEFuZCBvbmNlIEFJXG50YWtlcyBvdmVyIGNvZGluZywgdGhlbiBhIGZ1biBob2JieSB0b3kgZm9yIHBlb3BsZSB0aGF0IGp1c3QgZW5qb3kgcHJvZ3JhbW1pbmdcbmFzIGJvdGggYSBob2JieSBhbmQgYXMgYSBwYXNzaW9uLCBiZWNhdXNlIEEuSS4gY2FuIG5ldmVyIHRha2UgdGhvc2UgYXdheSBmcm9tXG51cy5cbjwvcD5cblxuIiB9LCB7ICJJRCIgOiA1MCwgIlBBVEgiIDogIi9Zb3VUdWJlTGlrZXMiLCAiVElUTEUiIDogIllvdVR1YmUgU21hcnRUViBhcHAgaXMgYW5ub3lpbmciLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0yM1QxNTo0NTo0Ny42ODZaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAzLTA1VDE5OjQyOjM1LjcwMloiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIklmIHlvdSBoYXZlIGV2ZXIgdXNlZCB0aGUgKllvdVR1YmUqIGFwcCBvbiB5b3VyIEFuZHJvaWQgVFYsIHlvdSBtYXkgYWxyZWFkeSBrbm93IHdoZXJlIEkgYW0gY29taW5nIGZyb20gd2l0aCB0aGlzIHRpdGxlLiAgQWZ0ZXIgYSBZb3VUdWJlIHZpZGVvIGVuZHMgb24gQW5kcm9pZCBUViwgaWYgeW91IHRoZSB2aWV3ZXIgY29tcGxldGVseSBmb3JnZXQgdG8gcHV0IGEgKkxpa2UqIG9uIHRoYXQgdmlkZW8gYmVmb3JlIGl0IGVuZHMsIHlvdSBjYW4gdGhlbiBtYWtlIG9uZSBvZiB0aGUgZm9sbG93aW5nIGNob2ljZXM6XG5cbiAgKiBOb3QgY2FyZSBhbmQgbW92ZSBvbiB3aXRoIG5vIGxpa2UuXG4gICogR28gYmFjayB0byB0aGUgdmlkZW8sIGVpdGhlciB0aHJvdWdoIHRoZSBsaXN0IHlvdSBmb3VuZCBpdCBvbiwgb3IgaWYgaXQncyByZWZyZXNoZWQsIGFsbCB0aGUgd2F5IGluIHlvdXIgKkhpc3RvcnkqLCB3YXRjaCBpdCBhZ2Fpbiwgb3IganVzdCBvcGVuIGl0IHF1aWNrbHkgdG8gbGVhdmUgdGhhdCAqTGlrZSouXG5cbkluIG1vc3QgY2FzZXMgSSB1c3VhbGx5IGdyYXZpdGF0ZSB0b3dhcmRzIHRoZSBmb3JtZXIsIGFzIGluIG1vc3QgY2FzZXMgbXkgc2luZ2xlICpsaWtlKiBpc24ndCBnb2luZyB0byByZWFsbHkgYWZmZWN0IGFueXRoaW5nLCBhcyBpdCBqdXN0IGFkZHMgaXQgdG8gbXkgcGVyc29uYWwgKkxpa2VzIHBsYXlsaXN0Kiwgd2hpY2ggSSBuZXZlciByZWFsbHkgdXN1YWxseSByZWZlciB0byBhbnl3YXlzLiAgU29tZSBZb3VUdWJlcnMgSSBmaW5kIGFyZSByZWFsbHkgYmFkIHdpdGggdGhlaXIgdmlkZW8gZW5kaW5ncywgdW5wcmVwYXJpbmcgdGhlIHZpZXdlciBmb3Igd2hlbiB0aGF0IHZpZGVvIGVuZHMsIG1ha2luZyBpdCBkaWZmaWN1bHQgdG8gcHJvcGVybHkgdXNlIHRoZSBzb21ld2hhdCBjbHVua3kgVUkgdG8gY2xpY2sgb24gdGhlICp0aHVtYnMgdXAqIGljb24uICBPbmUgWW91VHViZXIgSSB3aWxsIGNhbGwgaXQgYXMgYSBncmVhdCBleGFtcGxlIGlzICpTYXRjaE9uU2ltcyosIHdoaWxlIGFuIGFic29sdXRlbHkgYW1hemluZyBjaGFubmVsIHdpdGggc29tZSBncmVhdCBjb21tZW50YXJpZXMgb24gdGhlICpTaW1zIHNlcmllcyogYXMgd2VsbCBhcyBzb21lIGNvbW1lbnRhcmllcyBvbiAqc2V4dWFsaXR5KiBhcyBoZSBkb2VzIGlkZW50aWZ5IGFzICpnYXkqLCBhcyBkbyBJLiAgVGhlIGVuZCBvZiBoaXMgdmlkZW8gZW5kcyByZWFsbHkgcXVpY2tseSwgYW5kIHRoZXJlIHdlcmUgbWFueSB0aW1lcyB3aGVyZSBJIGNvbXBsZXRlbHkgZmFpbGVkIHRvIGxlYXZlIGEgbGlrZSBJIHdhbnRlZCB0byBsZWF2ZSBoaW0sIGJ1dCBJIGp1c3QgbGVmdCBpdCBhbmQgbW92ZWQgb24uXG5cbkknbSBub3Qgc3VyZSBpZiBpdCdzIGp1c3QgdGhlIGFzc3VtcHRpb24gdGhhdCBtb3N0IHZpZXdlcnMgd2lsbCBiZSB3YXRjaGluZyBZb3VUdWJlIGluIHRoZWlyIGJyb3dzZXIsIG9yIGEgbW9iaWxlIGFwcCwgYnV0IHRocm91Z2ggQW5kcm9pZCBUViwgaXQgY2FuIGJlIGEgYml0IHRyaWNreSBzb21ldGltZXMgdG8gbGVhdmUgYSBsaWtlLCBlc3BlY2lhbGx5IGlmIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGJlZ2lucyB0byBsYWcsIHdoaWNoIGhhcyBoYXBwZW5lZCBvbiBtdWx0aXBsZSBvY2NhdGlvbnMsIHNvIHdoZW4gSSBkaWQgaGF2ZSBzb21lIHRpbWUgdG8gc2F5IGxlYXZlIGEgbGlrZSwgaXQgd2FzIHN0aWxsIGRpZmZpY3VsdCBhcyB0aGUgVUkgbGFnZ2VkIHRvbyBtdWNoIGJlaGluZCBteSBjb250cm9sbGVyIGNsaWNrcywganVzdCBtYWtpbmcgdGhlIGVudGlyZSBwcm9jZXNzIGEgYml0IGZydXN0dXJhdGluZyB0byBzYXkgdGhlIGxlYXN0LlxuXG5BIHJlY2VudCBleGFtcGxlIG9mIHRoaXMgaGFwcGVuaW5nLCB3aGljaCBtYXkgaGF2ZSBhbiBlZmZlY3Qgb24gdGhlIGFsZ29yaXRobSBmb3IgbXkgWW91VHViZSBwcm9maWxlLCBpcyB0aGF0IHRoZSAqUHJlbWllciogb2YgbXkgcmVzaWRpbmcgcHJvdmluY2UgbGVmdCBhIHNob3J0IFlvdVR1YmUgdmlkZW8gb2YgdGhlIGN1cnJlbnQgc3RhdGUgb2YgZWNvbm9taWNzIGluIG15IHByb3ZpbmNlLiAgV2hpbGUgSSBkaWRuJ3QgYWdyZWUgd2l0aCBhYnNvbHV0ZWx5IGV2ZXJ5dGhpbmcgc2hlIGJyb3VnaHQgdXAsIEkgZGlkIGFncmVlIHdpdGggbW9zdCBvZiBoZXIgc3RhdGVtZW50cy4gIFVuZm9ydHVuYXRlbHksIEkgd2FzIHVucHJlcGFyZWQgZm9yIHRoZSB2aWRlbyBlbmRpbmcsIGFuZCBhcyBhIHJlc3VsdCwgZmFpbGVkIHRvIGxlYXZlIGEgbGlrZS4gIFBlcnNvbmFsbHksIEkgYW0gcG9saXRpY2FsbHkgYWxpZ25lZCBhcyAqY2VudGVyIGxlZnQqIGluIG1vc3QgW3BvbGl0aWNhbCBpc3N1ZXNdKCMvUG9saXRpY3MpLCBidXQgSSBzdGlsbCBoZWFyIHRoZSBwbGF0Zm9ybSBvZiB0aGUgb3Bwb3NpbmcgcGFydGllcywgYW5kIGJhc2UgbXkgdm90ZSBvbiB3aGF0IHRoZXkgY2FuIHByb3ZpZGUgZm9yIHRoZSBmdXR1cmUuICBJbiB0aGUgY3VycmVudCBlY29ub21pYyBjbGltYXRlLCBJIGFtIG1vcmUgbGlrZWx5IHRvIGxlYW4gYSBiaXQgbW9yZSB0byB0aGUgcmlnaHQsIGFzIHNvbWUgb2YgdGhlaXIgc29sdXRpb25zIEkgZmVlbCBpcyB0aGUgcmlnaHQgZGlyZWN0aW9uIGZvciB0aGUgbG9uZyB0ZXJtIGFuZCBpbnRvIHRoZSBmdXR1cmUuICBJIGRvbid0IGFsaWduIHRvIGEgc3BlY2lmaWMgcGFydHkgb3IgcG9saXRpY2lhbi5cblxuIyMjIEJldHRlciBzb2x1dGlvbiB0byBhIGxpa2UvZGlzbGlrZSBzeXN0ZW1cblxuUGVyc29uYWxseSwgSSB3b3VsZCBwcmVmZXIgaXQgaWYgdmlkZW8gc2hhcmluZyB3ZWJzaXRlIHVzZWQgKmVtb3Rpb25zKiBpbnN0ZWFkIG9mIGEgc2ltcGxlICpsaWtlKiBhbmQgKmRpc2xpa2UqIHN5c3RlbS4gIEZvciBleGFtcGxlLCB0aGUgdmlkZW8gY291bGQgaGF2ZSB0aGUgc2FtZSBlbW90aW9ucyB3aGljaCBwZW9wbGUgdXNlIHRvIHJlc3BvbmQgdG8gdmFyaW91cyBwb3N0cyBvbiBpbnN0YW50IG1lc3NhZ2luZyBwbGF0Zm9ybXMuICBFbW90aW9ucyBzdWNoIGFzLCAqdGhpcyB2aWRlbyBtYWRlIG1lIGZlZWwgaGFwcHkqLCBvciAqdGhpcyB2aWRlbyBtYWtlcyBtZSBmZWVsIHNhZCosIG9yIGV2ZW4gYmV0dGVyICp0aGlzIHZpZGVvIG1ha2VzIG1lIGFuZ3J5KiwgYXMgYSBsb3Qgb2YgcGVvcGxlIHdvdWxkIHByb2JhYmx5IHVzZSB0aGF0IGVtb3Rpb24gb24gdG9waWNzIHRoZXkgYXJlIHZlcnkgZW1vdGlvbmx5IHN0cm9uZyBvbiwgc3VjaCBhcyBwb2xpdGljcyB0aGV5IGFyZSBhZ2FpbnN0LiAgSSB0aGluayB1c2luZyBlbW90aW9ucyBvdmVyIGxpa2VzIGFuZCBkaXNsaWtlcyB3b3VsZCBiZSBhIG11Y2ggYmV0dGVyIHdheSBmb3IgYSB2aWV3ZXIgdG8gY29udmV5IGhvdyB0aGV5IGFjdHVhbGx5ICpmZWx0KiBhYm91dCBzYWlkIHZpZGVvLiAgVGhlIGN1cnJlbnQgc3lzdGVtIHJlYWxseSBmZWVscyB0byBsaW1pdGVkIGluIG1vc3Qgc2NlbmFyaW9zLlxuIiB9LCB7ICJJRCIgOiA1MSwgIlBBVEgiIDogIi9Qb2xpdGljcyIsICJUSVRMRSIgOiAiTXkgcGVyc29uYWwgcG9saXRpY2FsIHZpZXdzIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMjNUMTU6NTk6NDIuMzM5WiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0yM1QyMTo0Nzo1Ny45OTNaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICIqUG9saXRpY3MqIGlzIGFsd2F5cyB0aGUgbW9zdCB0b3VjaGllc3Qgc3ViamVjdCB0byB0YWxrIGFib3V0LCBhcyBhIHJlc3VsdCwgSSB0cnkgdG8gbmV2ZXIgYnJpbmcgaXQgdXAgaW4gd29ya3BsYWNlcyBhbmQgd2l0aCBmcmllbmRzIHdob20gbWF5IHNoYXJlIGRpZmZlcmluZyB2aWV3cy5cblxuSSB1c3VhbGx5IGFsaWduIHdpdGggKmNlbnRlciBsZWZ0KiwgYnV0IGluIHJlY2VudCB0aW1lcyB3aXRoIGEgcG90ZW50aWFsICpsb29taW5nIHdhciosIEkgYW0gbm93IGxlYW5pbmcgbW9yZSB0b3dhcmRzIGEgKmNlbnRlciByaWdodCogcG9pbnQgb2Ygdmlldy4gIEkgZmVlbCB0aGF0IGR1cmluZyAqcGVhY2UgdGltZXMqLCB0aGUgbGVmdCBjYW4gaGF2ZSBzb21lIHByb2dyZXNzIHdoaWNoIEkgY2FuIGdldCBiZWhpbmQuICBUaGUgcmlnaHQgaGFzIHNvbWUgdmlld3MsIGJ1dCB0aGVzZSBhcmUgdXN1YWxseSB0YXJnZXR0ZWQgdG93YXJkcyAqYmlnIGJ1c2luZXNzKiwgKnJlbGlnaW91cyB2b3RlcnMqLCBhbmQgKm1pZGRsZSBjbGFzcyouICBJIGtub3cgdGhlcmUgaXMgbXVjaCBtb3JlLCBhbmQgSSBhbSBub3Qgc2F5aW5nIHRoYXQgSSBkb24ndCBhZ3JlZSB3aXRoIGFueXRoaW5nIHRoZSAqcmlnaHQgcGFydHkqIHNheXMsIGRvZXMsIG9yIHBhc3NlcywgYXMgdGhleSBvYnZpb3VzbHkgaGF2ZSBnb29kIGlkZWFzIHRvIHB1c2ggc29jaWV0eSBmb3J3YXJkLCBhcyBkb2VzIHRoZSAqbGVmdCBwYXJ0eSouICBJIGp1c3Qgc2VlIHRoZSAqbGVmdCBwYXJ0eSogYXMgYmVpbmcgbW9yZSBmb3IgdGhlICpwZW9wbGUqIGluIG1vcmUgd2F5cywgYW5kIEkgZG8gZmlybWx5IGJlbGlldmUgdGhhdCBwZW9wbGUsIHVzIGh1bWFuIGJlaW5ncywgc2hvdWxkIGJlIHRoZSBwcmlvcml0eSBpbiBtb3N0IGNhc2VzLCByYXRoZXIgdGhhbiB0aGUgY29ycG9yYXRpb25zIGhvbGRpbmcgYSBtYWpvcml0eS5cblxuQXMgYSBwb3RlbnRpYWwgd2FyIGlzIGxvb21pbmcgaW4gdGhlIG1vZGVybiBlcmEsIEkgYW0gbGVhbmluZyBtb3JlICpyaWdodCogZm9yIHRoZSBmb2xsb3dpbmcgcmVhc29uczpcblxuICAqIFRoZSByaWdodCBjYW4gYmUgbW9yZSAqcHJvYWN0aXZlKiBhdCB0aW1lcyB0aGFuIHRoZSBsZWZ0LCBhcyBUcnVtcCBkaWQgc3RhdGUgcmVjZW50bHksIGlmIGhlIHdhcyBlbGVjdGVkLCBoZSdkIHB1dCBhbiBlbmQgdG8gdGhlIHdhciwgaGVuY2UgKm1vcmUgcHJvYWN0aXZlKi5cbiAgKiBUaGUgcmlnaHQgaXMgbW9yZSBwcm8tZWNvbW9ueSwgd2hpY2ggZHVyaW5nIHdhciB0aW1lcyBpcyBuZWVkZWQgbW9yZSB0aGFuIHByby1wZW9wbGUgYXMgdGhlIGxlZnQgdXN1YWxseSB0b3V0cy5cbiAgICAtIFRoZSByaWdodCBjYW4gc3BpbiB1cCB0aGUgKndhciBtYWNoaW5lKiBhcyB0aGV5IGNhbGwgaXQsIGZhc3RlciwgYW5kIGJlLWFibGUgdG8gZmFzdGVyIHJhbXAgdXAgcHJvZHVjdGlvbiBvZiB3YXItcmVsYXRlZCBjb21wb25lbnRzIG5lZWRlZCB0byB3aW4gYSB3YXIuXG5cbkkgZ3Vlc3Mgb25lIGNvdWxkIHNheSB0aGF0IG15ICpwb2xpdGljYWwgdmlld3MqIGFyZSB2ZXJ5ICoqY29udGV4dC1zZW5zaXRpdmUqLCB3aGVyZSBJIHRha2UgYm90aCBjb250ZXh0IG9mIGN1cnJlbnQgZXZlbnRzLCBhbmQgYSBwb3RlbnRpYWwgZnV0dXJlIHRvIGRldGVybWluZSB3aGljaCBwYXJ0eSBzZWVtcyBsaWtlIHRoZSByaWdodCBmaXQgdG8gaG9wZWZ1bGx5IG1ha2UgdGhlIHdvcmxkIGEgYmV0dGVyIHBsYWNlIGZvciBldmVyeW9uZS5cblxuQW55d2F5cywgSSBqdXN0IHRob3VnaHQgSSdkIHdyaXRlIHRoaXMsIGFzIEkgYW0gZ2VuZXJhbGx5IHByZXR0eSBhbG9vZiB3aGVuIGl0IGNvbWVzIHRvIHRhbGtpbmcgYWJvdXQgbXkgcGVyc29uYWwgcG9saXRpY2FsIHZpZXdzLCBhcyBJIGp1c3QgdGVuZCB0byBrZWVwIHRob3NlIHRvIG15c2VsZi4gIEl0IGlzIGEgdmVyeSByaXNreSBzb2NpYWwgdG9waWMgdG8gb25seSBoYXZlIHdpdGggc3BlY2lmaWMgcGVvcGxlIHRoYXQgbW9zdGx5IGFsaWduIHdpdGggb25lJ3Mgdmlld3MuICBQb2xpdGljYWwgdmlld3MgcmVjZW50bHkgaGF2ZSBiZWNvbWUgcmF0aGVyIGV4dHJlbWUgYXQgdGltZXMsIGFuZCBJJ2QgcGVyc29uYWxseSBqdXN0IHJhdGhlciBzaXQgb24gdGhlIHNpZGVsaW5lcyBhbmQgd2F0Y2gsIGJ1dCBzdGlsbCB0YWtlIHBhcnQgaW4gZWxlY3Rpb25zIG9mIGNvdXJzZSwgYXMgYW55IGNpdGl6ZW4gaW4gYSBkZW1vY3JhY3kgc2hvdWxkLlxuXG4jIyMgUG9saXRpY3Mgb2YgQWxiZXJ0YVxuXG5JIGhhdmUgdmVyeSByZWNlbnRseSBvYnRhaW5lZCBhIG5ldyBwZXJzcGVjdGl2ZSBvbiB0aGUgQWxiZXJ0YSBlY29ub215IGFuZCB3aHkgaXQncyBwb2xpdGljcyBhcmUgdGhlIHdheSB0aGV5IGFyZS4gIEEgdmlkZW8gSSB3YXRjaGVkIG1lbnRpb25lZCB0aGF0IGR1cmluZyB0aGUgKm9pbCBib29tKiB0aGUgZWNvbm9teSB3YXMgYWJzb2x1dGVseSBmbHVyaXNoaW5nIGFzIGl0J3MgbWFueSBjaXRpemVucyB3ZXJlIG1ha2luZyB1cG1vc3QgdG8gJDEwMC9ociwgd2hpY2ggaXMgYW4gYWJzb2x1dGVseSBjcmF6eSBhbW91bnQgd2hlbiB5b3UgdGhpbmsgb2YgYWxtb3N0IGV2ZXJ5IG90aGVyIGluZHVzdHJ5LiAgSSBoYWQgbm8gaWRlYSB0aGUgcGF5IHdhcyB0aGlzIGhpZ2guICBUaGUgbW9zdCBJJ3ZlIGV2ZXIgbWFkZSBwZXIgeWVhciBpbiBteSBsaWZlIGlzIGp1c3QgYSBsaXR0bGUgdW5kZXIgJDEwMGsveWVhciBzYWxhcnkuICBJIGdlbmVyYWxseSBkb24ndCBhc2sgZm9yIG1vcmUgdGhhbiBJIGJlbGlldmUgSSBuZWVkLCB0aGF0IGlzIGp1c3QgYSBwZXJzb25hbCBvcGlvbmlvbiwgYW5kIGV2ZXJ5b25lJ3MgbGlmZSBpcyB2ZXJ5IGRpZmZlcmVudC4gIEhvd2V2ZXIsIGlmIEkgd2FzIG1ha2luZyBtb3JlLCBJIHdvdWxkIG1vc3QgbGlrZWx5IGJlIGVuam95aW5nIG15c2VsZiBhIGxvdCBtb3JlIGluIGxpZmUgb3ZlcmFsbCwgZ29pbmcgb3V0IHRvIG1hbnkgZXZlbnRzLCBhbmQgSSBjYW4gc2VlIHdoeSBhbiBlY29ub215IHdvdWxkIGZsdXJpc2ggdW5kZXIgdGhlc2UgaGlnaCBwYXkgY29uZGl0aW9ucy4gIEkgY2FuIHNlZSB3aHkgdGhlIHBvcHVsYXRpb24gaGVyZSByZWFsbHkgd2FudHMgYW5vdGhlciAqb2lsIGJvb20qIG9uY2UgYWdhaW4sIGl0IGRvZXMgbWFrZSBjb21wbGV0ZSBzZW5zZSB0byBtZSwgYXMgYSBiZXR0ZXIgYW5kIGhlYWx0aGllciBlY29ub215IGlzIGJldHRlciBmb3IgZXZlcnlvbmUuICBXaGlsZSBtb3N0IG9mIG15IHBlcnNvbmFsIGJlbGllZnMgZG8gbGVhbiBtb3JlIHRvd2FyZHMgYSBiZXR0ZXIgZnV0dXJlIGZvciBvdXIgcGxhbmV0IG92ZXJhbGwsIEkgYmVsaWV2ZSB0aGF0IEkgY291bGQgc3RhbmQgYmVoaW5kIG9pbCBwcm9qZWN0cyB3aGljaCBvdGhlcndpc2UgZG8gbm90IGZ1cnRoZXIgZXhpc3RpbmcgaXNzdWVzLiAgVGhpcyBpcyByZWFsbHkgYSB0b3VjaHkgc3ViamVjdCBpbiBib3RoIHRoaXMgcHJvdmluY2UgYW5kIGFjcm9zcyBDYW5hZGEuICBPbmUgYXNwZWN0IHdoaWNoIHNob3VsZCBhbGxvdyBvaWwgdG8gYmVjb21lIG1vcmUgYWNjZXB0ZWQgbWlnaHQgYmUgdGhlIHVwY29taW5nIHdhciwgYXMgb2lsIHdpbGwgYmUgbmVlZGVkLCBhbmQgaWYgQ2FuYWRhIGNhbiBwcm9kdWNlIHRoZW4gd2UgY2FuIG9uY2UgYWdhaW4gaGF2ZSBhbiAqb2lsIGJvb20qIGluIEFsYmVydGEgYW5kIGEgZ3JlYXQgcG9zdC13YXIgZWNvbm9teS5cbiIgfSwgeyAiSUQiIDogNTIsICJQQVRIIiA6ICIvUXVpbnRldCIsICJUSVRMRSIgOiAiVGhlIFF1aW50ZXQgR2FtZXMiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0yNVQxMjoxOTozMi4zOTJaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTI1VDE0OjAwOjI0LjAyMVoiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIkEgY29tcGFueSBmcm9tIEphcGFuIHdob20gaGFzLCB3aGF0IHNlZW1zLCB0byBoYXZlIGNvbXBsZXRlbHkgZGlzYXBwZWFyZWQgYWZ0ZXIgdGhlIFN1cGVyIE5pbnRlbmRvLCBjcmVhdGVkIHNvbWUgb2YgbXkgZmF2b3VyaXRlIGdhbWVzIG9uIHRoYXQgc3lzdGVtLiAgSSB3aWxsIGdvIHRocm91Z2ggZWFjaCB2ZXJ5IGJyaWVmbHkgYmVsb3cgdG8gZXhwbGFpbiBteSB0aG91Z2h0cyBvbiBlYWNoIG9mIHRoZW0uXG5cbiMjIEFjdHJhaXNlciBnYW1lc1xuXG5Nb3N0IGZhbnMgb2YgdGhpcyBnYW1lIG1heSBoYXRlIG1lIGZvciB0aGlzLCBidXQgSSBiYXJlbHkgcGxheWVkIHRoaXMgZ2FtZS4gIEkgdHJpZWQgdG8gZ2V0IGludG8gaXQgYSBmZXcgdGltZXMsIGJvdGggaW4gdGhlIGVyYSBpdCB3YXMgcmVsZWFzZWQgYW5kIHRocm91Z2ggZW11bGF0aW9uIGluIG15IDIwcywgYnV0IEkganVzdCBkaWRuJ3QgZmluZCBteXNlbGYgZW5qb3lpbmcgaXQgYXMgbXVjaCBhcyB0aGUgZm9sbG93aW5nIGdhbWVzIGJlbG93LlxuXG4jIyBTb3VsIEJsYXplclxuXG5UaGlzIGlzIGNvbnNpZGVyZWQgdGhlIGZpcnN0IGdhbWUgaW4gd2hhdCBzb21lIGZhbnMgY2FsbCB0aGUgKlF1aW50ZXQgVHJpbG9neSogb3IgdGhlICpHYWlhIGdhbWVzKiBJIGJlbGlldmUgaXQgd2FzIGFsc28gcmVmZXJyZWQgdG8gYXMgYXQgb25lIHBvaW50LCBhcyB0aGlzIGdhbWUsIGFsb25nIHdpdGggdGhlIG5leHQgZmVhdHVyZSBhIHByb21pbmF0ZSBzdG9yeSBhYm91dCBuYXR1cmUgYW5kIHRoZSB3b3JsZC4gIFRoZSBzdG9yeSBvZiAqU291bCBCbGF6ZXIqIGlzIGluY3JlZGlibHkgc2ltcGxlLCBhbmQgaXQncyBnYW1lIG1lY2hhbmljcyBhcmUgZXh0cmVtZWx5IGFkZGljdGl2ZSwgd2hpY2ggSSB3aWxsIGdldCBpbnRvIGxhdGVyLiAgVGhlIHN0b3J5IGlzIGFzIGJhc2ljIGFzIHlvdSBjYW4gZ2V0IGF0IGl0J3Mgc3VyZmFjZSBsZXZlbCwgYSAqZ3JlZWR5IGtpbmcqIHdob20gd2FudHMgdG8gaGF2ZSBhbGwgdGhlIGdvbGQgYW5kIGFsbCB0aGUgd2VhbHRoIGFza3MgYSBwcm9ub3VuY2VkIHNjaWVudGlzdCBvZiB0aGUgZ2FtZSdzIHdvcmxkIHRvIGNyZWF0ZSBoaW0gYSBtYWNoaW5lIHdoaWNoIGNvdWxkIGNhbGwgdXBvbiAqRGVhdGh0b2xsKiwgZXNzZW50aWFsbHkgdGhpcyB3b3JsZCdzIHZlcnNpb24gb2YgYSBTYXRhbiBvciBkZXZpbC4gIFRoZSBraW5nIGNhbGxzIHVwb24gdGhpcyBlbnRpdHkgYW5kIGluIGV4Y2hhbmdlIGZvciBhbGwgdGhlIHNvdWxzIGluIGhpcyBraW5nZG9tLCBoZSBjb3VsZCBoYXZlIGhpcyB3aXNoIGdyYW50ZWQsIHVua25vd2luZ2x5IGhpcyBvd24gc291bCB3YXMgYWxzbyBvbiB0aGUgbGluZS4gIFRodXMsIHRoZSBhZHZlbnR1cmUgc3RhcnRzIHRvIGZyZWUgdGhlIHdvcmxkIGZyb20gdGhpcyBldmlsIGFzIHdoYXQgaXMgZXNzZW50aWFsbHkgdGhlIHBsYXllciBpbiB0aGUgcm9sZSBvZiAqSmVzdXMqIHdoZW4geW91IHRoaW5rIG9mIGl0LCBhcyB0aGUgcGxheWVyIGlzIGd1aWRlZCBieSB3aGF0IGlzIHByZXN1bWFibHkgKkdvZCosIHdoaWNoIGluIHRoZSBnYW1lIGlzIHJlZmVycmVkIHRvIGFzICpNYXN0ZXIqLiAgVGhlIHBsYXllciB0aGVuIHRyYXZlbHMgZnJvbSBhcmVhIHRvIGFyZWEsIGdvaW5nIHRvIGRlc3Ryb3kgZXZpbCBpbiB0aGUgZHVuZ2VvbnMgbmVhciB0aGVzZSBhcmVhcyB0byBmcmVlIHRoZSB2YXJpb3VzIHRyYXBwZWQgc291bHMsIGFuZCB1bHRpbWF0ZWx5IHJlYnVpbGRpbmcgdGhlIHRvd25zLiAgVGhlIHNlbnNlIG9mIHByb2dyZXNzIGluIHRoZSB0aXRsZSBpcyBhYnNvbHV0ZWx5IGluY3JlZGlibGUuICBBcyB5b3UgbW92ZSB0aHJvdWdob3V0IHRoZSBkdW5nZW9ucyBkZXN0cm95aW5nIG1vbnN0ZXJzLCB0aGVpciBsYWlycyBiZWNvbWUgc3BvdHMgd2hpY2ggdGhlIHBsYXllciBjYW4gc3RhbmQgdXBvbiB0byBmcmVlIHRoZSBzb3VscyB3aGljaCB3ZXJlIHRyYXBwZWQgYnkgdGhvc2UgbW9uc3RlcnMuICBUaGlzIGNhbiBlaXRoZXIgbGVkIHRvIGEgcGF0aCBvcGVuaW5nIHVwIG5lYXIgdGhlIHBsYXllciwgb3IgYSBuZXcgYnVpbGRpbmcgYW5kIGNoYXJhY3RlciBiZWluZyByZWxlYXNlZCBvbnRvIHRoZSBtYWluIGFyZWEgZm9yIHRoZSBwbGF5ZXIgdG8gbGF0ZXIgaW50ZXJhY3Qgd2l0aC4gIFRoZSBnZW5pdXMgaGVyZSBpcyB0aGF0IHdoZW4gdGhlIHBsYXllciBmaXJzdCBhcnJpdmVzIGluIGEgbmV3IGFyZWEsIGl0IGlzIGNvbXBsZXRlbHkgZW1wdHksIGFuZCBkZXZvaWQgb2YgYW55IGxpZmUuICBBcyB0aGUgcGxheWVyIHBsYXlzIHRocm91Z2ggdGhlIGFyZWEsIHRoZXkgZ2V0IGEgaW1tZWRpYXRlIHNlbnNlIG9mIHByb2dyZXNzaW9uIGFzIHRoZSBhcmVhIGFib3ZlIGJlZ2lucyB0byBiZWNvbWUgbW9yZSBhbmQgbW9yZSBwb3B1bGF0ZWQgYW5kIGZ1bGwgb2YgbGlmZS4gIFRoZSBtYWluIGhvb2sgZm9yIHRoZSBnYW1lIGhlcmUgaXMgdGhlICp3aGF0IHdpbGwgSSBiZSByZWxlYXNpbmcgbmV4dD8qIGdhbWVwbGF5IGxvb3AsIHdoaWNoIGlzIGFic29sdXRlbHkgaW5jcmVkaWJsZS5cblxuIyMgSWxsaXNpb24gb2YgR2FpYVxuXG5UaGlzIGdhbWUgaXMgd2hhdCB0aGUgc2VsZi1jYWxsZWQgdHJpbG9neSBpcyBuYW1lZCBhZnRlci4gIExpa2UgaW4gdGhlIHByZXZpb3VzIGdhbWUsIHRoZXJlIGlzIHRoaXMgZ29kLWxpa2UgY2hhcmFjdGVyIHdob20gZ3VpZGVzIHRoZSBwbGF5ZXIgdGhyb3VnaCB0aGUgZ2FtZS4gIFRoZSBjaGFyYWN0ZXIgaW4gdGhpcyBnYW1lIGlzIG5hbWVkICpHYWlhKiwgcmF0aGVyIHRoYW4gc2VlbWluZyBtb3JlIGdvZC1saWtlLCAqR2FpYSogaGFzIGEgZGlmZmVyZW50IGZlZWwgdG8gaGVyLCBtdWNoIG1vcmUgbXlzdGVyeS4gIFRoZSBzdG9yeSBvZiB0aGlzIGdhbWUgYXQgaXQncyBjb3JlIGlzIHJhdGhlciBzaW1wbGUgYXMgd2VsbCwgYnV0IGlzIGh1Z2VseSBidWlsdCB1cG9uIGFzIHRoZSBwbGF5ZXIgYmVnaW5zIHRvIGV4cGxvcmUgdGhlIHdvcmxkIGFyb3VuZCB0aGVtLiAgVGhlIGdhbWUgc3RhcnRzIG9mZiB3aXRoIHRoaXMgY2hhcmFjdGVyIG5hbWVkICpXaWxsKiB3aG9tIGlzIHRoZSBjaGFyYWN0ZXIgdGhlIHBsYXllciB3aWxsIGJlIGNvbnRyb2xsaW5nIHRocm91Z2hvdXQgdGhlIGdhbWUsIGEgZmV3IHllYXJzIGFnbyBoZSB3YXMgYXQgdGhlICpUb3dlciBvZiBCYWJlbCogd2l0aCBoaXMgZmF0aGVyIHdoZW4gc29tZXRoaW5nIGhhcHBlbmVkLiAgSSBjYW5ub3QgcmVjYWxsIGlmIHRoZSBnYW1lJ3Mgc3RvcnkgdG91Y2hlcyBtdWNoIG9uIHdoYXQgaGFwcGVuZWQsIGJ1dCBJIGRvIHJlY2FsbCB0aGF0IFdpbGwgZGlkIG5vdCByZWNhbGwgaG93IGhlIGVzY2FwZWQgdGhlIHRvd2VyIGFuZCBnb3QgYmFjayB0byBDYXBlIFRvd24sIGJ1dCB3aXRob3V0IGhpcyBmYXRoZXIuICBJbiB0aGUgZ2FtZSwgdGhlIG1haW4gY2hhcmFjdGVyIGlzIGxpdmluZyB3aXRoIGhpcyBhdW50IGFuZCB1bmNsZSBpbiBDYXBlIFRvd24sIHdoaWNoIGlzIGFjdHVhbGx5IGEgcmVhbC13b3JsZCBwbGFjZS4gIEknbSBub3Qgc3VyZSBpZiBJIGtuZXcgaXQgYXQgdGhpcyB0aW1lIGluIG15IGxpZmUsIGJ1dCBJIG11c3QgaGF2ZSwgYnV0IGRpZG4ndCB0aGluayBpdCB3YXMgYmFzZWQgb24gdGhlIHJlYWwtd29ybGQgbG9jYXRpb24sIGFzIHRoZSB3b3JsZCBvZiB0aGlzIGdhbWUgaXMgb2RkLCB0byBzYXkgdGhlIGxlYXN0LiAgU28sIHRoaXMgd29ybGQgc2VlbXMgdG8gc2hhcmUgYSBsb3Qgb2YgcmVhbC13b3JsZCBwbGFjZXMgb2YgZWFydGgsIGhvd2V2ZXIsIHRoZSBlbnRpcmUgbWFwIGlzIG5vdCBlYXJ0aCB3aGF0c29ldmVyLCBpZiB0aGF0IG1ha2VzIGFueSBzZW5zZS4gIEl0J3MgbGlrZSBwbGF5aW5nICpDaXZpbGl6YXRpb24qLCBhbmQgaG93IHRoYXQgd29ybGQgdHVybnMgb3V0IGlzIHRoZSB3b3JsZCB1c2VkIGluIGEgZmFudGFzeSB3b3JsZCwgc28geW91IGFyZSBsZWZ0IHdpdGggY29tcGxldGVseSB1bmtub3duIGdlb2dyYXBoeSwgYnV0IHdpdGggcGxhY2VzIHdoaWNoIHNvdW5kIGFuZCBsb29rIGluY3JlZGlibHkgc2ltaWxhciB0byB0aGUgcmVhbC13b3JsZC4gIEFueXdheXMuLi4gIFRoYXQgaXMgb25lIGh1Z2UgcGFydCB0aGF0IHJlYWxseSBtYWtlcyB0aGlzIGdhbWUgc3RhbmQgb3V0LCBhcyBub3QgbWFueSBnYW1lcyB0YWtlIHRoaXMgYXBwcm9hY2ggdG8gd29ybGQgYnVpbGRpbmcuICBBbnl3YXlzLCBiYWNrIHRvIHRoZSBzdG9yeS4gIFRoZSBtYWluIGNoYXJhY3RlciBtZWV0cyAqR2FpYSogcmVhbGx5IGVhcmx5IG9uLCBhbmQgdGhlIG92ZXJhbGwgaW50ZXJhY3Rpb24gaXMga2luZCBvZiAqbWVoKiBhdCBiZXN0LCBhcyB0aGVyZSBpc24ndCByZWFsbHkgYW55IGNoYXJhY3RlciBidWlsZGluZyBpbiB0aGUgc2NlbmUgb3IgYW55dGhpbmcgdGhhdCByZWFsbHkgbWFrZXMgaXQgc3RhbmQgb3V0LiAgV2lsbCBlbnRlcnMgdGhlICpEYXJrIFNwYWNlKiwgYW5kIGVzc2VudGlhbGx5IGFjdHMgbGlrZSBoZSdzIGJlZW4gdGhlcmUgbWFueSB0aW1lcyBwcmlvciwgdGhlIHNjZW5lIGRvZXNuJ3QgcmVhbGx5IGNvbnZleSB0aGF0IG11Y2ggZXhjaXRlbWVudCBJIGd1ZXNzIGZvciB3aGF0IGl0IHdhcyB0cnlpbmcgdG8gZG8uICBBZnRlciBhIGZldyBzY2VuZXMgdGhlIGFjdHVhbCBzdG9yeSBiZWdpbnMsIEkgYmVsaWV2ZSB0aGUgZm9sbG93aW5nIG1vcm5pbmcsIFdpbGwgaXMgc29tbW9uZWQgdG8gZ28gc2VlIHRoZSBLaW5nIHdpdGggYSBpdGVtIHRoZSBLaW5nIHRoaW5rcyBoZSBoYXMgZnJvbSBoaXMgZmF0aGVyLiAgV2hlbiB0aGUgS2luZyByZWFsaXplZCB0aGF0IFdpbGwgZG9lcyBub3QgaGF2ZSB0aGUgaXRlbSwgaGUgaXMgc2VudCB0byBwcmlzaW9uIHRvIHJvdC4gIFRoaXMgaXMgd2hlbiBoaXMgZmF0aGVyIGNvbW11bmljYXRlcyB0byBoaW0gdGhyb3VnaCBoaXMgZmx1dGUgb3V0IG9mIGFsbCB0aGluZ3MgdGVsbGluZyBoaW0gaGlzIG1haW4gcXVlc3QuICBHbyB0byBlYWNoIG9mIHRoZSBhcmVhcyBvZiB0aGUgd29ybGQgdG8gY29sbGVjdCB0aGVzZSBhcnRpZmFjdHMgYW5kIHRvIGV2ZW50dWFsbHkgcmV0dXJuIHRvIHdoZXJlIGl0IGFsbCBzdGFydGVkLCAqVGhlIFRvd2VyIG9mIEJhYmVsKi4gIEkgZGlkIG5vdCBldmVyIGJlYXQgdGhpcyBnYW1lLCBidXQgZGlkIHJlbnQgaXQgbXVsdGlwbGUgdGltZXMgYW5kIGdvdCBkZWNlbnRseSBmYXIuICBUaGUgc3RvcnkgaGFzIG1hbnkgcmVhbGx5IHRvdWNoaW5nIG1vbWVudHMgYmV0d2VlbiB0aGUgdmFyaW91cyBjaGFyYWN0ZXJzIGludm9sdmVkLCBhbmQgZG9lcyBicmluZyB1cCBzb21lIHZlcnkgc2VyaW91cyBzdWJqZWN0cyB3aGljaCBhcmVuJ3QgZXZlbiBzZWVuIGluIG1vZGVybiBnYW1lcy4gIEkgZG8gbm90IHdpc2ggdG8gc3BvaWwgdGhlc2UgcmF0aGVyIGRhcmsgdG9waWNzLCBhcyBmb3IgYmVpbmcgYSBOaW50ZW5kbyBsaWNlbnNlZCBnYW1lIG9mIHRoZSBlcmEsIEknZCByYXRoZXIgeW91IGdvIGluIGJsaW5kIHVuZGVyc3RhbmQgaG93IE5pbnRlbmRvIHdhcyBiYWNrIHRoZW4sIGFuZCB5b3Ugd2lsbCBtb3N0IGluZGVlZCBoYXZlIHRoZSBzdXJwcmlzZSBvZiBhIGxpZmUgdGltZS4gIElmIHlvdSdkIHJhdGhlciBub3QgcGxheSB0aHJvdWdoIHRoaXMgaW5jcmVkaWJsZSBnYW1lLCB0aGVuIEkgaGlnaGx5IHJlY29tbWVuZCBqdXN0IHdhdGNoaW5nIHNvbWUgWW91VHViZSB2aWRlb3Mgb24gdGhlIHN1YmplY3QgYW5kIGJlIHNwb2lsZWQgdGhlcmUuXG5cbiMjIFRlcnJhbmlnbWFcblxuVGhlIGxhc3QgZ2FtZSBpbiB0aGlzIHRyaWxvZ3ksIHdoaWNoIHdhcyBuZXZlciByZWxlYXNlZCBpbiB0aGUgd2VzdCwgYWx0aG91Z2ggaXQgd2FzIGZ1bGx5IHRyYW5zbGF0ZWQgdG8gRW5nbGlzaCBhbmQgcmVsZWFzZWQgaW4gRXVyb3BlLiAgSSBoYXZlIG9ubHkgcGxheWVkIHRoaXMgb25lIHZlcnkgYnJpZWZseSB0aHJvdWdoIGVtdWxhdGlvbiwgYnV0IEknZCBob25lc3RseSByYXRoZXIganVzdCBwYXkgdGhlIG9yaWdpbmFsIGRldmVsb3BlcnMgdG8gZnVsbHkgcGxheSB0aGlzIGdhbWUgYXMgYSBmdWxseSByZW1hc3RlcmVkIGdhbWUuICBGcm9tIGFsbCB0aGUgdmlkZW9zIEkndmUgd2F0Y2hlZCBvbiB0aGlzLCBJIGhhdmUgaGVhcmQgdGhhdCBpdCB0YWtlcyBhbGwgdGhlIGdvb2QgYXNwZWN0cyBvZiAqU291bCBCbGF6ZXIqIGFuZCAqSWxsaXNpb24gb2YgR2FpYSogdG8gY3JlYXRlIG9uZSBvZiB0aGUgYmVzdCBnYW1lcyBvZiB0aGlzIGdlbnJlIGV2ZXIuICBJdCBoYXMgdGhlIHRvd24gYnVpbGRpbmcvcmVzdG9yaW5nIGFzcGVjdHMgb2YgKlNvdWwgQmxhemVyKiB3aXRoIHRoZSBtb3JlIHJlZmluZWQgc3RvcnkgYW5kIGdhbWVwbGF5IG9mICpJbGxpc2lvbiBvZiBHYWlhKi4gIFRoaXMgZ2FtZSBkZXNlcnZlcyBhIGxvdCBtb3JlIHRoYW4gaXQgY3VycmVudGx5IGhhcy4gIEl0IG5lZWRzIHRvIGJlIHJlbWFkZSBvciByZW1hc3RlcmVkLiAgSSBoYXZlIG9ubHkgaGVhcmQgZ29vZCB0aGluZ3MgYWJvdXQgYm90aCB0aGUgc3RvcnkgYW5kIGdhbWVwbGF5LCBhbmQgSSBmZWVsIGl0IGJlY2FtZSBzbyB1bmRlciByZWxhdGVkIGFzIHRoZSB3ZXN0ZXJuIHdvcmxkIG5ldmVyIGdvdCBhbiBvZmZpY2lhbCByZWxlYXNlLlxuXG4jIyBSb2JvdHJla1xuXG5Qb2tlbW9uIGJlZm9yZSBQb2tlbW9uLCBubyByZWFsbHksIGl0J3MgbGlrZSBpZiBhICpNYWQgU2NpZW50aXN0KiB3aG9tIGtuZXcgaG93IHRvIGJ1aWxkIHJvYm90cyB0dXJuZWQgdGhlbXNlbGYgaW50byBhICpzZWxmLXByb2NsYWltZWQqIFBva2Vtb24gbWFzdGVyLiAgU28sIEkgaGF2ZW4ndCBnb3QgdGVycmlibGUgZmFyIGluIHRoaXMgZ2FtZSBlaXRoZXIsIGFzIGl0IHdhcyB1c3VhbGx5IGp1c3QgYSByZW50YWwgZ3Jvd2luZyB1cCwgYW5kIEkgZGlkbid0IHBsYXkgdGhyb3VnaCBtdWNoIG9mIGl0IHRocm91Z2ggZW11bGF0aW9uIHdoZW4gSSBkaWQgcGxheSBpdC4gIE92ZXJhbGwsIGl0IGlzIGEgcmF0aGVyIGFtYml0b3VzIGdhbWUgZm9yIGl0J3MgdGltZS4gIFlvdSBwbGF5IHRoZSBzb24gb2YgdGhpcyBzY2llbnRpc3Qgd2hvbSBrbm93cyBob3cgdG8gYnVpbGQgcm9ib3RzIGFtb25nIG90aGVyIHRoaW5ncy4gIFlvdSBnbyB0aHJvdWdoIGJ1aWxkaW5nIHlvdXIgb3duIGFybXkgb2YgdGhlc2Ugcm9ib3RzIGFzIHlvdSBwcm9jZWVkIHRocm91Z2ggdGhlIGdhbWUuICBFYWNoIHJvYm90IGlzIGFjdHVhbGx5IGJ1aWx0IGFuZCBmdWxseSBjdXN0b21pemVkIGJ5IHRoZSBwbGF5ZXIuICBBc3BlY3RzIGxpa2Ugc3RyZW5ndGggYW5kIG90aGVyIGF0dHJpYnV0ZXMgY2FuIGJlIGRpc3RyaWJ1dGVkIHdpdGggbW9yZSBwb2ludHMgYmVpbmcgYXZhaWxhYmxlIGFzIHlvdSBsZXZlbCB1cC4gIFJvYm90cyBjYW4gY29sb3VyZWQgd2l0aCBhbnkgY29sb3VycyB0aGUgcGxheWVyIHdpc2hlcywgYW5kIGN1c3RvbSBtb3ZlcyBjYW4gZXZlbiBiZSBjcmVhdGVkIGFuZCBuYW1lZCBieSB0aGUgcGxheWVyLiAgRWFjaCBvZiB0aGVzZSByb2JvdHMgYXJlIGFsc28gc3RvcmVkIGluIGEgY2lyY3VsYXIgY29udGFpbmVyLCB3aGljaCBpcyB1bmxpa2UgYSBQb2tlYmFsbCBmcm9tIFBva2Vtb24uICBJIGhpZ2hseSByZWNvbW1lbmQgYXQgbGVhc3QgY2hlY2tpbmcgb3V0IHRoZSBmaXJzdCBwYXJ0IG9mIGl0IGFzIGRpZCBJLCBqdXN0IGZvciB0aGUgZXhwZXJpZW5jZSBvZiBzZWVpbmcganVzdCBob3cgaW5ub3ZhdGl2ZSAqUXVpbnRldCogd2FzIHJlYWxseSB0cnlpbmcgdG8gYmUsIG5vdCB3aXRoIGp1c3QgdGhlaXIgc3RvcnkgdGVsbGluZywgYnV0IGFsc28gd2l0aCBnYW1lcGxheSBtZWNoYW5pY3MgbGlrZSB0aGlzIGdhbWUgcHJvdmlkZWQuXG4iIH0sIHsgIklEIiA6IDUzLCAiUEFUSCIgOiAiL0hhY2tlck1ha2VyIiwgIlRJVExFIiA6ICJIYWNrZXIgTWFrZXI6IE1hcmlvIE1ha2VyIGZvciBIYWNrZXJzIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMjVUMTI6NTc6MjEuMzY5WiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0yNVQxNDoxNjowNC4zODdaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJJIGhhZCB0aGlzIGlkZWEgb24gbXkgbWluZCBmb3Igc2V2ZXJhbCB5ZWFycywgYXMgSSB3YXMgd29ya2luZyBvbiBteSAqSGFja2VyJ3MgRWRnZSogcHJvamVjdCwgd2hpY2ggd2FzIHRvIGJlIHRoZSB3b3JsZCdzIGZpcnN0IGV2ZXIgSGFja2luZyBTaW11bGF0b3IgTXVsdGktVXNlciBPbmxpbmUgUm9sZSBQbGF5aW5nIEdhbWUsIHRoaW5rIEkgaGFkIGFub3RoZXIgcGhyYXNlIGZvciBpdCBhdCBvbmUgcG9pbnQuICBBbnl3YXlzLCB0aGF0IHByb2plY3Qgd2FzIGZ1bGx5IG9ubGluZSBhbmQgd2FzIHBsYXllZCBlaXRoZXIgdGhyb3VnaCB0aGUgYnJvd3NlciBvciB2aWEgdGVsbmV0IGZvciB0aG9zZSB3aG9tIHdhbnQgYSBtb3JlIHJlYWxpc3RpYyBleHBlcmllbmNlLiAgSSB3YXMgcGxhbm5pbmcgb24gYnVpbGRpbmcgb3V0IGEgZGVza3RvcCBjbGllbnQgYW5kIHN1Y2gsIGFuZCBpdCB3YXMgcHJldHR5IGZhciBhbG9uZy4gIFRoZSBpbi1nYW1lIHVuaXZlcnNlIHJhbiBlc3NlbnRpYWxseSBhIGJ1bmNoIG9mICpNT1MgNjUwMiogc3lzdGVtcyB3aGljaCBwbGF5ZXJzIGNvdWxkIHRoZW4gY29ubmVjdCB0bywgYW5kIHBlcmZvcm0gdmFyaW91cyBhY3Rpdml0aWVzLCBvbmUgb2Ygd2hpY2ggd2FzIHRvIGhhY2sgaXQuICBTaW5jZSBpdCBhbGwgcmFuIGFjdHVhbCBjb21wdXRlciBjb2RlLCBpdCBtYWRlIHRoZSBpbi1nYW1lIHVuaXZlcnNlIGFuZCBnYW1lcGxheSBmZWVsIG11Y2ggbW9yZSByZWFsaXN0aWMgdGhhbiBzYXkgKldhdGNoIERvZ3MqIHdoaWNoIHdhcyBnYWluaW5nIGluIHNvbWUgcG9wdWxhcml0eSBhdCB0aGUgdGltZS4gIFRoaXMgb25saW5lIGdhbWUgd2FzIHN1cHBvc2VkIHRvIGJlIGEgKkdUQSBPbmxpbmUqLCBidXQgZm9yIGhhY2tlcnMuICBTbyByYXRoZXIgdGhhbiB1c2luZyBndW5zIHRvIHJvYiBhIGJhbmssIHRoZSBwbGF5ZXIgd291bGQgaW5zdGVhZCB1c2UgY3liZXItYXR0YWNrcyBhbmQgdGhlaXIgYnJhaW5zIHRvIGluc3RlYWQgaGFjayBhIGJhbmsgdG8gcm9iIGl0LiAgQXQgbGVhc3QgdGhhdCB3YXMgdGhlIGRyZWFtIEkgaGFkIGZvciAqSGFja2VyJ3MgRWRnZSouICBBcyBkZXZlbG9wbWVudCBvZiBpdCB3ZW50IG9uLCBpdCBnb3QgbW9yZSBhbmQgbW9yZSBjb21wbGljYXRlZCB0byBhIHBvaW50IHdoZXJlIHNvbWUgYmV0YSB0ZXN0ZXJzIHdlcmUgcmVhbGx5IGRyYWluaW5nIG15IGFiaWxpdGllcyB3aXRoIGFuIG92ZXJsb2FkIG9mIGZlYXR1cmVzIHdoaWNoIEkganVzdCBjb3VsZG4ndCBrZWVwIHVwIHdpdGguICBBbmQgdGh1cywgSSBidXJudCBvdXQgYW5kIG5vdyBpdCdzIGp1c3QgYSByZWxpYy5cblxuSGFja2VyIE1ha2VyIGlzIGEgY29tcGxldGVseSBvZmZsaW5lIHNpbmdsZS1wbGF5ZXIgZXhwZXJpZW5jZS4gIFRoZSBpZGVhIGJlaGluZCB0aGlzIGdhbWUgY2FtZSB0byBtZSBhZnRlciBJIHBsYXllZCB0aGlzIGxpdHRsZSBrbm93biBoYWNraW5nIHNpbXVsYXRvciBnYW1lIG9uIG15IEFuZHJvaWQgcGhvbmUgY2FsbGVkICoqSGFja1JVTioqLiAgSSBvbmx5IHBsYXllZCB0aGUgZGVtbywgYW5kIGhhdmUgYXR0ZW1wdGVkIHRvIHJlY3JlYXRlIHRoaXMgZGVtbyBpbiBtdWx0aXBsZSBsYW5ndWFnZXMgb24gbXVsdGlwbGUgcGxhdGZvcm1zIGFzIGEgd2F5IHRvIHRlc3QgbXkgY29kaW5nIHNraWxscyBpbiBkaWZmZXJlbnQgZW52aXJvbm1lbnRzLiAgVGhlIGZpcnN0IHZlcnNpb24gSSBjcmVhdGVkIG9mIHRoaXMgd2FzIGFuIEhUTUw1IFdlYlNvY2tldCB2ZXJzaW9uLCB3aGVyZSBpdCB3YXMgc3RpbGwgYSBmdWxsIHRlcm1pbmFsIGdhbWUsIGFzIGl0IHdhcyBvbiBBbmRyb2lkLCBidXQgd3JpdHRlbiBpbiBIVE1MNSBXZWJTb2NrZXRzIGFuZCBQeXRob24uICBJdCB3YXMgdGhpcyB0aGF0IGdhdmUgbWUgdGhlIGlkZWEgb2YgKkhhY2tlciBNYWtlciosIGFzIEkganVzdCBjcmVhdGVkIHdoYXQgd2FzIGVzc2VudGlhbGx5IGp1c3QgYSAqZ2FtZSBlbmdpbmUqIGZvciBtYWtpbmcgKkhhY2tSVU4tbGlrZSogZ2FtZXMsIHJpZ2h0PyAgU28gZm9yIGF3aGlsZSBJIHdhcyBsb29raW5nIGludG8gdGhpcyBhcyBzb21ldGhpbmcgSSBjb3VsZCBtYWtlLCBidXQgaXQgbmV2ZXIgcmVhbGx5IGdhaW5lZCBhbnkgdHJhY3Rpb24gYWdhaW4gdW50aWwgcmVjZW50bHkuXG5cbklmIHRoZXJlIGlzIG9uZSBnZW5yZSBvdXQgdGhlcmUgdGhhdCBkb2Vzbid0IHJlYWxseSBoYXZlIHdoYXQgSSB3b3VsZCBjYWxsIGl0J3MgKmtpbGxlciBhcHAqLCBpdCdzIHRoZSAqaGFja2luZyBzaW11bGF0aW9uKiBnZW5yZSwgd2hpY2ggYWN0dWFsbHkgZGF0ZXMgYmFjayBzbyBtYW55IHllYXJzLiAgV2l0aCBoYWNraW5nIHNpbXVsYXRpb25zIHJlbGVhc2VkIGZvciBNUy1ET1MgYW5kIEkgd291bGQgaW1hZ2luZSBldmVuIG9sZGVyIG1pY3JvLWNvbXB1dGVycy4gIE15IGZpcnN0IGludGVyYWN0aW9uIHdpdGggdGhlIGdlbnJlIHdhcyB3aXRoIHRoZSBhbWF6aW5nIGdhbWUgKlVwbGluayosIHdoaWNoIHJlYWxseSBtYWRlIHlvdSBmZWVsIGxpa2UgeW91IHdlcmUgYSByZWFsLXdvcmxkIGhhY2tlci4gIEl0IGRpZCBhIGRlY2VudCBqb2IgYXQgdHJ5aW5nIHRvIHNpbXVsYXRlIGEgZnVsbCBpbi1nYW1lIHdvcmxkLiAgRnVsbCB3aXRoIHRvbnMgb2Ygc3lzdGVtcyB0byBhY2Nlc3MsIGVhY2ggd2l0aCB0aGVpciBvd24gSVAgYWRkcmVzcywgYmFja3N0b3JpZXMsIGFuZCBmaWxlcyB0byBzdGVhbC4gIEl0IHdhcyBhIGJpdCBvcGVuIHdvcmxkIGlmIHRoZSBwbGF5ZXIganVzdCB3YW50ZWQgdG8gbWVzcyBhcm91bmQsIGJ1dCB0aGVyZSB3YXMgYSBmdWxsIHF1ZXN0IHN5c3RlbSB0aGUgcGxheWVyIHNob3VsZCBmb2xsb3csIGFzIHRoZSBwbGF5ZXIgZG9lcyBuZWVkIHRvIG1ha2UgbW9uZXkgaW4gdGhlIGdhbWUgdG8gcHVyY2hhc2UgdXBncmFkZXMgYW5kIHN1Y2gsIGJ1dCB0aGUgcGxheWVyIGlzIGZyZWUgdG8gY2hvb3NlIHdoaWNoIG1pc3Npb25zIHRoZXkgd2FudCBpbiBzb21lIGNhc2VzLiAgVGhlcmUgaXMgb2J2aW91c2x5IHRoZSBpbml0aWFsIHR1dG9yaWFsIHRvIGdldCB0aGUgcGxheWVyIHVzZWQgdG8gdGhlIGdlbnJlLiAgSXQgd2FzIGFuIGFtYXppbmcgZXhhbXBsZSBvZiBhIGhhY2tpbmcgc2ltdWxhdGlvbiBkb25lIHJlYWxseSB3ZWxsLCBhbmQgaXQgc3RpbGwgaG9sZHMgdXAgdG9kYXksIGFuZCBJIGJlbGlldmUgaXQgd2FzIHBvcnRlZCB0byBBbmRyb2lkLCB3aGVyZSBJIHB1cmNoYXNlZCBhIGNvcHkgZm9yIG15IHRhYmxldCwgYXMgaXQgd291bGQgbm90IHdvcmsgb24gYSB0aW55IHNjcmVlbiB3aXRob3V0IHNvbWUgbWFqb3IgbW9kaWZpY2F0aW9ucy5cblxuTXkgaWRlYSB3aXRoIEhhY2tlciBNYWtlciBpcyB0byBjcmVhdGUgYm90aCBhIHNpbXVsYXRpb24gZW52aXJvbm1lbnQvcGxhdGZvcm0gYW5kIGFsc28gYSBoYWNraW5nIHNpbXVsYXRpb24gZ2FtZS4gIEN1cnJlbnRseSBteSB0aG91Z2h0cyBvbiBob3cgdG8gaW1wbGVtZW50IGl0IGFyZSBhcyBmb2xsb3dzOlxuXG4gICogU2VtaS1yZWFsaXN0aWMgZ2FtZXBsYXlcbiAgICAtIEluLWdhbWUgY29tcHV0ZXJzIHdpbGwgYmUgYWxsIHJ1bm5pbmcgcmVhbCAqTU9TIDY1MDIqIG1hY2hpbmUgY29kZSwgYWxsb3dpbmcgY3JlYXRpdmUgaGFja3MgdG8gYmUgZG9uZS5cbiAgICAtIE5ldHdvcmtzIGFyZSBtb3JlIGxpbWl0ZWQsIGVhY2ggbmV0d29yayBjYXJkIGNhbiBvbmx5IGxpc3RlbiBvbiBhIHNpbmdsZSBwb3J0IGZyb20gMS0yNTUuXG4gICAgICAtIFdpdGggdGhhdCBzYWlkLCBJIGFtIGN1cnJlbnRseSB3b3JraW5nIG9uIHZpcnR1YWwgaHVicyBhbmQgc3dpdGNoZXMsIHNvIGl0IHdpbGwgc3RpbGwgYmUgYSBiaXQgcmVhbGlzdGljIGluIHRob3NlIHRlcm1zLlxuICAgICAgLSBOZXR3b3JrIGNvbW11bmljYXRpb24gd29ya3MgbW9yZSBsaWtlIGEgYmktZGlyZWN0aW9uYWwgc2VyaWFsIGNvbm5lY3Rpb24sIGJ1dCBjYW4gY29ubmVjdCB0byBtb3JlIHRoYW4gMSBtYWNoaW5lIGlmIHRoYXQgbWFrZSBzZW5zZS5cbiAgICAgICAgLSBUaGlzIG1lYW5zIGl0IGlzIG92ZXJseSBzaW1wbGlmaWVkLCBubyBzcGVjaWFsaXplZCBwYWNrZXRzIHRvIGtlZXAgZXZlcnl0aGluZyBzaW1wbGUgZW5vdWdoIGZvciBldmVyeW9uZSB0byB1bmRlcnN0YW5kLlxuICAgIC0gUmVtb3RlIGNvbm5lY3Rpb25zIGluIHRoZSBvZmZpY2lhbCByZWxlYXNlZCB3b3JsZHMgYW5kIHNjZW5hcmlvcyB3aWxsIGVzc2VudGlhbGx5IGJlICpmYWtlZCouXG4gICAgICAtIFdoYXQgdGhpcyBtZWFucyBpcyB0aGF0IHdoZW4gdGhlIHBsYXllciBtYWtlcyBhIHJlbW90ZSBjb25uZWN0aW9uLCBmaXJzdCBhIGNoZWNrIHRvIHNlZSBpZiBhIGNvbm5lY3Rpb24gY2FuIGJlIG1hZGUgaXMgZmlyc3QgZG9uZSwgdGhlbiB0aGUgY29uc29sZSBkaXNwbGF5IGluIHRoZSBnYW1lIFVJIGlzIGxpdGVyYWxseSBzd2FwcGVkIHRvIG5vdyBkaXNwbGF5aW5nIHRoZSByZW1vdGUgc3lzdGVtIHJhdGhlciB0aGFuIHRoZSBwbGF5ZXIncyBsb2NhbGhvc3QuXG4gICAgICAtIEl0IHdpbGwgYmUgcG9zc2libGUgZm9yIHdoZW4gcGxheWVycyBzdGFydCBjcmVhdGluZyB0aGVpciBvd24gd29ybGRzIGFuZCBzY2VuYXJpb3MgdGhhdCB0aGV5IGNhbiBpbnN0ZWFkIHVzZSBtb3JlIHJlYWxpc3RpYyAqdGVsbmV0L3NzaCogbGlrZSBjb25uZWN0aW9ucyBvdmVyIHRoZSB2aXJ0dWFsIG5ldHdvcmsuXG4gICogVGhlIHdvcmxkIGNhbiBiZSBwb3B1bGF0ZWQgd2l0aCBvdGhlciBjaGFyYWN0ZXJzIHdoaWNoIHdpbGwgYmUgcmVmZXJyZWQgdG8gYXMgKkFnZW50cyogaW4gdGhlIGNyZWF0b3IgdG9vbC4gIFRoZXNlIGFyZSBlc3NlbnRpYWxseSBha2luIHRvIGFuIE5QQyBpbiBhbiBSUEcgZ2FtZS5cbiAgICAtIFRoZXNlICphZ2VudHMqIGNhbiBiZSBwcm9ncmFtbWVkIHdpdGggdmFyaW91cyBzY2hlZHVsZXMgYW5kIGF0dHJpYnV0ZXMgdG8gZ2l2ZSB0aGVtIGEgYml0IG9mIHBlcnNvbmFsaXR5LlxuICAgIC0gVGhleSBjYW4gYmUgY29ubmVjdGVkIHRvIGluLWdhbWUgZXZlbnRzIGdlbmVyYXRlZCBieSB0aGUgc2NlbmFyaW8gYmVpbmcgcGxheWVkLiAgU3VjaCBhcyBhIHBsYXllciBjb25uZWN0aW9uIHRvIGEgc3BlY2lmaWMgc2VydmVyIGNhbiB0cmlnZ2VyIGEgKk5ldHdvcmsgQWRtaW5pc3RyYXRvciogYWdlbnQgdG8gYmVnaW4gbW9uaXRvcmluZyB3aGljaCBjb3VsZCBhZmZlY3QgdGhlIHBsYXllciBpbiBzb21lIHdheS5cbiAgICAtIFRoaXMgYWxsb3dzIHZhcm91cyByZWFsLXdvcmxkIHByb2dyYW1zIGxpa2UgYHdob2AgYW5kIGB3YCB0byB3b3JrIGluLWdhbWUsIGFzIHRoZSBwbGF5ZXIgY2FuIG5vdyBzZWUgd2hhdCBhcHBlYXJzIGFzIG90aGVyIHBlb3BsZSB1c2luZyB0aGVzZSBzeXN0ZW1zLiAgQXMgbWVudGlvbmVkIGFib3ZlLCB0aGUgcmVzdWx0IG9mIHRoZXNlIGNvbW1hbmRzIGNhbiBiZSBjb250cm9sbGVkIGJ5IHRoZSBjcmVhdG9yIHVzaW5nIGEgc2NoZWR1bGUgdG8gZGV0ZXJtaW5lIHdoYXQgYW4gKmFnZW50KiBpcyBkb2luZyBhdCBhbnkgZ2l2ZW4gdGltZS4gIFRoaXMgY2FuIGFsbG93IHZlcnkgY3JlYXRpdmUgcGxheWVycyB0byBtYXAgb3V0IHRoZSBzY2hlZHVsZSBvZiBhbiAqYWdlbnQqIHRvIGJldHRlciBwbGFuIHRoZWlyIGF0dGFja3MgYXJvdW5kIHRoZWlyIHNjaGVkdWxlLlxuICAqIFNlcGFyYXRpb24gb2YgKldvcmxkKiBhbmQgKlNjZW5hcmlvKlxuICAgIC0gVGhlIGlkZWEgaGVyZSBpcyB0byBhbGxvdyB0aG9zZSB3aXRoIHNheSBiZXR0ZXIgc3RvcnkgYnV0IG5vdCBnb29kIHdvcmxkIGJ1aWxkaW5nIHRvIHVzZSBhIHByZS1leGlzdGluZyB3b3JsZCBtYWRlIGJ5IHNvbWVvbmUgZWxzZS5cbiAgICAgIC0gVGhlc2Ugd29ybGRzIGNhbiBiZSBkaXN0cmlidXRlZCBhcyBiYXJyZW4gb3IgYXMgcG9wdWxhdGVkIGFzIHRoZSAqd29ybGQgY3JlYXRvciogcGxlYXNlcy4gIFNvIGlmIHNvbWVvbmUgaXMgbWVyZWx5IGp1c3QgbG9va2luZyBmb3IgYSB3b3JsZCB3aXRoIGNvbXBhbmllcyB0aGF0IHNheSBtaXJyb3IgdGhlIHJlYWwtd29ybGQgYXMgYSBiYXNpcyBmb3IgdGhlaXIgc3RvcnksIGNhbiBlYXNpbHkgZG8gdGhhdC5cbiAgICAtIEl0IGNhbiBhbHNvIGFsbG93IGZvciBiZXR0ZXIgbGF5ZXJpbmcsIGFzIG5vdyBwbGF5ZXJzIGRvbid0IG5lZWQgdG8gZG93bmxvYWQgYXMgbXVjaCBkYXRhIGlmIHRoZXkgYWxyZWFkeSBoYXZlIHRoYXQgc3BlY2lmaWMgbmVlZGVkIHdvcmxkIGFscmVhZHkgaW5zdGFsbGVkLlxuICAqIFRoZXJlIHdpbGwgZXhpc3QgYSBzZXBlcmF0ZSAqR2FtZSBQbGF5ZXIqIHdpdGggbm8gYWJpbGl0eSB0byBjcmVhdGUgd29ybGRzIG9yIHNjZW5hcmlvcy5cbiAgICAtIFRoaXMgY2FuIGFsbG93IHRob3NlIHdob20gYXJlIHNvbGVseSB3YW50aW5nIHRvIHVzZSB0aGUgZW5naW5lIHRvIGJ1aWxkIHRoZWlyIG93biBoYWNraW5nIHNpbXVsYXRpb25zIHdpdGggdGhlIGFiaWxpdHkgdG8gZWFzaWx5IHNob3cgZnJpZW5kcyBhbmQgZmFtaWx5IHdoYXQgdGhleSBjcmVhdGVkIHdpdGhvdXQgbmVlZGluZyB0byBwcm92aWRlIHRoZSBmdWxsLWdhbWUgdG8gdGhlbS5cbiAgKiBXaWxsIGJlIGV4dHJlbWVseSBtb2RkYWJsZSBhbmQgY3VzdG9taXphYmxlLlxuICAgIC0gVGhlIGdhbWUgaXRzZWxmIHdpbGwgaG9sZCBhIGRhdGFiYXNlIG9mIGFsbCB0aGUgYXZhaWxhYmxlICppbi1nYW1lIHByb2dyYW1zKiB3aGljaCBjYW4gYmUgcGxhY2VkIG9udG8gYW55IG9mIHRoZSBjcmVhdGVkIHN5c3RlbXMuICBUaGlzIGRhdGFiYXNlIGNhbiBiZSB1cGRhdGVkIGJ5IHRoZSBwbGF5ZXIgdG8gYWRkIGFkZGl0aW9uYWwgcHJvZ3JhbXMgZm9yIHVzZSB3aXRoaW4gdGhlaXIgb3duIGNyZWF0ZWQgZ2FtZSB3b3JsZHMuXG4gICAgLSBJbiBhZGRpdGlvbiB0byBjcmVhdGluZyBjdXN0b20gKk1PUyA2NTAyKiBwcm9ncmFtcyBmb3IgdGhlaXIgb3duIHNjZW5hcmlvcywgSSBhbSBoaWdobHkgY29uc2lkZXJpbmcgYWRkaW5nIHN1cHBvcnQgZm9yIGV4dGVybmFsIG1vZHMgaW4gdGhlIGZvcm0gb2Ygc2hhcmVkIGxpYnJhcmllcywgKi5zbyogZm9yIFVOSVgsIGFuZCAqLmRsbCogZm9yIFdpbmRvd3MuICBUaGUgbWFqb3IgcHJvYmxlbSB3aXRoIHRoaXMsIGlzIHRoYXQgaXQgaHVydHMgdGhlIGdhbWUncyBjcm9zcy1wbGF0Zm9ybSBlZGdlLCBhcyBub3cgYSBwbGF5ZXIgdGhhdCB3YW50cyB0byBtYWtlIHRoZWlyIGdhbWUgYW5kIHRoZWlyIG1vZCBhdmFpbGFibGUgdG8gZXZlcnlvbmUsIG5vdyBoYXMgdG8gY3Jvc3MtY29tcGlsZSB0aGVpciBzaGFyZWQgbGlicmFyeSBmb3IgYWxsIHN1cHBvcnRlZCBwbGF0Zm9ybXMuICBJIGFtIHN0aWxsIG9uIHRoZSBmZW5jZSB3aXRoIHRoaXMgZmVhdHVyZS4gIFRoZSBtYWluIGlkZWEgd2l0aCB0aGlzIGlzIHRvIGFsbG93IGN1c3RvbSAqY2FyZHMqIHRvIGJlIGNyZWF0ZWQgYnkgdGhlIHBsYXllcnMgdG8gZG8gYWxsIHNvcnRzIG9mIHRoaW5ncyB3aGljaCB0aGUgZ2FtZSBuZXZlciBvcmlnaW5hbGx5IGludGVuZGVkLiAgSXQgY291bGQgYWxsb3cgaW4tZ2FtZSBzeXN0ZW1zIHRvIHNheSBjb250cm9sIHJlYWwtd29ybGQgY29tcG9uZW50cyBsaWtlIGFuIExFRCBvbiBhIFBpIGZvciBleGFtcGxlLiAgT3Igc29tZW9uZSBjb3VsZCBjcmVhdGUgYSB2aXJ0dWFsICpaLTgwKiBjYXJkIGxpa2Ugc29tZSBvZiB0aGUgKjY1MDIqIG1pY3JvY29tcHV0ZXJzIGhhZCBpbiB0aGUgODBzLlxuXG4jIyMgVGhlIGluLWdhbWUgc3lzdGVtc1xuXG5PbmUgdGhpbmcgSSBzaG91bGQgZ28gb3ZlciBpcyB0aGUgY3VycmVudCBmZWF0dXJlIHNldCBmb3IgaW4tZ2FtZSBzeXN0ZW1zLCB3aGljaCBpcyBjdXJyZW50bHkgYmVpbmcgZXhwbG9yZWQgYW5kIGRldmVsb3BlZCBkdXJpbmcgdGhlIHByb3RvdHlwZSBzdGFnZSBJIGFtIGN1cnJlbnQgaW4uXG5cblNvLCBlYWNoIHN5c3RlbSB3aWxsIGhhdmUgdGhlIGZvbGxvd2luZyBoYXJkd2FyZTpcblxuICAqIEEgKk1PUyA2NTAyKiBtaWNyb3Byb2Nlc3NvciB3aXRoIGEgd2hvcHBpbmcgKjY0ayogb2YgUkFNLlxuICAqIFZpcnR1YWwgUk9NIGNoaXBzIGFyZSBtZW1vcnkgbWFwcGVkIHRvIHRoZSBhYm92ZSBtZW1vcnkgdXBvbiBzeXN0ZW0gYm9vdC5cbiAgKiBTdG9yYWdlIGlzIHN0aWxsIHVuZGVjaWRlZC5cbiAgICAtIEN1cnJlbnQgcHJvdG90eXBlIHVzZXMgYSAqc3RhdGljIFJBTSogYXBwcm9hY2guXG4gICogVGhlcmUgY2FuIG9ubHkgYmUgYSBzaW5nbGUgZGV2aWNlIGNvbm5lY3RlZCBkaXJlY3RseSB0byB0aGUgQ1BVLlxuICAgIC0gSG93ZXZlciwgdGhlcmUgaXMgbm90aGluZyBzYXlpbmcgdGhhdCB0aGlzIHNpbmdsZSBkZXZpY2UgaXNuJ3QgYSBodWIgb3IgYnJpZGdlIHRvIGFsbG93IHRoZSBjb25uZWN0aW9uIG9mIG1vcmUgZGV2aWNlcy5cbiAgICAtIEEgRGV2aWNlIEh1YiBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgcHJvdG90eXBlLlxuICAqIEEgYmFzaWMgY2FyZHNsb3QtYnVzIHNpbWlsYXIgdG8gaG93IGl0IHdvcmtzIGluIHRoZSAqQXBwbGUgXVsqIGZhbWlseSBvZiBjb21wdXRlcnMuXG4gICAgLSBUaGUgY2FyZHNsb3QgYnVzIGlzIGVpdGhlciBkaXJlY3RseSBjb25uZWN0ZWQgdG8gdGhlIHNpbmdsZSBkZXZpY2Ugb2YgdGhlIENQVSBvciB0aHJvdWdoIGEgRGV2aWNlIEh1Yi5cbiAgICAtIE11bHRpcGxlIGNhcmRzIGZvciB0aGlzIGJ1cyBhbHJlYWR5IGV4aXN0LCBhbmQgaXQgY2FuIHN1cHBvcnQgdXAgdG8gOCBjYXJkcyBjb25uZWN0ZWQgdG8gaXQuXG4gICAgLSBDdXJyZW50IGNhcmRzIGFyZSAqKlRlcm1pbmFsIENhcmQqKiwgKipTZWdtZW50IERpc3BsYXkgQ2FyZCoqLCAqKlNlcmlhbCBDYXJkKiosIGFuZCBhICoqTmV0d29yayBDYXJkKiouICBNb3JlIGNhcmRzIHdpbGwgYmUgY3JlYXRlZC5cbiAgICAtIFRoZSBjYXJkcyBhcmUgY3VycmVudGx5IGl0ZXJhdGVkIGluIHRoZSBST00gdG8gZGV0ZXJtaW5lIHdoaWNoIGNhcmRzIGFyZSBpbnN0YWxsZWQgYW5kIGluIHdoaWNoIHNsb3RzLlxuICAgIC0gRWFjaCBjYXJkIGhhcyBhIHNpbmdsZSBieXRlIHRvIHN0b3JlIGl0J3MgKkNhcmQgVHlwZSogaW5mb3JtYXRpb24gd2hpY2ggY2FuIHRoZW4gYmUgcGFyc2VkIGJ5IGEgUk9NIG9yIGtlcm5lbCB0byBsb2FkIGRyaXZlcnMuXG4gICogVGhlcmUgYWxzbyBleGlzdHMgYW4gKkVHQS1jb21wYXRpYmxlKiB0ZXh0IGZyYW1lYnVmZmVyIHdoaWNoIGNhbiBiZSB1cGRhdGVkIGluIG1lbW9yeSBpbiB0aGUgc2FtZSB3YXkgYSByZWFsIG9uZSBpcy5cbiAgICAtIEN1cnJlbnRseSBpdCBpcyBhbiBleGFjdCBjb3B5IG9mIHRoZSBFR0EgdGV4dCBtZW1vcnkgZnJvbSB4ODYgcGxhdGZvcm0gd2hpY2ggYmVnaW5zIHRoZXJlIGF0IGFkZHJlc3MgKioweEI4MDAqKiwgYW5kIGlzIGJsb2FkL2JzYXZlIGNvbXBhdGlibGUgYXMgYSByZXN1bHQuXG4gICAgLSBUaGlzIG1heSBjaGFuZ2UgdG8gaW5zdGVhZCBiZWluZyBhIHRvdGFsIG9mICo0ayogbmVlZGVkIGZvciB0aGlzIHZpZGVvIG1lbW9yeSB0byBvbmx5ICoyayogaW5zdGVhZCB0byBwcm92aWRlIGEgbW9ub2Nocm9tZSBkaXNwbGF5IHdpdGggbm8gc3BlY2lhbCBhdHRyaWJ1dGVzLlxuICAqIER1cmluZyBnYW1lcGxheSwgdGhlIHBsYXllciB3aWxsIGJlLWFibGUgdG8gdXBncmFkZSB0aGVpciBvd24gYGxvY2FsaG9zdGAgUEMgd2l0aCBkaWZmZXJlbnQgaGFyZHdhcmUuXG4gICogRHVyaW5nIHRoZSB3b3JsZCBidWlsZGluZywgc3lzdGVtcyBjYW4gYmUgZnVsbHkgY3VzdG9taXplZCB3aXRoIGRpZmZlcmVudCBoYXJkd2FyZSBjb25maWd1cmF0aW9ucy5cbiIgfSwgeyAiSUQiIDogNTQsICJQQVRIIiA6ICIvRmFpbHVyZXMiLCAiVElUTEUiIDogIlBlcnNvbmFsIEZhaWx1cmVzIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMjVUMjE6MzE6NTAuMzMzWiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0yNVQyMjo0NTowOS45MTdaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJOb3QgZXZlcnl0aGluZyBpbiBsaWZlIGlzIGdvaW5nIHRvIGJlIGEgcnVuYXdheSBzdWNjZXNzLCBpZiBpdCB3ZXJlLCB0aGVuIGV2ZXJ5b25lIGluIHRoaXMgd29ybGQgd291bGQgYmUgc3VjY2Vzc2Z1bCBhbmQgcmljaC4gIEhlcmUgaXMgYSBsaXN0IG9mIG15IG1hbnkgYXR0ZW1wdHMgYXQgYmVpbmcgbm90aWNlZCB0aHJvdWdoIGEgcHJvamVjdCBvZiBtaW5lLCBidXQgdW5mb3J0dW5hdGVseSBpdCBlbmRlZCB1cCBqdXN0IGJlaW5nIGEgZmFpbHVyZS4gIEJ1Y2tsZSB1cCBmb3IgdGhlIG1vc3QgZGVwcmVzc2luZyBhcnRpY2xlIG9uIHRoaXMgd2Vic2l0ZS4uLlxuXG4jIyMgQ2hyb25vYm95IEFkdmVudHVyZXNcblxuQSBKUlBHLWxpa2UgZ2FtZSwgYnVpbHQgaW4gYSBKUlBHIGNlbnRyaWMgZW5naW5lLCBib3Jyb3dpbmcgc29tZSBjb25jZXB0cyBmcm9tIHdlc3Rlcm4gZ2FtZXMgd2l0aCBteSBvd24gZmxhaXIuICBUaGlzIHdhcyBhbiBSUEcgcHJvamVjdCBJIHdhcyB3b3JraW5nIG9uIGluIG15IGxhdGUgMjBzLCBhbmQgaGFzIGJlZW4gZ29uZSBhYmFuZG9uZWQgYWZ0ZXIgdGhlIGNyaXRpY2FsIHJldmlld3MgZnJvbSB0aGUgZ2FtZSBkZXZlbG9wbWVudCBjb21tdW5pdHkgSSB3YXMgYSBwYXJ0IG9mIG9ubHkgcHJvdmlkZWQgZmVlZGJhY2sgb24gdGhlIHZpc3VhbHMgYW5kIGdyYXBoaWNzIG9mIHdoYXQgSSB3YXMgdHJ5aW5nIHRvIGNyZWF0ZSwgcmF0aGVyIHRoYW4gdGhlIHN0b3J5LCBjb25jZXB0LCBhbmQgY29udGVudC4gIEEgZ3JlYXQgZXhhbXBsZSBvbiBob3cgbW9zdCBwZW9wbGUgZG8gc2VlbSB0byBwcmVmZXIgbG9va3Mgb3ZlciBmdW5jdGlvbi4gIEFueXdheXMuLi5cblxuSSBidWlsdCB0aGUgZ2FtZSBpbiBhIHZlcnkgdW5pcXVlIHdheSwgdGhlIGludHJvZHVjdGlvbiBzZXF1ZW5jZSBvZiB0aGUgZ2FtZSB3YXMgZW50aXJlbHkgY3JlYXRlZCB1c2luZyBncmFwaGljIHRpbGVzIHdoaWNoIEkgcGVyc29uYWxseSBoYW5kIGRyZXcsIGFmdGVyIHJlYWxpemluZyB0aGF0IEkgYW0gbm90IHRoYXQgZ3JlYXQgYXQgZHJhd2luZywgSSBkZWNpZGVkIHRvIGNvcHkgYSBzZXQgb2YgZ3JhcGhpY3MgZnJvbSBvbmUgb2YgbXkgZmF2b3VyaXRlIGdhbWVzLCAqVWx0aW1hIFZJKi4gIEl0IHRvb2sgbWUgc2V2ZXJhbCBkYXlzIHRvIGV4dHJhY3QgdGhlIGdyYXBoaWNzIGFuZCBtYWtlIHRoZW0gZml0IHRvIGEgY29tcGxldGVseSBkaWZmZXJlbnQgdGlsZSBzaXplLCBhbGwgdGhlIHdoaWxlIG1ha2luZyBzdXJlIGl0IGRpZG4ndCBsb29rIHRvbyBvZmYuICBUaGUgcmVzdWx0IGlzbid0IGFuIGV4YWN0IHJlcGxpY2Egb2YgdGhlIHNvdXJjZSBtYXRlcmlhbCwgYnV0IGEgbWl4LiAgSSBkaWQgc29tZSBvZiBteSBvd24gdGlsZXMgd2hpY2ggd2VyZSBuZWVkZWQgZm9yIHRoZSBnYW1lIGluIHRoYXQgc3R5bGUgbXlzZWxmLCBzdWNoIGFzIHdoYXQgSSBjYWxsZWQgaW4gZ2FtZSBhcyB0aGUgKldhdGVyIEdhdGVzKiwgYSBjb25jZXB0IHNpbWlsYXIgdG8gKk1vb25nYXRlcyogaW4gVWx0aW1hLiAgVGhlIGdhdGVzIHdlcmUgc3VwcG9zZSB0byBhbGxvdyB0aGUgcGxheWVyIHRvIHVuZGVyc3RhbmQgaG93IHN1Y2ggYSBwb3J0YWwgd291bGQgZmVlbCB3aGVuIG9uZSdzIGJvZHkgbWlnaHQgZ28gdGhyb3VnaCBvbmUsIGxpa2UgZ29pbmcgdGhyb3VnaCBhIHdhbGwgb2Ygc3RhbmRpbmcgd2F0ZXIuXG5cblRoZSBnYW1lIHN0YXJ0cyBvZmYgaW4gdGhlIG1haW4gY2hhcmFjdGVyJ3MgaG9tZSB3b3JsZCwgd2hpY2ggbWF5IG9yIG1heSBub3QgYmUgZWFydGgsIHRoYXQgaXMgbmV2ZXIgbWVudGlvbmVkIGluLWdhbWUsIGFuZCBpcyBtZWFudCBmb3IgdGhlIHBsYXllciB0byBkaXNjZXJuIHRoZW1zZWx2ZXMuICBJdCBiZWdpbnMgd2l0aCBhIG1ldGVvciBmYWxsaW5nIHRvIHRoZSBwbGFuZXQgd2hpY2ggdGhlIG9wZW5pbmcgY3V0IHNjZW5lIEkgY3JlYXRlZCBjbGVhcmx5IGNvbnZleXMuICBJIG1hZGUgaXQgc29tZXdoYXQgc2ltaWxhciB0byB0aGUgb3BlbmluZyBvZiAqRWFydGhib3VuZCogaW4gYSB3YXksIGJ1dCB5b3UgY2FuIGFjdHVhbGx5IHNlZSBpdCBmYWxsaW5nIGFuZCB0aGUgYWZ0ZXIgbWF0aCBhIGJpdCBtb3JlIGJyb2FkbHkuICBJbiB0aGUgZ2FtZSwgdGhlIHBsYXllciBpcyBhd2FrZW5lZCBieSBoaXMgZnJpZW5kIG9uIHRoZSBwaG9uZSwgd2hpY2ggdGhlIGdhbWUgZGV2IGNvbW11bml0eSBhbHNvIGNyaXRpemVkIGFzIG5vdCBiZWluZyB3cml0dGVuIHByb3Blcmx5IHRvIHNvdW5kIGxpa2UgYSByZWFsIHBlcnNvbi4gIFRoZSBtb3N0IHdlaXJkZXN0IHBhcnQgYWJvdXQgdGhpcyBvbmUgaXMgdGhhdCB0aGUgY2hhcmFjdGVyIHdob20gY2FsbHMgdGhlIHBsYXllciBvbiB0aGUgcGhvbmUgd2FzIG15IHRoZW4gcmVhbC13b3JsZCBmcmllbmQgKkphc29uKiBhbmQgdGhhdCBpcyBleGFjdGx5IGhvdyBoZSBzcGVha3MgdG8gbWUgYWxsIHRoZSB0aW1lLCBhbmQgSSBqdXN0IGNvcGllZCBoaXMgZXhhY3QgdG9uZSBvZiB2b2ljZSBmb3IgdGhlIGdhbWUuICBUaGlzIGlzIHdoeSBJIGZvdW5kIHdoYXQgdGhlIGNvbW11bml0eSBzYWlkIGJlaW5nIG1vcmUgZnJvbSBzb21ld2hlcmUgZWxzZSB0aGFuIGFjdHVhbGx5IGNhcmluZyBhYm91dCBtZSBpbXByb3Zpbmcgb3IgYW55dGhpbmcgZWxzZSBvZiBteSBnYW1lLiAgQW55d2F5cy4uLiAgVGhlIHBsYXllciB0aGVuIGdvZXMgb3V0IHRvIGV4cGxvcmUgdGhpcyBtZXRlb3IsIGV2ZW50dWFsbHkgZmluZGluZyB0aGVtc2VsZiBhdCB0aGUgc2l0ZSB3aGVyZSBpdCBoaXQuICBJbnNpZGUgdGhlIGhvbGUgaXQgbGVmdCB0aGUgcGxheWVyIGZpbmRzIGEgaGFycCwgYW5kIHVwb24gcGxheWluZyBpdCwgYSAqV2F0ZXIgR2F0ZSogYXBwZWFycyBiZWZvcmUgdGhlbS4gIEkgZG8gYWdyZWUgaW4gcmV0cm9zcGVjdCB0aGF0IHRoaXMgc3RvcnkgZWxlbWVudCBtaWdodCBiZSBhIGJpdCBvZmYsIGJ1dCBub2JvZHkgbWVudGlvbmVkIHRoaXMgcGFydCBvZGRseS4gIEkgZGlkIHRoaXMgYXMgSSB3YW50ZWQgdGhlIHBsYXllciB0byBmaW5kIHRoZSBpbi1nYW1lIHBsYXlhYmxlIGluc3RydW1lbnQgYW5kIGJlLWFibGUgdG8gdXNlIGl0IGFzIHNvb24gYXMgcG9zc2libGUuICBUaGUgZ2FtZSBoYWQgYSBmdWxseSBpbnRlcmFjdGl2ZSBoYXJwLCBtdWNoIGxpa2UgaG93ICpPY2FyaW5hIG9mIFRpbWUqIGhhZCBhIGZ1bGx5IGludGVyYWN0YWJsZSBvY2FyaW5hLiAgVGhlcmUgd2VyZSA0IGRpZmZlcmVudCBub3RlcyB0aGUgcGxheWVyIGNvdWxkIHBsYXksIGFuZCBJIGNyZWF0ZWQgc2V2ZXJhbCBiYXNpYyBzb25ncyBmb3IgdGhlIGdhbWUgd2hpY2ggd291bGQgcGVyZm9ybSB2YXJpb3VzIGFjdGlvbnMgZGVwZW5kaW5nIG9uIHdoZXJlIHRoZSBwbGF5ZXIgd2FzLCBhbmQgdGhlIHRpbWUgb2YgZGF5LiAgT25jZSB0aGUgcGxheWVyIGVudGVycyB0aGlzIHBvcnRhbCwgdGhleSBhcmUgc2VudCBvZmYgdG8gYSBmYXIgYXdheSB3b3JsZCwgYW5kIHRoaXMgaXMgd2hlcmUgYWxsIHRoZSBpbi1nYW1lIGdyYXBoaWNzIHRha2UgYSBodWdlIGNoYW5nZSB0byBub3cgcmVzZW1ibGUgdGhhdCBvZiAqVWx0aW1hIFZJKi4gIEF0IG9uZSBwb2ludCBJIHdhcyBnb2luZyB0byBzd2FwIGFsbCB0aGVzZSBsaWZ0ZWQgdGlsZXMgZm9yIG5vbi1jb3B5cmlnaHRlZCBvbmVzLiAgSSB0aG91Z2h0IGR1cmluZyBkZXZlbG9wbWVudCBhbmQgdG8ganVzdCBnZXQgdGhlIHN0b3J5IGFuZCBnYW1lIG1lY2hhbmljcyBnb2luZywgSSBqdXN0IG5lZWRlZCBzb21ldGhpbmcsIGFuZCBzbyBhIGZldyBkYXlzIG9mIGNvcHlpbmcgYW5kIEkgaGFkIGEgYmFzaWMgdGlsZXNldCB0byBnZXQgbXlzZWxmIHN0YXJ0ZWQuXG5cbkluIHRoaXMgb3RoZXIgd29ybGQsIHRoZSBwbGF5ZXIgY2FuIGV4cGxvcmUgYW5kIGNoYW5nZSB0aGUgZXZlbnRzIHRocm91Z2hvdXQgYmFzZWQgb24gdmFyaW91cyBjaG9pY2VzIHRoZXkgbWFkZSB0aHJvdWdoIHRoZWlyIGpvdXJuZXkuICBJIGhhZCBhIHNwcmVhZHNoZWV0IG9mIHRoZSBtYXAgY3JlYXRlZCwgYWxvbmcgd2l0aCBob3cgdGhlIHZhcmlvdXMgY2hvaWNlcyB0aGUgcGxheWVyIG1hZGUgY2hhbmdlZCB0aGUgd29ybGQgYXJvdW5kIHRoZW0uICBTaW5jZSB0aGUgcGxheWVyIGlzIG5vdCBvZiB0aGlzIHdvcmxkLCBhbmQgZG9lcyBub3Qga25vdyB0aGUgcGVvcGxlIG5vciB0aGUgY3VzdG9tcywgaXQgYWxsb3dzIHRoZSBwbGF5ZXIgdG8gbWFrZSBhbnkgbW9yYWwgY2hvaWNlcyBiYXNlZCBvbiB3aGF0IHRoZSBwbGF5ZXIgdGhpbmtzIGlzIHRoZSByaWdodCB0aGluZyB0byBkbywgbm90IHdoYXQgdGhpcyB3b3JsZCBiZWxpZXZlcyBpcyB0aGUgcmlnaHQgdGhpbmcgdG8gZG8uICBJbiB0aGUgZmlyc3QgcGFydCBvZiB0aGUgZ2FtZSwgdGhlIGZpcnN0IGNob2ljZSB0aGUgcGxheWVyIHNlZXMsIHdoaWNoIGlzIG9yZ2FuaWNhbGx5IGNob29zZW4gYmFzZWQgb24gdGhlIGFjdGlvbnMgb2YgdGhlIHBsYXllciwgcmF0aGVyIHRoYW4gYSB0ZXh0IGJveCBwb3BwaW5nIHVwIGFza2luZyB0aGUgcGxheWVyIHdoYXQgdGhleSB3YW50IHRvIGRvLiAgVGhlIHNjZW5lIHBsYXlzIG91dCBsaWtlIHRoaXMgYXMgSSByZWNhbGw6ICBQbGF5ZXIgdmlzaXRzIGEgbmVhcmJ5IGNhdmUgd2hlcmUgYSBidW5jaCBvZiByZWJlbHMgb2YgdGhlIGxhbmQgYXJlIHNpdHVhdGVkLCB0aGUgcGxheWVyIGVudGVycyB0aGUgY2F2ZSBhbmQgYXQgYSBjZXJ0YWluIHBvaW50LCB0aGUgcGxheWVyIGNhbiBlYXNlZHJvcCBvbiB0aGlzIGdyb3VwIG9mIHBlb3BsZSB0byBoZWFyIHRoZWlyIHN0b3J5LiAgQWZ0ZXIgdGhpcyBzY2VuZSBwbGF5cyBvdXQsIHRoZSBwbGF5ZXIgY2FuIGVpdGhlciBlbWVyZ2UgZnJvbSB0aGUgc2hhZG93cyBhbmQgb2ZmZXIgdGhlaXIgYXNzaXN0YW5jZSwgb3IgZmxlZSBiYWNrIHRvIHRoZSB2aWxsYWdlIHRvIHRlbGwgdGhlIGxlYWRlciwgb2Ygd2hpY2ggSSBuYW1lZCB0aGUgKkd1YXJkaWFucyogaW4gdGhpcyBnYW1lLiAgSW4gbW9zdCBjYXNlcywgbW9zdCBwbGF5ZXJzIG1heSBub3QgZXZlbiBrbm93IHRoZXkgYXJlIG1ha2luZyBhIGNob2ljZSB0aGF0IHdpbGwgZWZmZWN0IHRoZSB3b3JsZCBhcm91bmQgdGhlbSwgYnV0IGlzbid0IHRoYXQgaG93IHJlYWwtbGlmZSBjaG9pY2UgYXJlIG1hZGU/ICBJbiByZWFsLWxpZmUsIHdlIGFyZW4ndCBqdXN0IGdpdmVuIHRoZSBsaXRlcmFsIGNob2ljZSBsaWtlIGluIG1vc3QgZ2FtZXMgd2hpY2ggcHJvdmlkZSB0aGVzZSB0eXBlIG9mIHdvcmxkIGNoYW5naW5nIGNob2ljZXMsIGluc3RlYWQsIHdlIGp1c3QgYWN0LCB0aGVuIHdlIHNlZSB0aGUgb3V0Y29tZSBvZiBvdXIgYWN0aW9ucyBhcm91bmQgdXMgaW4gdGhlIHdvcmxkLiAgVGhpcyBpcyBob3cgSSB3YXMgY3JlYXRpbmcgdGhpcyBnYW1lLiAgSXQgd291bGQgYWxsb3cgZm9yIGEgbG90IG9mIHBsYXllciBleHBsb3JhdGlvbiBvbmNlIHBsYXllcnMgYmVjb21lIGF3YXJlIG9mIHdoYXQgaXMgZ29pbmcgb24uICBPbmNlIG9uZSBwbGF5ZXIgc2F5cywgXCJCdXQgdGhpcyBoYXBwZW5lZCB0byBtZSwgbm90IHdoYXQgeW91IHNhaWQ/XCIgd2lsbCBnZXQgcGVvcGxlIGludGVyZXN0ZWQgb24gdHJ5aW5nIG90aGVyIGNvbmNlcHRzIGFuZCBjaG9pY2VzIG91dCBpbiB0aGUgZ2FtZSB0byBzZWUgaXQncyBvdXRjb21lLiAgVGhlcmUgd2VyZSBnb2luZyB0byBiZSBhIGxvdCBvZiB2YXJpYWJsZXMgdG8gZHJpdmUgdGhlIGVudGlyZSBzdG9yeSBiYXNlZCBvbiBwbGF5ZXIgYWN0aW9uLiAgSSB3YXMgYWltaW5nIGF0IGNyZWF0aW5nIGEgbGl2aW5nLCBicmVhdGhpbmcgd29ybGQgd2hpY2ggd291bGQgaGF2ZSBtYW55IGRyYXN0aWMgY2hhbmdlcyBtYW55IGdhbWVzIHRoZXNlIGRheXMgZG9uJ3QgZXZlbiB0cnkuICBBbm90aGVyIGV4YW1wbGUgaXMgaW4gdGhlIGZvbGxvd2luZyBjaXR5IHRoZSBwbGF5ZXIgdmlzaXRzLiAgT24gdGhlIGluc2lkZSBvZiB0aGUgY2l0eSB3YWxscywgbGl2ZXMgdGhlIHdlYXRoeSBhbmQgZWxpdGUuICBPbiB0aGUgb3V0c2lkZSBvZiB0aGUgY2l0eSB3YWxscywgbGl2ZXMgdGhlIHBvb3IgYW5kIGltcG92ZXJpc2hlZC4gIFRoZSBwbGF5ZXIgd291bGQgaGF2ZSB0aGUgYWJpbGl0eSB0byBjaGFuZ2UgdGhlIG91dGNvbWUgb2YgYm90aCBvZiB0aGVzZSBwZW9wbGUgdG8gYWxsb3cgZWFjaCBvZiB0aGVtIHRvIHNlZSB3aGVyZSB0aGV5IG1pZ2h0IGhhdmUgd2VudCB3cm9uZyB0byBjcmVhdGUgc3VjaCBhIGxvYi1zaWRlZCBzb2NpZXR5IHRoZXkgY3VycmVudGx5IGxpdmUgaW4uICBBbGwgdGhlc2Ugc3RvcmllcyB3ZXJlIGJlaW5nIHdyaXR0ZW4gYnkgbWUgaW4gbXkgbGF0ZSAyMHMgYXJvdW5kIDIwMDhpc2ggd2hlbiB0aGUgbWFpbiBjaG9pY2UtYmFzZWQgZ2FtZXMgb2YgdGhlIGVyYSB3ZXJlIHRoZSAqRmFibGUgc2VyaWVzKiB3aGljaCB3YXMgc3RpbGwgaW5jcmVkaWJseSBwb3B1bGFyIGF0IHRoZSB0aW1lLiAgSSBkaWQgbGlrZSB0aGUgY29uY2VwdCBvZiB0aGF0IGdhbWUgd2hlcmUgcGxheWVyIGFjdGlvbnMgY2FuIHJlYWxseSBjaGFuZ2UgdGhlIHdvcmxkIGFyb3VuZCB0aGVtLlxuXG5JZiB5b3UgZGlkIHdhbnQgdG8gc2VlIHdoYXQgSSBkaWQgY3JlYXRlIGJhY2sgdGhlbiwgSSB3aWxsIG5vdCBiZSBwcm92aWRpbmcgYSBkb3dubG9hZCBoZXJlLCBidXQgaWYgeW91IHNlYXJjaCBvbmxpbmUsIHRoZXJlIHNob3VsZCBiZSBhIGxpbmsgc29tZXdoZXJlIHdoZXJlIHlvdSBjYW4gc3RpbGwgZG93bmxvYWQgaXQgYW5kIGNoZWNrIGl0IG91dCBmb3IgeW91cnNlbGYuXG5cbiMjIyBCYWNrIHRvIEJhc2ljczogU2F2ZSB0aGUgUHJpbmNlc3NcblxuVGhpcyBnYW1lIHdhcyBlc3NlbnRpYWxseSBhbiBhbnN3ZXIgdG8gdGhlIG5vbi1mZWVkYmFjayBmcm9tIHRoZSBwcmV2aW91cyBnYW1lLCAqQ2hyb25vYm95IEFkdmVudHVyZXMqLiAgVGhlIGFib3ZlIGdhbWUgbWFkZSBoZWF2eSB1c2Ugb2Ygd2hhdCB0aGUgZW5naW5lIGNhbGxlZCAqUGxvdFNjcmlwdGluZyosIGFuZCBJIHNwZW50IGEgbG90IG9mIHRpbWUgd29ya2luZyBvbiB0aGF0LCBpbiBvcmRlciB0byBtYWtlIGFsbCB0aGUgcGxheWVyIGNob2ljZSB3b3JrIGNvcnJlY3RseSBhbmQgdG8gbW9ycGggdGhlIHdvcmxkLCBldmVyeSBhcmVhIHdhcyBtb3N0bHkgYXV0by1nZW5lcmF0ZWQgd2hlbiB0aGUgcGxheWVyIGVudGVyZWQgaXQuICBJIG9ubHkgdXNlZCB0aGUgbWFwIGVkaXRvciB0byBwbGFjZSB0aGUgbWFpbiBzY2VuZXMsIGJ1dCBJIG5ldmVyIHBsYWNlZCBOUENzIG9yIGV2ZW50cywgdGhvc2Ugd2VyZSBhbGwgaGFuZGxlZCBpbiAqUGxvdFNjcmlwdCouICBXZWxsLCB0aGlzIGdhbWUgd2FzIHRoZSBwb2xhciBvcHBvc2l0ZSwgaXQgZGlkIG5vdCB1c2UgYW55ICpQbG90U2NyaXB0KiBhbmQgb25seSB1c2VkIHdoYXQgdGhlIGVuZ2luZSBwcm92aWRlZCwgaGVuY2UgdGhlIG5hbWUgb2YgdGhpcyBuZXcgc2VyaWVzLCAqQmFjayB0byBCYXNpY3MqLCBJIHdhcyBnb2luZyB0byB0YWtlIG1vc3Qgb2YgdGhlIEpSUEcgY2xpY2hlcywgc3VjaCBhcyBzYXZpbmcgYSBwcmluY2VzcywgYW5kIG1ha2luZyBhd2hvbGUgZ2FtZSBhcm91bmQgYSBzaW1wbGUgc3RvcnksIHJhdGhlciB0aGFuIGdvaW5nIGFsbCBvdXQgYXMgSSBkaWQgd2l0aCAqQ2hyb25vYm95IEFkdmVudHVyZXMqLiAgVGhlIHJlc3VsdHMgcmVhbGx5IGltcHJlc3NlZCBtZSBvdmVyYWxsLlxuXG5UaGlzIGdhbWUsIGRlc3BpdGUgaGF2aW5nIG5vIGNvZGluZywgaGFzIGEgZnVsbHkgd29ya2luZyBxdWVzdCBzeXN0ZW0sIGFsb25nIHdpdGggYSBzY3JlZW4gZGV0YWlsaW5nIHRoZSBxdWVzdHMgdGhlIHBsYXllciBhZ3JlZWQgdG8gdGFrZSBvbiwgYWxvbmcgd2l0aCBlYWNoIG9mIHRoZWlyIHJlc3BlY3RpdmUgcHJvZ3Jlc3Nlcy4gIE90aGVyIHRoYW4gdGhhdCwgaXQgZG9lc24ndCBoYXZlIHRvbyBtdWNoIGVsc2UgdG8gb2ZmZXIuICBJIGRpZCBlbmpveSB0aGUgd29ybGQgYnVpbGRpbmcgYW5kIG1hcCBidWlsZGluZywgYXMgSSBmaWxsZWQgdGhlIHdvcmxkIGZ1bGwgb2YgaW50ZXJlc3RpbmcgY2hhcmFjdGVycyBhbmQgcXVlc3RzIHRoZSBwbGF5ZXIgY2FuIHVuZGVydGFrZSB3aGlsZSBzdGlsbCBoYXZpbmcgYW4gb3ZlcmFyY2hpbmcgcXVlc3Qgb2Ygc2F2aW5nIHRoZSBwcmluY2Vzcy4gIFRoaXMgd2FzIGJ1aWx0IGEgYml0IGFmdGVyICpDaHJvbm9ib3kgQWR2ZW50dXJlcyosIGFuZCBzdGlsbCByZW1haW5zIHVuZmluaXNoZWQuXG5cbiMjIyBIYWNrZXIncyBFZGdlXG5cbllvdSBjYW4gYWN0dWFsbHkgcmVhZCBtb3JlIGFib3V0IHRoaXMgZmFpbHVyZSBvbiBteSBbSGFja2VyIE1ha2VyXSgjL0hhY2tlck1ha2VyKSBwYWdlLCBhbG9uZyB3aXRoIGl0J3MgcG90ZW50aWFsIHJlcGxhY2VtZW50IGlmIGl0IGRvZXNuJ3QgYXBwZWFyIGhlcmUgb25lIGRheS5cblxuIyMjIFVhcmljYVxuXG5BbiBpZGVhIHNoYXJpbmcgd2Vic2l0ZSBzaW1pbGFyIHRvICpHaXQqIHdoZXJlIGlkZWFzIGNhbiBsaXRlcmFsbHkgYmUgKmZvcmtlZCogaW50byBhIG5ldyBpZGVhIGFuZCBiZSBkaXNjdXNzZWQuICBJIGJ1aWx0IHRoaXMgYmFjayBpbiAyMDE0LCBidXQgc2luY2UgSSBsYWNrIGFueSBtYXJrZXRpbmcgc2tpbGxzLCBub2JvZHkgZXZlbiBrbmV3IGl0IGV4aXN0ZWQuICBJdCB3YXMgZW50aXJlbHkgYnVpbHQgaW4gUHl0aG9uIGFuZCBEamFuZ28uICBJIGhhZCBpdCBmdWxseSBvbmxpbmUgYW5kIGF2YWlsYWJsZSB0byBhbnlvbmUgdG8gdXNlLCBidXQgSSBmYWlsZWQgdG8gZ2V0IGl0IG5vdGljZWQgYW5kIG5vdyBpdCBqdXN0IHNpdHMgYXMgYSBwcml2YXRlIHJlcG8gb24gbXkgY2xvdWQgc2VydmVyLCBmb3JldmVyIGZvcmdvdHRlbi5cblxuIyMjIERlYmlhbiBEaWFyeVxuXG5BbiBvZmYtc2hvb3Qgc2l0ZSB0byBteSB0aGVuIGN1cnJlbnRseSBwb3B1bGFyaXNoICpQeXRob24gRGlhcnkqIHdoaWNoIHdvdWxkIGhhdmUgYXJ0aWNsZXMgb24gRGViaWFuIGFuZCBnZW5lcmFsIExpbnV4IEFkbWluaXN0cmF0aW9uIGFydGljbGVzLiAgSSBqdXN0IGRpZG4ndCBwdXQgaW4gYXMgbXVjaCBlZmZvcnQgaW50byB0aGlzIHNpdGUgYXMgSSBkaWQgKlB5dGhvbiBEaWFyeSosIHNvIGl0IGRpZWQgc29sZXkgYmVjYXVzZSBvZiBteSBsYWNrIG9mIGVmZm9ydC5cbiIgfSwgeyAiSUQiIDogNTUsICJQQVRIIiA6ICIvT3ZlcmRvc2VzIiwgIlRJVExFIiA6ICJPdmVyZG9lcyIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTI1VDIyOjQ1OjQzLjQ3NVoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMjVUMjI6NTI6NDYuNTkyWiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiVGhpcyBhcnRpY2xlIGlzbid0IGxpbmtlZCBmcm9tIGFueXdoZXJlIG9uIHRoZSB3ZWJzaXRlIGJlY2F1c2Ugb2YgaXQncyByYXRoZXIgZGFyayBjb250ZW50LiAgSXQgY2FuIGhvd2V2ZXIgYmUgdmlld2VkIGlmIHRoZSBwYXRoIGlzIHByb3ZpZGVkIGRpcmVjdGx5LCBleHRyYWN0ZWQgZnJvbSB0aGUgRGF0YWJhc2UgSlNPTiBtYW51YWxseSwgZXh0cmFjdGVkIGZyb20gdGhlIFJBVyBkYXRhYmFzZSBmaWxlcywgb3IgaWYgbXkgW0RhdGFiYXNlIEFkbWluXSgjL0FkbWluVG9vbCkgaXMgYWN0dWFsbHkgdXNlZCBieSBzb21lb25lIG90aGVyIHRoYW4gbXlzZWxmLCB3aGljaCBub2JvZHkgd2lsbCBldmVyIHVzZSBpdCwgbGV0J3MgYmUgcmVhbCBoZXJlLlxuXG5PdmVyZG9lcyBpbiBteSBvcGlvbmlvbiBpcyB3aGF0IGhhcHBlbnMgd2hlbiBzb21lb25lIGJlZ2lucyB0byBub3RpY2UgdGhhdCB0aGUgZHJ1ZyB0aGV5IGFyZSBjb25zdW1pbmcgaXMgbm8gbG9uZ2VyIHdvcmtpbmcgYXMgaXQgc2hvdWxkLiAgTGV0IGl0IGJlIGEgc3RyZWV0IGRydWcsIG9yIGV2ZW4gYW4gYW50aS1kZXByZXNzYW50LiAgSWYgdGhlIGRydWcgdXNlciBpcyBub3QgcmVsaWV2ZWQgb2YgdGhlaXIgZGVwcmVzc2lvbiBvciB0aGUgZHJ1ZyBkb2VzIG5vdCBtYWtlIHRoZW0gZmVlbCBiZXR0ZXIsIGl0IHdvdWxkIGJlIG5hdHVyYWwgdG8gYXNzdW1lIHRoYXQgdGhleSBtaWdodCB0cnkgdGFraW5nIHNvbWUgbW9yZSBpbiBhdHRlbXB0cyB0byBvYnRhaW4gdGhlIGZlZWxpbmcgdGhleSBzZWVrLiAgVGhpcyBtYWtlcyBtZSBiZWxpZXZlIHRoYXQgYSBsb3Qgb2YgT3ZlcmRvZXMgYXJlIG1vc3QgbGlrZWx5IG5vdCBhdHRlbXB0ZWQgc3VjaWRlcywgYnV0IHJhdGhlciwgdGhleSByZWFsbHkgbmVlZGVkIGhlbHAuICBKdWR5IEdhcmxhbmQgYW5kIFJvYmluIFdpbGxpYW1zIG1vc3QgbGlrZWx5IGRpZCBub3QgYXR0ZW1wdCBzdWNpZGUsIG5vciB3YW50ZWQgdG8gZGllLiAgSXQgd2FzIGp1c3QgYW4gaG9uZXN0IG1pc3Rha2Ugb24gdGhlaXIgcGFydCB3aGljaCBsZWQgdG8gdGhlaXIgdWx0aW1hdGUgZGVtaXNlLiAgSSdtIG5vdCBzdXJlIGlmIHRoaXMgaXMgdGhlIHdheSBtb3N0IHBlb3BsZSB0aGluayBvZiBPdmVyZG9lcywgb3IgaWYgaXQgaXMganVzdCBtZS4gIE92ZXJkb3NlcyBhbmQgc3VjaWRlIGFyZSB2ZXJ5IHRhYmJvbyBzdWJqZWN0cyBpbiBvdXIgc29jaWV0eSB0aGF0IG1vc3RseSBldmVyeW9uZSBhdm9pZHMgdGFsa2luZyBhYm91dCB3aGF0c29ldmVyLiAgQXMgYSByZXN1bHQsIEkgZG8gbm90IGhhdmUgYW55IHdheXMgdG8gcHJvcGVybHkgcmVmbGVjdCBvbiB0aGVzZSBzdWJqZWN0cywgb3RoZXIgdGhhbiB3aXRoIG15c2VsZiwgbGVhZGluZyB0byBhIG1vc3RseSB0dW5uZWwgdmlzaW9uIGxpa2UgaWRlYWwgb2YgYm90aC5cbiIgfSwgeyAiSUQiIDogNTYsICJQQVRIIiA6ICIvV2h5SUxvdmVYIiwgIlRJVExFIiA6ICJXaHkgSSBsb3ZlIHRoZSBYIFdpbmRvdyBTeXN0ZW0iLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMy0wN1QxMTozNjoyMi4wNzNaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAzLTA3VDE5OjI3OjAxLjc1MloiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIkluIHRoZSBsYXN0IGZldyB5ZWFycyBhIG5ldyBncmFwaGljYWwgc3lzdGVtIGhhcyBzdGFydGVkIHRvIGVtZXJnZSBmb3IgdGhlIExpbnV4IHBsYXRmb3JtLCAqV2F5bGFuZCouICBXaGlsZSBJIGNhbiBzZWUgdGhlIGJlbmVmaXRzIG9mIHRoaXMgbmV3IHN5c3RlbSwgSSBzdGlsbCB2ZXJ5IG11Y2ggbG92ZSB0aGUgKipuZXR3b3JrIHRyYW5zcGFyZW5jeSoqIG9mIHRoZSAqWCBXaW5kb3cgU3lzdGVtKiwgaGVyZSdzIHdoYXQgd2Ugd2lsbCBhbGwgbG9zZSBvdXQgb24sIGlmIGEgbmV3IGdyYXBoaWNhbCBzeXN0ZW0gZG9lcyBub3QgaW1wbGVtZW50IHRoZW0uXG5cbiMjIyB4MnggYW5kIHgydm5jXG5cbkJvdGggb2YgdGhlc2UgaW5jcmVkaWJseSwgYnV0IG1vc3QgbGlrZWx5LCBsZXNzZXIga25vd24gcHJvZ3JhbXMgZm9yIFVOSVgtbGlrZSBzeXN0ZW1zIGlzIG1vc3QgbGlrZWx5IGluY29tcGF0aWJsZSB3aXRoICpXYXlsYW5kKi4gIFdpdGggYHgyeGAsIGl0IGlzIGVudGlyZWx5IHBvc3NpYmxlIHRvIGV4dGVuZCBvbmVzIGRlc2t0b3Agd2l0aG91dCBuZWVkaW5nIGEgc2Vjb25kIG1vbml0b3Igb24geW91ciBtYWluIG1hY2hpbmUsIGFuZCB0aGlzIGlzIGJ5IHVzaW5nIGFuIGV4dGVybmFsICpYIFNlcnZlciosIGVpdGhlciBydW5uaW5nIG9uIGEgc2Vjb25kYXJ5IGxhcHRvcCwgb3Igb24gYW4gQW5kcm9pZCBUYWJsZXQuICBXaXRoIGB4MnZuY2AsIGl0IGFsbG93cyB5b3VyIG1haW4gTGludXggZGVza3RvcCB0byBiZSBleHRlbmRlZCB0byBhbnkgT1MgY2FwYWJsZSBvZiBydW5uaW5nIGEgYmFzaWMgKlZOQyBTZXJ2ZXIqLiAgQm90aCBvZiB0aGVzZSBwcm9ncmFtcyBvbmx5IHRyYW5zZmVycyBtb3VzZSBhbmQga2V5Ym9hcmQgbW92ZW1lbnRzIG92ZXIgdG8gdGhlIG90aGVyIHN5c3RlbS4gIFRoZSBuZXR3b3JrIGJhbmR3aWR0aCBmb3IganVzdCB1c2luZyB0aGlzIGlzIHZlcnkgbWluaW1hbCwgYW5kIGhhcyB6ZXJvIGxhdGVuY3kgaWYgeW91IGNvbm5lY3QgYm90aCBzeXN0ZW1zIHRvIHRoZSBzYW1lIG5ldHdvcmsgc3dpdGNoIG9yIG92ZXIgYSBsb29wYmFjayBjYWJsZS4gIE9uZSBpbnRlcmVzdGluZyBhZHZhbnRhZ2Ugb2YgdGhpcyBzb3J0IG9mIHNldC11cCBpcyBiZXR0ZXIgc2hhcmluZyBvZiBsb2NhbCBjb21wdXRpbmcgcmVzb3VyY2VzLCBhcyBub3cgeW91IGNhbiBlZmZvcnRsZXNzbHkgbGF1bmNoIHByb2dyYW1zIGJvdGggb24geW91ciBtYWluIG1hY2hpbmUsIGFuZCBieSBtb3ZpbmcgeW91ciBtb3VzZSB0byB0aGUgb3RoZXIgbWFjaGluZSwgeW91IGNhbiBsYXVuY2ggdmFyaW91cyBwcm9ncmFtcyBlYXNpbHkgb24gdGhhdCBoYXJkd2FyZSBhcyB3ZWxsLiAgSG93ZXZlciwgd2l0aCAqKm5ldHdvcmsgdHJhbnNwYXJlbmN5KiosIHlvdSBjYW4gYWxzbyBydW4gKlggY2xpZW50cyogZnJvbSB5b3VyIG1haW4gbW9yZSBwb3dlcmZ1bCBtYWNoaW5lIG9uIHRoZSBvdGhlciBzY3JlZW4gd2l0aCBubyByZWFsIGVmZm9ydC4gIExldCdzIGdvIHRocm91Z2ggc29tZSBiYXNpYyBjb21tYW5kLWxpbmVzIHRvIGdldCB5b3Ugc3RhcnRlZCBvbiBhIGR1YWwtc2NyZWVuIGFkdmVudHVyZSB3aXRoIHVzaW5nIHR3byBpbmRlcGVuZGVudCBjb21wdXRlcnM6XG5cbkhlcmUncyB0aGUgbW9zdCBiYXNpYyBleGFtcGxlIGlmIHlvdXIgc2Vjb25kYXJ5IG1hY2hpbmUgd2l0aCB0aGUgZGlzcGxheSBpcyB0byB0aGUgcmlnaHQgb2YgeW91ciBtYWluIG1vbml0b3I6XG5cbmB4MnggLXRvIDE5Mi4xNjguMC4zMDowIC1lYXN0YFxuXG5Gb3Igc2VjdXJpdHkgcmVhc29ucywgbW9zdCBMaW51eCBkaXN0cm9zIHVzZSB0aGUgYC1ub2xpc3RlbiB0Y3BgIGJ5IGRlZmF1bHQsIGFuZCB0aGVzZSBkYXlzIHRoZSBtb2Rlcm4gKipYb3JnKiogaGFzIHRoaXMgb3B0aW9uIGFzIGEgZGVmYXVsdCwgc28gc29tZSBhZGp1c3RtZW50cyBuZWVkIHRvIGJlIG1hZGUgb24gdGhlIHNlY29uZGFyeSBtYWNoaW5lLiAgSWYgeW91IGFyZSBkb2luZyB0aGlzIHdpdGggYW4gKlggU2VydmVyKiBydW5uaW5nIG9uIGFuIEFuZHJvaWQgVGFibGV0LCB0aGVuIHlvdSBjYW4gaWdub3JlIHRoZSBmb2xsb3dpbmcgY29uZmlndXJhdGlvbi5cblxuRmlyc3RseSwgaWYgdGhpcyBpcyBhIGxhcHRvcCB5b3Ugd2lzaCB0byBzdGlsbCBsdWcgYXJvdW5kIGludG8gcHVibGljIHBsYWNlcywgdGhlbiBJIGhpZ2hseSByZWNvbW1lbmQgcnVubmluZyBhIG5ldyBYIHNlcnZlciBmcm9tIHRoZSBjb21tYW5kLWxpbmUgYW5kIHN0YXJ0aW5nIGEgbmV3IHNlcnZlciByYXRoZXIgdGhhbiBhbHRlcmluZyB0aGUgY29uZmlndXJhdGlvbiBvZiB5b3VyIGRpc3BsYXkgbWFuYWdlci4gIEkgY2Fubm90IHN0cmVzcyB0aGlzIGVub3VnaCwgaWYgeW91IGhhdmUgeW91ciBYIHNlcnZlciBsaXN0ZW5pbmcgb24gVENQIGluIGFuIG90aGVyd2lzZSB1bnRydXN0ZWQgbmV0d29yaywgaXQgd2lsbCBub3QgYmUgYSBzYWZlIGV4cGVyaWVuY2UuICBZb3UgY291bGQgYWxzbyBvcHQgdG8gdXNpbmcgZWl0aGVyIGBYbmVzdGAgb3IgYFhlcGh5cmAsIHdoaWNoIHNob3VsZCBhbHNvIGJlIHJ1bm5hYmxlIHdpdGhpbiBhIFdheWxhbmQgc2Vzc2lvbiwgYW5kIGJvdGggSSBkbyBiZWxpZXZlIGV2ZW4gc3VwcG9ydCBhIGZ1bGwtc2NyZWVuIG9wdGlvbi4gIEkgZG8gbm90IHVzZSB0aGlzIG1ldGhvZCwgYnV0IHNob3VsZCBiZSBzaW1wbGUgdG8gY29uZmlndXJlIEknZCBpbWFnaW5lLiAgSGVyZSBpcyBob3cgdG8gY29uZmlndXJlIGl0IGZyb20gdGhlIGNvbnNvbGUsIG5vdCBhIHRlcm1pbmFsIGVtdWxhdG9yLiAgRmlyc3QsIGxvZyBvdXQgb2YgeW91ciBzZXNzaW9uIGFuZCByZXR1cm4gdG8geW91ciBkaXNwbGF5IG1hbmFnZXIuICBUaGVuIGhpdCAqQ3RybC1BbHQtRjIqLCBpbiByZWNlbnQgTGludXggdmVyc2lvbnMsIFRUWTEgaXMgdW5hdmFpbGFibGUgYXMgYSBjb25zb2xlLCBhdCBsZWFzdCBmb3IgRGViaWFuLiAgSW4gdGhpcyBjb25zb2xlLCBsb2dpbiBhcyB5b3VyIHJlZ3VsYXIgdXNlciBhY2NvdW50LiAgQ3JlYXRlIGEgYmFzaWMgKi54aW5pdHJjKiBmaWxlIGluIHlvdXIgaG9tZSBkaXJlY3Rvcnkgd2l0aCB0aGUgZm9sbG93aW5nOlxuXG5gYGBcbnhob3N0ICsxOTIuMTY4LjAuMjAgIyBQbGFjZSB5b3VyIG1haW4gbWFjaGluZSBJUCBoZXJlLlxuZXhlYyBhd2Vzb21lICMgc3dhcCBvdXQgd2l0aCB5b3VyIGZhdmUgd2luZG93IG1hbmFnZXIuXG5gYGBcblxuWW91IGNhbiBlaXRoZXIgc3RvcCB5b3VyIGV4aXN0aW5nIGRpc3BsYXkgbWFuYWdlciB3aXRoIGBzeXN0ZW1jdGwgc3RvcCBzZGRtYCBmb3IgZXhhbXBsZSwgb3IgYnkgYWx0ZXJpbmcgdGhlIGBzdGFydHhgIGNvbW1hbmQgdG8gaW5jbHVkZSBgOjFgLCBidXQgeW91IHdpbGwgYWxzbyBuZWVkIHRvIGNoYW5nZSBhbGwgdGhlIG90aGVyIGNvbW1hbmRzIGluIHRoaXMgd2Fsa3Rocm91Z2ggZnJvbSBgOjBgIHRvIGA6MWAuICBQZXJzb25hbGx5LCBpZiBJIGFtIHBsYW5uaW5nIG9uIHVzaW5nIG15IGxhcHRvcCBhcyBhbiBleHRlbmRlZCBtb25pdG9yIGZvciBteSBtYWluIG1hY2hpbmUsIHRoZW4gSSdkIHByZWZlciB0byBqdXN0IHN0b3AgdGhlIGRpc3BsYXkgbWFuYWdlciBiZWZvcmUgaGFuZC5cblxuVGhlbiBzdGFydCBYIHVzaW5nIHRoZSBmb2xsb3dpbmcgY29tbWFuZDogIGBzdGFydHggLS0gLWxpc3RlbiB0Y3BgXG5cbkJlIHN1cmUgeW91IGFyZSBvbiBhIHRydXN0ZWQgbmV0d29yaywgb3IgaGF2ZSBhIHByb3BlciBmaXJld2FsbCBjb25maWd1cmVkLCBhcyB0aGlzIGNhbiBleHBvc2UgeW91ciBYIHNlcnZlciB0byBhbnlvbmUgc25vb3BpbmcgaW4uXG5cblRoaXMgd2lsbCBsYXVuY2ggdGhlIFggc2VydmVyLCBhZGQgeW91ciBtYWluIG1hY2hpbmUgdG8gdGhlIGFjY2VzcyBjb250cm9sIGxpc3Qgb2YgdGhlIFggc2VydmVyLCBhbmQgc3RhcnQgYSBiYXNpYyB3aW5kb3cgbWFuYWdlci5cblxuRnJvbSB5b3VyIG1haW4gbWFjaGluZSwgeW91IGNhbiBub3cgcnVuIHRoZSBgeDJ4YCBjb21tYW5kIEkgb3V0bGluZWQgYWJvdmUgdG8gY29ubmVjdCB5b3VyIG1haW4gbWFjaGluZSB0byB0aGlzIHNlY29uZGFyeSBtYWNoaW5lIHRvIHVzZSBhcyBhIHNlY29uZCBtb25pdG9yLCBhbmQgYSBmdWxseSBpbmRlcGVuZGVudCBQQyB3aGlsZSBzdGlsbCB1c2luZyB5b3VyIGN1cnJlbnQga2V5Ym9hcmQgYW5kIG1vdXNlLCBtdWNoIGxpa2UgYSBuZXR3b3JrZWQgS1ZNLiAgSGVyZSBpcyBob3cgeW91IGNhbiBzYXkgbGF1bmNoIEZpcmVmb3ggZnJvbSB5b3VyIG1haW4gbWFjaGluZSBhbmQgaGF2ZSBpdCBkaXNwbGF5IG9uIHRoZSBvdGhlciBtYWNoaW5lJ3Mgc2NyZWVuOlxuXG5gRElTUExBWT0xOTIuMTY4LjAuMzA6MCBmaXJlZm94YFxuXG5GaXJlZm94IHdpbGwgbm93IGFwcGVhciBvbiB5b3VyIHNlY29uZGFyeSBkaXNwbGF5LCBhbmQgaWYgYHgyeGAgaXMgc3RpbGwgcnVubmluZywgeW91IHdpbGwgYmUtYWJsZSB0byBhbHNvIGZ1bGx5IGNvbnRyb2wgaXQgdmlhIHlvdXIgbWFpbiBtYWNoaW5lJ3Mga2V5Ym9hcmQgYW5kIG1vdXNlLlxuXG5UaGUgYHgydm5jYCBwcm9ncmFtIHdvcmtzIGluIGEgdmVyeSBzaW1pbGFyIHdheSwgYnV0IGNhbiBhbGxvdyB5b3UgdG8gdXNlIGVpdGhlciBhICpXaW5kb3dzKiBvciAqbWFjT1MqIHN5c3RlbSBhcyB5b3VyIHNlY29uZGFyeSBkaXNwbGF5IGFuZCBjb250cm9sIHByb2dyYW1zIG9uIHRob3NlIHJlc3BlY3RpdmUgb3BlcmF0aW5nIHN5c3RlbXMuICBIb3dldmVyLCB1bmxlc3MgeW91IHNwZWNpZmljYWxseSBydW4gYW4gKlggU2VydmVyKiBvbiBlaXRoZXIgb2YgdGhvc2Ugb3BlcmF0aW5nIHN5c3RlbXMsIHlvdSB3aWxsIG9ubHkgYmUtYWJsZSB0byBydW4gYW5kIHVzZSByZXNvdXJjZXMgZnJvbSB0aG9zZSBvcGVyYXRpbmcgc3lzdGVtcy5cblxuSGVyZSBpcyBob3cgdG8gcnVuIGl0OiAgYHgydm5jIC1lYXN0IDE5Mi4xNjguMC4zMTowYFxuXG5TbGlnaHRseSBkaWZmZXJlbnQgc3ludGF4LCBidXQgZXNzZW50aWFsbHkgdGhlIHNhbWUgcmVzdWx0IHRvIGV4dGVuZCB5b3VyIGRlc2t0b3AgdG8gYSB0b3RhbGx5IGRpZmZlcmVudCBvcGVyYXRpbmcgc3lzdGVtLlxuXG5UaGUgKlggU2VydmVyKiBmb3IgQW5kcm9pZCBjYW4gYmUgZG93bmxvYWRlZCBlYXNpbHkgZnJvbSB0aGUgb2ZmaWNpYWwgW1BsYXkgU3RvcmVdKGh0dHBzOi8vcGxheS5nb29nbGUuY29tL3N0b3JlL2FwcHMvZGV0YWlscz9pZD1hdS5jb20uZGFya3NpZGUuWFNlcnZlcilcbiIgfSwgeyAiSUQiIDogNTcsICJQQVRIIiA6ICIvSG9wZSIsICJUSVRMRSIgOiAiSG9wZSBvbmx5IGxlYWRzIHRvIGRpc2FwcG9pbnRtZW50IiwgIkNSRUFURUQiIDogIjIwMjQtMDMtMDhUMTI6MjU6MTguNzM2WiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMy0wOFQyMToxNjo1My4yNTJaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJJZiB0aGVyZSBpcyBvbmUgdGhpbmcgSSd2ZSBsZWFybmVkIGluIGxpZmUsIGlzIHRoYXQgaG9wZSBpcyBsaXRlcmFsbHkgaG9wZWxlc3MsIGl0IG9ubHkgbGVhZHMgdG8gdGhlIGZlZWxpbmcgb2YgaHVnZSBkaXNhcHBvaW50bWVudHMgaW4gbGlmZS5cblxuSSd2ZSBiZWVuIHN0cnVnZ2xpbmcgdG8gc2VjdXJlIG15c2VsZiBhIG5ldyBqb2IsIGFuZCBhbGwgSSd2ZSBiZWVuIGxlZCBieSBpcyAqaG9wZSosIG9ubHkgdG8gbm90IGZpbmQgYW55dGhpbmcgYW5kIGJlIG1vcmUgZGlzYXBwb2ludGVkIHRoZW4gd2hlbiBJIGZpcnN0IHN0YXJ0ZWQuICBJIGZlZWwgdGhhdCBpZiBJIGp1c3QgZGlkbid0IGV2ZW4gdHJ5LCBJIHdvdWxkbid0IGJlIGZlZWxpbmcgYXMgKmRpc2FwcG9pbnRlZCogYXMgSSBhbSBub3cgYmVjYXVzZSBJIHdhcyBob3BlZnVsIGluIHRoZSBmaXJzdCBwbGFjZS5cblxuXG5cblRoaXMgaXMgcGFydCBvZiBhIGxhcmdlciBzZXJpZXMgb2YgW0RlcHJlc3NpbmcgQXJ0aWNsZXNdKCMvRGVwcmVzc2luZ0FydGljbGVzKS4iIH0sIHsgIklEIiA6IDU4LCAiUEFUSCIgOiAiL1BhcmFkb3hPZk1vbmV5IiwgIlRJVExFIiA6ICJUaGUgUGFyYWRveCBvZiBNb25leSIsICJDUkVBVEVEIiA6ICIyMDI0LTAzLTA4VDEyOjI3OjI4LjQyMloiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDMtMDhUMjE6MTQ6MTQuNjg2WiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiTW9uZXkgaXMgaW50ZXJlc3RpbmcgaW4gdGhhdCBpdCBmZWVscyBsaWtlIGEgcGFyYWRveCBhbmQgYXQgbGVhc3QgZm9yIG1lLCBjaGFuZ2VzIGl0J3MgdmFsdWUgYmFzZWQgb24gaG93IG11Y2ggSSBoYXZlLiAgVGhlIGxlc3MgbW9uZXkgSSBoYXZlLCB0aGUgbW9yZSB2YWx1ZSBpdCBoYXMgdG8gbWUsIGFuZCB0aGUgbW9yZSBtb25leSBJIGhhdmUsIHRoZSBsZXNzIHZhbHVlIGl0IGhhcyB0byBtZS4gIFRha2UgdGhlc2UgYXMgZXhhbXBsZXMgZm9yIGhvdyBJIHVzZSBtb25leSBiYXNlZCBvbiBob3cgbXVjaCBJIGhhdmU6XG5cbldoZW4gSSBoYWQgYSByZWFsbHkgYW1hemluZyBqb2IgYW5kIGhhZCBhIHZlcnkgY29uc2lzdGVudCBoaWdoIGluY29tZSwgSSB3YXMgYWJsZSB0byBnbyBvdXQgdG8gaGlnaCBlbmQgcHVicyBhbmQgcmVzdHVyYW50cywgYW5kIHRoZSBiaWxsIGFsbW9zdCBmZWx0IG1lYW5pbmdsZXNzIG9uIGhvdyBtdWNoIGl0IHdhcy4gIEluIHRoZXNlIG1vbWVudHMsIGl0IHdhcyBtb3JlIGFib3V0IHRoZSBzZXJ2aWNlIGFuZCBob3cgSSB3YXMgdHJlYXRlZCwgYW5kIHRodXMgSSB0ZW5kZWQgdG8gZ2l2ZSByYXRoZXIgYW1hemluZyB0aXBzLCAqMzAlKiBiZWZvcmUgdGhpcyB3YXMgZXZlbiBhIHRoaW5nIGluIHRoZSBtb2Rlcm4gZGF5LiAgSSB0aXBwZWQgd2VsbCwgYXMgaW4gbXkgbWluZCwgSSBrbmV3IEkgc3RpbGwgaGFkIGEgbG90IHRvIHNwZW5kIGFuZCBvdGhlcndpc2UgZ2l2ZS5cblxuSW4gbXkgY3VycmVudCBzaXR1YXRpb24sIHdoZXJlIEkgaGF2ZSBhbG1vc3Qgbm8gbW9uZXksIEkgYnJva2UgYSAqJDIwKiBiaWxsIHRoZSBvdGhlciBkYXkgYW5kIGZlbHQgYmFkIGRvaW5nIGl0LCBhcyBJIHdvdWxkbid0IGV2ZW4ga25vdyB3aGVuIEknZCBldmVuIGhhdmUgdGhhdCBtdWNoIG1vbmV5IHRvIHNwZW5kIG9uIGZvb2QgYWdhaW4uICBOb3cgd2hlbiBJIGFtIHRyeWluZyB0byBtYWtlIG1vbmV5LCBJIGhvbGQgaXQgYXQgYSBoaWdoZXIgdmFsdWUsIHNvIHdoZW4gc2F5IHRyeWluZyB0byBzZWxsIHNvbWV0aGluZywgSSB3YW50IHRvIG1ha2Ugc3VyZSB0aGF0IEkgYW0gZ2V0dGluZyB0aGUgcHJvcGVyIHZhbHVlIG9mIHdoYXQgSSBhbSB0cnlpbmcgdG8gc2VsbCwgYW5kIHdpbGwgYWJzb2x1dGVseSBub3Qgc2V0dGxlIGZvciBhbnl0aGluZyBsZXNzIHRoYW4gdGhlIHZhbHVlIEkgYmVsaWV2ZSBpcyB0aGUgcmlnaHQgdmFsdWUgZm9yIGl0LlxuXG5JIGhhdmUgbGl2ZWQgb24gYm90aCBzaWRlcyBvZiB0aGlzIGZlbmNlLiAgSSBzdGFydGVkIG9mZiBpbiBwb3ZlcnR5IGluIG15IHlvdXRoLCBiYXJlbHkgbWFraW5nIGFueXRoaW5nIHRvIGdldCBieSBpbiBteSBob21ldG93biwgdG8gbWFraW5nIGFsbW9zdCA2LWZpZ3VyZXMgd2l0aCBhbWF6aW5nIGJvbnVzZXMgZWFjaCB5ZWFyIGluIHRoZSBjaXR5IEkgbm93IGZpbmQgbXlzZWxmIGluLiAgRHVlIHRvIHNvbWUgdW5mb3Jlc2VlbiBpc3N1ZXMsIEkgYW0gbm93IGJhY2sgaW4gcG92ZXJ0eSB3aXRoIG5vIG1vbmV5IHRvIG15IG5hbWUgYW55bW9yZSwgYW5kIGFmdGVyIHNvbWUgcmVmbGVjdGlvbiwgdGhpcyAqcGFyYWRveCogaGVyZSBjYW1lIHRvIG1lLlxuXG4jIyBBIHRob3VnaHRcblxuT25lIHRob3VnaHQgSSBoYWQgYXdoaWxlIGJhY2sgYWJvdXQgYSBwb3RlbnRpYWwgc29sdXRpb24sIHdoaWNoIGlzIGluY29ycG9yYXRlZCBpbiAqbW9kZXJuIHZpZGVvIGdhbWVzKiBpcyB0aGUgY29uY2VwdCBvZiBhICoqbGV2ZWwgY2FwKiosIHdoaWNoIG90aGVyd2lzZXMgcHJldmVudHMgc29tZSBwbGF5ZXJzIGZyb20gYmVjb21pbmcgKipPUCoqKCpvdmVyIHBvd2VyZWQqKSBhcyB3ZSBjYW4gY3VycmVudGx5IHNlZSB3aXRoIGhvdyBtb25leSBpcyBkaXN0cmlidXRlZCwgd2hpY2ggaXMgbGl0ZXJhbGx5IGNyZWF0aW5nICpyZWFsIHdvcmxkIG92ZXIgcG93ZXJlZCogYXMgdGhlc2Ugbm93LCB0cmlsbGlvbmFpcmVzIGNsZWFybHkgZG8gbm90IGhhdmUgYSAqbGV2ZWwgY2FwKiBvZiB0aGVpciBvd24sIGJlc2lkZXMgdGhlIHNreSwgYW5kIGFzIGEgcmVzdWx0IHRvIGtlZXAgcmFpc2luZyB0byB0aGUgdG9wIG9mIHRoaXMgKnNvLWNhbGxlZCBsZWFkZXJib2FyZCosIGFuZCBtb3N0IG9mIHVzIGp1c3QgZmFsbGluZyBjb21wbGV0ZWx5IGRvd24gaXQuICBJIGJlbGlldmUgdGhlIGJlc3Qgc29sdXRpb24gZm9yIHRoZSBjdXJyZW50IHdvcmxkIGVjb25vbWljIGlzc3VlcyBpcyB0byBwdXQgYSBsaXRlcmFsICptb25leSBjYXAqIGluIG91ciByZWFsLXdvcmxkLCBvciB0aGlzIHdpbGwgb25seSBqdXN0IGtlZXAgZ2V0dGluZyB3b3JzZSwgd2l0aCBub3cgc29tZSBvZiB0aGUgb25seSB3YXlzIHRvIGtlZXAgbWFraW5nIG1vbmV5IGlzIHRvIGVpdGhlciBwYXkgeW91ciBlbXBsb3llZXMgYXMgbGl0dGxlIGFzIHlvdSBjYW4gZ2V0IGF3YXkgd2l0aCwgb3IgZmlyZSB0aGVtIG91dCByaWdodCB0byBzYXZlIG9uIHRoZWlyIHdhZ2Uvc2FsYXJ5IGVudGlyZWx5LiAgVGhpcyBpcyB0aGUgd29ybGQgd2UgY3VycmVudGx5IHNlZSB1bmZvbGRpbmcgYXJvdW5kIHVzLCBidXQgbW9zdCBvZiB1cyBhcmUgY29tcGxldGVseSBibGluZCB0byBzZWUgaXQsIGp1c3QgYXMgaXQgZ29lcyB3aXRoIHRob3NlIGxvc3QgY2FyIGtleXMgSSBndWVzcy4gIFRoZSBwcm9ibGVtIGhlcmUsIGlzIHRoYXQgaXQgbWlnaHQgbm90IGJlIHRvbyBsYXRlIHRvIGZpZ3VyZSB0aGlzIHByb2JsZW0gb3V0LCBvciB3ZSBhcmUgZGVzdGluZWQgZm9yIGEgdG90YWwgZWNvbm9taWMgY29sbGFwc2UuICBBc2sgKipSaWNoYXJkIEdhcnJldCoqIGhvdyBwbGF5ZXJzIGNvbXBsZXRlbHkgZGVzdHJveWVkIHRoZSBpbi1nYW1lIGVjby1zeXN0ZW0gYnkgaHVudGluZyBhbGwgdGhlIGFuaW1hbHMsIGFuZCBzaW5jZSB0aGUgc3lzdGVtIHNpbXVsYXRlZCBhdCB0aGUgdGltZSwgYSByZWFsaXN0aWMgZWNvLXN5c3RlbSwgcGxheWVycyB3ZXJlIGtpbGxpbmcgYmVmb3JlIHRoZXNlIGFuaW1hbHMgaGFkIGVub3VnaCB0aW1lIHRvIHJlcHJvZHVjZSwgY2F1c2luZyAqT3JpZ2luIFN5c3RlbSogdG8gcmV0aGluayB0aGUgZW50aXJlIHN5c3RlbSwgYXMgcGxheWVycyB3aWxsIGJlIHBsYXllcnMsIGFzIHdlIHNlZSB3aXRoIGh1Z2UgYnVzaW5lc3MgZXhlY3V0aXZlcyBpbiBvdXIgcmVhbC13b3JsZCBwbGF5aW5nIGEgZ2FtZSB3aXRob3V0IGEgY2FwLiAgUGVvcGxlIGp1c3QgbmVlZCB0byBvcGVuIHRoZWlyIGV5ZXMgYW5kIGp1c3Qgc2VlIHdoYXQgaXMgcXVpdGUgbGl0ZXJhbGx5IHJpZ2h0IGluIGZyb250LCBhbmQgYW4gb2J2aW91cyBzb2x1dGlvbiB3aGljaCBjYW4gYWN0dWFsbHkgbWFrZSAqY2FwaXRhbGlzbSogd29yayBhbmQgdGhyaXZlLiAgVGhpcyBjb3VsZCBwb3RlbnRpYWxseSBiZSB0aGUgbmV4dCBldm9sdXRpb24gb2YgKmNhcGl0YWxpc20qIGlzIHRvIGhhdmUgYSAqY2FwKiB0byB0aGlzICpjYXBpdGFsaXNtKi4gIExldCdzIG1ha2UgdGhpcyBnYW1lIHdlIGFsbCBjYWxsIHJlYWwtbGlmZSBhIG1vcmUgZmFpciBwbGF5aW5nIGZpZWxkIGZvciBldmVyeW9uZS5cblxuSSBrbm93IHNvbWVvbmUgd2lsbCBicmluZyB1cCwgKndlbGwgdGhhdCBpcyB3aGF0IHRheGVzIGFyZSBmb3IqIGFyZ3VtZW50LCB3ZWxsLCB0aGF0IGRvZXNuJ3Qgc2VlbSB0byBiZSB3b3JraW5nIHRoYXQgd2VsbCBhcyBhIHdheSB0byBoYXZlIHRoaXMgKnZpcnR1YWwgY2FwKiBzbyB0aGF0IHNvbWUgZnVuZHMgYXJlIHB1dCBiYWNrIGludG8gdGhlIGVjb25vbXkuICBJIGFtIG5vdCBzYXlpbmcgdGhhdCB0aGlzIGNhbiBiZSBzb21ldGhpbmcgdGhhdCBjYW4gYmUgZG9uZSBvdmVybmlnaHQsIGJ1dCBpdCBpcyBzb21ldGhpbmcgdGhhdCBtYXkgZXZlbnR1YWxseSBuZWVkIHRvIGJlIHJlc2VhcmNoZWQgYW5kIGRlY2lkZWQgdXBvbiBhcyBhIHNvY2lldHkgYW5kIGdyYWR1YWxseSBidWlsZCB0b3dhcmRzLlxuXG5UaGUgbmV4dCBvYnZpb3VzIGlzc3VlLCB3aGljaCBpcyBzdGlsbCBiZWluZyB0YWNrbGVkIGV2ZW4gd2l0aG91dCBhICpjYXAqIGFyZSBzby1jYWxsZWQgKnRheCBoZWF2ZW5zKiB3aGVyZSB0aGUgdWx0cmEtcmljaCBwbGFjZSBzb21lIG9mIHRoZWlyIG1vbmV5IHRvIGxvb3Agb3V0IG9mIHBheWluZyBzb21lIHRheGVzLiAgQXMgd2l0aCBhbnl0aGluZywgcGVvcGxlIHdpbGwgYWx3YXlzIHRyeSBhbmQgZmluZCBhIHdheSB0byBjaGVhdCB0aGUgc3lzdGVtLiAgUGxheWVycyBoYXZlIGFsd2F5cyB0cmllZCB0byBmaW5kIHdheXMgYXJvdW5kICpsZXZlbCBjYXBzKiBhbmQgb3RoZXIgZ2FtZSByZXN0cmljdGlvbnMgYXMgd2VsbCwgdGhlIHNhbWUgdGhpbmcgb2J2aW91c2x5IGhhcHBlbnMgaW4gdGhlIHJlYWwtd29ybGQgdG9vLiAgSSBhbSBqdXN0IGFzIHN0dW1wZWQgYXMgdGhlIHBvbGl0aWNpYW5zIHdoaWNoIGFyZSBhbHNvIHRyeWluZyB0byBlbnN1cmUgdGhhdCBhbGwgdGhlIHRheGVzIGFyZSBwYWlkIGZyb20gdGhlbSBhcyB3ZWxsLiAgSXQgaXMgbXVjaCBlYXNpZXIgd2l0aGluIGEgdmlkZW8gZ2FtZSB3b3JsZCwgdHJ5aW5nIHRvIGVuZm9yY2Ugc29tZXRoaW5nIGxpa2UgdGhpcyBpbiB0aGUgcmVhbC13b3JsZCBpcyBub3QgZWFzeSwgdG8gc2F5IHRoZSBsZWFzdC4gIEFsc28sIHdpdGggdGhlIHJlY2VudCBtb3ZlIHRvIGNyeXB0by1jdXJyZW5jeSwgdGhpcyBqdXN0IGNvbXBsaWNhdGVzIGV2ZXJ5dGhpbmcuICBJbiBmYWN0LCB0cnlpbmcgdG8gZW5mb3JjZSBhIGxpdGVyYWwgKmNhcCogaW4gdGhlIG1vZGVybiB3b3JsZCB3b3VsZCBiZSBmdXRpbGUsIGFuZCB0aHVzIGlsbG9naWNhbGx5IHRvIGV2ZW4gYXR0ZW1wdCB0byBpbXBsZW1lbnQuICBQcmF5IGZvciBhIHNvZnQgbGFuZGluZyB3aXRoIHRoZSBlY29ub21pYyBjb2xsYXBzZS5cblxuVGhpcyBpcyBwYXJ0IG9mIGEgbGFyZ2VyIHNlcmllcyBvZiBbRGVwcmVzc2luZyBBcnRpY2xlc10oIy9EZXByZXNzaW5nQXJ0aWNsZXMpLlxuIiB9LCB7ICJJRCIgOiA1OSwgIlBBVEgiIDogIi9EZXByZXNzaW5nQXJ0aWNsZXMiLCAiVElUTEUiIDogIkRlcHJlc3NpbmcgQXJ0aWNsZXMiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMy0wOFQyMTowOTo1NS40NDZaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAzLTE2VDE3OjAxOjE4LjA5OVoiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIlRoZSBmb2xsb3dpbmcgYXJ0aWNsZXMgd2lsbCBtb3N0IGxpa2VseSBjb250YWluIHNvbWUgdmVyeSBkZXByZXNzaW5nIGNvbnRlbnQsIHNvIHJlYWRlciBiZXdhcmUuICBIb3dldmVyLCBzb21lIGFydGljbGVzIG1heSBvZmZlciBqdXN0IGEgc21hbGwgZ2xpbW1lciBvZiBob3BlLCB0aGF0IHF1aWNrbHkgZmFkZXMgYnkgdGhlIGFydGljbGUncyBjb25jbHVzaW9uLlxuXG5JIHRlbmQgdG8gd3JpdGUgYSBsb3Qgb2YgaW50ZXJlc3RpbmcgdGhvdWdodCBwcm92b2tpbmcgYXJ0aWNsZXMgd2hlbiBJIGFtICpkZXByZXNzZWQqLCBhbmQgdGhpcyBwYWdlIGhlcmUgd2lsbCB0cnkgYW5kIHByb3ZpZGUgYSBsaW5rIHRvIGVhY2ggb2YgdGhlbS4gIEkgd3JpdGUgdGhpcyAqZGlzY2xhaW1lciogaGVyZSwgaXMgYmVjYXVzZSBhZnRlciBJIGNvbnN1bWUgc29tZXRoaW5nIHRoYXQgb3RoZXJ3aXNlIG1ha2VzIG1lIGxlc3MgZGVwcmVzc2VkLCBhbmQgd2hlbiBJIHJlYWQgc29tZSBvZiB0aGVzZSBhcnRpY2xlcyBiYWNrIGluIGEgbGVzcyBkZXByZXNzZWQgc3RhdGUgb2YgbWluZCwgSSBoYXZlIGEgZGlmZmVyaW5nIG9waW9uaW9uIG9mIHRoZW0sIGFuZCBiZWNvbWluZyBtb3JlIGF3YXJlIG9mIGp1c3QgaG93IEkgYW0gd2hlbiBJIGFtIGRlcHJlc3NlZC4gIEkgd2FzIGdvaW5nIHRvIGNvbnRpbnVlIGFub3RoZXIgYXJ0aWNsZSB0aGlzIGV2ZW5pbmcsIGJ1dCB3YXMgdW5hYmxlIHRvLCBhcyBJIGp1c3QgY29uc3VtZWQgc29tZXRoaW5nIHRoYXQgaGFzIHJlbGlldmVkIG1lIG9mIHRoYXQgbWluZHNldC5cblxuICAqIFtQYXJhZG94IG9mIE1vbmV5XSgjL1BhcmFkb3hPZk1vbmV5KVxuICAqIFtEZXByZXNzaW9uXSgjL0RlcHJlc3Npb24pXG4iIH0sIHsgIklEIiA6IDYwLCAiUEFUSCIgOiAiL0ludHJhV2ViIiwgIlRJVExFIiA6ICJJbnRyYVdlYiIsICJDUkVBVEVEIiA6ICIyMDI0LTAzLTE1VDIyOjI4OjMyLjEwMloiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDMtMTVUMjI6MzI6MzYuNjUyWiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiU2ltaWxhciB0byBbeFByb2plY3QtRjldKCMveFByb2plY3QtRjkpIGluIHRoYXQgaXQgY2FuIGJ1aWxkIGRlc2t0b3AtbGlrZSBhcHBsaWNhdGlvbnMgZm9yIHRoZSB3ZWIsIGJ1dCBoYXMgYmVlbiBhcm91bmQgZm9yIGEgbG90IGxvbmdlciBhbmQgYWxzbyBoYXMgYW4gZXZhbHVhdGlvbiBlZGl0aW9uIHRoYXQgdGhlIHdlYnNpdGUgc2F5cyBkb2VzIG5vdCBleHBpcmUuICBPbmUgZGF5IEkgbWF5IGNoZWNrIGl0IG91dCBhbmQgc2VlIHdoYXQgSSBjYW4gYnVpbGQgd2l0aCBpdC4gIFlvdSBjYW4gZmluZCB0aGUgcHJvamVjdCB3ZWJzaXRlIGhlcmU6IFtodHRwczovL3d3dy5hdG96ZWQuY29tL2ludHJhd2ViL10oaHR0cHM6Ly93d3cuYXRvemVkLmNvbS9pbnRyYXdlYi8pXG5cbkl0IHdhcyBmaXJzdCBhbmQgZm9yZW1vc3QgZGV2ZWxvcGVkIHdpdGggKkRlbHBoaSogaW4gbWluZCwgYnV0IEkgcmVhZCBpbiBhIHJlY2VudCBwb3N0IHRoYXQgdGhlIGRldmVsb3BlcnMgYXJlIHNvb24gbWFraW5nIGl0IGF2YWlsYWJsZSB0byB1c2Ugd2l0aCBGcmVlUGFzY2FsL0xhemFydXMuXG4iIH0sIHsgIklEIiA6IDYxLCAiUEFUSCIgOiAiL1Bhc2NhbEFJIiwgIlRJVExFIiA6ICJOZXVyYWwgTmV0d29ya3MgaW4gT2JqZWN0UGFzY2FsIiwgIkNSRUFURUQiIDogIjIwMjQtMDMtMTVUMjI6MzI6NTIuMzk4WiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMy0xNVQyMjozNzoyNS4zMzlaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJBcyBtb3N0IGRldmVsb3BlcnMgc2VlICpQYXNjYWwqIGFzIGFuIG91dGRhdGVkIHByb2dyYW1taW5nIGxhbmd1YWdlIGFuZCBtb3N0IGRvbid0IGV2ZW4gbG9vayBpdCdzIGRpcmVjdGlvbiwgbW9zdCBkZXZlbG9wZXJzIHdpbGwgbm90IGV2ZW4ga25vdyB0aGF0IGEgKlBoRCBpbiBBSSogaGFzIGJlZW4gd29ya2luZyB0aXJlbGVzc2x5IG9uIGEgcG93ZXJmdWwgQUkgbGlicmFyeSBmb3IgT2JqZWN0UGFzY2FsIHNpbmNlIGFyb3VuZCAyMDE3LCBidXQgSSBiZWxpZXZlIHRoZSBkZXZlbG9wZXIgZGlkIG1lbnRpb24gc29tZXdoZXJlIHRoYXQgdGhpcyB3b3JrIG9yaWdpbmFsbHkgYmVnYW4gaW4gMjAwMS4gIEkgaGlnaGx5IHJlY29tbWVuZCBjaGVja2luZyBpdCBvdXQgaWYgeW91IGFyZSBpbnRvIEFJIGFuZCBuZXVyYWwgbmV0d29ya3MsIGFzIGl0IHdpbGwgb25seSBzdGFydCBnZXR0aW5nIGJldHRlciBmcm9tIHRoaXMgcG9pbnQgZm9yd2FyZC5cblxuW0dpdEh1YiBSZXBvXShodHRwczovL2dpdGh1Yi5jb20vam9hb3BhdWxvc2NodWxlci9uZXVyYWwtYXBpKVxuXG5bRm9ydW0gcG9zdF0oaHR0cHM6Ly9mb3J1bS5sYXphcnVzLmZyZWVwYXNjYWwub3JnL2luZGV4LnBocC90b3BpYywzOTA0OS4wLmh0bWwpXG4iIH0sIHsgIklEIiA6IDYyLCAiUEFUSCIgOiAiL0RlcHJlc3Npb24iLCAiVElUTEUiIDogIlVuZGVyc3RhbmRpbmcgbXkgRGVwcmVzc2lvbiIsICJDUkVBVEVEIiA6ICIyMDI0LTAzLTE2VDE3OjAxOjE5LjUzNVoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDMtMTZUMTg6MDc6MjQuMjgyWiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiSSBhbSBzdGFydGluZyB0byBiZWxpZXZlIHRoYXQgSSBtYXkgaGF2ZSB3aGF0IGlzIGNhbGxlZCAqc2l0dWF0aW9uYWwgZGVwcmVzc2lvbiogcmF0aGVyIHRoYW4gKmNsaW5pY2FsIGRlcHJlc3Npb24qLCBhcyBpbiBtb3N0IGNhc2VzLCBJIGRvIG5vdCBuZWVkIG1lZGljYXRpb25zIHRvIGhhbmRsZSBpdCwgaWYgbXkgbGlmZSBpcyBnb2luZyB3ZWxsIGFuZCBJIGFtIG5vdCB1bmRlciBhIGxhcmdlIGFtb3VudCBvZiBvdmVyd2hlbG1pbmcgc3RyZXNzLiAgSSBoYXZlIGJlZW4gd29ya2luZyB3aXRoIHZhcmlvdXMgcGVvcGxlIHRocm91Z2hvdXQgbXkgbGlmZSBvbiBkZXByZXNzaW9uLCBhbmQgZ2l2ZW4gc2V2ZXJhbCB0YWN0aWNzIHRvIGhlbHAgYWxsZXZpYXRlIGl0LiAgVGhlIG1vc3QgdXNlZnVsIG1ldGhvZHMgYXJlIHVzdWFsbHkgYSBzaW1wbGUgZGlldGFyeSBjaGFuZ2UuICBPbmUgZm9vZCB0aGF0IHJlYWxseSBzdGFuZHMgb3V0IGlzICoqc3VuZmxvd2VyIHNlZWRzKiosIHdoaWNoIEkgYW0gbm90IHN1cmUgaG93IG11Y2ggb2YgdGhlIGdlbmVyYWwgcG9wdWxhdGlvbiByZWFsbHkga25vd3MgaG93IG11Y2ggaXQgYWN0dWFsbHkgaGVscHMuICBJIGFsc28gZmluZCBoZWFsdGh5IGZpc2hlcywgc3VjaCBhcyAqKlNhbG1vbioqIHRvIGJlIGV4dHJlbWVseSBoZWxwZnVsIHdpdGggbXkgZGVwcmVzc2l2ZSBlcGlzb2Rlcywgb3IgdG8ga2VlcCB0aGVtIGF0IGJheSBlbnRpcmVseS4gIFRoZXJlIHdhcyBhIHRpbWUgd2hlcmUgYWxtb3N0IGV2ZXJ5IGRheSBJIHVzZWQgdG8gZWF0IHRoaXMgcmVhbGx5IGFtYXppbmcgZGlzaCBJIGNyZWF0ZWQgbXlzZWxmLiAgSXQgY29uc2lzdHMgb2YgKipiYWtlZCBtZWRpdGVycmFuZWFuIHNhbG1vbioqIGNob3BwZWQgdXAgaW50byBwaWVjZXMgaW4gYSBzYWxhZCB3aXRoIGEgbGlnaHQgdmluYWlncmV0dGUuICBJdCB3YXMgZXh0cmVtZWx5IGRlbGljb3VzIGFuZCByZWxhdGl2ZWx5IGVhc3kgdG8gcHJlcGFyZS5cblxuXCIqU3VuZmxvd2VyIHNlZWRzIHByb3ZpZGUgdHJ5cHRvcGhhbi1yaWNoIHByb3RlaW5zIHdpdGggdGhlIHBvdGVudGlhbCB0byBwcm90ZWN0IGFnYWluc3QgZGVwcmVzc2lvbi4gVHJ5cHRvcGhhbiBpcyBhIHByZWN1cnNvciBvZiBzZXJvdG9uaW4gYW5kIGEgc3Vic3RyYXRlIGZvciB0aGUgcHJvZHVjdGlvbiBvZiBpbmRvbGUgZGVyaXZhdGl2ZXMgYnkgZ3V0IG1pY3JvYmlvdGEuIFRoaXMgc3R1ZHkgYWltZWQgdG8gaW52ZXN0aWdhdGUgdGhlIGFzc29jaWF0aW9uIGJldHdlZW4gdGhlIGRlcHJlc3Npb24tYWxsZXZpYXRpbmcgZWZmZWN0cyBvZiBkZW9pbGVkIGFuZCBkZWNobG9yb2dlbmljIHN1bmZsb3dlciBzZWVkcyAoRFNGUykgYW5kIHJlZ3VsYXRpb24gb2YgZ3V0IG1pY3JvYmlvdGEuKlwiXG5cbltOYXRpb25hbCBMaWJyYXJ5IG9mIE1lZGljaW5lIFN0dWR5XShodHRwczovL3d3dy5uY2JpLm5sbS5uaWguZ292L3BtYy9hcnRpY2xlcy9QTUM5Mjg5NzQxLylcblxuVGhlcmUgaGFzIGFsc28gYmVlbiBzb21lIGluY3JlYXNpbmcgc3R1ZGllcyBvbiAqKlNTUklzKiogYW5kIGhvdyB0aGV5IGRvbid0IGFjdHVhbGx5IHNvbHZlIHRoZSBwcm9ibGVtLCBhbmQgdGhhdCB0aGUgbWVkaWNhbCBjb21tdW5pdHkgaXMgbm93IHF1ZXN0aW9uaW5nIGlmIGRlcHJlc3Npb24gaXMgYWN0dWFsbHkgZXZlbiByZWxhdGVkIHRvIGEgKmNoZW1pY2FsIGltYmFsYW5jZSogaW4gdGhlIGJyYWluLlxuXG5bTGl0dGxlIGV2aWRlbmNlIHRoYXQgY2hlbWljYWwgaW1iYWxhbmNlIGNhdXNlcyBkZXByZXNzaW9uLCBVQ0wgc2NpZW50aXN0cyBmaW5kXShodHRwczovL3d3dy50aGVndWFyZGlhbi5jb20vc29jaWV0eS8yMDIyL2p1bC8yMC9zY2llbnRpc3RzLXF1ZXN0aW9uLXdpZGVzcHJlYWQtdXNlLW9mLWFudGlkZXByZXNzYW50cy1hZnRlci1zdXJ2ZXktb24tc2Vyb3RvbmluKVxuXG5bU2Vyb3RvbmluIGFuZCBEZXByZXNzaW9uOiBBIERpc2Nvbm5lY3QgYmV0d2VlbiB0aGUgQWR2ZXJ0aXNlbWVudHMgYW5kIHRoZSBTY2llbnRpZmljIExpdGVyYXR1cmVdKGh0dHBzOi8vd3d3Lm5jYmkubmxtLm5paC5nb3YvcG1jL2FydGljbGVzL1BNQzEyNzc5MzEvKVxuXG5JbiBteSBwZXJzb25hbCBsaWZlLCB1bmRlciBtb3N0IGNpcmN1bXN0YW5jZXMgd2hlcmUgSSBmZWVsIGxpa2UgSSBhbSBpbiBjb250cm9sIG9mIG15IG93biBsaWZlIGFuZCBjYW4gYWZmb3JkIHRvIHB1cmNoYXNlIHdoYXQgbXkgYm9keSBuZWVkcyB0byBwcm9wZXJseSBmdW5jdGlvbiwgSSBhbSBub3QgZGVwcmVzc2VkLiAgSW4gdGhlIHJlY2VudCB5ZWFycyBhZnRlciBDT1ZJRC0xOSwgSSBkbyBhZG1pdCwgdGhhdCBpdCBoYXMgYmVlbiBtdWNoIG1vcmUgZGlmZmljdWx0IHRvIG1hbmFnZSBteSBkZXByZXNzaW9uIGFzIG11Y2ggYXMgSSB3YXMgYWJsZSB0byBwcmUtcGFuZGVtaWMuICBTaW5jZSB0aGUgcGFuZGVtaWMsIEkgaGF2ZW4ndCB3b3JrZWQgYmFjayBpbiBhbiBvZmZpY2Ugam9iLCBhbmQgaGF2ZSBpbnN0ZWFkIGJlZW4gbW9zdGx5IGlzb2xhdGVkIGluIG15IGhvbWUgbW9zdCBkYXlzLCB3aGljaCBpcyBhbHNvIG5vdCB2ZXJ5IGhlYWx0aHkgZm9yIGRlcHJlc3Npb24sIGFuZCBpbiBmYWN0IGNhbiBtYWtlIGl0IHdvcnNlLiAgVG8gbWFrZSByZWNlbnQgbWF0dGVycyB3b3JzZSwgSSBhbSBub3cgbm8gbG9uZ2VyIGFibGUgdG8gZmluYW5jaWFsbHkgdGFrZSBjYXJlIG9mIG15IG5lZWRzLCBzdWNoIGFzIHB1cmNoYXNpbmcgdGhlIGZvb2QgaXRlbXMgd2hpY2ggSSBrbm93IGRvZXMgcmVsaWV2ZSBteSBkZXByZXNzaW9uIGFuZCBhbGxvdyBtZSB0byBjb250aW51ZSBsaXZpbmcgYSBtb3JlIHByb2R1Y3RpdmUgbGlmZS4gIE5vdywgaW4gb3JkZXIgdG8gYmUgYWJsZSB0byBjb3BlIHdpdGggbXkgZGVwcmVzc2lvbiwgSSBuZWVkIHRvIGZpbmQgZmlyc3QgdGhlIG1vdGl2YXRpb24gaW4gbWUgdG8gZG8gc29tZXRoaW5nIG90aGVyIHRoYW4gZHdlbGwgb24gbXkgY3VycmVudCBsaWZlIHNpdHVhdGlvbiwgYW5kIHRvIGtlZXAgbXkgbWluZCBvdGhlcndpc2Ugb2NjdXBpZWQgd2l0aCBzb21ldGhpbmcuICBPbmUgdGhpbmcgSSBjYW4gbm9ybWFsbHkgZG8gdGhlc2UgZGF5cyBzdGlsbCBpcyBzaXQgYXQgbXkgY29tcHV0ZXIgYW5kIHBlcmZvcm0gcmVzZWFyY2ggb24gdmFyaW91cyB0b3BpY3MsIHN1Y2ggYXMgbWVudGFsIGhlYWx0aCwgYW5kIGNvbXB1dGVyIHNjaWVuY2UuICBJIGNhbiBhbHNvIGZ1bGx5IGRpc3RyYWN0IGFuZCBpbW1lcnNlIG15c2VsZiBpbiBzb2Z0d2FyZSBkZXZlbG9wbWVudCwgd2hpY2ggdXN1YWxseSBxdWVsbHMgdGhlIGZlZWxpbmdzIG9mIGh1bmdlciwgYXMgaXQgZGlkIHByaW9yIHRvIG5vdCBoYXZpbmcgYW55IGZvb2QuICBBcyBhIGNoaWxkLCBteSBmb3N0ZXIgcGFyZW50cyBhdCB0aW1lcyBuZWVkZWQgdG8gZm9yY2UgbWUgb2ZmIG15IGNvbXB1dGVyIGluIG9yZGVyIHRvIHBlcmZvcm0gcmVndWxhciBhY3Rpdml0aWVzIHN1Y2ggYXMgZWF0aW5nLCBzaG93ZXJpbmcsIGFuZCBldmVuIGdvaW5nIHRvIHRoZSBiYXRocm9vbS4gIEhvd2V2ZXIsIHdoZW4gaW4gc3VjaCBhIGZpbmFuY2lhbCBzdGF0ZSB3aGljaCBJIGN1cnJlbnRseSBmaW5kIG15c2VsZiBpbiwgaXQgaXMgbXVjaCBlYXNpZXIgdG8gcmVncmVzcyBiYWNrIHRvIGp1c3QgbWVyZWx5IHNpdHRpbmcgYXQgbXkgY29tcHV0ZXIgYW5kIGRvaW5nIGJvdGggcmVzZWFyY2ggYW5kIHNvZnR3YXJlIGRldmVsb3BtZW50IGFzIGEgd2F5IHRvIHRha2UgbXkgbWluZCBvZmYgb2YgdGhlIHN0cmVzcyBpbiBteSBsaWZlLCBhbmQgdWx0aW1hdGVseSB0YWtlIG15IG1pbmQgb2ZmIG9mIG15IGltbWVkaWF0ZSBuZWVkcywgc3VjaCBhcyBlYXRpbmcsIG9mIHdoaWNoIEkgY2FuIGJhcmVseSBkbywgYW5kIG5vdyBJIGFtIG5lZWRpbmcgdG8gcmF0aW9uIGFsbCBvZiB0aGUgZm9vZCBJIGRvIHByb2N1cmUuICBBdCBsZWFzdCBJIGNhbiBmaW5kIHNvbWUgc29sYWNlIGluIG15IG90aGVyd2lzZSBob3JyaWJsZSBsaWZlIHVudGlsIEkgY2FuIHByb3Blcmx5IHRha2UgY2FyZSBvZiBteXNlbGYgYW5kIG15IG5lZWRzIG9uY2UgYWdhaW4uXG4iIH0sIHsgIklEIiA6IDYzLCAiUEFUSCIgOiAiL0RpZ2l0YWxJRCIsICJUSVRMRSIgOiAiRGlnaXRhbCBJRHMgaW4gQ2FuYWRhIiwgIkNSRUFURUQiIDogIjIwMjQtMDMtMjBUMTA6MDk6MzcuMDMyWiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMy0yMFQxMDoyOTo1My40MzVaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJUaGlzIG1vcm5pbmcgSSBqdXN0IGJlY2FtZSBhd2FyZSB0aHJvdWdoIGEgKlJlZGRpdCogbm90aWZpY2F0aW9uIG9mIGEgcG9zdCBtYWRlIDI3IGRheXMgYWdvLiAgVGhlIFJlZGRpdCBwb3N0IGhhcyBtYW55IENhbmFkaWFucyB2ZXJ5IHZvY2FsIGFib3V0IHRoaXMgbmV3IHBvdGVudGlhbCAqRGlnaXRhbCBJRCogYmVpbmcgaW1wbGVtZW50ZWQgd2l0aGluIENhbmFkYS4gIE15IG9yaWdpbmFsIHJlcGx5IHdhcyBnb2luZyB0byBiZSBibHVudCBhbmQgY29ja3ksIFwiKldlbGwgd2UgZG8gbmVlZCBJRCB0byB3YWxrIGludG8gYWR1bHQtb25seSBzdG9yZXMgaW4gQ2FuYWRhKlwiLCBidXQgdGhlbiBhZnRlciByZWFkaW5nIG1hbnkgb2YgdGhlIGNvbW1lbnRzIHBvc3RlZCBieSBmcmlnaHRlbmVkIENhbmFkaWFucyBjcnlpbmcgbGlrZSBsaXR0bGUgYmFiaWVzLCBhbmQgbm90aWNpbmcgc29tZSBtb3JlIGNvbW1lbnRzIGFib3V0IHRoZSBwb3RlbnRpYWwgb2YgdGhlc2UgYmVpbmcgKmhhY2tlZCosIGFzIGluIHRoZSBwb3JuIHdlYnNpdGUgZ2V0dGluZyBoYWNrZWQsIGFuZCBhIGJhZCBhY3RvciBzdGVhbGluZyBzYWlkIERpZ2l0YWwgSURzLCBJIHdyb3RlIGEgdmFzdGx5IGRpZmZlcmVudCBjb21tZW50IG9uIHRoZSBzdWJqZWN0LlxuXG5UaGVyZSBpcyBhIHZlcnkgc2ltcGxlIHNvbHV0aW9uIGZvciB0aGlzLCB3aGljaCBpcyBhbHJlYWR5IGluIHByYWN0aWNhbCB1c2UgaW4gKkV1cm9wZSosICoqQ2xpZW50LXNpZGUgU1NMIGNlcnRpZmljYXRlcyoqLiAgVGhpcyB3b3VsZCBiZSB0aGUgaWRlYWwgc29sdXRpb24gZm9yIHVzZSBpbiBDYW5hZGEgYXMgd2VsbCwgc28gQ2FuYWRpYW5zIGNhbiBiZSByZXN0IGFzc3VyZWQgdGhhdCBvbmx5IHRoZXkgaGF2ZSBhY2Nlc3MgdG8gdGhlaXIgb3duIGdvdmVybm1lbnQgZmlsZXMsIHRheGVzLCBhbmQgeWVzLCBiZSB2ZXJpZmllZCBmb3IgcG9ybiBzaXRlcy5cblxuW0NsaWVudC1zaWRlIFNTTCBjZXJ0aWZpY2F0ZXNdKGh0dHBzOi8vd3d3LmRpZ2ljZXJ0LmNvbS9mYXEvcHVibGljLXRydXN0LWFuZC1jZXJ0aWZpY2F0ZXMvd2hhdHMtdGhlLWRpZmZlcmVuY2UtYmV0d2Vlbi1jbGllbnQtY2VydGlmaWNhdGVzLXZzLXNlcnZlci1jZXJ0aWZpY2F0ZXMpXG5cbkl0J3MgYW4gZWFzeSBzb2x1dGlvbiwgYW5kIGluIGV2ZXJ5IGJyb3dzZXIgYW5kIGluIGV2ZXJ5IG9wZXJhdGluZyBzeXN0ZW0sIGp1c3QgZG91YmxlLWNsaWNraW5nIG9uIHRoZSBjZXJ0aWZpY2F0ZSBkb3dubG9hZCwgYXMgdGhlIGZpbGUgZXh0ZW5zaW9uIGlzIG5vcm1hbGx5IHJlZ2lzdGVyZWQgd2l0aCB0aGUgZGVmYXVsdCBicm93c2VyLCBhbmQgaXQganVzdCBpbnN0YWxscywgYWZ0ZXIgdGhlIGVudGVyaW5nIG9mIGEgdHlwaWNhbCAqcGFzc3BocmFzZSogb2YgY291cnNlLiAgSXQncyBlYXN5IHRvIGltcGxlbWVudCwgZWFzeSB0byBpbnN0YWxsLCBhbmQganVzdCBhcyBlYXN5IHRvIHVzZS4gIEluIGZhY3QgdXNpbmcgdGhlIGNlcnQgaXMgYXMgZWFzeSBhcyBuYXZpZ2F0aW5nIHRvIHRoZSB3ZWJzaXRlLCBjbGlja2luZyBvbiB0aGUgU2lnbi1JbiwgYW5kIHNlbGVjdGluZyB0aGUgY2xpZW50LXNpZGUgY2VydCB5b3Ugd2lzaCB0byBzaWduLWluIHdpdGgsIHZhbGlkYXRpbmcgeW91ciBpZGVudGlmaWNhdGlvbi4gIFRoZSBjZXJ0aWZpY2F0ZSBpdHNlbGYgaXMgbmV2ZXIgc2VudCB0byB0aGUgcmVtb3RlIHNlcnZlciwgYW5kIGluc3RlYWQgaXQgaXMgdXNlZCBmb3IgdGhlIGVuY3J5cHRpb24vZGVjcnlwdGlvbiBleGNoYW5nZSBiZXR3ZWVuIHRoZSBicm93c2VyIGFuZCB0aGUgc2VydmVyLCBpdCdzIHJlYWxseSBhIHZlcnkgdW51c2VkIHBvd2VyZnVsIHRlY2hub2xvZ3kgdGhhdCBhIG1ham9yaXR5IG9mIHRoZSB3ZXN0ZXJuIHBvcHVsYXRpb24gaXMgY29tcGxldGVseSB1bndhcmUgb2YuXG5cbkZvciBpbmZvcm1hdGlvbiBvbiB0aGUgc3VjY2Vzc2Z1bCBpbXBsZW1lbnRhdGlvbiB3aXRoaW4gdGhlIEV1cm9wZWFuIFVuaW9uLCBzZWUgdGhlaXIgb2ZmaWNpYWwgd2Vic2l0ZSBvbiAqRGlnaXRhbCBJRHMqOlxuXG5bRVUgRGlnaXRhbCBJRHNdKGh0dHBzOi8vY29tbWlzc2lvbi5ldXJvcGEuZXUvc3RyYXRlZ3ktYW5kLXBvbGljeS9wcmlvcml0aWVzLTIwMTktMjAyNC9ldXJvcGUtZml0LWRpZ2l0YWwtYWdlL2V1cm9wZWFuLWRpZ2l0YWwtaWRlbnRpdHlfZW4pXG4iIH0sIHsgIklEIiA6IDY0LCAiUEFUSCIgOiAiL1B1dGVyIiwgIlRJVExFIiA6ICJQdXRlcjogQ2xvdWQgRGVza3RvcCBQQyIsICJDUkVBVEVEIiA6ICIyMDI0LTAzLTI1VDIwOjUxOjM3LjIzMFoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDMtMjVUMjA6NTY6NTYuMTYxWiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiW1B1dGVyXShodHRwczovL3B1dGVyLmNvbSkgaXMgYSBmYWlybHkgbmV3IHByb2R1Y3QsIGFuZCBhcyBvZiB0aGlzIHdyaXRpbmcsIGl0IGhhcyBiZWVuIHVuZGVyIGhlYXZ5IGRldmVsb3BtZW50IGZvciB0aGUgcGFzdCB3aGlsZS4gIEl0IGJyaW5ncyBib3RoIGNsb3VkIHN0b3JhZ2UsIGFuZCBhIGNsb3VkIGRlc2t0b3AgYXMgYSB3YXkgdG8gbWFuYWdlIHRoaXMgY2xvdWQgc3RvcmFnZSwgYXMgd2VsbCBhcyBhIHdheSB0byBidWlsZCBhcHBzIGZvciBpdC4gIEJlbG93IGlzIGEgbGlzdCBvZiBhbGwgdGhlIGN1cnJlbnQgYXBwcyBJIGhhdmUgYXZhaWxhYmxlIG9uIFB1dGVyLCBpbiBvcmRlciBvZiB0aGVpciBjcmVhdGlvbjpcblxuICAqIFtQdXRlciBUZXN0IEFwcF0oaHR0cHM6Ly9wdXRlci5jb20vYXBwL3B1dGVyLXRlc3QtYXBwLWMzZWxiNjV2NWx2KVxuICAqIFtQdXRlckhhY2tdKGh0dHBzOi8vcHV0ZXIuY29tL2FwcC9wdXRlcmhhY2stcHYwd2gwcjNsMylcbiAgKiBbUHV0ZXJUZXJtXShodHRwczovL3B1dGVyLmNvbS9hcHAvcHV0ZXJ0ZXJtLXY3NmVtbDg2OWwpXG4gICogW1B1dGVyUGFjXShodHRwczovL3B1dGVyLmNvbS9hcHAvcHV0ZXJwYWMpXG4gICogW1B1dGVydGlzXShodHRwczovL3B1dGVyLmNvbS9hcHAvcHV0ZXJ0ZXRyaXMpXG4gICogW1B1dGVydGhvbl0oaHR0cHM6Ly9wdXRlci5jb20vYXBwL3B1dGVydGhvbikgc29vbiB0byBiZSByZW5hbWVkICoqUHV0aG9uKipcbiAgKiBbUHV0ZXJCbG9nZ2VyXShodHRwczovL3B1dGVyLmNvbS9hcHAvcHV0ZXJibG9nZ2VyKVxuIiB9LCB7ICJJRCIgOiA2NSwgIlBBVEgiIDogIi9CQVNJQ1Rlc3QiLCAiVElUTEUiIDogIkFwcGxlIEJBU0lDIFRlc3QgcHJvZ3JhbSIsICJDUkVBVEVEIiA6ICIyMDI0LTA0LTEwVDEyOjE4OjQwLjYyN1oiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDQtMTBUMTI6NTQ6NTQuMDM4WiIsICJDT05URU5UVFlQRSIgOiA1MiwgIkNPTlRFTlQiIDogIjUgUFIjMyA6IFRFWFQgOiBIT01FXG4xMCBQUklOVCBcIigxKSBHT1NVQi9SRVRVUk4vUE9QXCJcbjE1IFBSSU5UIFwiKDIpIEJhc2ljIEkvTywgSUYvVEhFTlwiXG4yMCBQUklOVCBcIigzKSBGaWJib25hY2NpIFNlcXVlbmNlXCJcbjI1IFBSSU5UIFwiKDQpIEd1ZXNzIG15IG51bWJlclwiXG4zMCBQUklOVCBcIig1KSBHdWVzcyB5b3VyIG51bWJlclwiXG4zNSBQUklOVCBcIig2KSBBcHByb3hpbWF0ZSBQaVwiXG40MCBQUklOVCBcIig3KSBGdW5jdGlvbiB0ZXN0c1wiXG40NSBQUklOVCBcIig4KSBFcnJvciB0ZXN0c1wiXG41MCBQUklOVCBcIig5KSBDZWxsdWxhciBhdXRvbWF0YVwiXG41NSBQUklOVCBcIigxMCkgTWFkbGlic1wiXG42MCBQUklOVCBcIigxMSkgTGlzc2Fqb3VzIEZpZ3VyZXNcIlxuNjUgUFJJTlQgXCIoMTIpIFNjcmVlbiBUZXN0XCJcbjcwIFBSSU5UIFwiKDEzKSBET1MgU2VxdWVudGlhbCBBY2Nlc3NcIlxuNzUgUFJJTlQgXCIoMTQpIExvcmVzIERyYXdpbmcgd2l0aCBKb3lzdGlja1wiXG44MCBQUklOVCBcIigxNSkgTG9yZXMgQ29sb3JzXCJcbjg1IFBSSU5UIFwiKDE2KSBNYW5kZWxicm90IFNldFwiXG44NSBQUklOVCBcIigxNykgTGlnaHQgQ3ljbGVzXCJcbjkwIFBSSU5UIFwiKDE4KSBIaXJlcyBEZW1vXCJcbjkyIFBSSU5UIFwiKDE5KSBET1MgV1JJVEUvQVBQRU5EXCJcbjk0IFBSSU5UIFwiKDIwKSBPTkVSUiAuLi4gUkVTVU1FXCJcbjk0IFBSSU5UIFwiKDIxKSBDSFIkIFRlc3RzXCJcbjk1IFBSSU5UOiBJTlBVVCBcIkVudGVyIG9wdGlvbjogXCI7IEEgOiBQUklOVCA6IEhPTUUgOiBPTiBBIEdPVE8gMTAwLDIwMCwzMDAsNDAwLDUwMCw2MDAsNzAwLDgwMCwxOTAwLDEwMDAsMTEwMCwxMjAwLDIwMDAsMjEwMCwyMjAwLDIzMDAsMjQwMCwyNTAwLDI2MDAsMjcwMCwyODAwXG45OCBIT01FXG45OSBFTkRcblxuMTAwIFJFTSBHb3N1Yi9Qb3AvUmV0dXJuIHRlc3RzXG4xMTAgVFJBQ0UgOiBQUklOVCBcIkdPU1VCIDE1MFwiIDogR09TVUIgMTUwXG4xMjAgUFJJTlQgXCJHT1NVQiAxNjBcIiA6IEdPU1VCIDE2MFxuMTMwIFBSSU5UIDogUFJJTlQgXCJQcmVzcyBhbnkga2V5OiBcIiA6IEdFVCBBJCA6IEdPVE8gNVxuMTUwIFBSSU5UIFwiUkVUVVJOXCIgOiBOT1RSQUNFIDogUkVUVVJOXG4xNjAgUFJJTlQgXCJHT1NVQiAxOTBcIiA6IEdPU1VCIDE5MFxuMTgwIFBSSU5UIFwiUkVUVVJOIC0gU2hvdWxkbid0IGhhcHBlbiFcIlxuMTkwIFBSSU5UIFwiUE9QXCIgOiBQT1AgOiBQUklOVCBcIlJFVFVSTlwiIDogUkVUVVJOXG5cbjIwMCBSRU0gQmFzaWMgaW5wdXQvb3V0cHV0LCBleHByZXNzaW9uLCBJRi9USEVOIHRlc3RzXG4yMDUgUFJJTlQgXCJhdCBsaW5lIDIwMFwiIFxuMjEwIElOUFVUIFwiUGljayBhIG51bWJlcjogXCI7IEFcbjIxNSBQUklOVCBBXG4yMjAgSUYgKEEpIFRIRU4gUFJJTlQgXCJUUlVFXCIgXG4yMzAgSUYgKE5PVCBBKSBUSEVOIFBSSU5UIFwiRkFMU0VcIlxuMjQwIFBSSU5UIDogUFJJTlQgXCJQcmVzcyBhbnkga2V5OiBcIiA6IEdFVCBBJCA6IEdPVE8gNVxuXG4zMDAgUkVNIEZpYmJvbmFjY2lcbjMxMCBMQSA9IDAgOiBDVSA9IDFcbjMyMCBOWCA9IExBICsgQ1UgOiBQUklOVCBOWCBcbjMzMCBMQSA9IENVIDogQ1UgPSBOWFxuMzQwIEdPVE8gMzIwXG5cbjQwMCBSRU0gR3Vlc3MgbXkgbnVtYmVyXG40MDUgUFJJTlQgXCJJJ20gcGlja2luZyBhIG51bWJlciBiZXR3ZWVuIDEgYW5kIDEwMC4uLlwiXG40MTAgTiA9IElOVCggUk5EKDEpICogMTAwICkgKyAxXG40MjAgSU5QVVQgXCJZb3VyIGd1ZXNzPyBcIjsgR1xuNDMwIElGIEcgPSBOIFRIRU4gUFJJTlQgXCJHb3QgaXQhXCIgOiBQUklOVCA6IFBSSU5UIFwiUHJlc3MgYW55IGtleTogXCIgOiBHRVQgQSQgOiBHT1RPIDVcbjQzMCBJRiBHIDwgTiBUSEVOIFBSSU5UIFwiVG9vIGxvd1wiIDogR09UTyA0MjBcbjQ0MCBJRiBHID4gTiBUSEVOIFBSSU5UIFwiVG9vIGhpZ2hcIiA6IEdPVE8gNDIwXG5cbjUwMCBSRU0gR3Vlc3MgeW91ciBudW1iZXJcbjUxMCBJTlBVVCBcIlBpY2sgYSBudW1iZXIgYmV0d2VlbiAxIGFuZCAxMDAsIHRoZW4gcHJlc3MgRW50ZXI6IFwiOyBYXG41MjAgTU4gPSAxIDogTVggPSAxMDA6IEcgPSBJTlQoIFJORCgxKSAqIDEwMCApICsgMVxuNTMwIFBSSU5UIFwiSSBndWVzcyBcIjtHO1wiIC0gZW50ZXIgMSBmb3IgdG9vIGhpZ2gsIC0xIGZvciB0b28gbG93LCAwIGZvciBnb3QgaXRcIlxuNTQwIElOUFVUIFJcbjU1MCBJRiBSID0gMCBUSEVOIFBSSU5UIFwiSSBndWVzc2VkIHJpZ2h0IVwiIDogUFJJTlQgOiBQUklOVCBcIlByZXNzIGFueSBrZXk6IFwiIDogR0VUIEEkIDogR09UTyA1XG41NDAgSUYgUiA8IDAgVEhFTiBNTiA9IEcgKyAxIDogR09UTyA1NjBcbjU1MCBJRiBSID4gMCBUSEVOIE1YID0gRyAtIDEgOiBHT1RPIDU2MFxuNTYwIElGIE1YID0gTU4gVEhFTiBQUklOVCBcIkl0IG11c3QgYmUgXCI7IE1YOyBcIiAtIEkgZ3Vlc3MgeW91IHdpbi5cIiA6IEVORFxuNTcwIEcgPSBJTlQoICggTVggKyBNTiApIC8gMiApIDogR09UTyA1MzBcblxuNjAwIFJFTSBDb21wdXRlIHBpXG42MTAgSSA9IDBcbjYyMCBTVU0gPSAwXG42MzAgU0lHTiA9IDFcbjY0MCBEID0gKCBTSUdOICogKCAxIC8gKCAyICogSSArIDEgKSApIClcbjY0NSBTVU0gPSBTVU0gKyBEXG42NTAgU0lHTiA9IC1TSUdOXG42NjAgUEkgPSA0ICogU1VNXG42NzAgUFJJTlQgXCJJID0gXCI7STtcIiAgIFBJID0gXCI7UEk7XCIgIEQgPSBcIjtEXG42ODAgSSA9IEkgKyAxXG42OTAgR09UTyA2NDBcblxuNzAwIFJFTSBGdW5jdGlvbiB0ZXN0c1xuNzAyIFBSSU5UIFwiQUJTKC0zLjE0KSAgICAgICAgICAgPSBcIjsgQUJTKC0zLjE0KVxuNzA0IFBSSU5UIFwiQVNDKCdBJykgICAgICAgICAgICAgPSBcIjsgQVNDKFwiQVwiKVxuNzA2IFBSSU5UIFwiQVROKDEpICAgICAgICAgICAgICAgPSBcIjsgQVROKDEpXG43MDggUFJJTlQgXCJDSFIkKDY1KSAgICAgICAgICAgICA9IFwiOyBDSFIkKDY1KVxuNzEwIFBSSU5UIFwiQ09TKDEpICAgICAgICAgICAgICAgPSBcIjsgQ09TKDEpXG43MTIgUFJJTlQgXCJFWFAoMSkgICAgICAgICAgICAgICA9IFwiOyBFWFAoMSlcbjcxNCBQUklOVCBcIklOVCgzLjE0KSAgICAgICAgICAgID0gXCI7IElOVCgzLjE0KVxuNzE2IFBSSU5UIFwiTEVGVCQoJ2FiY2RlZicsMykgICAgPSBcIjsgTEVGVCQoXCJhYmNkZWZcIiwzKVxuNzE4IFBSSU5UIFwiTEVOKCdhYmNkZWYnKSAgICAgICAgPSBcIjsgTEVOKFwiYWJjZGVmXCIpXG43MjAgUFJJTlQgXCJMT0coMy4xNCkgICAgICAgICAgICA9IFwiOyBMT0coMy4xNClcbjcyMiBQUklOVCBcIk1JRCQoJ2FiY2RlZicsMykgICAgID0gXCI7IE1JRCQoXCJhYmNkZWZcIiwzKVxuNzI0IFBSSU5UIFwiTUlEJCgnYWJjZGVmJywzLDIpICAgPSBcIjsgTUlEJChcImFiY2RlZlwiLDMsMilcbjcyNiBQUklOVCBcIlJJR0hUJCgnYWJjZGVmJywzKSAgID0gXCI7IFJJR0hUJChcImFiY2RlZlwiLDMpXG43MjggUFJJTlQgXCJSTkQoMSkgICAgICAgICAgICAgICA9IFwiOyBSTkQoMSlcbjczMCBQUklOVCBcIlNHTigtMy4xNCkgICAgICAgICAgID0gXCI7IFNHTigtMy4xNClcbjczMiBQUklOVCBcIlNJTigxKSAgICAgICAgICAgICAgID0gXCI7IFNJTigxKVxuNzM0IFBSSU5UIFwiU1FSKDkpICAgICAgICAgICAgICAgPSBcIjsgU1FSKDkpXG43MzYgUFJJTlQgXCJTVFIkKDMuMTQpICAgICAgICAgICA9IFwiOyBTVFIkKDMuMTQpXG43MzggUFJJTlQgXCJUQU4oMSkgICAgICAgICAgICAgICA9IFwiOyBUQU4oMSlcbjc0MCBQUklOVCBcIlZBTCgnMy4xNCcpICAgICAgICAgID0gXCI7IFZBTChcIjMuMTRcIilcbjc5MCBQUklOVCA6IFBSSU5UIFwiUHJlc3MgYW55IGtleTogXCIgOiBHRVQgQSQgOiBHT1RPIDVcblxuODAwIFJFTSBFcnJvciB0ZXN0c1xuODEwIEEgPSAyIC8gMCA6IFBSSU5UIFwiU2hvdWxkbid0IHByaW50IHRoaXMhXCJcbjgyMCBQUklOVCA6IFBSSU5UIFwiUHJlc3MgYW55IGtleTogXCIgOiBHRVQgQSQgOiBHT1RPIDVcblxuOTAwIFJFTSBDZWxsdWxhciBhdXRvbWF0YVxuOTAxIFBSSU5UIFwiV29sZnJhbSdzIENBIHJ1bGVzXCIgOiBQUklOVCBcIlRyeSAxMTAsIDExMSwgMTE4LCAxMjEsIDEyNlwiIDogUFJJTlQgXG45MDIgSU5QVVQgXCJSdWxlOiBcIjsgUiA6IFBSSU5UXG45MDQgRElNIFZUKDgpIDogRk9SIEkgPSAwIFRPIDcgOiBWVChJKSA9IE5PVCggUiAvIDIgPSBJTlQoIFIgLyAyICkgKSA6IFIgPSBJTlQoUiAvIDIpIDogTkVYVFxuOTEwIFMkID0gXCIgICAgICAgICAgICAgICAgICAjICAgICAgICAgICAgICAgICAgXCJcbjkxMiBQUklOVCBcIj5cIjtTJDtcIjxcIlxuOTE0IE4kID0gXCIgXCJcbjkxNiBGT1IgSSA9IDIgVE8gTEVOKFMkKSAtIDFcbjkxOCBWID0gNCAqICggTUlEJCggUyQsIEktMSwgMSkgPSBcIiNcIiApICsgMiAqICggTUlEJCggUyQsIEksIDEpID0gXCIjXCIgKSArIDEgKiAoIE1JRCQoIFMkLCBJKzEsIDEpID0gXCIjXCIgKVxuOTIwIElGIFZUKFYpIFRIRU4gTiQgPSBOJCArIFwiI1wiIDogR09UTyA5MzBcbjkyMiBOJCA9IE4kICsgXCIgXCJcbjkzMCBORVhUIElcbjk0MCBOJCA9IE4kICsgXCIgXCJcbjk1MCBTJCA9IE4kXG45NjAgR09UTyA5MTJcblxuMTAwMCBSRU0gTWFkbGlic1xuMTAxMCBJTlBVVCBcIk5hbWU6IFwiOyBOJFxuMTAyMCBJTlBVVCBcIlZlcmI6IFwiOyBWJFxuMTAzMCBJTlBVVCBcIk5vdW46IFwiOyBOTiRcbjEwNDAgSU5QVVQgXCJQbGFjZTogXCI7IFAkXG4xMDUwIFMkID0gXCJPbmUgZGF5LCBcIiArIE4kICsgXCIgXCIgKyBWJCArIFwiIHRvIFwiICsgUCQgKyBcIiB0byBzZWUgdGhlIFwiICsgTk4kICsgXCIuXCJcbjEwNjAgUFJJTlQgUyQgOiBQUklOVCBcbjEwNzAgUFJJTlQgOiBQUklOVCBcIlByZXNzIGFueSBrZXk6IFwiIDogR0VUIEEkIDogR09UTyA1XG5cbjExMDAgUkVNIExpc3Nham91cyBGaWd1cmVzXG4xMTA1IFJFTSBQT0tFIDQ5MTY4LDAgOiBSRU0gQ2xlYXIga2V5Ym9hcmQgc3Ryb2JlXG4xMTEwIFhBID0gMTkgOiBZQSA9IDE5XG4xMTIwIFhNID0gUk5EKDEpICogMC41ICsgMC41IDogWU0gPSBSTkQoMSkgKiAwLjUgKyAwLjVcbjExMzAgUCA9IFJORCgxKSAqIDMuMTQxNTkgKiAyXG4xMTQwIEdSIDogQ09MT1I9IFJORCgxKSAqIDE0ICsgMVxuMTE1MCBGT1IgVCA9IDAgVE8gOTkgU1RFUCAwLjA1XG4xMTU1IElGIFBFRUsoNDkxNTIpID4gMTI3IFRIRU4gUE9LRSA0OTE2OCwwIDogR09UTyA1XG4xMTYwIFggPSBYQSAqIENPUyggWE0gKiBUIClcbjExNzAgWSA9IFlBICogQ09TKCBZTSAqIFQgKyBQIClcbjExODAgUExPVCAyMCArIFgsIDIwICsgWVxuMTE5MCBORVhUIFQgOiBHT1RPIDExMDBcblxuMTIwMCBSRU0gU2NyZWVuIENvb3JkaW5hdGVzXG4xMjEwIFRFWFQ6IEhPTUUgOiBGT1IgSSA9IDEgVE8gMjQgOiBIVEFCIDEgOiBWVEFCIEkgOiBQUklOVCBJOyA6IE5FWFRcbjEyMjAgR1IgOiBGT1IgSSA9IDAgVE8gMzkgOiBDT0xPUj0gSSA6IEhMSU4gMCwgMzkgQVQgSSA6IE5FWFRcbjEyMzAgVlRBQiAyNCA6IEhUQUIgMTAgOiBQUklOVCBcIlByZXNzIEFueSBLZXkgVG8gQ29udGludWVcIjsgOiBHRVQgQSRcbjEyNDAgSEdSIDogQyA9IDMgOiBGT1IgSSA9IDAgVE8gNzAgOiBIQ09MT1I9IEMgOiBIUExPVCBJKjIsSSBUTyAyNzktSSoyLEkgVE8gMjc5LUkqMiwxNTktSSBUTyBJKjIsMTU5LUkgVE8gSSoyLEkgOiBDID0gQyArIDEgOiBJRiBDID4gNyBUSEVOIEMgPSAwXG4xMjQ1IE5FWFRcbjEyNTAgVlRBQiAyNCA6IEhUQUIgMTAgOiBQUklOVCBcIlByZXNzIEFueSBLZXkgVG8gQ29udGludWVcIjsgOiBHRVQgQSRcbjEyOTAgR09UTyA1XG5cbjE5MDAgUkVNIENlbGx1bGFyIGF1dG9tYXRhXG4xOTAxIEhPTUVcbjE5MDIgUFJJTlQgXCJXb2xmcmFtJ3MgQ0EgcnVsZXNcIiA6IFBSSU5UIFwiVHJ5IDExMCwgMTExLCAxMTgsIDEyMSwgMTI2XCIgOiBQUklOVCBcbjE5MDMgSU5QVVQgXCJSdWxlOiBcIjsgUiA6IFBSSU5UXG4xOTA0IERJTSBWVCg4KSA6IEZPUiBJID0gMCBUTyA3IDogVlQoSSkgPSBOT1QoIFIgLyAyID0gSU5UKCBSIC8gMiApICkgOiBSID0gSU5UKFIgLyAyKSA6IE5FWFRcbjE5MTAgRElNIEMoMzApIDogRElNIE4oMzApIDogTigxNSkgPSAxIFxuMTkxMiBGT1IgSSA9IDAgVE8gMzAgOiBDKEkpID0gTihJKSA6IFBSSU5UIEMoSSk7IDogTkVYVCA6IFBSSU5UXG4xOTE2IEZPUiBJID0gMiBUTyAzMCAtIDFcbjE5MTggViA9IDQgKiBDKEktMSkgKyAyICogQyhJKSArIDEgKiBDKEkrMSlcbjE5MjAgTihJKSA9IFZUKFYpXG4xOTMwIE5FWFQgSVxuMTk0MCBHT1RPIDE5MTJcblxuMjAwMCBSRU0gRE9TIFNlcXVlbnRpYWwgVGV4dCBGaWxlXG4yMDA1IFBSSU5UIFwiRmlyc3QsIGtub3dpbmcgaXQgaGFzIDQgbGluZXMuLi5cIiA6IFBSSU5UIFxuMjAxMCBQUklOVCBDSFIkKDQpXCJPUEVOIEpBQkJFUldPQ0tZXCJcbjIwMTUgUFJJTlQgQ0hSJCg0KVwiUkVBRCBKQUJCRVJXT0NLWVwiXG4yMDIwIEZPUiBJID0gMSBUTyA0IDogSU5QVVQgQSQgOiBQUklOVCBBJCA6IE5FWFRcbjIwMjUgUFJJTlQgQ0hSJCg0KVwiQ0xPU0VcIlxuMjAzMCBQUklOVCA6IFBSSU5UIFwiTm93IHdpdGggT05FUlIuLi5cIiA6IFBSSU5UIFxuMjAzNSBQUklOVCBDSFIkKDQpXCJPUEVOIEpBQkJFUldPQ0tZXCJcbjIwNDAgUFJJTlQgQ0hSJCg0KVwiUkVBRCBKQUJCRVJXT0NLWVwiXG4yMDQ1IE9ORVJSIEdPVE8gMjA1NVxuMjA1MCBJTlBVVCBBJCA6IFBSSU5UIEEkIDogR09UTyAyMDUwXG4yMDU1IFBSSU5UIDogUFJJTlQgXCJIaXQgRU9GIFwiIDogUE9LRSAyMTYsMCA6IFBSSU5UIENIUiQoNClcIkNMT1NFXCJcbjIwOTAgUFJJTlQgOiBQUklOVCBcIlByZXNzIGFueSBrZXkgdG8gY29udGludWU6IFwiIDogR0VUIEEkIDogR09UTyA1XG5cbjIxMDAgUkVNIExvcmVzIERyYXdpbmdcbjIxMTAgR1JcbjIxMTUgT1ggPSAtMSA6IE9ZID0gLTFcbjIxMTYgQyA9IDBcbjIxMjAgWCA9IElOVCggUERMKDApIC8gMjU2ICogNDAgKVxuMjEzMCBZID0gSU5UKCBQREwoMSkgLyAyNTYgKiA0OCApXG4yMTM1IEhUQUIgMSA6IFZUQUIgMjMgOiBQUklOVCBYIDsgXCIgICBcIiA7IFkgOyBcIiAgICBcIlxuMjE0MCBSRU0gSUYgKCBPWCA8PiBYIE9SIE9ZIDw+IFkgKSAgQU5EIE9YIDw+IC0xIEFORCBPWSA8PiAtMSBUSEVOIENPTE9SPSAwIDogUExPVCBPWCwgT1lcbjIxNTAgQ09MT1I9IEMgOiBQTE9UIFgsIFlcbjIxNjAgT1ggPSBYIDogT1kgPSBZIDogQyA9IEMgKyAxIDogSUYgQyA+IDE1IFRIRU4gQyA9IDBcbjIxNzAgR09UTyAyMTIwXG5cbjIyMDAgUkVNIENvbG9yIENoYXJ0XG4yMjEwIEdSXG4yMjIwIERBVEEgMCwgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgLTEsIC0xLCAxMCwgMTEsIC0xLCAtMSwgMTIsIDEzLCAtMSwgLTEsIDE0LCAxNSwgLTJcbjIyMzAgTVggPSAwIDogTVkgPSAwIDogWFMgPSA2IDogWVMgPSA5XG4yMjQwIFJFQUQgQyA6IElGIEMgPSAtMiBUSEVOIEhUQUIgMSA6IFZUQUIgMjIgOiBQUklOVCBcIlByZXNzIGFueSBrZXk6IFwiIDogR0VUIEEkIDogR09UTyA1XG4yMjUwIElGIEMgPSAtMSBUSEVOIEdPVE8gMjI3MFxuMjI2MCBDT0xPUj0gQyA6IEZPUiBZID0gMCBUTyBZUy0xIDogSExJTiBNWCpYUyxNWCpYUysoWFMtMikgQVQgTVkqKFlTKzEpK1kgOiBORVhUXG4yMjcwIE1ZID0gTVkgKyAxIDogSUYgTVkgPiAzIFRIRU4gTVkgPSAwIDogTVggPSBNWCArIDFcbjIyODAgR09UTyAyMjQwXG5cbjIzMDAgUkVNIE1hbmRlbGJyb3QgU2V0XG4yMzEwIEhPTUUgOiBHUiA6IFBPS0UgNDkyMzQsMFxuMjMyMCBGT1IgWCA9IDAgVE8gMzkgOiBGT1IgWSA9IDEgVE8gMjRcbjIzMzAgSSA9IFggLyA0MCAqIDMgLSAyIDogSiA9IFkgLyA0OCAqIDIgLSAxXG4yMzQwIEdPU1VCIDIzNjAgOiBDT0xPUj0gQyA6IFBMT1QgWCwgWSA6IFBMT1QgWCw0OCAtIFlcbjIzNTAgTkVYVCBZIDogTkVYVCBYIDogSFRBQiAxIDogVlRBQiAyMiA6IFBSSU5UIFwiUHJlc3MgYW55IGtleTogXCIgOiBHRVQgQSQgOiBHT1RPIDVcbjIzNjAgSVQgPSAwIDogUyA9IEkgOiBUID0gSlxuMjM3MCBTMSA9IFMqUyAtIFQqVCArIEkgOiBUID0gMipTKlQgKyBKOiBTID0gUzEgOiBJVCA9IElUICsgMVxuMjM4MCBJRiAoKFMqUyArIFQqVCkgPCA0KSBBTkQgSVQgPCAxNiBUSEVOIEdPVE8gMjM3MFxuMjM5MCBDID0gSVQgOiBSRVRVUk5cblxuMjQwMCBSRU0gTGlnaHQgQ3ljbGVzIEdhbWVcbjI0MTAgSE9NRSA6IEdSIDogUkVNIFRPRE86IEZ1bGxzY3JlZW5cbjI0MjAgWCA9IDE5IDogWSA9IDM4IDogRFggPSAwIDogRFkgPSAtMVxuMjQzMCBDT0xPUj0gMTUgOiBITElOIDAsMzkgQVQgMDogSExJTiAwLDM5IEFUIDM5OiBWTElOIDAsMzkgQVQgMCA6IFZMSU4gMCwzOSBBVCAzOVxuMjQ0MCBIVEFCIDEgOiBWVEFCIDIyIDogUFJJTlQgXCJQcmVzcyBhbnkga2V5IHRvIHN0YXJ0OiBcIiA6IEdFVCBBJCA6IEhPTUVcbjI0NTAgQ09MT1I9IDI6IFBMT1QgWCxZXG4yNDYwIEsgPSBQRUVLKDQ5MTUyKSA6IFBPS0UgNDkxNjgsMFxuMjQ2MSBMWCA9IERYIDogTFkgPSBEWVxuMjQ2MiBJRiBLID0gIDgrMTI4IFRIRU4gRFggPSAtMSA6IERZID0gIDBcbjI0NjMgSUYgSyA9IDIxKzEyOCBUSEVOIERYID0gIDEgOiBEWSA9ICAwXG4yNDY0IElGIEsgPSAxMSsxMjggVEhFTiBEWCA9ICAwIDogRFkgPSAtMVxuMjQ2NSBJRiBLID0gMTArMTI4IFRIRU4gRFggPSAgMCA6IERZID0gIDFcbjI0NjYgSUYgKCBMWCBBTkQgTFggPSAtRFggKSBPUiAoTFkgQU5EIExZID0gLURZKSBUSEVOIERYID0gTFggOiBEWSA9IExZXG4yNDcwIFggPSBYICsgRFggOiBZID0gWSArIERZXG4yNDgwIElGIFNDUk4oWCxZKSA8PiAwIFRIRU4gSFRBQiAxIDogVlRBQiAyMyA6IFBSSU5UIFwiQ3Jhc2hlZCEgUHJlc3MgYW55IGtleSB0byBjb250aW51ZTogXCIgOiAgUE9LRSA0OTE2OCwwIDogR0VUIEEkIDogR09UTyA1XG4yNDkwIEhUQUIgMSA6IFZUQUIgMjEgOiBTQyA9IFNDICsgMTAgOiBQUklOVCBcIlNjb3JlOiBcIjsgU0NcbjI0OTAgRk9SIEkgPSAwIFRPIDUwMCA6IE5FWFQgOiBHT1RPIDI0NTBcblxuMjUwMCBSRU0gSGlyZXMgRGVtb1xuMjUxMCBIT01FIDogSEdSXG4yNTIwIFcgPSAyNzkgOiBIID0gMTU5XG4yNTMwIEZPUiBJID0gMCBUTyAxIFNURVAgMC4wNVxuMjUzNSBIQ09MT1I9IDFcbjI1NDAgSFBMT1QgMCxIICogSSAgICAgVE8gVyogKDEtSSksMFxuMjU0NSBIQ09MT1I9IDJcbjI1NTAgSFBMT1QgMCxIICogKDEtSSkgVE8gVyogKDEtSSksSFxuMjU1NSBIQ09MT1I9IDVcbjI1NjAgSFBMT1QgVyxIICogSSAgICAgVE8gVyAqIEksMFxuMjU2NSBIQ09MT1I9IDZcbjI1NzAgSFBMT1QgVyxIICogKDEtSSkgVE8gVyAqIEksSFxuMjU3NSBORVhUXG4yNTgwIEhUQUIgMSA6IFZUQUIgMjIgOiBQUklOVCBcIlByZXNzIGFueSBrZXkgdG8gY29udGludWU6IFwiIDogR0VUIEEkIDogR09UTyA1XG5cbjI2MDAgUkVNIERPUyBXUklURS9BUFBFTkRcbjI2MTAgUFJJTlQgQ0hSJCg0KVwiT1BFTiBGT09cIlxuMjYxNSBQUklOVCBDSFIkKDQpXCJXUklURSBGT09cIlxuMjYyMCBGT1IgSSA9IDEgVE8gNSA6IFBSSU5UIFwiV1JJVEUgLSBcIjsgQ0hSJChBU0MoXCJBXCIpIC0gMSArIEkgKSA6IE5FWFRcbjI2MjUgUFJJTlQgQ0hSJCg0KVwiQ0xPU0UgRk9PXCJcbjI2MzAgUFJJTlQgQ0hSJCg0KVwiQVBQRU5EIEZPT1wiXG4yNjM1IFBSSU5UIENIUiQoNClcIldSSVRFIEZPT1wiXG4yNjQwIEZPUiBJID0gNiBUTyAxMCA6IFBSSU5UIFwiQVBQRU5EIC0gXCI7Q0hSJChBU0MoXCJBXCIpIC0gMSArIEkgKSA6IE5FWFRcbjI2NDUgUFJJTlQgQ0hSJCg0KVwiQ0xPU0UgRk9PXCJcbjI2NTAgUFJJTlQgQ0hSJCg0KVwiT1BFTiBGT09cIlxuMjY1NSBQUklOVCBDSFIkKDQpXCJSRUFEIEZPT1wiXG4yNjYwIEZPUiBJID0gMSBUTyAxMCA6IElOUFVUIEEkIDogUFJJTlQgXCJSRUFEIExJTkUgXCI7STtcIjogXCI7QSQgOiBORVhUXG4yNjY1IFBSSU5UIENIUiQoNClcIkNMT1NFIEZPT1wiXG4yNjcwIFBSSU5UIDogUFJJTlQgXCJQcmVzcyBhbnkga2V5IHRvIGNvbnRpbnVlOiBcIiA6IEdFVCBBJCA6IEdPVE8gNVxuXG4yNzAwIFJFTSBPTkVSUiAuLi4gUkVTVU1FIFxuMjcxMCBQUklOVCBcIkZpcnN0LCBSRVNVTUUgaW50byBhbiBJRiBzdGF0ZW1lbnRcIlxuMjcxMiBPTkVSUiBHT1RPIDI3MThcbjI3MTQgUFJJTlQgXCJUZXN0aW5nLi4uIFwiIDogWCA9IDAgOiBJRiAxIC8gWCBUSEVOIFBSSU5UIFwiU3VjY2VlZGVkIVwiXG4yNzE2IFBSSU5UIFwiVGhhdCB3b3JrZWQhXCIgOiBHT1RPIDI3NTBcbjI3MTggUFJJTlQgXCJPb3BzISBIb3cgYWJvdXQgdGhpcy4uLiBcIiA6IFggPSAxIDogUkVTVU1FXG4yNzUwIE9ORVJSIEdPVE8gMjc4NVxuMjc1NSBQUklOVCBcIlRyaWdnZXIgZGl2aXNpb24gYnkgemVybyB3aXRoIFggLyBZXCJcbjI3NjAgSU5QVVQgXCJYID0gXCI7WFxuMjc2NSBJTlBVVCBcIlkgPSBcIjtZXG4yNzcwIFBSSU5UIFwiWCAvIFkgPSBcIjtYO1wiIC8gXCI7WTtcIiA9IFwiOyhYL1kpXG4yNzc1IFBPS0UgMjE2LDAgOiBSRU0gQ2xlYXIgT05FUlIgRmxhZ1xuMjc4MCBQUklOVCBcIlRoYXQgd29ya2VkISBQcmVzcyBhbnkga2V5IHRvIGNvbnRpbnVlOiBcIiA6IEdFVCBBJCA6IEdPVE8gNVxuMjc4NSBQUklOVCA6IFBSSU5UIFwiT29wcywgY2F1Z2h0IGFuIGVycm9yLiBUcnkgYWdhaW5cIjogSU5QVVQgXCJZID0gXCI7WSA6IFJFU1VNRVxuXG4yODAwIFJFTSBDT05UUk9MIEtFWSBURVNUU1xuMjgxMCBQUiMwIDogVEVYVCA6IEhPTUUgXG4yODIwIEhUQUIgMjAgOiBWVEFCIDI0IDogUFJJTlQgXCIxXCJDSFIkKDEwKVwiMlwiO1xuMjgzMCBIVEFCIDEgOiBWVEFCIDExIDogUFJJTlQgQ0hSJCg4KVwiM1wiO1xuMjg0MCBIVEFCIDEgOiBWVEFCIDEgOiBQUklOVCBDSFIkKDgpXCI0XCI7XG4yODUxIEhUQUIgMTYgOiBWVEFCIDIzIDogUFJJTlQgXCIxLS0+XCI7XG4yODUyIEhUQUIgMTcgOiBWVEFCIDI0IDogUFJJTlQgXCIyLS0+XCI7XG4yODUzIEhUQUIgMzYgOiBWVEFCIDEwIDogUFJJTlQgXCIzLS0+XCI7XG4yODU0IEhUQUIgMzYgOiBWVEFCIDEgOiBQUklOVCBcIjQtLT5cIjtcbjI4NjAgVlRBQiAxMCA6IEhUQUIgMSA6IFBSSU5UIFwiUHJlc3Mga2V5IHRvIGJlZXA6XCI7IDogR0VUIEEkIDogUFJJTlQgQ0hSJCg3KVxuMjg3MCBWVEFCIDExIDogSFRBQiAxIDogUFJJTlQgXCJQcmVzcyBhbnkga2V5OlwiOyA6IEdFVCBBJCA6IEdPVE8gNSIgfV0gfQ=="}),rtl.module("System",[],function(){"use strict";var e=this,t=e.$impl,s=null,o=null,n=null,i=null,a=null;this.LineEnding=`
`,this.sLineBreak=this.LineEnding,this.MaxLongint=2147483647,this.Maxint=2147483647,s=this.TTextLineBreakStyle={0:"tlbsLF",tlbsLF:0,1:"tlbsCRLF",tlbsCRLF:1,2:"tlbsCR",tlbsCR:2},rtl.createClass(this,"TObject",null,function(){o=this,this.$init=function(){},this.$final=function(){},this.Create=function(){return this},this.Destroy=function(){},this.Free=function(){this.$destroy("Destroy")},this.ClassType=function(){return this},this.InheritsFrom=function(e){return e!=null&&(this==e||e.isPrototypeOf(this))},this.FieldAddress=function(e){if(n=null,n=null,e==="")return n;for(t=this.$class,s=null,a=e.toLowerCase(),o=null;t!==null;){s=t.$rtti;for(var t,n,s,o,a,i=0,r=s.fields.length-1;i<=r;i++)if(o=s.getField(i),o.name.toLowerCase()===a)return o;t=t.$ancestor?t.$ancestor:null}return n},this.AfterConstruction=function(){},this.BeforeDestruction=function(){}}),this.vtInteger=0,this.vtExtended=3,this.vtWideChar=9,this.vtCurrency=12,this.vtUnicodeString=18,this.vtNativeInt=19,rtl.recNewT(this,"TVarRec",function(){n=this,this.VType=0,this.VJSValue=void 0,this.$eq=function(e){return this.VType===e.VType&&this.VJSValue===e.VJSValue&&this.VJSValue===e.VJSValue&&this.VJSValue===e.VJSValue&&this.VJSValue===e.VJSValue&&this.VJSValue===e.VJSValue&&this.VJSValue===e.VJSValue&&this.VJSValue===e.VJSValue},this.$assign=function(e){return this.VType=e.VType,this.VJSValue=e.VJSValue,this.VJSValue=e.VJSValue,this.VJSValue=e.VJSValue,this.VJSValue=e.VJSValue,this.VJSValue=e.VJSValue,this.VJSValue=e.VJSValue,this.VJSValue=e.VJSValue,this}}),this.VarRecs=function(){for(var s=[],e=0,t=null,s=[];e<arguments.length;)t=n.$new(),t.VType=rtl.trunc(arguments[e]),e+=1,t.VJSValue=arguments[e],e+=1,s.push(n.$clone(t));return s},this.IsConsole=!1,this.OnParamCount=null,this.OnParamStr=null,this.Frac=function(e){return e%1},this.Odd=function(e){return e&1!=0},this.Sqr$1=function(e){return e*e},this.Trunc=function(t){return Math.trunc||(Math.trunc=function(e){return e=+e,isFinite(e)?e-e%1||(e<0?-0:e===0?e:0):e}),e.Trunc=Math.trunc,Math.trunc(t)},this.DefaultTextLineBreakStyle=0,this.Int=function(t){var n=0,n=e.Trunc(t);return n},this.Copy=function(e,t,n){return t<1&&(t=1),n>0?e.substring(t-1,t+n-1):""},this.Copy$1=function(e,t){return t<1&&(t=1),e.substr(t-1)},this.Delete=function(t,n,s){var o="";if(n<1||n>t.get().length||s<=0)return;o=t.get(),t.set(e.Copy(o,1,n-1)+e.Copy$1(o,n+s))},this.Pos=function(e,t){return t.indexOf(e)+1},this.Insert=function(t,n,s){var o="";if(t==="")return;o=n.get(),s<1?n.set(t+o):s>o.length?n.set(o+t):n.set(e.Copy(o,1,s-1)+t+e.Copy(o,s,o.length))},this.upcase=function(e){return e.toUpperCase()},this.val=function(e,n,s){n.set(t.valint(e,-9007199254740991,9007199254740991,s))},this.val$6=function(e,n,s){n.set(t.valint(e,-2147483648,2147483647,s))},this.val$8=function(e,t,n){var s=0;if(e===""){n.set(1);return}s=Number(e),isNaN(s)?n.set(1):(n.set(0),t.set(s))},this.StringOfChar=function(e,t){if(n="",o=0,t>0&&e.repeat)return e.repeat(t);n="";for(var n,o,s=1,i=t;s<=i;s++)o=s,n=n+e;return n},this.Writeln=function(){if(e=0,n=0,s="",n=arguments.length-1,t.WriteCallBack!=null)for(var e,n,s,o,a,i=0,r=n;i<=r;i++)e=i,t.WriteCallBack(arguments[e],e===n);else{s=t.WriteBuf;for(o=0,a=n;o<=a;o++)e=o,s=s+(""+arguments[e]);console.log(s),t.WriteBuf=""}},this.SetWriteCallBack=function(e){var n=null,n=t.WriteCallBack;return t.WriteCallBack=e,n},this.Assigned=function(e){return e!=null&&e!=null&&(!rtl.isArray(e)||e.length>0)},e.$implcode=function(){t.WriteBuf="",t.WriteCallBack=null,t.valint=function(t,n,s,o){var r,a=0,i=0;if(t==="")return o.set(1),a;if(i=Number(t),isNaN(i))if(r=e.Copy(t,1,1),r==="$")i=Number("0x"+e.Copy$1(t,2));else if(r==="&")i=Number("0o"+e.Copy$1(t,2));else if(r==="%")i=Number("0b"+e.Copy$1(t,2));else return o.set(1),a;return isNaN(i)||i!==e.Int(i)?o.set(1):i<n||i>s?o.set(2):(a=e.Trunc(i),o.set(0)),a}},e.$init=function(){rtl.exitcode=0}},[]),rtl.module("Types",["System"],function(){"use strict";var n=this,e=null,t=null,e=this.TDirection={0:"FromBeginning",FromBeginning:0,1:"FromEnd",FromEnd:1},t=this.TDuplicates={0:"dupIgnore",dupIgnore:0,1:"dupAccept",dupAccept:1,2:"dupError",dupError:2}}),rtl.module("JS",["System","Types"],function(){"use strict";var s=this,e=null,o=null,i=null,a=null,r=null,c=null,l=null,d=null,n=pas.System,t=n.TObject;rtl.createClass(this,"EJS",t,function(){e=this,this.$init=function(){t.$init.call(this),this.FMessage=""},this.Create$1=function(e){return this.FMessage=e,this}}),this.New=function(t){var i=null,s=0,n=0,o="",s=rtl.length(t);if(s%2===1)throw e.$create("Create$1",["Number of arguments must be even"]);for(n=0;n<s;){if(!rtl.isString(t[n]))throw o=String(n),e.$create("Create$1",["Argument "+o+" must be a string."]);n+=2}for(n=0,i=new Object;n<s;)o=""+t[n],i[o]=t[n+1],n+=2;return i},this.JSDelete=function(e,t){return delete e[t]},this.isBoolean=function(e){return typeof e=="boolean"},this.isDate=function(e){return e instanceof Date},this.isInteger=function(e){return Math.floor(e)===e},this.isNull=function(e){return e===null},this.isUndefined=function(e){return e==null},this.isDefined=function(e){return e!=null},this.toNumber=function(e){return e-0}}),rtl.module("Web",["System","Types","JS"],function(){"use strict";var e=this,t=null,n=null,s=null,o=null,i=null,a=null,r=null,c=null,l=null,d=null,u=null,h=null,m=null,f=null,p=null}),rtl.module("RTLConsts",["System"],function(){"use strict";var e=this;e.$resourcestrings={SArgumentMissing:{org:'Missing argument in format "%s"'},SInvalidFormat:{org:'Invalid format specifier : "%s"'},SInvalidArgIndex:{org:'Invalid argument index in format: "%s"'},SListCapacityError:{org:"List capacity (%s) exceeded."},SListCountError:{org:"List count (%s) out of bounds."},SListIndexError:{org:"List index (%s) out of bounds"},SSortedListError:{org:"Operation not allowed on sorted list"},SDuplicateString:{org:"String list does not allow duplicates"},SErrFindNeedsSortedList:{org:"Cannot use find on unsorted list"},SInvalidName:{org:'Invalid component name: "%s"'},SInvalidBoolean:{org:'"%s" is not a valid boolean.'},SDuplicateName:{org:'Duplicate component name: "%s"'},SErrInvalidDate:{org:'Invalid date: "%s"'},SErrInvalidTimeFormat:{org:'Invalid time format: "%s"'},SInvalidDateFormat:{org:'Invalid date format: "%s"'},SErrInvalidInteger:{org:'Invalid integer value: "%s"'},SErrInvalidFloat:{org:'Invalid floating-point value: "%s"'},SInvalidCurrency:{org:"Invalid currency value: %s"}}}),rtl.module("SysUtils",["System","RTLConsts","JS"],function(){"use strict";var f,v,y,w,F,e=this,t=e.$impl,g=null,o=null,m=null,O=null,i=null,M=null,x=null,S=null,j=null,a=pas.System,b=a.TObject,A=a.Writeln,k=a.val,n=a.Copy,E=a.upcase,u=a.StringOfChar,h=a.Insert,d=pas.RTLConsts,r=a.VarRecs,p=a.val$6,C=a.val$8,l=a.Trunc,_=a.Frac,s=a.Pos,c=a.Delete;this.FreeAndNil=function(e){var t=null,t=e.get();if(t===null)return;e.set(null),t.$destroy("Destroy")},this.FloatRecDigits=19,rtl.recNewT(this,"TFloatRec",function(){g=this,this.Exponent=0,this.Negative=!1,this.$new=function(){var e=Object.create(this);return e.Digits=rtl.arraySetLength(null,"",19),e},this.$eq=function(e){return this.Exponent===e.Exponent&&this.Negative===e.Negative&&rtl.arrayEq(this.Digits,e.Digits)},this.$assign=function(e){return this.Exponent=e.Exponent,this.Negative=e.Negative,this.Digits=e.Digits.slice(0),this}}),rtl.recNewT(this,"TFormatSettings",function(){o=this,this.CurrencyDecimals=0,this.CurrencyFormat=0,this.CurrencyString="",this.DateSeparator="",this.DecimalSeparator="",this.LongDateFormat="",this.LongTimeFormat="",this.NegCurrFormat=0,this.ShortDateFormat="",this.ShortTimeFormat="",this.ThousandSeparator="",this.TimeAMString="",this.TimePMString="",this.TimeSeparator="",this.TwoDigitYearCenturyWindow=0,this.InitLocaleHandler=null,this.$new=function(){var e=Object.create(this);return e.DateTimeToStrFormat=rtl.arraySetLength(null,"",2),e.LongDayNames=rtl.arraySetLength(null,"",7),e.LongMonthNames=rtl.arraySetLength(null,"",12),e.ShortDayNames=rtl.arraySetLength(null,"",7),e.ShortMonthNames=rtl.arraySetLength(null,"",12),e},this.$eq=function(e){return this.CurrencyDecimals===e.CurrencyDecimals&&this.CurrencyFormat===e.CurrencyFormat&&this.CurrencyString===e.CurrencyString&&this.DateSeparator===e.DateSeparator&&rtl.arrayEq(this.DateTimeToStrFormat,e.DateTimeToStrFormat)&&this.DecimalSeparator===e.DecimalSeparator&&this.LongDateFormat===e.LongDateFormat&&rtl.arrayEq(this.LongDayNames,e.LongDayNames)&&rtl.arrayEq(this.LongMonthNames,e.LongMonthNames)&&this.LongTimeFormat===e.LongTimeFormat&&this.NegCurrFormat===e.NegCurrFormat&&this.ShortDateFormat===e.ShortDateFormat&&rtl.arrayEq(this.ShortDayNames,e.ShortDayNames)&&rtl.arrayEq(this.ShortMonthNames,e.ShortMonthNames)&&this.ShortTimeFormat===e.ShortTimeFormat&&this.ThousandSeparator===e.ThousandSeparator&&this.TimeAMString===e.TimeAMString&&this.TimePMString===e.TimePMString&&this.TimeSeparator===e.TimeSeparator&&this.TwoDigitYearCenturyWindow===e.TwoDigitYearCenturyWindow},this.$assign=function(e){return this.CurrencyDecimals=e.CurrencyDecimals,this.CurrencyFormat=e.CurrencyFormat,this.CurrencyString=e.CurrencyString,this.DateSeparator=e.DateSeparator,this.DateTimeToStrFormat=e.DateTimeToStrFormat.slice(0),this.DecimalSeparator=e.DecimalSeparator,this.LongDateFormat=e.LongDateFormat,this.LongDayNames=e.LongDayNames.slice(0),this.LongMonthNames=e.LongMonthNames.slice(0),this.LongTimeFormat=e.LongTimeFormat,this.NegCurrFormat=e.NegCurrFormat,this.ShortDateFormat=e.ShortDateFormat,this.ShortDayNames=e.ShortDayNames.slice(0),this.ShortMonthNames=e.ShortMonthNames.slice(0),this.ShortTimeFormat=e.ShortTimeFormat,this.ThousandSeparator=e.ThousandSeparator,this.TimeAMString=e.TimeAMString,this.TimePMString=e.TimePMString,this.TimeSeparator=e.TimeSeparator,this.TwoDigitYearCenturyWindow=e.TwoDigitYearCenturyWindow,this},this.GetJSLocale=function(){return Intl.DateTimeFormat().resolvedOptions().locale},this.Create=function(){var e=o.$new();return e.$assign(o.Create$1(o.GetJSLocale())),e},this.Create$1=function(n){var s=o.$new();return s.LongDayNames=t.DefaultLongDayNames.slice(0),s.ShortDayNames=t.DefaultShortDayNames.slice(0),s.ShortMonthNames=t.DefaultShortMonthNames.slice(0),s.LongMonthNames=t.DefaultLongMonthNames.slice(0),s.DateTimeToStrFormat[0]="c",s.DateTimeToStrFormat[1]="f",s.DateSeparator="-",s.TimeSeparator=":",s.ShortDateFormat="yyyy-mm-dd",s.LongDateFormat="ddd, yyyy-mm-dd",s.ShortTimeFormat="hh:nn",s.LongTimeFormat="hh:nn:ss",s.DecimalSeparator=".",s.ThousandSeparator=",",s.TimeAMString="AM",s.TimePMString="PM",s.TwoDigitYearCenturyWindow=50,s.CurrencyFormat=0,s.NegCurrFormat=0,s.CurrencyDecimals=2,s.CurrencyString="$",o.InitLocaleHandler!=null&&o.InitLocaleHandler(e.UpperCase(n),o.$clone(s)),s}},!0),rtl.createClass(this,"Exception",b,function(){m=this,this.LogMessageOnCreate=!1,this.$init=function(){b.$init.call(this),this.fMessage=""},this.Create$1=function(e){return this.fMessage=e,this.LogMessageOnCreate&&A("Created exception ",this.$classname," with message: ",e),this},this.CreateFmt=function(t,n){return this.Create$1(e.Format(t,n)),this}}),rtl.createClass(this,"EAbort",m,function(){O=this}),rtl.createClass(this,"EConvertError",m,function(){i=this}),rtl.createClass(this,"EVariantError",m,function(){M=this}),this.Trim=function(e){return e.replace(/^[\s\uFEFF\xA0\x00-\x1f]+/,"").replace(/[\s\uFEFF\xA0\x00-\x1f]+$/,"")},this.TrimLeft=function(e){return e.replace(/^[\s\uFEFF\xA0\x00-\x1f]+/,"")},this.UpperCase=function(e){return e.toUpperCase()},this.LowerCase=function(e){return e.toLowerCase()},this.CompareStr=function(e,t){var n,s=e.length,o=t.length;return s<=o?(n=t.substr(0,s),e<n?-1:e>n?1:s<o?-1:0):(n=e.substr(0,o),n<t?-1:1)},this.CompareText=function(e,t){var n=e.toLowerCase(),s=t.toLowerCase();return n>s?1:n<s?-1:0},this.SameText=function(e,t){return e.toLowerCase()==t.toLowerCase()},this.AnsiSameText=function(e,t){return e.toLowerCase()==t.toLowerCase()},this.Format=function(t,n){var s="",s=e.Format$1(t,n,e.FormatSettings);return s},this.Format$1=function(s,o,i){var f,b="",r=0,g=0,v=0,l=0,j=0,_="",a="",c=0,p=0,d=0,w=!1,O="",y=0;function x(){var i="",e=0;function a(){var l,a=0,i=0;if(e!==-1)return;for(g=r;r<=j&&s.charAt(r-1)<="9"&&s.charAt(r-1)>="0";)r+=1;r>j&&t.DoFormatError(1,s),s.charAt(r-1)==="*"?(c===255?i=v:(i=c,c+=1),(r>g||i>rtl.length(o)-1)&&t.DoFormatError(1,s),v=i+1,l=o[i].VType,l===0?e=o[i].VJSValue:l===19?e=o[i].VJSValue:t.DoFormatError(1,s),r+=1):g<r?(k(n(s,g,r-g),{get:function(){return e},set:function(t){e=t}},{get:function(){return a},set:function(e){a=e}}),a>0&&t.DoFormatError(1,s)):e=-1}function l(){s.charAt(r-1)!==":"?a():e=0,s.charAt(r-1)===":"&&(e===-1&&t.DoFormatError(2,s),c=e,e=-1,r+=1)}function u(){s.charAt(r-1)==="-"?(w=!0,r+=1):w=!1}function h(){a(),e!==-1&&(p=e,e=-1)}function m(){s.charAt(r-1)==="."&&(r+=1,a(),e===-1&&(e=0),d=e)}return c=255,p=-1,d=-1,e=-1,r+=1,s.charAt(r-1)==="%"?(i="%",i):(l(),u(),h(),m(),i=E(s.charAt(r-1)),i)}function m(e,n){var i=!1,i=!1;return c===255?l=v:l=c,v=l+1,l>rtl.length(o)-1||o[l].VType!==e?(n&&t.DoFormatError(3,s),v-=1,i):(i=!0,i)}for(b="",j=s.length,r=1,g=1,v=0;r<=j;){for(;r<=j&&s.charAt(r-1)!=="%";)r+=1;if(r>g&&(b=b+n(s,g,r-g)),r<j){if(O=x(),f=O,f==="D")m(0,!1)?a=e.IntToStr(o[l].VJSValue):m(19,!0)&&(a=e.IntToStr(o[l].VJSValue)),p=Math.abs(p),c=d-a.length,a.charAt(0)!=="-"?a=u("0",c)+a:h(u("0",c+1),{get:function(){return a},set:function(e){a=e}},2);else if(f==="U")m(0,!1)?a=e.IntToStr(o[l].VJSValue>>>0):m(19,!0)&&(a=e.IntToStr(o[l].VJSValue)),p=Math.abs(p),c=d-a.length,a=u("0",c)+a;else if(f==="E")m(12,!1)?a=e.FloatToStrF$1(o[l].VJSValue/1e4,2,3,d,i):m(3,!0)&&(a=e.FloatToStrF$1(o[l].VJSValue,2,3,d,i));else if(f==="F")m(12,!1)?a=e.FloatToStrF$1(o[l].VJSValue/1e4,0,9999,d,i):m(3,!0)&&(a=e.FloatToStrF$1(o[l].VJSValue,0,9999,d,i));else if(f==="G")m(12,!1)?a=e.FloatToStrF$1(o[l].VJSValue/1e4,1,d,3,i):m(3,!0)&&(a=e.FloatToStrF$1(o[l].VJSValue,1,d,3,i));else if(f==="N")m(12,!1)?a=e.FloatToStrF$1(o[l].VJSValue/1e4,3,9999,d,i):m(3,!0)&&(a=e.FloatToStrF$1(o[l].VJSValue,3,9999,d,i));else if(f==="M")m(12,!1)?a=e.FloatToStrF$1(o[l].VJSValue/1e4,4,9999,d,i):m(3,!0)&&(a=e.FloatToStrF$1(o[l].VJSValue,4,9999,d,i));else if(f==="S")m(18,!1)?_=o[l].VJSValue:m(9,!0)&&(_=o[l].VJSValue),c=_.length,d!==-1&&c>d&&(c=d),a=n(_,1,c);else if(f==="P")m(0,!1)?a=e.IntToHex(o[l].VJSValue,8):m(0,!0)&&(a=e.IntToHex(o[l].VJSValue,16));else if(f==="X")if(m(0,!1)?(y=o[l].VJSValue,c=16):m(19,!0)&&(y=o[l].VJSValue,c=31),d>c)a=e.IntToHex(y,c);else{for(c=1;rtl.shl(1,c*4)<=y&&c<16;)c+=1;c>d&&(d=c),a=e.IntToHex(y,d)}else f==="%"&&(a="%");p!==-1&&a.length<p&&(w?a=a+u(" ",p-a.length):a=u(" ",p-a.length)+a),b=b+a}r+=1,g=r}return b},f=rtl.createSet(null,65,90,null,97,122,95),v=rtl.unionSet(f,rtl.createSet(null,48,57)),y=".",this.IsValidIdent=function(e,t,n){var o=!1,i=!1,s=0,a=0,a=e.length;if(a<1)return!1;for(i=!0,o=!1,s=1;s<=a;){if(i){if(!(e.charCodeAt(s-1)in f))return o;i=!1}else if(t&&e.charAt(s-1)===y){if(n){if(s>=a)return o;i=!0}}else if(!(e.charCodeAt(s-1)in v))return o;s=s+1}return o=!0,o},x=this.TStringReplaceFlag={0:"rfReplaceAll",rfReplaceAll:0,1:"rfIgnoreCase",rfIgnoreCase:1},this.StringReplace=function(e,n,s,o){var a="",i="",r="",i="";return 0 in o&&(i="g"),1 in o&&(i=i+"i"),r=n.replace(new RegExp(t.RESpecials,"g"),"\\$1"),a=e.replace(new RegExp(r,i),s),a},this.QuoteString=function(t,n){var s="",s=n+e.StringReplace(t,n,n+n,rtl.createSet(0))+n;return s},this.QuotedStr=function(t,n){var s="",s=e.QuoteString(t,n);return s},this.IntToStr=function(e){var t="",t=""+e;return t},this.TryStrToInt$1=function(n,s){var o=!1,o=t.IntTryStrToInt(n,s,e.FormatSettings.DecimalSeparator);return o},this.StrToIntDef=function(t,n){var s=0,o=0;return e.TryStrToInt$1(t,{get:function(){return o},set:function(e){o=e}})?s=o:s=n,s},this.StrToIntDef$1=function(t,n){var s=0,o=0;return e.TryStrToInt$1(t,{get:function(){return o},set:function(e){o=e}})?s=o:s=n,s},this.StrToInt=function(t){var s=0,n=0;if(!e.TryStrToInt$1(t,{get:function(){return n},set:function(e){n=e}}))throw i.$create("CreateFmt",[rtl.getResStr(d,"SErrInvalidInteger"),r(18,t)]);return s=n,s},this.StrToInt64=function(t){var s=0,n=0;if(!e.TryStrToInt$1(t,{get:function(){return n},set:function(e){n=e}}))throw i.$create("CreateFmt",[rtl.getResStr(d,"SErrInvalidInteger"),r(18,t)]);return s=n,s},this.TryStrToInt64=function(t,n){var s=!1,o=0,s=e.TryStrToInt$1(t,{get:function(){return o},set:function(e){o=e}});return s&&n.set(o),s},this.IntToHex=function(t,n){var s="",s="";for(t<0&&t<0&&(t=4294967295+t+1),s=t.toString(16),s=e.UpperCase(s);s.length<n;)s="0"+s;return s},S=this.TFloatFormat={0:"ffFixed",ffFixed:0,1:"ffGeneral",ffGeneral:1,2:"ffExponent",ffExponent:2,3:"ffNumber",ffNumber:3,4:"ffCurrency",ffCurrency:4},w="123456789:",this.FloatToDecimal=function(t,s,o){var a=g.$new(),r="",u="",d=0,f=0,i=0,c=0,l=0,h=!1,m=!1;a.Negative=!1,a.Exponent=0;for(l=0;l<=19;l++)a.Digits[l]="0";if(t===0)return a;for(r=rtl.floatToStr(t,24),i=1,c=r.length;r.charAt(i-1)===" ";)i+=1;if(a.Negative=r.charAt(i-1)==="-",a.Negative?i+=1:r.charAt(i-1)==="+"&&(i+=1),c>=i+2){if(u=n(r,i,3),u==="Inf")return a.Digits[0]="\0",a.Exponent=32767,a;if(u==="Nan")return a.Digits[0]="\0",a.Exponent=-32768,a}for(d=0,a.Exponent=0,m=!0,h=!1;c>=i&&r.charAt(i-1)!=="E";)r.charAt(i-1)==="."?m=!1:(m?(a.Exponent+=1,a.Digits[d]=r.charAt(i-1),r.charAt(i-1)!=="0"&&(h=!0)):a.Digits[d-1]=r.charAt(i-1),d+=1),i+=1;for(i+=1,i<=c&&(p(n(r,i,c-i+1),{get:function(){return l},set:function(e){l=e}},{get:function(){return f},set:function(e){f=e}}),a.Exponent+=l),i=d,c=19;i<c;)a.Digits[i]="0",i+=1;if(o+a.Exponent<s?i=o+a.Exponent:i=s,i>=c&&(i=c-1),i===0)a.Digits[0]>="5"?(a.Digits[0]="1",a.Digits[1]="\0",a.Exponent+=1):a.Digits[0]="\0";else if(i>0)if(a.Digits[i]>="5"){do a.Digits[i]="\0",i-=1,a.Digits[i]=w.charAt(e.StrToInt(a.Digits[i])+1-1);while(!(i===0||a.Digits[i]<":"))a.Digits[0]===":"&&(a.Digits[0]="1",a.Exponent+=1)}else for(a.Digits[i]="0";i>-1&&a.Digits[i]==="0";)a.Digits[i]="\0",i-=1;else a.Digits[0]="\0";return a.Digits[0]==="\0"&&!h&&(a.Exponent=0,a.Negative=!1),a},this.FloatToStr=function(t){var n="",n=e.FloatToStr$1(t,e.FormatSettings);return n},this.FloatToStr$1=function(t,n){var s="",s=e.FloatToStrF$1(t,1,15,0,n);return s},this.FloatToStrF$1=function(e,n,s,o,i){var a="",l="",r="",r=i.DecimalSeparator,l=i.ThousandSeparator,c=n;return c===1?a=t.FormatGeneralFloat(e,s,r):c===2?a=t.FormatExponentFloat(e,s,o,r):c===0?a=t.FormatFixedFloat(e,o,r):c===3?a=t.FormatNumberFloat(e,o,r,l):c===4&&(a=t.FormatNumberCurrency(e*1e4,o,i)),n!==4&&a.length>1&&a.charAt(0)==="-"&&t.RemoveLeadingNegativeSign({get:function(){return a},set:function(e){a=e}},r,l),a},this.TryStrToFloat$3=function(t,n,s){var i=!1,a=void 0,o="",o=t;return s.ThousandSeparator!==""&&(o=e.StringReplace(o,s.ThousandSeparator,"",rtl.createSet(0))),s.DecimalSeparator!=="."&&(o=e.StringReplace(o,s.DecimalSeparator,".",{})),a=parseFloat(o),i=!isNaN(a),i&&n.set(rtl.getNumber(a)),i},this.StrToFloatDef=function(t,n){var s=0;return e.TryStrToFloat$3(t,{get:function(){return s},set:function(e){s=e}},e.FormatSettings)||(s=n),s},this.StrToFloat=function(t){var n=0,n=e.StrToFloat$1(t,e.FormatSettings);return n},this.StrToFloat$1=function(t,n){var s=0;if(!e.TryStrToFloat$3(t,{get:function(){return s},set:function(e){s=e}},n))throw i.$create("CreateFmt",[rtl.getResStr(d,"SErrInvalidFloat"),r(18,t)]);return s},this.FormatFloat=function(t,n){var s="",s=e.FormatFloat$1(t,n,o.$clone(e.FormatSettings));return s},F=18,this.FormatFloat$1=function(t,s,o){var a,r,c,l,_,C,M,w="",F=0,p=g.$new(),i="",j=0,D=!1,E=!1,d=0,v=0,y=0,f=0,k=0,O=0,A=0,b=0,h=0;function N(){F=s,i="",j=0,D=!1,E=!1,d=0,v=2147483647,y=0,f=0,k=0,O=-1}function x(e){w=w+e}function T(e){w=w+e}function S(e){if(e==="\0")return;h-=1,h===-1?(T(o.DecimalSeparator),x(e)):(x(e),D&&h%3===0&&h>1&&T(o.ThousandSeparator))}function z(){var e="",e="\0";return A<=O?(e=p.Digits[A],A+=1):h<=y?h-=1:e="0",e}function B(){if(b===0)S(z());else if(b<0)b+=1,h<=v?S("0"):h-=1;else{for(;b>0;)S(z()),b-=1;S(z())}}function I(e){var a,n=0,r=0,s=0,i="",c="",o=!1,n=1;for(e.get()[1]=-1,e.get()[2]=-1,e.get()[3]=-1,o=!1,c="\0",s=1,r=t.length;s<=r;){if(i=t.charAt(s-1),a=i,a===";"){if(!o){if(n>3)throw m.$create("Create$1",["Invalid float format"]);e.get()[n]=s,n+=1}}else(a==='"'||a==="'")&&(o?o=i!==c:(o=!0,c=i));s+=1}return e.get()[n]===-1&&(e.get()[n]=r+1),n}function H(){for(var n,e=0,a=0,r="",t="",s=!1,a=i.length,e=1,s=!1,r="\0";e<=a;){if(t=i.charAt(e-1),t.charCodeAt()in rtl.createSet(34,39))s?s=t!==r:(s=!0,r=t);else if(!s)if(n=t,n===".")d===0&&(d=f+1);else if(n===",")D=o.ThousandSeparator!=="\0";else if(n==="e"||n==="E"){if(e+=1,e<a){if(t=i.charAt(e-1),E=t.charCodeAt()in rtl.createSet(45,43),E)for(;e<a&&i.charAt(e+1-1)==="0";)k+=1,e+=1;k>4&&(k=4)}}else n==="#"?f+=1:n==="0"&&(f<v&&(v=f+1),f+=1,y=f+1);e+=1}d===0&&(d=f+1),y=d-y,y>0&&(y=0),v=d-v,v<0&&(v=0)}function P(){var e=!1,e=p.Exponent>=18&&!E||p.Exponent===2047||p.Exponent===2048;return e}function R(){var t=0,n=0;for(E?(n=f,t=9999):(n=18,t=f-d+1),p.$assign(e.FloatToDecimal(s,n,t)),h=d-1,E?b=0:(b=p.Exponent-(d-1),b>=0&&(h=p.Exponent)),O=-1;O<18&&p.Digits[O+1]!=="\0";)O+=1}function L(t,n){var s="",s=e.IntToStr(n),s=u("0",k-s.length)+s;return n<0?s="-"+s:n>0&&t==="+"&&(s=t+s),s}for(a=0,c=0,r="",M="",l=[],C=!1,l=rtl.arraySetLength(l,0,4),w="",N(),F>0?c=1:F<0?c=2:c=3,l[0]=0,a=I({get:function(){return l},set:function(e){l=e}}),(a<c||l[c]-l[c-1]===0)&&(c=1),j=l[c]-l[c-1]-1,i=n(t,l[c-1]+1,j),i=rtl.strSetLength(i,j),H(),R(),(j===0||P())&&(i=F.toPrecision(15),w=i),a=1,A=0,M=" ",C=!1,p.Negative&&c===1&&x("-");a<=j;){if(r=i.charAt(a-1),r.charCodeAt()in rtl.createSet(34,39))C?C=r!==M:(C=!0,M=r);else if(C)x(r);else if(_=r,_==="0"||_==="#")B();else if(_==="."||_===",");else if(_==="e"||_==="E"){if(x(r),a+=1,a<=i.length&&(r=i.charAt(a-1),r.charCodeAt()in rtl.createSet(43,45)))for(T(L(r,p.Exponent-d+1));a<j&&i.charAt(a+1-1)==="0";)a+=1}else x(r);a+=1}return w},this.TrueBoolStrs=[],this.FalseBoolStrs=[],this.StrToBool=function(t){var n=!1;if(!e.TryStrToBool(t,{get:function(){return n},set:function(e){n=e}}))throw i.$create("CreateFmt",[rtl.getResStr(d,"SInvalidBoolean"),r(18,t)]);return n},this.BoolToStr=function(n,s){var o="";return s?(t.CheckBoolStrs(),n?o=e.TrueBoolStrs[0]:o=e.FalseBoolStrs[0]):n?o="-1":o="0",o},this.StrToBoolDef=function(t,n){var s=!1;return e.TryStrToBool(t,{get:function(){return s},set:function(e){s=e}})||(s=n),s},this.TryStrToBool=function(n,s){if(o=!1,i="",a=0,r=0,c=0,i=e.UpperCase(n),C(i,{get:function(){return r},set:function(e){r=e}},{get:function(){return c},set:function(e){c=e}}),o=!0,c===0)s.set(r!==0);else{t.CheckBoolStrs();for(var o,i,a,r,c,l,u,d=0,h=rtl.length(e.TrueBoolStrs)-1;d<=h;d++)if(a=d,i===e.UpperCase(e.TrueBoolStrs[a]))return s.set(!0),o;for(l=0,u=rtl.length(e.FalseBoolStrs)-1;l<=u;l++)if(a=l,i===e.UpperCase(e.FalseBoolStrs[a]))return s.set(!1),o;o=!1}return o},this.OnGetEnvironmentVariable=null,this.OnGetEnvironmentString=null,this.OnGetEnvironmentVariableCount=null,this.Abort=function(){throw O.$create("Create$1",[rtl.getResStr(e,"SAbortError")])},rtl.recNewT(this,"TTimeStamp",function(){j=this,this.Time=0,this.Date=0,this.$eq=function(e){return this.Time===e.Time&&this.Date===e.Date},this.$assign=function(e){return this.Time=e.Time,this.Date=e.Date,this}}),this.TimeSeparator="",this.DateSeparator="",this.ShortDateFormat="",this.LongDateFormat="",this.ShortTimeFormat="",this.LongTimeFormat="",this.DecimalSeparator="",this.ThousandSeparator="",this.TimeAMString="",this.TimePMString="",this.HoursPerDay=24,this.MinsPerHour=60,this.SecsPerMin=60,this.MSecsPerSec=1e3,this.MinsPerDay=24*60,this.SecsPerDay=1440*60,this.MSecsPerDay=86400*1e3,this.MaxDateTime=2958465.99999999,this.DateDelta=693594,this.MonthDays$a$clone=function(e){var t,n=[];n.length=2;for(t=0;t<2;t++)n[t]=e[t].slice(0);return n},this.MonthDays=[[31,28,31,30,31,30,31,31,30,31,30,31],[31,29,31,30,31,30,31,31,30,31,30,31]],this.ShortMonthNames=rtl.arraySetLength(null,"",12),this.LongMonthNames=rtl.arraySetLength(null,"",12),this.ShortDayNames=rtl.arraySetLength(null,"",7),this.LongDayNames=rtl.arraySetLength(null,"",7),this.FormatSettings=o.$new(),this.TwoDigitYearCenturyWindow=50,this.JSDateToDateTime=function(t){var n=0,n=e.EncodeDate(t.getFullYear(),t.getMonth()+1,t.getDate())+e.EncodeTime(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());return n},this.DateTimeToTimeStamp=function(e){var n=j.$new(),t=0,t=e*864e5;return t<0?t=t-.5:t=t+.5,n.Time=l(Math.abs(l(t))%864e5),n.Date=693594+rtl.trunc(l(t)/864e5),n},this.TryEncodeDate=function(t,n,s,o){var i=!1,a=0,r=0,i=t>0&&t<1e4&&n>=1&&n<=12&&s>0&&s<=e.MonthDays[+e.IsLeapYear(t)][n-1];return i&&(n>2?n-=3:(n+=9,t-=1),a=rtl.trunc(t/100),r=t-100*a,o.set((146097*a>>>2)+(1461*r>>>2)+rtl.trunc((153*n+2)/5)+s),o.set(o.get()-693900)),i},this.TryEncodeTime=function(e,t,n,s,o){var i=!1,i=e<24&&t<60&&n<60&&s<1e3;return i&&o.set((e*36e5+t*6e4+n*1e3+s)/864e5),i},this.EncodeDate=function(t,n,s){var o=0;if(!e.TryEncodeDate(t,n,s,{get:function(){return o},set:function(e){o=e}}))throw i.$create("CreateFmt",["%s-%s-%s is not a valid date specification",r(18,e.IntToStr(t),18,e.IntToStr(n),18,e.IntToStr(s))]);return o},this.EncodeTime=function(t,n,s,o){var a=0;if(!e.TryEncodeTime(t,n,s,o,{get:function(){return a},set:function(e){a=e}}))throw i.$create("CreateFmt",["%s:%s:%s.%s is not a valid time specification",r(18,e.IntToStr(t),18,e.IntToStr(n),18,e.IntToStr(s),18,e.IntToStr(o))]);return a},this.DecodeDate=function(t,n,s,o){var r=0,i=0,c=0,a=0;t<=-693594?(n.set(0),s.set(0),o.set(0)):(t>0?t=t+1/(864e5*2):t=t-1/(864e5*2),t>e.MaxDateTime&&(t=e.MaxDateTime),a=rtl.shl(l(t)+693900,2)-1,r=rtl.trunc(a/146097),a=a-146097*r,i=rtl.lw(a>>>2),a=rtl.trunc((rtl.lw(i<<2)+3)/1461),i=rtl.lw(rtl.lw(i<<2)+7-1461*a>>>2),c=rtl.trunc((5*i-3)/153),i=rtl.trunc((5*i+2-153*c)/5),r=100*r+a,c<10?c+=3:(c-=9,r+=1),n.set(r),s.set(c),o.set(i))},this.DecodeTime=function(t,n,s,o,i){var a=0,a=e.DateTimeToTimeStamp(t).Time;n.set(rtl.trunc(a/36e5)),a=a%36e5,s.set(rtl.trunc(a/6e4)),a=a%6e4,o.set(rtl.trunc(a/1e3)),a=a%1e3,i.set(a)},this.DecodeDateFully=function(t,n,s,o,i){var a=!1;return e.DecodeDate(t,n,s,o),i.set(e.DayOfWeek(t)),a=e.IsLeapYear(n.get()),a},this.ComposeDateTime=function(e,t){var n=0;return e<0?n=l(e)-Math.abs(_(t)):n=l(e)+Math.abs(_(t)),n},this.Date=function(){var t=0,t=l(e.Now());return t},this.Time=function(){var t=0,t=e.Now()-e.Date();return t},this.Now=function(){var t=0,t=e.JSDateToDateTime(new Date);return t},this.DayOfWeek=function(e){var t=0,t=1+(l(e)-1)%7;return t<=0&&(t+=7),t},this.IsLeapYear=function(e){var t=!1,t=e%4===0&&(e%100!==0||e%400===0);return t},this.DateToStr=function(t){var n="",n=e.DateToStr$1(t,e.FormatSettings);return n},this.DateToStr$1=function(t,n){var s="",s=e.FormatDateTime$1("ddddd",t,n);return s},this.StrToDate=function(t){var n=0,n=e.StrToDate$3(t,e.FormatSettings);return n},this.StrToDate$2=function(e,n,s){var a=0,o="",a=t.IntStrToDate({get:function(){return o},set:function(e){o=e}},e,n,s);if(o!=="")throw i.$create("Create$1",[o]);return a},this.StrToDate$3=function(t,n){var s=0,s=e.StrToDate$2(t,n.ShortDateFormat,n.DateSeparator);return s},this.TryStrToDate=function(t,n){var s=!1,s=e.TryStrToDate$1(t,n,e.FormatSettings);return s},this.TryStrToDate$1=function(t,n,s){var o=!1,o=e.TryStrToDate$3(t,n,s.ShortDateFormat,s.DateSeparator);return o},this.TryStrToDate$2=function(t,n,s){var o=!1,o=e.TryStrToDate$3(t,n,e.FormatSettings.ShortDateFormat,s);return o},this.TryStrToDate$3=function(e,n,s,o){var i=!1,a="",i=e.length!==0;return i&&(n.set(t.IntStrToDate({get:function(){return a},set:function(e){a=e}},e,s,o)),i=a===""),i},this.StrToDateDef=function(t,n){var s=0,s=e.StrToDateDef$1(t,n,"\0");return s},this.StrToDateDef$1=function(t,n,s){var o=0;return e.TryStrToDate$2(t,{get:function(){return o},set:function(e){o=e}},s)||(o=n),o},this.TimeToStr=function(t){var n="",n=e.TimeToStr$1(t,e.FormatSettings);return n},this.TimeToStr$1=function(t,n){var s="",s=e.FormatDateTime$1("tt",t,n);return s},this.StrToTime=function(t){var n=0,n=e.StrToTime$2(t,e.FormatSettings);return n},this.StrToTime$2=function(e,n){var o=0,s="",o=t.IntStrToTime({get:function(){return s},set:function(e){s=e}},e,e.length,n);if(s!=="")throw i.$create("Create$1",[s]);return o},this.TryStrToTime=function(t,n){var s=!1,s=e.TryStrToTime$1(t,n,o.$clone(e.FormatSettings));return s},this.TryStrToTime$1=function(e,n,s){var o=!1,i="",o=e.length!==0;return o&&(n.set(t.IntStrToTime({get:function(){return i},set:function(e){i=e}},e,e.length,s)),o=i===""),o},this.TryStrToTime$2=function(t,n,s){var a=!1,i=o.$new();return i.$assign(o.Create()),i.TimeSeparator=s,a=e.TryStrToTime$1(t,n,o.$clone(i)),a},this.StrToTimeDef=function(t,n){var s=0,s=e.StrToTimeDef$1(t,n,"\0");return s},this.StrToTimeDef$1=function(t,n,s){var o=0;return e.TryStrToTime$2(t,{get:function(){return o},set:function(e){o=e}},s)||(o=n),o},this.StrToDateTime=function(t){var n=0,n=e.StrToDateTime$1(t,e.FormatSettings);return n},this.StrToDateTime$1=function(n,s){var o=0,a="",i="",c=0,c=t.SplitDateTimeStr(n,{get:function(){return i},set:function(e){i=e}},{get:function(){return a},set:function(e){a=e}},s),r=c;return r===0?o=e.StrToDate(""):r===1?i.length>0?o=e.StrToDate$2(i,s.ShortDateFormat,s.DateSeparator):o=e.StrToTime(a):r===2&&(o=e.ComposeDateTime(e.StrToDate$2(i,s.ShortDateFormat,s.DateSeparator),e.StrToTime(a))),o},this.TryStrToDateTime$1=function(t,o,i){var r=!1,a=0,c=0,l=0,r=!1,a=s(i.TimeSeparator,t);if(a>0){for(;a>0&&t.charAt(a-1)!==" ";)a-=1;if(a>0){if(!e.TryStrToDate(n(t,1,a-1),{get:function(){return c},set:function(e){c=e}}))return r;if(!e.TryStrToTime(n(t,a+1,t.length-a),{get:function(){return l},set:function(e){l=e}}))return r;o.set(e.ComposeDateTime(c,l)),r=!0}else r=e.TryStrToTime(t,o)}else r=e.TryStrToDate(t,o);return r},this.StrToDateTimeDef=function(t,n){var s=0,s=e.StrToDateTimeDef$1(t,n,o.$clone(e.FormatSettings));return s},this.StrToDateTimeDef$1=function(t,n,s){var o=0;return e.TryStrToDateTime$1(t,{get:function(){return o},set:function(e){o=e}},s)||(o=n),o},this.FormatDateTime=function(t,n){var s="",s=e.FormatDateTime$1(t,n,e.FormatSettings);return s},this.FormatDateTime$1=function(t,s,o){var r,d,h,m,p,g,v,j,b="";function f(e,s){b=b+n(t,e,s)}function c(e){b=b+e}function a(t,n){for(var s="",s=e.IntToStr(t);s.length<n;)s="0"+s;c(s)}p=0,h=0,g=0,v=0,r=0,d=0,m=0,j=0;function u(t,b,y){var O,C,A,F,z,E="",T="",N="",w=0,D=!1,M=0,S=!1,_=0,x=0,k=0;if(b>1)return;for(x=1,k=t.length,D=!1,S=!1,_=1;_<=k;){if(E=t.charAt(_-1),F=E,F==="'"||F==='"')for(_+=1;_<k&&t.charAt(_-1)!==E;)_+=1;else if((F==="A"||F==="a")&&(e.CompareText(n(t,_,3),"A/P")===0||e.CompareText(n(t,_,4),"AMPM")===0||e.CompareText(n(t,_,5),"AM/PM")===0)){D=!0;break}_+=1}for(E="ÿ",T=" ",N="H";x<=k;){if(E=e.UpperCase(t.charAt(x-1)).charAt(0),w=1,_=x+1,O=E,O==="'"||O==='"'){for(;_<k&&t.charAt(_-1)!==E;)_+=1;_+=1,w=_-x,f(x+1,w-2)}else if(O==="A")if(e.CompareText(n(t,x,4),"AMPM")===0)w=4,c(r<12?o.TimeAMString:o.TimePMString);else if(e.CompareText(n(t,x,5),"AM/PM")===0)w=5,r<12?f(x,2):f(x+3,2);else if(e.CompareText(n(t,x,3),"A/P")===0)w=3,r<12?f(x,1):f(x+2,1);else throw i.$create("Create$1",["Illegal character in format string"]);else if(O==="/")c(o.DateSeparator);else if(O===":")c(o.TimeSeparator);else if(O===" "||O==="C"||O==="D"||O==="H"||O==="M"||O==="N"||O==="S"||O==="T"||O==="Y"||O==="Z"||O==="F"){for(;_<=k&&e.UpperCase(t.charAt(_-1))===E;)_+=1;w=_-x,C=E,C===" "?f(x,w):C==="Y"?w>2?a(p,4):a(p%100,2):C==="M"?S&&(N==="H"||y)?a(d+(r+l(Math.abs(s))*24)*60,0):T==="H"||y?w===1?a(d,0):a(d,2):(z=w,z===1?a(h,0):z===2?a(h,2):c(z===3?o.ShortMonthNames[h-1]:o.LongMonthNames[h-1])):C==="D"?(A=w,A===1?a(g,0):A===2?a(g,2):A===3?c(o.ShortDayNames[v-1]):A===4?c(o.LongDayNames[v-1]):A===5?u(o.ShortDateFormat,b+1,!1):u(o.LongDateFormat,b+1,!1)):C==="H"?S?a(r+l(Math.abs(s))*24,0):D?(M=r%12,M===0&&(M=12),w===1?a(M,0):a(M,2)):w===1?a(r,0):a(r,2):C==="N"?S?a(d+(r+l(Math.abs(s))*24)*60,0):w===1?a(d,0):a(d,2):C==="S"?S?a(m+(d+(r+l(Math.abs(s))*24)*60)*60,0):w===1?a(m,0):a(m,2):C==="Z"?w===1?a(j,0):a(j,3):C==="T"?w===1?u(o.ShortTimeFormat,b+1,!0):u(o.LongTimeFormat,b+1,!0):C==="C"?(u(o.ShortDateFormat,b+1,!1),(r!==0||d!==0||m!==0)&&(c(" "),u(o.LongTimeFormat,b+1,!0))):C==="F"&&(u(o.ShortDateFormat,b+1,!1),c(" "),u(o.LongTimeFormat,b+1,!0)),N=T,T=E}else c(E);x+=w}}return e.DecodeDateFully(s,{get:function(){return p},set:function(e){p=e}},{get:function(){return h},set:function(e){h=e}},{get:function(){return g},set:function(e){g=e}},{get:function(){return v},set:function(e){v=e}}),e.DecodeTime(s,{get:function(){return r},set:function(e){r=e}},{get:function(){return d},set:function(e){d=e}},{get:function(){return m},set:function(e){m=e}},{get:function(){return j},set:function(e){j=e}}),t!==""?u(t,0,!1):u("C",0,!1),b},this.CurrencyFormat=0,this.NegCurrFormat=0,this.CurrencyDecimals=0,this.CurrencyString="",this.CurrToStr=function(t){var n="",n=e.FloatToStrF$1(t/1e4,1,-1,0,e.FormatSettings);return n},this.StrToCurr=function(t){var n=0;if(!e.TryStrToCurr(t,{get:function(){return n},set:function(e){n=e}}))throw i.$create("CreateFmt",[rtl.getResStr(d,"SInvalidCurrency"),r(18,t)]);return n},this.TryStrToCurr=function(t,n){var s=!1,o=0,s=e.TryStrToFloat$3(t,{get:function(){return o},set:function(e){o=e}},e.FormatSettings);return s&&n.set(rtl.trunc(o*1e4)),s},e.$implcode=function(){t.DefaultShortMonthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t.DefaultLongMonthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],t.DefaultShortDayNames=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t.DefaultLongDayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t.CheckBoolStrs=function(){rtl.length(e.TrueBoolStrs)===0&&(e.TrueBoolStrs=rtl.arraySetLength(e.TrueBoolStrs,"",1),e.TrueBoolStrs[0]="True"),rtl.length(e.FalseBoolStrs)===0&&(e.FalseBoolStrs=rtl.arraySetLength(e.FalseBoolStrs,"",1),e.FalseBoolStrs[0]="False")},t.feInvalidFormat=1,t.feMissingArgument=2,t.feInvalidArgIndex=3,t.DoFormatError=function(e,t){var n=e;if(n===1)throw i.$create("CreateFmt",[rtl.getResStr(d,"SInvalidFormat"),r(18,t)]);if(n===2)throw i.$create("CreateFmt",[rtl.getResStr(d,"SArgumentMissing"),r(18,t)]);if(n===3)throw i.$create("CreateFmt",[rtl.getResStr(d,"SInvalidArgIndex"),r(18,t)])},t.maxdigits=15,t.ReplaceDecimalSep=function(e,t){var i="",o=0,o=s(".",e);return o>0?i=n(e,1,o-1)+t+n(e,o+1,e.length-o):i=e,i},t.FormatGeneralFloat=function(o,i,a){if(r="",l=0,d=0,u=0,m=0,(i===-1||i>15)&&(i=15),r=rtl.floatToStr(o,i+7),r=e.TrimLeft(r),l=s(".",r),l===0)return r;if(d=s("E",r),d===0)return r=t.ReplaceDecimalSep(r,a),r;for(u=d+2,m=0;u<=r.length;)m=m*10+r.charCodeAt(u-1)-48,u+=1;if(r.charAt(d+1-1)==="-"&&(m=-m),l+m<d&&m>-6){if(r=rtl.strSetLength(r,d-1),m>=0){for(var r,l,d,u,m,f=0,p=m-1;f<=p;f++)u=f,r=rtl.setCharAt(r,l-1,r.charAt(l+1-1)),l+=1;for(r=rtl.setCharAt(r,l-1,"."),l=1,r.charAt(l-1)==="-"&&(l+=1);r.charAt(l-1)==="0"&&l<r.length&&n(r,l+1,a.length)!==a;)c({get:function(){return r},set:function(e){r=e}},l,1)}else h(n("00000",1,-m),{get:function(){return r},set:function(e){r=e}},l-1),r=rtl.setCharAt(r,l-m-1,r.charAt(l-m-1-1)),r=rtl.setCharAt(r,l-1,"."),m!==-1&&(r=rtl.setCharAt(r,l-m-1-1,"0"));for(u=r.length;u>0&&r.charAt(u-1)==="0";)u-=1;r.charAt(u-1)==="."&&(u-=1),u===0||u===1&&r.charAt(0)==="-"?r="0":r=rtl.strSetLength(r,u)}else{for(;r.charAt(d-1-1)==="0";)c({get:function(){return r},set:function(e){r=e}},d-1,1),d-=1;for(r.charAt(d-1-1)===a&&(c({get:function(){return r},set:function(e){r=e}},d-1,1),d-=1),r.charAt(d+1-1)==="+"?c({get:function(){return r},set:function(e){r=e}},d+1,1):d+=1;r.charAt(d+1-1)==="0";)c({get:function(){return r},set:function(e){r=e}},d+1,1)}return r=t.ReplaceDecimalSep(r,a),r},t.FormatExponentFloat=function(o,i,a,r){var l="",d=0;for(r=e.FormatSettings.DecimalSeparator,(i===-1||i>15)&&(i=15),l=rtl.floatToStr(o,i+7);l.charAt(0)===" ";)c({get:function(){return l},set:function(e){l=e}},1,1);if(d=s("E",l),d===0)return l=t.ReplaceDecimalSep(l,r),l;if(d+=2,a>4&&(a=4),a=l.length-d-a+1,a<0)h(n("0000",1,-a),{get:function(){return l},set:function(e){l=e}},d);else for(;a>0&&l.charAt(d-1)==="0";){if(c({get:function(){return l},set:function(e){l=e}},d,1),d>l.length){c({get:function(){return l},set:function(e){l=e}},d-2,2);break}a-=1}return l=t.ReplaceDecimalSep(l,r),l},t.FormatFixedFloat=function(e,n,s){var o="";return n===-1?n=2:n>18&&(n=18),o=rtl.floatToStr(e,0,n),o!==""&&o.charAt(0)===" "&&c({get:function(){return o},set:function(e){o=e}},1,1),o=t.ReplaceDecimalSep(o,s),o},t.FormatNumberFloat=function(e,n,o,i){var a="",r=0;if(n===-1?n=2:n>15&&(n=15),a=rtl.floatToStr(e,0,n),a!==""&&a.charAt(0)===" "&&c({get:function(){return a},set:function(e){a=e}},1,1),r=s(".",a),r<=0&&(r=a.length+1),a=t.ReplaceDecimalSep(a,o),r-=3,i!==""&&i!=="\0")for(;r>1;)a.charAt(r-1-1)!=="-"&&h(i,{get:function(){return a},set:function(e){a=e}},r),r-=3;return a},t.RemoveLeadingNegativeSign=function(e,t,n){s=!1,o=0,i="",a=0,s=!1,a=2,i=n;for(var s,o,i,a,r=a,l=e.get().length;r<=l;r++)if(o=r,s=e.get().charCodeAt(o-1)in rtl.createSet(48,t.charCodeAt(),69,43)||e.get().charAt(o-1)===i,!s)break;return s&&e.get().charAt(0)==="-"&&c(e,1,1),s},t.FormatNumberCurrency=function(e,n,o){var r,d,i="",u=!1,l=0,a="",f="",m="",f=o.DecimalSeparator,m=o.ThousandSeparator,a=o.CurrencyString;if(n===-1?n=o.CurrencyDecimals:n>18&&(n=18),i=rtl.floatToStr(e/1e4,0,n),u=i.charAt(0)==="-",u&&c({get:function(){return i},set:function(e){i=e}},1,1),l=s(".",i),m!=="")for(l!==0?i=t.ReplaceDecimalSep(i,f):l=i.length+1,l-=3;l>1;)h(m,{get:function(){return i},set:function(e){i=e}},l),l-=3;return u&&t.RemoveLeadingNegativeSign({get:function(){return i},set:function(e){i=e}},f,m),u?(r=o.NegCurrFormat,r===0?i="("+a+i+")":r===1?i="-"+a+i:r===2?i=a+"-"+i:r===3?i=a+i+"-":r===4?i="("+i+a+")":r===5?i="-"+i+a:r===6?i=i+"-"+a:r===7?i=i+a+"-":r===8?i="-"+i+" "+a:r===9?i="-"+a+" "+i:r===10?i=i+" "+a+"-":r===11?i=a+" "+i+"-":r===12?i=a+" -"+i:r===13?i=i+"- "+a:r===14?i="("+a+" "+i+")":r===15&&(i="("+i+" "+a+")")):(d=o.CurrencyFormat,d===0?i=a+i:d===1?i=i+a:d===2?i=a+" "+i:d===3&&(i=i+" "+a)),i},t.RESpecials="([\\$\\+\\[\\]\\(\\)\\\\\\.\\*\\^\\?\\|])";var o,l,m,f,g,v,b,j,y,u=` 	
`,a="0123456789";t.IntStrToDate=function(t,n,o,i){m=0;function C(n){t.set(e.Format(rtl.getResStr(d,"SInvalidDateFormat"),r(18,n)))}for(k="",_=0,w=0,f=0,v=0,F=0,A=0,g=0,c=0,b=0,E=0,x=0,y=0,O=0,h=0,j="",l=[],S=!1,l=rtl.arraySetLength(l,0,4),m=0,b=n.length,t.set("");b>0&&s(n.charAt(b-1),u)>0;)b-=1;if(b===0)return C(n),m;for(S=!1,i==="\0"&&(e.FormatSettings.DateSeparator!=="\0"?i=e.FormatSettings.DateSeparator:i="-"),k=e.UpperCase(o),O=0,y=0,x=0,h=0,c=0;c<k.length&&h<3;)c+=1,M=k.charAt(c-1),M==="Y"?O===0&&(h+=1,O=h):M==="M"?y===0&&(h+=1,y=h):M==="D"&&x===0&&(h+=1,x=h);for(c=1;c<=3;c++)l[c]=0;j="",g=0;for(var c,l,h,m,f,g,v,b,j,y,_,w,O,x,E,k,A,S,M,F,T=1,z=b;T<=z;T++){if(c=T,s(n.charAt(c-1),a)>0&&(j=j+n.charAt(c-1)),i!==" "&&n.charAt(c-1)===" ")continue;if(n.charAt(c-1)===i||c===b&&s(n.charAt(c-1),a)>0){if(g+=1,g>3)return C(n),m;if(g===O&&j.length>2&&(S=!0),p(j,{a:g,p:l,get:function(){return this.p[this.a]},set:function(e){this.p[this.a]=e}},{get:function(){return E},set:function(e){E=e}}),E!==0)return C(n),m;j=""}else if(s(n.charAt(c-1),a)===0)return C(n),m}return h<3&&g>h?(C(n),m):(e.DecodeDate(e.Date(),{get:function(){return v},set:function(e){v=e}},{get:function(){return A},set:function(e){A=e}},{get:function(){return F},set:function(e){F=e}}),g===3?(f=l[O],w=l[y],_=l[x]):(f=v,g<2?(_=l[1],w=A):x<y?(_=l[1],w=l[2]):(_=l[2],w=l[1])),f>=0&&f<100&&!S&&(v=v-e.TwoDigitYearCenturyWindow,f+=rtl.trunc(v/100)*100,e.TwoDigitYearCenturyWindow>0&&f<v&&(f+=100)),e.TryEncodeDate(f,w,_,{get:function(){return m},set:function(e){m=e}})||t.set(rtl.getResStr(d,"SErrInvalidDate")),m)},m=0,f=1,g=2,v=0,b=1,j=2,y=3,o="0123456789",t.IntStrToTime=function(t,i,a,c){var h=0,u=0,l=[];function m(t,r){var u=!1,l=0,g=0,f=0,O=0,h=0,m=0,w=0,d=!1,j=!1,b="",v="",y=0,_="",u=!1;r.set(0),j=!1,h=0;for(y=0;y<=3;y++)t.get()[y]=0;for(l=1;l<a&&i.charAt(l-1)===" ";)l+=1;if(g=l,l>a-1||i.charAt(l-1)===c.TimeSeparator||i.charAt(l-1)===c.DecimalSeparator)return u;for(d=s(i.charAt(l-1),o)>0;l<=a;){if(v=i.charAt(l-1),s(v,o)>0){if(!d||h>3)return u;for(g=l,v!=="0"?m=g:m=-1;l<a&&s(i.charAt(l+1-1),o)>0;)m===-1&&i.charAt(l-1)!=="0"&&(m=l),l+=1;if(m===-1&&(m=l),f=1+l-m,f<=2||f<=3&&h===3)p(n(i,m,f),{get:function(){return w},set:function(e){w=e}},{get:function(){return O},set:function(e){O=e}}),t.get()[h]=w,h+=1,d=!1;else return u}else if(v===" ");else if(v===c.TimeSeparator){if(d||h>2)return u;d=!0,j=!1}else if(v===c.DecimalSeparator){if(d||j||h!==3)return u;d=!0,j=!0}else{if(r.get()!==0||d)return u;for(g=l,_=c.DecimalSeparator+" ",c.TimeSeparator!=="\0"&&(_=_+c.TimeSeparator);l<a&&s(i.charAt(l+1-1),_)===0&&s(i.charAt(l+1-1),o)===0;)l+=1;if(f=1+l-g,b=n(i,g,f),e.CompareText(b,c.TimeAMString)===0)r.set(1);else if(e.CompareText(b,c.TimePMString)===0)r.set(2);else if(e.CompareText(b,"AM")===0)r.set(1);else if(e.CompareText(b,"PM")===0)r.set(2);else return u;h===0?d=!0:(h=3+1,d=!1)}l+=1}return h===0||r.get()!==0&&(t.get()[0]>12||t.get()[0]===0)||d?u:(u=!0,u)}return l=rtl.arraySetLength(l,0,4),u=0,m({get:function(){return l},set:function(e){l=e}},{get:function(){return u},set:function(e){u=e}})?(u===2&&l[0]!==12?l[0]+=12:u===1&&l[0]===12&&(l[0]=0),e.TryEncodeTime(l[0],l[1],l[2],l[3],{get:function(){return h},set:function(e){h=e}})||t.set(e.Format(rtl.getResStr(d,"SErrInvalidTimeFormat"),r(18,i))),h):(t.set(e.Format(rtl.getResStr(d,"SErrInvalidTimeFormat"),r(18,i))),h)},l=`	
 `,t.SplitDateTimeStr=function(t,o,i,a){var c=0,r=0,d=0,c=0;if(o.set(""),i.set(""),t=e.Trim(t),t.length===0)return c;if(a.DateSeparator===" "&&a.TimeSeparator===" "&&s(" ",t)>0)return o.set(t),1;if(r=1,a.DateSeparator!==" ")for(;r<t.length&&!(s(t.charAt(r+1-1),l)>0);)r+=1;else if(r=s(a.TimeSeparator,t),r!==0)do r-=1;while(!(r===0||s(t.charAt(r-1),l)>0))return r===0&&(r=t.length),o.set(n(t,1,r)),i.set(e.Trim(n(t,r+1,100))),i.get().length!==0?c=2:(c=1,(a.DateSeparator!==a.TimeSeparator&&s(a.TimeSeparator,o.get())>0||a.DateSeparator===a.TimeSeparator&&!e.TryStrToDate(o.get(),{get:function(){return d},set:function(e){d=e}}))&&(i.set(o.get()),o.set(""))),c},t.IntTryStrToInt=function(t,o,i){var l,d=!1,r=10,a="",u=void 0,a=t;return!(s(i,a)!==0||s(".",a)!==0)&&(l=n(a,1,1),l==="$"?r=16:l==="&"?r=8:l==="%"&&(r=2),!(r!==16&&s("e",e.LowerCase(a))!==0)&&(r!==10&&c({get:function(){return a},set:function(e){a=e}},1,1),u=parseInt(a,r),d=!isNaN(u),d&&o.set(rtl.trunc(u)),d))},e.$resourcestrings={SAbortError:{org:"Operation aborted"}}},e.$init=function(){e.ShortMonthNames=t.DefaultShortMonthNames.slice(0),e.LongMonthNames=t.DefaultLongMonthNames.slice(0),e.ShortDayNames=t.DefaultShortDayNames.slice(0),e.LongDayNames=t.DefaultLongDayNames.slice(0),e.FormatSettings.$assign(o.Create()),e.TimeSeparator=e.FormatSettings.TimeSeparator,e.DateSeparator=e.FormatSettings.DateSeparator,e.ShortDateFormat=e.FormatSettings.ShortDateFormat,e.LongDateFormat=e.FormatSettings.LongDateFormat,e.ShortTimeFormat=e.FormatSettings.ShortTimeFormat,e.LongTimeFormat=e.FormatSettings.LongTimeFormat,e.DecimalSeparator=e.FormatSettings.DecimalSeparator,e.ThousandSeparator=e.FormatSettings.ThousandSeparator,e.TimeAMString=e.FormatSettings.TimeAMString,e.TimePMString=e.FormatSettings.TimePMString,e.CurrencyFormat=e.FormatSettings.CurrencyFormat,e.NegCurrFormat=e.FormatSettings.NegCurrFormat,e.CurrencyDecimals=e.FormatSettings.CurrencyDecimals,e.CurrencyString=e.FormatSettings.CurrencyString}},[]),rtl.module("TypInfo",["System","SysUtils","Types","RTLConsts","JS"],function(){"use strict";var e=this,t=null,n=null,s=null,o=null;this.GetEnumName=function(e,t){var n="",n=e.enumtype[t];return n}}),rtl.module("Classes",["System","RTLConsts","Types","SysUtils","JS","TypInfo"],function(){"use strict";var g=this,c=g.$impl,u=null,j=null,v=null,S=null,r=null,A=null,_=null,n=null,a=null,f=null,O=null,D=null,E=null,N=null,i=null,z=null,k=null,w=null,L=null,M=null,x=null,s=pas.System,o=pas.SysUtils,y=o.Exception,e=s.TObject,t=pas.RTLConsts,h=s.VarRecs,m=s.Assigned,d=o.FreeAndNil,F=o.EConvertError,T=o.IntToStr,l=o.CompareText,b=s.Pos,p=s.Copy,C=o.CompareStr,R=o.IsValidIdent;this.$rtti.$MethodVar("TNotifyEvent",{procsig:rtl.newTIProcSig([["Sender",s.$rtti.TObject]]),methodkind:0}),rtl.createClass(this,"EListError",y,function(){u=this}),rtl.createClass(this,"EStringListError",u,function(){j=this}),rtl.createClass(this,"EComponentError",y,function(){v=this}),S=this.TAlignment={0:"taLeftJustify",taLeftJustify:0,1:"taRightJustify",taRightJustify:1,2:"taCenter",taCenter:2},this.$rtti.$Enum("TAlignment",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TAlignment}),rtl.createClass(this,"TFPList",e,function(){r=this,this.$init=function(){e.$init.call(this),this.FList=[],this.FCount=0,this.FCapacity=0},this.$final=function(){this.FList=void 0,e.$final.call(this)},this.Get=function(e){var t=void 0;return(e<0||e>=this.FCount)&&this.RaiseIndexError(e),t=this.FList[e],t},this.Put=function(e,t){(e<0||e>=this.FCount)&&this.RaiseIndexError(e),this.FList[e]=t},this.SetCapacity=function(e){if(e<this.FCount&&this.$class.Error(rtl.getResStr(t,"SListCapacityError"),""+e),e===this.FCapacity)return;this.FList=rtl.arraySetLength(this.FList,void 0,e),this.FCapacity=e},this.SetCount=function(e){e<0&&this.$class.Error(rtl.getResStr(t,"SListCountError"),""+e),e>this.FCount&&e>this.FCapacity&&this.SetCapacity(e),this.FCount=e},this.RaiseIndexError=function(e){this.$class.Error(rtl.getResStr(t,"SListIndexError"),""+e)},this.Destroy=function(){this.Clear(),e.Destroy.call(this)},this.Add=function(e){var t=0;return this.FCount===this.FCapacity&&this.Expand(),this.FList[this.FCount]=e,t=this.FCount,this.FCount+=1,t},this.Clear=function(){rtl.length(this.FList)>0&&(this.SetCount(0),this.SetCapacity(0))},this.Delete=function(e){(e<0||e>=this.FCount)&&this.$class.Error(rtl.getResStr(t,"SListIndexError"),""+e),this.FCount=this.FCount-1,this.FList.splice(e,1),this.FCapacity-=1},this.Error=function(e,t){throw u.$create("CreateFmt",[e,h(18,t)])},this.Expand=function(){var t=null,e=0;return this.FCount<this.FCapacity?this:(e=4,this.FCapacity>3&&(e=e+4),this.FCapacity>8&&(e=e+8),this.FCapacity>127&&(e+=this.FCapacity>>>2),this.SetCapacity(this.FCapacity+e),t=this,t)},this.IndexOf=function(e){for(var t=0,n=0,t=0,n=this.FCount;t<n&&this.FList[t]!=e;)t+=1;return t>=n&&(t=-1),t},this.IndexOfItem=function(e,t){var n=0;if(t===0)n=this.IndexOf(e);else for(n=this.FCount-1;n>=0&&this.FList[n]!=e;)n=n-1;return n},this.Insert=function(e,n){(e<0||e>this.FCount)&&this.$class.Error(rtl.getResStr(t,"SListIndexError"),""+e),this.FList.splice(e,0,n),this.FCapacity+=1,this.FCount+=1},this.Last=function(){var e=void 0;return this.FCount===0?e=null:e=this.Get(this.FCount-1),e},this.Remove=function(e){var t=0,t=this.IndexOf(e);return t!==-1&&this.Delete(t),t}}),A=this.TListNotification={0:"lnAdded",lnAdded:0,1:"lnExtracted",lnExtracted:1,2:"lnDeleted",lnDeleted:2},rtl.createClass(this,"TList",e,function(){_=this,this.$init=function(){e.$init.call(this),this.FList=null},this.$final=function(){this.FList=void 0,e.$final.call(this)},this.Get=function(e){var t=void 0,t=this.FList.Get(e);return t},this.Notify=function(e,t){m(e),t===1},this.GetCount=function(){var e=0,e=this.FList.FCount;return e},this.Create$1=function(){return e.Create.call(this),this.FList=r.$create("Create"),this},this.Destroy=function(){this.FList!=null&&this.Clear(),d({p:this,get:function(){return this.p.FList},set:function(e){this.p.FList=e}})},this.Add=function(e){var t=0,t=this.FList.Add(e);return m(e)&&this.Notify(e,0),t},this.Clear=function(){for(;this.FList.FCount>0;)this.Delete(this.GetCount()-1)},this.Delete=function(e){var t=void 0,t=this.FList.Get(e);this.FList.Delete(e),m(t)&&this.Notify(t,2)},this.IndexOf=function(e){var t=0,t=this.FList.IndexOf(e);return t},this.Remove=function(e){var t=0,t=this.IndexOf(e);return t!==-1&&this.Delete(t),t}}),rtl.createClass(this,"TPersistent",e,function(){n=this,this.AssignError=function(e){var t="";throw e!==null?t=e.$classname:t="Nil",F.$create("Create$1",["Cannot assign a "+t+" to a "+this.$classname+"."])},this.AssignTo=function(e){e.AssignError(this)},this.GetOwner=function(){var e=null,e=null;return e},this.Assign=function(e){e!==null?e.AssignTo(this):this.AssignError(null)}}),rtl.createClass(this,"TStrings",n,function(){a=this,this.$init=function(){n.$init.call(this),this.FSpecialCharsInited=!1,this.FAlwaysQuote=!1,this.FQuoteChar="",this.FDelimiter="",this.FNameValueSeparator="",this.FUpdateCount=0,this.FLBS=0,this.FLineBreak=""},this.GetName=function(e){var t="",n="";return this.GetNameValue(e,{get:function(){return t},set:function(e){t=e}},{get:function(){return n},set:function(e){n=e}}),t},this.SetValue=function(e,t){var n=0;this.CheckSpecialChars(),n=this.IndexOfName(e),n===-1?this.Add(e+this.FNameValueSeparator+t):this.Put(n,e+this.FNameValueSeparator+t)},this.Error=function(e,t){throw j.$create("CreateFmt",[e,h(18,T(t))])},this.GetCapacity=function(){var e=0,e=this.GetCount();return e},this.GetObject=function(e){var t=null;return e===0,t=null,t},this.Put=function(e,t){var n=null,n=this.GetObject(e);this.Delete(e),this.InsertObject(e,t,n)},this.PutObject=function(e,t){if(e===0)return;if(t===null)return},this.SetUpdateState=function(e){e},this.DoCompareText=function(e,t){var n=0,n=l(e,t);return n},this.GetValueFromIndex=function(e){var t="",n="";return this.GetNameValue(e,{get:function(){return n},set:function(e){n=e}},{get:function(){return t},set:function(e){t=e}}),t},this.CheckSpecialChars=function(){this.FSpecialCharsInited||(this.FQuoteChar='"',this.FDelimiter=",",this.FNameValueSeparator="=",this.FLBS=s.DefaultTextLineBreakStyle,this.FSpecialCharsInited=!0,this.FLineBreak=s.sLineBreak)},this.Create$1=function(){return e.Create.call(this),this.FAlwaysQuote=!1,this},this.Destroy=function(){e.Destroy.call(this)},this.Add=function(e){var t=0,t=this.GetCount();return this.Insert(this.GetCount(),e),t},this.AddObject=function(e,t){var n=0,n=this.Add(e);return this.PutObject(n,t),n},this.AddStrings=function(e){t=0;for(var t,n=0,s=e.GetCount()-1;n<=s;n++)t=n,this.AddObject(e.Get(t),e.GetObject(t))},this.Assign=function(e){var t=null;if(a.isPrototypeOf(e)){t=e,this.BeginUpdate();try{this.Clear(),this.FSpecialCharsInited=t.FSpecialCharsInited,this.FQuoteChar=t.FQuoteChar,this.FDelimiter=t.FDelimiter,this.FNameValueSeparator=t.FNameValueSeparator,this.FLBS=t.FLBS,this.FLineBreak=t.FLineBreak,this.AddStrings(t)}finally{this.EndUpdate()}}else n.Assign.call(this,e)},this.BeginUpdate=function(){this.FUpdateCount===0&&this.SetUpdateState(!0),this.FUpdateCount+=1},this.EndUpdate=function(){this.FUpdateCount>0&&(this.FUpdateCount-=1),this.FUpdateCount===0&&this.SetUpdateState(!1)},this.IndexOfName=function(e){var t=0,n=0,s="";for(this.CheckSpecialChars(),t=0;t<this.GetCount();){if(s=this.Get(t),n=b(this.FNameValueSeparator,s)-1,n>=0&&this.DoCompareText(e,p(s,1,n))===0)return t;t+=1}return t=-1,t},this.InsertObject=function(e,t,n){this.Insert(e,t),this.PutObject(e,n)},this.GetNameValue=function(e,t,n){var s=0;this.CheckSpecialChars(),n.set(this.Get(e)),s=b(this.FNameValueSeparator,n.get()),s!==0?(t.set(p(n.get(),1,s-1)),n.set(p(n.get(),s+1,n.get().length-s))):t.set("")}}),rtl.recNewT(this,"TStringItem",function(){f=this,this.FString="",this.FObject=null,this.$eq=function(e){return this.FString===e.FString&&this.FObject===e.FObject},this.$assign=function(e){return this.FString=e.FString,this.FObject=e.FObject,this}}),O=this.TStringsSortStyle={0:"sslNone",sslNone:0,1:"sslUser",sslUser:1,2:"sslAuto",sslAuto:2},rtl.createClass(this,"TStringList",a,function(){D=this,this.$init=function(){a.$init.call(this),this.FList=[],this.FCount=0,this.FOnChange=null,this.FOnChanging=null,this.FDuplicates=0,this.FCaseSensitive=!1,this.FOwnsObjects=!1,this.FSortStyle=0},this.$final=function(){this.FList=void 0,this.FOnChange=void 0,this.FOnChanging=void 0,a.$final.call(this)},this.GetSorted=function(){var e=!1,e=this.FSortStyle in rtl.createSet(1,2);return e},this.Grow=function(){var e=0,e=this.GetCapacity();e>=256?e=e+rtl.trunc(e/4):e===0?e=4:e=e*4,this.SetCapacity(e)},this.InternalClear=function(e,t){if(n=0,e<this.FCount){if(this.FOwnsObjects)for(var n,s,i,o=e,a=this.FCount-1;o<=a;o++)n=o,this.FList[n].FString="",d({p:this.FList[n],get:function(){return this.p.FObject},set:function(e){this.p.FObject=e}});else for(s=e,i=this.FCount-1;s<=i;s++)n=s,this.FList[n].FString="";this.FCount=e}t||this.SetCapacity(0)},this.CheckIndex=function(e){(e<0||e>=this.FCount)&&this.Error(rtl.getResStr(t,"SListIndexError"),e)},this.Changed=function(){this.FUpdateCount===0&&this.FOnChange!=null&&this.FOnChange(this)},this.Changing=function(){this.FUpdateCount===0&&this.FOnChanging!=null&&this.FOnChanging(this)},this.Get=function(e){var t="";return this.CheckIndex(e),t=this.FList[e].FString,t},this.GetCapacity=function(){var e=0,e=rtl.length(this.FList);return e},this.GetCount=function(){var e=0,e=this.FCount;return e},this.GetObject=function(e){var t=null;return this.CheckIndex(e),t=this.FList[e].FObject,t},this.Put=function(e,n){this.GetSorted()&&this.Error(rtl.getResStr(t,"SSortedListError"),0),this.CheckIndex(e),this.Changing(),this.FList[e].FString=n,this.Changed()},this.PutObject=function(e,t){this.CheckIndex(e),this.Changing(),this.FList[e].FObject=t,this.Changed()},this.SetCapacity=function(e){e<0&&this.Error(rtl.getResStr(t,"SListCapacityError"),e),e!==this.GetCapacity()&&(this.FList=rtl.arraySetLength(this.FList,f,e))},this.SetUpdateState=function(e){e?this.Changing():this.Changed()},this.InsertItem=function(e,t){this.InsertItem$1(e,t,null)},this.InsertItem$1=function(e,t,n){var s=f.$new();this.Changing(),this.FCount===this.GetCapacity()&&this.Grow(),s.FString=t,s.FObject=n,this.FList.splice(e,0,s),this.FCount+=1,this.Changed()},this.DoCompareText=function(e,t){var n=0;return this.FCaseSensitive?n=C(e,t):n=l(e,t),n},this.Destroy=function(){this.InternalClear(0,!1),a.Destroy.call(this)},this.Add=function(e){var s,n=0;if(this.FSortStyle===2){if(this.Find(e,{get:function(){return n},set:function(e){n=e}})){if(s=this.FDuplicates,s===0)return n;s===2&&this.Error(rtl.getResStr(t,"SDuplicateString"),0)}}else n=this.FCount;return this.InsertItem(n,e),n},this.Clear=function(){if(this.FCount===0)return;this.Changing(),this.InternalClear(0,!1),this.Changed()},this.Delete=function(e){this.CheckIndex(e),this.Changing(),this.FOwnsObjects&&d({p:this.FList[e],get:function(){return this.p.FObject},set:function(e){this.p.FObject=e}}),this.FList.splice(e,1),this.FList[this.GetCount()-1].FString="",this.FList[this.GetCount()-1].FObject=null,this.FCount-=1,this.Changed()},this.Find=function(e,n){var a=!1,s=0,i=0,o=0,r=0,a=!1;if(n.set(-1),!this.GetSorted())throw u.$create("Create$1",[rtl.getResStr(t,"SErrFindNeedsSortedList")]);for(s=0,i=this.GetCount()-1;s<=i;)o=s+rtl.trunc((i-s)/2),r=this.DoCompareText(e,this.FList[o].FString),r>0?s=o+1:(i=o-1,r===0&&(a=!0,this.FDuplicates!==1&&(s=o)));return n.set(s),a},this.Insert=function(e,n){this.FSortStyle===2?this.Error(rtl.getResStr(t,"SSortedListError"),0):((e<0||e>this.FCount)&&this.Error(rtl.getResStr(t,"SListIndexError"),e),this.InsertItem(e,n))}}),rtl.createClass(this,"TCollectionItem",n,function(){E=this,this.$init=function(){n.$init.call(this),this.FCollection=null,this.FID=0},this.$final=function(){this.FCollection=void 0,n.$final.call(this)},this.GetIndex=function(){var e=0;return this.FCollection!=null?e=this.FCollection.FItems.IndexOf(this):e=-1,e},this.SetCollection=function(e){e!==this.FCollection&&(this.FCollection!=null&&this.FCollection.RemoveItem(this),e!=null&&e.InsertItem(this))},this.Changed=function(e){this.FCollection!==null&&this.FCollection.FUpdateCount===0&&(e?this.FCollection.Update(null):this.FCollection.Update(this))},this.GetOwner=function(){var e=null,e=this.FCollection;return e},this.SetDisplayName=function(e){this.Changed(!1),e===""},this.Create$1=function(t){return e.Create.call(this),this.SetCollection(t),this},this.Destroy=function(){this.SetCollection(null),e.Destroy.call(this)}}),N=this.TCollectionNotification={0:"cnAdded",cnAdded:0,1:"cnExtracting",cnExtracting:1,2:"cnDeleting",cnDeleting:2},rtl.createClass(this,"TCollection",n,function(){i=this,this.$init=function(){n.$init.call(this),this.FItemClass=null,this.FItems=null,this.FUpdateCount=0,this.FNextID=0},this.$final=function(){this.FItemClass=void 0,this.FItems=void 0,n.$final.call(this)},this.GetCount=function(){var e=0,e=this.FItems.FCount;return e},this.InsertItem=function(e){if(!this.FItemClass.isPrototypeOf(e))return;this.FItems.Add(e),e.FCollection=this,e.FID=this.FNextID,this.FNextID+=1,this.SetItemName(e),this.Notify(e,0),this.Changed()},this.RemoveItem=function(e){var t=0;this.Notify(e,1),t=this.FItems.IndexOfItem(e,1),t!==-1&&this.FItems.Delete(t),e.FCollection=null,this.Changed()},this.DoClear=function(){for(var e=null;this.FItems.FCount>0;)e=rtl.getObject(this.FItems.Last()),e!=null&&e.$destroy("Destroy")},this.Changed=function(){this.FUpdateCount===0&&this.Update(null)},this.GetItem=function(e){var t=null,t=rtl.getObject(this.FItems.Get(e));return t},this.SetItemName=function(e){e===null},this.Update=function(e){e===null},this.Notify=function(e,t){e===null,t===0},this.Create$1=function(t){return e.Create.call(this),this.FItemClass=t,this.FItems=r.$create("Create"),this},this.Destroy=function(){this.FUpdateCount=1;try{this.DoClear()}finally{this.FUpdateCount=0}this.FItems!=null&&this.FItems.$destroy("Destroy"),e.Destroy.call(this)},this.Owner=function(){var e=null,e=this.GetOwner();return e},this.Add=function(){var e=null,e=this.FItemClass.$create("Create$1",[this]);return e},this.Assign=function(e){if(t=0,i.isPrototypeOf(e)){this.Clear();for(var t,s=0,o=e.GetCount()-1;s<=o;s++)t=s,this.Add().Assign(e.GetItem(t));return}n.Assign.call(this,e)},this.BeginUpdate=function(){this.FUpdateCount+=1},this.Clear=function(){if(this.FItems.FCount===0)return;this.BeginUpdate();try{this.DoClear()}finally{this.EndUpdate()}},this.EndUpdate=function(){this.FUpdateCount>0&&(this.FUpdateCount-=1),this.FUpdateCount===0&&this.Changed()}}),rtl.createClass(this,"TOwnedCollection",i,function(){z=this,this.$init=function(){i.$init.call(this),this.FOwner=null},this.$final=function(){this.FOwner=void 0,i.$final.call(this)},this.GetOwner=function(){var e=null,e=this.FOwner;return e},this.Create$2=function(e,t){return this.FOwner=e,i.Create$1.call(this,t),this}}),k=this.TOperation={0:"opInsert",opInsert:0,1:"opRemove",opRemove:1},w=this.TComponentStateItem={0:"csLoading",csLoading:0,1:"csReading",csReading:1,2:"csWriting",csWriting:2,3:"csDestroying",csDestroying:3,4:"csDesigning",csDesigning:4,5:"csAncestor",csAncestor:5,6:"csUpdating",csUpdating:6,7:"csFixups",csFixups:7,8:"csFreeNotification",csFreeNotification:8,9:"csInline",csInline:9,10:"csDesignInstance",csDesignInstance:10},L=this.TComponentStyleItem={0:"csInheritable",csInheritable:0,1:"csCheckPropAvail",csCheckPropAvail:1,2:"csSubComponent",csSubComponent:2,3:"csTransient",csTransient:3},rtl.createClass(this,"TComponent",n,function(){M=this,this.$init=function(){n.$init.call(this),this.FOwner=null,this.FName="",this.FTag=0,this.FComponents=null,this.FFreeNotifies=null,this.FComponentState={},this.FComponentStyle={}},this.$final=function(){this.FOwner=void 0,this.FComponents=void 0,this.FFreeNotifies=void 0,this.FComponentState=void 0,this.FComponentStyle=void 0,n.$final.call(this)},this.Insert=function(e){this.FComponents!=null||(this.FComponents=r.$create("Create")),this.FComponents.Add(e),e.FOwner=this},this.Remove=function(e){e.FOwner=null,this.FComponents!=null&&(this.FComponents.Remove(e),this.FComponents.FCount===0&&(this.FComponents.$destroy("Destroy"),this.FComponents=null))},this.RemoveNotification=function(e){this.FFreeNotifies!==null&&(this.FFreeNotifies.Remove(e),this.FFreeNotifies.FCount===0&&(this.FFreeNotifies.$destroy("Destroy"),this.FFreeNotifies=null,this.FComponentState=rtl.excludeSet(this.FComponentState,8)))},this.SetReference=function(e){var t=null,n=null,s=null;if(this.FName==="")return;this.FOwner!=null&&(s=this.FOwner,t=this.FOwner.$class.FieldAddress(this.FName),t!=null&&(e?n=this:n=null,s[""+t.name]=n))},this.ChangeName=function(e){this.FName=e},this.GetOwner=function(){var e=null,e=this.FOwner;return e},this.Notification=function(e,t){var n=0;if(t===1&&this.RemoveFreeNotification(e),this.FComponents==null)return;for(n=this.FComponents.FCount-1;n>=0;)rtl.getObject(this.FComponents.Get(n)).Notification(e,t),n-=1,n>=this.FComponents.FCount&&(n=this.FComponents.FCount-1)},this.SetDesigning=function(e,t){if(n=0,e?this.FComponentState=rtl.includeSet(this.FComponentState,4):this.FComponentState=rtl.excludeSet(this.FComponentState,4),this.FComponents!=null&&t)for(var n,s=0,o=this.FComponents.FCount-1;s<=o;s++)n=s,rtl.getObject(this.FComponents.Get(n)).SetDesigning(e,!0)},this.SetName=function(e){if(this.FName===e)return;if(e!==""&&!R(e,!1,!1))throw v.$create("CreateFmt",[rtl.getResStr(t,"SInvalidName"),h(18,e)]);this.FOwner!=null?this.FOwner.ValidateRename(this,this.FName,e):this.ValidateRename(null,this.FName,e),this.SetReference(!1),this.ChangeName(e),this.SetReference(!0)},this.ValidateRename=function(e,n,s){if(e!==null&&l(n,s)!==0&&e.FOwner===this&&this.FindComponent(s)!==null)throw v.$create("CreateFmt",[rtl.getResStr(t,"SDuplicateName"),h(18,s)]);4 in this.FComponentState&&this.FOwner!==null&&this.FOwner.ValidateRename(e,n,s)},this.ValidateContainer=function(e){e.ValidateInsert(this)},this.ValidateInsert=function(e){e===null},this.Create$1=function(e){return this.FComponentStyle=rtl.createSet(0),e!=null&&e.InsertComponent(this),this},this.Destroy=function(){var t=0,n=null;if(this.Destroying(),this.FFreeNotifies!=null){for(t=this.FFreeNotifies.FCount-1;t>=0;)n=rtl.getObject(this.FFreeNotifies.Get(t)),this.FFreeNotifies.Delete(t),n.Notification(this,1),this.FFreeNotifies===null?t=0:t>this.FFreeNotifies.FCount&&(t=this.FFreeNotifies.FCount),t-=1;d({p:this,get:function(){return this.p.FFreeNotifies},set:function(e){this.p.FFreeNotifies=e}})}this.DestroyComponents(),this.FOwner!==null&&this.FOwner.RemoveComponent(this),e.Destroy.call(this)},this.BeforeDestruction=function(){3 in this.FComponentState||this.Destroying()},this.DestroyComponents=function(){for(var e=null;this.FComponents!=null;)e=rtl.getObject(this.FComponents.Last()),this.Remove(e),e.$destroy("Destroy")},this.Destroying=function(){if(e=0,3 in this.FComponentState)return;if(this.FComponentState=rtl.includeSet(this.FComponentState,3),this.FComponents!=null)for(var e,t=0,n=this.FComponents.FCount-1;t<=n;t++)e=t,rtl.getObject(this.FComponents.Get(e)).Destroying()},this.FindComponent=function(e){if(t=null,n=0,t=null,e===""||this.FComponents==null)return t;for(var t,n,s=0,o=this.FComponents.FCount-1;s<=o;s++)if(n=s,l(rtl.getObject(this.FComponents.Get(n)).FName,e)===0)return t=rtl.getObject(this.FComponents.Get(n)),t;return t},this.FreeNotification=function(e){if(this.FOwner!==null&&e===this.FOwner)return;this.FFreeNotifies!=null||(this.FFreeNotifies=r.$create("Create")),this.FFreeNotifies.IndexOf(e)===-1&&(this.FFreeNotifies.Add(e),e.FreeNotification(this))},this.RemoveFreeNotification=function(e){this.RemoveNotification(e),e.RemoveNotification(this)},this.InsertComponent=function(e){e.ValidateContainer(this),this.ValidateRename(e,"",e.FName),e.FOwner!==null&&e.FOwner.RemoveComponent(e),this.Insert(e),4 in this.FComponentState&&e.SetDesigning(!0,!0),this.Notification(e,0)},this.RemoveComponent=function(e){this.Notification(e,1),this.Remove(e),e.SetDesigning(!1,!0),this.ValidateRename(e,e.FName,"")};var s=this.$rtti;s.addProperty("Name",6,rtl.string,"FName","SetName"),s.addProperty("Tag",0,rtl.nativeint,"FTag","FTag",{Default:0})}),rtl.createClass(this,"TLoadHelper",e,function(){x=this}),this.SetLoadHelperClass=function(e){var t=null,t=c.GlobalLoadHelper;return c.GlobalLoadHelper=e,t},g.$implcode=function(){c.GlobalLoadHelper=null,c.ClassList=null},g.$init=function(){c.ClassList=new Object}},[]),rtl.module("Rtl.BrowserLoadHelper",["System","Classes","SysUtils","JS","Web"],function(){"use strict";var n=this,e=null,t=pas.Classes,s=t.TLoadHelper,o=t.SetLoadHelperClass;rtl.createClass(this,"TBrowserLoadHelper",s,function(){e=this}),n.$init=function(){o(e)}}),rtl.module("browserconsole",["System","JS","Web","Rtl.BrowserLoadHelper","SysUtils"],function(){"use strict";var t=this,e=t.$impl,s=pas.System,o=s.SetWriteCallBack,i=pas.SysUtils,n=i.StringReplace;this.BrowserLineBreak=`
`,this.DefaultMaxConsoleLines=25,this.DefaultConsoleStyle=".pasconsole { "+this.BrowserLineBreak+"font-family: courier;"+this.BrowserLineBreak+"font-size: 14px;"+this.BrowserLineBreak+"background: #FFFFFF;"+this.BrowserLineBreak+"color: #000000;"+this.BrowserLineBreak+"display: block;"+this.BrowserLineBreak+"}",this.ConsoleElementID="",this.ConsoleStyle="",this.MaxConsoleLines=0,this.ConsoleLinesToBrowserLog=!1,this.ResetConsole=function(){if(e.LinesParent===null)return;for(;e.LinesParent.firstElementChild!==null;)e.LinesParent.removeChild(e.LinesParent.firstElementChild);e.AppendLine()},this.InitConsole=function(){if(e.ConsoleElement===null)return;if(e.ConsoleElement.nodeName.toLowerCase()!=="body")for(;e.ConsoleElement.firstElementChild!==null;)e.ConsoleElement.removeChild(e.ConsoleElement.firstElementChild);e.StyleElement=document.createElement("style"),e.StyleElement.innerText=t.ConsoleStyle,e.ConsoleElement.appendChild(e.StyleElement),e.LinesParent=document.createElement("div"),e.ConsoleElement.appendChild(e.LinesParent)},this.HookConsole=function(){if(e.ConsoleElement=null,t.ConsoleElementID!==""&&(e.ConsoleElement=document.getElementById(t.ConsoleElementID)),e.ConsoleElement===null&&(e.ConsoleElement=document.body),e.ConsoleElement===null)return;t.InitConsole(),t.ResetConsole(),o(e.WriteConsole)},t.$implcode=function(){e.LastLine=null,e.StyleElement=null,e.LinesParent=null,e.ConsoleElement=null,e.AppendLine=function(){for(var n=0,s=null,n=0,s=e.LinesParent.firstChild;s!=null;)n+=1,s=s.nextSibling;for(;n>t.MaxConsoleLines;)n-=1,e.LinesParent.removeChild(e.LinesParent.firstChild);e.LastLine=document.createElement("div"),e.LastLine.className="pasconsole",e.LinesParent.appendChild(e.LastLine)},e.EscapeString=function(e){var s="",t="",t=n(e,"<","&lt;",rtl.createSet(0)),t=n(t,">","&gt;",rtl.createSet(0)),t=n(t," ","&nbsp;",rtl.createSet(0)),t=n(t,`
`,"<br>",rtl.createSet(0)),t=n(t,`
`,"<br>",rtl.createSet(0)),t=n(t,``,"<br>",rtl.createSet(0)),s=t;return s},e.WriteConsole=function(n,s){var o="",o=e.LastLine.innerHTML,o=o+e.EscapeString(""+n);e.LastLine.innerHTML=o,s&&(t.ConsoleLinesToBrowserLog&&window.console.log(e.LastLine.innerText),e.AppendLine())}},t.$init=function(){t.ConsoleLinesToBrowserLog=!0,t.ConsoleElementID="pasjsconsole",t.ConsoleStyle=t.DefaultConsoleStyle,t.MaxConsoleLines=25,t.HookConsole()}},[]),rtl.module("CustApp",["System","Classes","SysUtils","Types","JS"],function(){"use strict";var i=this,t=null,n=pas.Classes,e=n.TComponent,s=pas.SysUtils,o=s.Exception;rtl.createClass(this,"TCustomApplication",e,function(){t=this,this.$init=function(){e.$init.call(this),this.FExceptObjectJS=void 0,this.FTerminated=!1,this.FOptionChar="",this.FCaseSensitiveOptions=!1,this.FStopOnException=!1,this.FExceptionExitCode=0,this.FExceptObject=null},this.$final=function(){this.FExceptObject=void 0,e.$final.call(this)},this.Create$1=function(t){return e.Create$1.call(this,t),this.FOptionChar="-",this.FCaseSensitiveOptions=!0,this.FStopOnException=!1,this},this.HandleException=function(e){this.ShowException(this.FExceptObject),this.FStopOnException&&this.Terminate$1(this.FExceptionExitCode),e===null},this.Initialize=function(){this.FTerminated=!1},this.Run=function(){do{this.FExceptObject=null,this.FExceptObjectJS=null;try{this.DoRun()}catch(t){if(o.isPrototypeOf(t)){var e=t;this.FExceptObject=e,this.FExceptObjectJS=e,this.HandleException(this)}else this.FExceptObject=null,this.FExceptObjectJS=t}break}while(!this.FTerminated)},this.Terminate$1=function(e){this.FTerminated=!0,rtl.exitcode=e}})}),rtl.module("browserapp",["System","Classes","SysUtils","Types","JS","Web","CustApp"],function(){"use strict";var s=this,e=s.$impl,a=null,r=pas.CustApp,o=r.TCustomApplication,n=pas.System,c=n.Writeln,t=pas.SysUtils,l=t.Exception,d=t.FreeAndNil,u=n.Copy,i=t.LowerCase;rtl.createClass(this,"TBrowserApplication",o,function(){a=this,this.GetHTMLElement=function(e){var t=null,t=document.getElementById(e);return t===null&&this.LogGetElementErrors()&&c("Could not find element with ID ",e),t},this.DoRun=function(){},this.LogGetElementErrors=function(){var e=!1,e=!0;return e},this.ShowException=function(e){var t="";e!==null?t=e.$classname+": "+e.fMessage:this.FExceptObjectJS&&(t=this.FExceptObjectJS.toString()),window.alert("Unhandled exception caught:"+t)},this.HandleException=function(e){l.isPrototypeOf(this.FExceptObject)&&this.ShowException(this.FExceptObject),o.HandleException.call(this,e)}}),this.ReloadEnvironmentStrings=function(){a=0,t="",s="",o=[],n=[],e.EnvNames!=null&&d({p:e,get:function(){return this.p.EnvNames},set:function(e){this.p.EnvNames=e}}),e.EnvNames=new Object,t=window.location.search,t=u(t,2,t.length-1),o=t.split("&");for(var t,n,s,o,a,r=0,c=rtl.length(o)-1;r<=c;r++)a=r,n=o[a].split("="),s=i(decodeURIComponent(n[0])),rtl.length(n)===2?e.EnvNames[s]=decodeURIComponent(n[1]):rtl.length(n)===1&&(e.EnvNames[s]="")},s.$implcode=function(){e.EnvNames=null,e.Params=[],e.ReloadParamStrings=function(){e.Params=rtl.arraySetLength(e.Params,"",1),e.Params[0]=window.location.pathname},e.GetParamCount=function(){var t=0,t=rtl.length(e.Params)-1;return t},e.GetParamStr=function(t){var n="",n=e.Params[t];return n},e.MyGetEnvironmentVariable=function(t){var n="",s="",s=i(t);return e.EnvNames.hasOwnProperty(s)?n=""+e.EnvNames[s]:n="",n},e.MyGetEnvironmentVariableCount=function(){var t=0,t=rtl.length(Object.getOwnPropertyNames(e.EnvNames));return t},e.MyGetEnvironmentString=function(t){var n="",n=""+e.EnvNames[Object.getOwnPropertyNames(e.EnvNames)[t]];return n}},s.$init=function(){n.IsConsole=!0,n.OnParamCount=e.GetParamCount,n.OnParamStr=e.GetParamStr,s.ReloadEnvironmentStrings(),e.ReloadParamStrings(),t.OnGetEnvironmentVariable=e.MyGetEnvironmentVariable,t.OnGetEnvironmentVariableCount=e.MyGetEnvironmentVariableCount,t.OnGetEnvironmentString=e.MyGetEnvironmentString}},["Rtl.BrowserLoadHelper"]),rtl.module("p2jsres",["System","Types"],function(){"use strict";var r=this,e=r.$impl,u=null,d=null,h=null,s=null,n=null,i=null,a=null,o=null,c=pas.System,t=c.Copy,l=c.Pos,u=this.TResourceSource={0:"rsJS",rsJS:0,1:"rsHTML",rsHTML:1};rtl.recNewT(this,"TResourceInfo",function(){d=this,this.name="",this.encoding="",this.resourceunit="",this.format="",this.data="",this.$eq=function(e){return this.name===e.name&&this.encoding===e.encoding&&this.resourceunit===e.resourceunit&&this.format===e.format&&this.data===e.data},this.$assign=function(e){return this.name=e.name,this.encoding=e.encoding,this.resourceunit=e.resourceunit,this.format=e.format,this.data=e.data,this}}),this.GetResourceInfo$1=function(t,n,s){var o=!1,i=t;return i===0?o=e.GetRTLResourceInfo(n,s):i===1&&(o=e.GetHTMLResourceInfo(n,s)),o},r.$implcode=function(){s=pas.SysUtils,n=s.LowerCase,i=pas.JS,a=i.isDefined,o=s.SameText,e.GetRTLResourceInfo=function(e,t){var o=!1,s=null,s=rtl.getResource(n(e)),o=s!=null;return o&&(t.name=s.name,t.encoding=s.encoding,t.format=s.format,t.resourceunit=s.unit,t.data=s.data),o},e.IDPrefix="resource-",e.GetHTMLResourceInfo=function(s,i){var d=!1,u=null,r="",c=0,d=!1;return a(document)?(u=document.getElementById(e.IDPrefix+n(s)),d=u!=null&&o(u.tagName,"link"),d&&(i.name=n(s),i.resourceunit=""+u.dataset.unit,r=u.href,r=t(r,6,r.length-5),c=l(",",r),i.data=t(r,c+1,r.length-1),r=t(r,1,c-1),c=l(";",r),c===0?i.encoding="":(i.encoding=t(r,c+1,r.length-1),r=t(r,1,c-1)),i.format=r,d)):d}}},["SysUtils","JS","Web"]),rtl.module("DateUtils",["System","SysUtils"],function(){"use strict";var s,j,c=this,t=c.$impl,l=null,e=pas.SysUtils,y=e.DecodeDate,f=e.FormatDateTime,v=e.Trim,o=e.StrToIntDef,i=pas.System,n=i.Copy,u=e.EncodeTime,h=e.EncodeDate,m=i.TObject,r=e.Format,a=i.VarRecs,p=e.SameText,g=e.Now,d=i.upcase,b=e.EConvertError;this.YearOf=function(e){var t=0,n=0,s=0;return y(e,{get:function(){return t},set:function(e){t=e}},{get:function(){return n},set:function(e){n=e}},{get:function(){return s},set:function(e){s=e}}),t},this.DateTimeToRFC3339=function(e){var t="",t=f('yyyy-mm-dd"T"hh":"nn":"ss"."zzz"Z"',e);return t},j={0:"ppTime",ppTime:0,1:"ppYear",ppYear:1,2:"ppMonth",ppMonth:2,3:"ppDay",ppDay:3,4:"ppHour",ppHour:4,5:"ppMinute",ppMinute:5,6:"ppSec",ppSec:6,7:"ppMSec",ppMSec:7},s=[11,1,6,9,12,15,18,21],this.TryRFC3339ToDateTime=function(e,t){var c=!1,l=0,d=0,m=0,a=0,r=0,i=0,f=0;return v(e)===""&&(c=!0,t.set(0)),l=o(n(e,s[1],4),-1),d=o(n(e,s[2],2),-1),m=o(n(e,s[3],2),-1),e.length>=s[0]?(a=o(n(e,s[4],2),-1),r=o(n(e,s[5],2),-1),e.length>=s[6]?i=o(n(e,s[6],2),-1):i=0,e.length>=s[7]&&(f=o(n(e,s[7],3),-1))):(a=0,r=0,i=0,f=0),c=l>=0&&d>=0&&m>=0&&a>=0&&r>=0&&i>=0&&f>=0,c?l===0||d===0||m===0?t.set(u(a,r,i,0)):t.set(h(l,d,m)+u(a,r,i,f)):t.set(0),c},rtl.createClass(this,"TDateTimeScanner",m,function(){l=this,this.$init=function(){m.$init.call(this),this.FPattern="",this.FText="",this.FPatternOffset=0,this.FLen=0,this.FPatternLen=0,this.FPatternPos=0,this.FPos=0,this.FY=0,this.FM=0,this.FD=0,this.FTimeval=0},this.ArrayMatchError=function(){t.raiseexception(r(t.SNoArrayMatch,a(0,this.FPatternPos+1,0,this.FPos)))},this.DoDateTime=function(){this.MatchPattern(e.ShortDateFormat),this.MatchPattern("	"),this.MatchPattern(e.LongTimeFormat),this.FPatternPos+=1},this.SetPattern=function(e){if(this.FPattern===e)return;this.FPattern=e,this.FPatternLen=this.FPattern.length},this.SetText=function(e){if(this.FText===e)return;this.FText=e,this.FLen=this.FText.length},this.ScanFixedInt=function(e){for(var n=0,o="",s="",i=0,n=0,i=this.FPos,o=this.FPattern.charAt(this.FPatternPos-1);this.FPatternPos<=this.FPatternLen&&this.FPattern.charAt(this.FPatternPos-1)===o;)this.FPatternPos+=1;for(s=this.FText.charAt(this.FPos-1);e>0&&this.FPos<=this.FLen&&s.charCodeAt()in rtl.createSet(null,48,57);)n=n*10+s.charCodeAt()-48,this.FPos+=1,e-=1,this.FPos<=this.FLen&&(s=this.FText.charAt(this.FPos-1));return i===this.FPos&&t.raiseexception(r(t.SPatternCharMismatch,a(9,o,0,i))),n},this.ScanPatternLength=function(){for(var t=0,n="",e=0,t=this.FPatternPos,e=this.FPatternPos,n=this.FPattern.charAt(e-1);e<=this.FPatternLen&&this.FPattern.charAt(e-1)===n;)e+=1;return t=e-t,t},this.MatchChar=function(e){var n="";this.FPos<=this.FLen?n=this.FText.charAt(this.FPos-1):n="?",n!==e&&t.raiseexception(r(t.SNoCharMatch,a(9,n,9,e,0,this.FPatternPos+this.FPatternOffset,0,this.FPos))),this.FPatternPos+=1,this.FPos+=1},this.FindIMatch=function(e,t){for(var o=0,i=0,s=0,o=-1,i=rtl.length(e)-1,s=0;s<=i&&o===-1;)p(n(t,1,e[s].length),e[s])&&(o=s),s+=1;return o},this.FindMatch=function(e){var t=0,t=this.FindIMatch(e,n(this.FText,this.FPos,this.FLen-this.FPos+1));return t===-1?this.ArrayMatchError():(this.FPos+=e[t].length+1,this.FPatternPos+=e[t].length+1,t+=1),t},this.MatchPattern=function(e){var t="",n=0,t=this.FPattern,n=this.FPatternPos;this.FPatternOffset=this.FPatternPos,this.FPattern=e,this.FPatternLen=e.length;try{this.Scan(-1)}finally{this.FPattern=t,this.FPatternLen=e.length,this.FPatternPos=n,this.FPatternOffset=0}},this.DoYear=function(){var n=0,t=0,n=this.ScanPatternLength();this.FY=this.ScanFixedInt(4),n<=2&&(t=c.YearOf(g())-e.TwoDigitYearCenturyWindow,this.FY+=rtl.trunc(t/100)*100,e.TwoDigitYearCenturyWindow>0&&this.FY<t&&(this.FY+=100))},this.DoMonth=function(){var n=0,n=this.ScanPatternLength(),t=n;t===1||t===2?this.FM=this.ScanFixedInt(2):t===3?this.FM=this.FindMatch(e.ShortMonthNames):t===4&&(this.FM=this.FindMatch(e.LongMonthNames))},this.DoDay=function(){var n=0,n=this.ScanPatternLength(),t=n;t===1||t===2?this.FD=this.ScanFixedInt(2):t===3?this.FD=this.FindMatch(e.ShortDayNames):t===4?this.FD=this.FindMatch(e.LongDayNames):t===5?this.MatchPattern(e.ShortDateFormat):t===6&&this.MatchPattern(e.LongDateFormat)},this.DoTime=function(){var t=0,t=this.ScanPatternLength(),n=t;n===1?this.MatchPattern(e.ShortTimeFormat):n===2&&this.MatchPattern(e.LongTimeFormat)},this.DoAMPM=function(){var i,a,r,s=0,s=this.FindIMatch(t.AMPMformatting,n(this.FPattern,this.FPatternPos,5)),o=s;o===0?(s=this.FindIMatch(["AM","PM"],n(this.FText,this.FPos,2)),i=s,i===0||(i===1?this.FTimeval=this.FTimeval+12*.041666666666666664:this.ArrayMatchError()),this.FPatternPos+=t.AMPMformatting[0].length,this.FPos+=2):o===1?(a=d(this.FText.charAt(this.FPos-1)),a==="A"||(a==="P"?this.FTimeval=this.FTimeval+12*.041666666666666664:this.ArrayMatchError()),this.FPatternPos+=t.AMPMformatting[1].length,this.FPos+=1):o===2?(s=this.FindIMatch([e.TimeAMString,e.TimePMString],n(this.FText,this.FPos,5)),r=s,r===0?this.FPos+=e.TimeAMString.length:r===1?(this.FTimeval=this.FTimeval+12*.041666666666666664,this.FPos+=e.TimePMString.length):this.ArrayMatchError(),this.FPatternPos+=t.AMPMformatting[2].length,this.FPatternPos+=2,this.FPos+=2):this.MatchChar(this.FPattern.charAt(this.FPatternPos-1))},this.Scan=function(n){var s,c=0,l="",i="",o="",u=0;for(n<1&&(n=1),this.FPos<n&&(this.FPos=n),this.FPatternPos=1,i="\0",l=" ";this.FPos<=this.FLen&&this.FPatternPos<=this.FPatternLen;)if(o=d(this.FPattern.charAt(this.FPatternPos-1)),i!=="\0")i!==o?this.MatchChar(o):(i="\0",this.FPatternPos+=1);else{if(o==="M"&&l==="H")u=this.ScanPatternLength(),u>2&&t.raiseexception(r(t.SHHMMError,a(0,this.FPatternOffset+this.FPatternPos+1))),this.FTimeval=this.FTimeval+this.ScanFixedInt(2)*.00069444444444444447;else if(s=o,s==="Y")this.DoYear();else if(s==="M")this.DoMonth();else if(s==="D")this.DoDay();else if(s==="T")this.DoTime();else if(s==="H")this.FTimeval=this.FTimeval+this.ScanFixedInt(2)*.041666666666666664;else if(s==="N")this.FTimeval=this.FTimeval+this.ScanFixedInt(2)*.00069444444444444447;else if(s==="S")this.FTimeval=this.FTimeval+this.ScanFixedInt(2)*.11574074074074073e-4;else if(s==="Z")this.FTimeval=this.FTimeval+this.ScanFixedInt(3)*.11574074074074074e-7;else if(s==="A")this.DoAMPM();else if(s==="/")this.MatchChar(e.DateSeparator);else if(s===":")this.MatchChar(e.TimeSeparator),o=l;else if(s==="'"||s==='"')i=o,this.FPatternPos+=1;else if(s==="C")this.DoDateTime();else if(s==="?")this.FPatternPos+=1,this.FPos+=1;else if(s==="	"){for(;this.FPos<=this.FLen&&this.FText.charCodeAt(this.FPos-1)in t.whitespace;)this.FPos+=1;this.FPatternPos+=1}else this.MatchChar(this.FPattern.charAt(this.FPatternPos-1));l=o}return c=this.FTimeval,this.FY>0&&this.FM>0&&this.FD>0&&(c=c+h(this.FY,this.FM,this.FD)),c}}),this.ScanDateTime=function(e,t,n){var o=0,s=null,s=l.$create("Create");try{s.SetPattern(e),s.SetText(t),o=s.Scan(n)}finally{s=rtl.freeLoc(s)}return o},c.$implcode=function(){t.whitespace=rtl.createSet(32,13,10),t.hrfactor=1/24,t.minfactor=1/(24*60),t.secfactor=1/(24*60*60),t.mssecfactor=1/(24*60*60*1e3),t.AMPMformatting=["am/pm","a/p","ampm"],t.raiseexception=function(e){throw b.$create("Create$1",[e])},t.SPatternCharMismatch='Pattern mismatch char "%s" at position %d.',t.SNoCharMatch='Mismatch char "%s" <> "%s" at pattern position %d, string position %d.',t.SHHMMError="mm in a sequence hh:mm is interpreted as minutes. No longer versions allowed! (Position : %d).",t.SNoArrayMatch="Can't match any allowed value at pattern position %d, string position %d."}},["JS","RTLConsts"]),rtl.module("DBConst",["System"],function(){"use strict";var e=this;e.$resourcestrings={SActiveDataset:{org:"Operation cannot be performed on an active dataset"},SDuplicateFieldName:{org:'Duplicate fieldname : "%s"'},SFieldNotFound:{org:'Field not found : "%s"'},SInactiveDataset:{org:"Operation cannot be performed on an inactive dataset"},SInvalidDisplayValues:{org:'"%s" are not valid boolean displayvalues'},SInvalidFieldSize:{org:"Invalid field size : %d"},SInvalidTypeConversion:{org:"Invalid type conversion to %s in field %s"},SNeedField:{org:"Field %s is required, but not supplied."},SNeedFieldName:{org:"Field needs a name"},SNoDataset:{org:'No dataset asssigned for field : "%s"'},SNoSuchRecord:{org:"Could not find the requested record."},SNotEditing:{org:'Operation not allowed, dataset "%s" is not in an edit or insert state.'},SRangeError:{org:"%f is not between %f and %f for %s"},SUniDirectional:{org:"Operation cannot be performed on an unidirectional dataset"},SUnknownFieldType:{org:"Unknown field type : %s"},SIndexNotFound:{org:"Index '%s' not found"},SFieldValueError:{org:"Invalid value for field '%s'"},SDuplicateName:{org:"Duplicate name '%s' in %s"},SLookupInfoError:{org:"Lookup information for field '%s' is incomplete"},SErrInvalidDateTime:{org:'Invalid date/time value : "%s"'},SErrInsertingSameRecordtwice:{org:"Attempt to insert the same record twice."},SNestedDataSetClass:{org:"Nested dataset must inherit from %s"},SCircularDataLink:{org:"Circular datalinks are not allowed"}}}),rtl.module("DB",["System","Classes","SysUtils","JS","Types","DateUtils"],function(){"use strict";var e=this,c=e.$impl,De=null,Te=null,_e=null,ye=null,g=null,G=null,ge=null,h=null,k=null,F=null,M=null,ce=null,Q=null,n=null,N=null,u=null,_=null,ee=null,se=null,L=null,oe=null,j=null,H=null,ie=null,A=null,I=null,S=null,re=null,ae=null,Se=null,de=null,C=null,ue=null,te=null,J=null,Y=null,Oe=null,d=null,pe=null,Ie=null,He=null,Re=null,ze=null,le=null,xe=null,a=null,b=null,je=null,ve=null,fe=null,Z=null,R=null,me=null,o=pas.SysUtils,he=o.Exception,l=pas.Classes,m=l.TCollectionItem,t=null,f=pas.System,s=f.VarRecs,T=l.TOwnedCollection,p=f.Copy,E=o.IntToStr,z=l.TCollection,ne=o.AnsiSameText,y=l.TPersistent,r=f.TObject,w=l.TFPList,i=l.TComponent,X=f.Pos,be=o.LowerCase,x=o.UpperCase,O=pas.JS,P=O.isNull,we=o.EVariantError,q=O.isUndefined,K=l.TAlignment,Ce=K.taLeftJustify,Ee=f.upcase,ke=o.StrToDateTime,Ae=o.StrToFloat,U=o.StrToInt,Me=o.StrToInt64,Fe=K.taRightJustify,v=O.isInteger,W=o.FloatToStr,D=O.isBoolean,Ne=o.FormatDateTime,Le=f.Assigned,$=o.FreeAndNil,Pe=o.Abort,V=l.TList,B=pas.DateUtils,Be=B.TryRFC3339ToDateTime,Ve=o.EConvertError,$e=O.isDate,We=o.JSDateToDateTime,Ue=B.DateTimeToRFC3339,Ke=o.IntToHex,qe=o.Format,Ye=o.Trim;this.YesNoChars=["N","Y"],De=this.TDataSetState={0:"dsInactive",dsInactive:0,1:"dsBrowse",dsBrowse:1,2:"dsEdit",dsEdit:2,3:"dsInsert",dsInsert:3,4:"dsSetKey",dsSetKey:4,5:"dsCalcFields",dsCalcFields:5,6:"dsFilter",dsFilter:6,7:"dsNewValue",dsNewValue:7,8:"dsOldValue",dsOldValue:8,9:"dsCurValue",dsCurValue:9,10:"dsBlockRead",dsBlockRead:10,11:"dsInternalCalc",dsInternalCalc:11,12:"dsOpening",dsOpening:12,13:"dsRefreshFields",dsRefreshFields:13},Te=this.TDataEvent={0:"deFieldChange",deFieldChange:0,1:"deRecordChange",deRecordChange:1,2:"deDataSetChange",deDataSetChange:2,3:"deDataSetScroll",deDataSetScroll:3,4:"deLayoutChange",deLayoutChange:4,5:"deUpdateRecord",deUpdateRecord:5,6:"deUpdateState",deUpdateState:6,7:"deCheckBrowseMode",deCheckBrowseMode:7,8:"dePropertyChange",dePropertyChange:8,9:"deFieldListChange",deFieldListChange:9,10:"deFocusControl",deFocusControl:10,11:"deParentScroll",deParentScroll:11,12:"deConnectChange",deConnectChange:12,13:"deReconcileError",deReconcileError:13,14:"deDisabledStateChange",deDisabledStateChange:14},_e=this.TUpdateStatus={0:"usModified",usModified:0,1:"usInserted",usInserted:1,2:"usDeleted",usDeleted:2},ye=this.TProviderFlag={0:"pfInUpdate",pfInUpdate:0,1:"pfInWhere",pfInWhere:1,2:"pfInKey",pfInKey:2,3:"pfHidden",pfHidden:3,4:"pfRefreshOnInsert",pfRefreshOnInsert:4,5:"pfRefreshOnUpdate",pfRefreshOnUpdate:5},this.$rtti.$Enum("TProviderFlag",{minvalue:0,maxvalue:5,ordtype:1,enumtype:this.TProviderFlag}),this.$rtti.$Set("TProviderFlags",{comptype:this.$rtti.TProviderFlag}),this.$rtti.$Class("TFieldDefs"),this.$rtti.$Class("TField"),this.$rtti.$Class("TDataSet"),this.$rtti.$Class("TDataSource"),rtl.createClass(this,"EDatabaseError",he,function(){g=this}),G=this.TFieldType={0:"ftUnknown",ftUnknown:0,1:"ftString",ftString:1,2:"ftInteger",ftInteger:2,3:"ftLargeInt",ftLargeInt:3,4:"ftBoolean",ftBoolean:4,5:"ftFloat",ftFloat:5,6:"ftDate",ftDate:6,7:"ftTime",ftTime:7,8:"ftDateTime",ftDateTime:8,9:"ftAutoInc",ftAutoInc:9,10:"ftBlob",ftBlob:10,11:"ftMemo",ftMemo:11,12:"ftFixedChar",ftFixedChar:12,13:"ftVariant",ftVariant:13,14:"ftDataset",ftDataset:14},this.$rtti.$Enum("TFieldType",{minvalue:0,maxvalue:14,ordtype:1,enumtype:this.TFieldType}),ge=this.TFieldAttribute={0:"faHiddenCol",faHiddenCol:0,1:"faReadonly",faReadonly:1,2:"faRequired",faRequired:2,3:"faLink",faLink:3,4:"faUnNamed",faUnNamed:4,5:"faFixed",faFixed:5},this.$rtti.$Enum("TFieldAttribute",{minvalue:0,maxvalue:5,ordtype:1,enumtype:this.TFieldAttribute}),this.$rtti.$Set("TFieldAttributes",{comptype:this.$rtti.TFieldAttribute}),rtl.createClass(this,"TNamedItem",m,function(){h=this,this.$init=function(){m.$init.call(this),this.FName=""},this.GetDisplayName=function(){var e="",e=this.FName;return e},this.SetDisplayName=function(n){var o=0;if(this.FName===n)return;n!==""&&M.isPrototypeOf(this.FCollection)&&(o=this.FCollection.IndexOf(n),o>=0&&o!==this.GetIndex()&&e.DatabaseErrorFmt(rtl.getResStr(t,"SDuplicateName"),s(18,n,18,this.FCollection.$classname))),this.FName=n,m.SetDisplayName.call(this,n)};var n=this.$rtti;n.addProperty("Name",2,rtl.string,"FName","SetDisplayName")}),rtl.createClass(this,"TDefCollection",T,function(){k=this,this.$init=function(){T.$init.call(this),this.FDataset=null},this.$final=function(){this.FDataset=void 0,T.$final.call(this)},this.SetItemName=function(e){var t=null,n="",t=rtl.as(e,h);t.FName===""?(n=p(this.$classname,2,5)+E(t.FID+1),this.FDataset!=null&&(n=this.FDataset.FName+n),t.SetDisplayName(n)):z.SetItemName.call(this,e)},this.create$3=function(e,t,n){return T.Create$2.call(this,t,n),this.FDataset=e,this},this.Find=function(e){t=null,n=0,t=null;for(var t,n,s=0,o=this.GetCount()-1;s<=o;s++)if(n=s,ne(this.GetItem(n).FName,e)){t=this.GetItem(n);break}return t},this.IndexOf=function(e){t=0,n=0,t=-1;for(var t,n,s=0,o=this.GetCount()-1;s<=o;s++)if(n=s,ne(this.GetItem(n).FName,e)){t=n;break}return t}}),rtl.createClass(this,"TFieldDef",h,function(){F=this,this.$init=function(){h.$init.call(this),this.FAttributes={},this.FDataType=0,this.FFieldNo=0,this.FInternalCalcField=!1,this.FPrecision=0,this.FRequired=!1,this.FSize=0},this.$final=function(){this.FAttributes=void 0,h.$final.call(this)},this.GetFieldClass=function(){var e=null;return this.FCollection!=null&&M.isPrototypeOf(this.FCollection)&&this.FCollection.FDataset!=null?e=this.FCollection.FDataset.GetFieldClass(this.FDataType):e=null,e},this.SetAttributes=function(e){this.FAttributes=rtl.refSet(e),this.Changed(!1)},this.SetDataType=function(e){this.FDataType=e,this.Changed(!1)},this.SetPrecision=function(e){this.FPrecision=e,this.Changed(!1)},this.SetSize=function(e){this.FSize=e,this.Changed(!1)},this.Create$1=function(e){return m.Create$1.call(this,e),this.FFieldNo=this.GetIndex()+1,this},this.Create$3=function(e,t,n,s,o,i){return m.Create$1.call(this,e),this.SetDisplayName(t),this.FDataType=n,this.FSize=s,this.FRequired=o,this.FPrecision=-1,this.FFieldNo=i,this},this.Destroy=function(){m.Destroy.call(this)},this.Assign=function(e){var t=null,t=null;if(F.isPrototypeOf(e)&&(t=rtl.as(e,F)),t!=null){this.FCollection.BeginUpdate();try{this.SetDisplayName(t.FName),this.SetDataType(t.FDataType),this.SetSize(t.FSize),this.SetPrecision(t.FPrecision),this.FRequired=t.FRequired}finally{this.FCollection.EndUpdate()}}else y.Assign.call(this,e)},this.CreateField=function(n){var o=null,i=null,i=this.GetFieldClass();i===null&&e.DatabaseErrorFmt(rtl.getResStr(t,"SUnknownFieldType"),s(18,this.FName)),o=i.$create("Create$1",[n]);try{o.FFieldDef=this,o.SetSize(this.FSize),o.FRequired=this.FRequired,o.FFieldName=this.FName,o.FDisplayLabel=this.GetDisplayName(),o.FFieldNo=this.FFieldNo,o.SetFieldType(this.FDataType),o.FReadOnly=1 in this.FAttributes,o.SetDataset(this.FCollection.FDataset),L.isPrototypeOf(o)&&o.SetPrecision(this.FPrecision)}catch(e){throw o=rtl.freeLoc(o),e}return o};var n=this.$rtti;n.addProperty("Attributes",2,e.$rtti.TFieldAttributes,"FAttributes","SetAttributes",{Default:{}}),n.addProperty("DataType",2,e.$rtti.TFieldType,"FDataType","SetDataType"),n.addProperty("Precision",2,rtl.longint,"FPrecision","SetPrecision",{Default:0}),n.addProperty("Size",2,rtl.longint,"FSize","SetSize",{Default:0})}),rtl.createClass(this,"TFieldDefs",k,function(){M=this,this.GetItem$1=function(e){var t=null,t=this.GetItem(e);return t},this.FieldDefClass=function(){var e=null,e=F;return e},this.Create$4=function(e){return k.create$3.call(this,e,this.Owner(),this.$class.FieldDefClass()),this},this.Add$2=function(e,t,n,s,o){var i=null,i=this.$class.FieldDefClass().$create("Create$3",[this,e,t,n,s,o]);return i},this.Add$3=function(n,s,o,i){n.length===0&&e.DatabaseError$1(rtl.getResStr(t,"SNeedFieldName"),this.FDataset),this.BeginUpdate();try{this.Add$2(n,s,o,i,this.GetCount()+1)}finally{this.EndUpdate()}},this.Add$4=function(e,t,n){this.Add$3(e,t,n,!1)},this.Assign$2=function(e){n=0,this.Clear();for(var t,n,s=0,o=e.GetCount()-1;s<=o;s++)n=s,t=e.GetItem$1(n),this.Add$3(t.FName,t.FDataType,t.FSize,t.FRequired)}}),ce=this.TFieldKind={0:"fkData",fkData:0,1:"fkCalculated",fkCalculated:1,2:"fkLookup",fkLookup:2,3:"fkInternalCalc",fkInternalCalc:3},this.$rtti.$Enum("TFieldKind",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TFieldKind}),this.$rtti.$MethodVar("TFieldNotifyEvent",{procsig:rtl.newTIProcSig([["Sender",this.$rtti.TField]]),methodkind:0}),this.$rtti.$MethodVar("TFieldGetTextEvent",{procsig:rtl.newTIProcSig([["Sender",this.$rtti.TField],["aText",rtl.string,1],["DisplayText",rtl.boolean]]),methodkind:0}),this.$rtti.$MethodVar("TFieldSetTextEvent",{procsig:rtl.newTIProcSig([["Sender",this.$rtti.TField],["aText",rtl.string,2]]),methodkind:0}),rtl.createClass(this,"TLookupList",r,function(){Q=this,this.$init=function(){r.$init.call(this),this.FList=null},this.$final=function(){this.FList=void 0,r.$final.call(this)},this.Create$1=function(){return this.FList=w.$create("Create"),this},this.Destroy=function(){this.Clear(),this.FList.$destroy("Destroy"),r.Destroy.call(this)},this.Clear=function(){this.FList.Clear()}}),rtl.createClass(this,"TField",i,function(){n=this,this.$init=function(){i.$init.call(this),this.FAlignment=0,this.FConstraintErrorMessage="",this.FCustomConstraint="",this.FDataSet=null,this.FDataType=0,this.FDefaultExpression="",this.FDisplayLabel="",this.FDisplayWidth=0,this.FFieldDef=null,this.FFieldKind=0,this.FFieldName="",this.FFieldNo=0,this.FFields=null,this.FHasConstraints=!1,this.FImportedConstraint="",this.FKeyFields="",this.FLookupCache=!1,this.FLookupDataSet=null,this.FLookupKeyfields="",this.FLookupresultField="",this.FLookupList=null,this.FOnChange=null,this.FOnGetText=null,this.FOnSetText=null,this.FOnValidate=null,this.FOrigin="",this.FReadOnly=!1,this.FRequired=!1,this.FSize=0,this.FValidChars=[],this.FValueBuffer=void 0,this.FValidating=!1,this.FVisible=!1,this.FProviderFlags={}},this.$final=function(){this.FDataSet=void 0,this.FFieldDef=void 0,this.FFields=void 0,this.FLookupDataSet=void 0,this.FLookupList=void 0,this.FOnChange=void 0,this.FOnGetText=void 0,this.FOnSetText=void 0,this.FOnValidate=void 0,this.FValidChars=void 0,this.FProviderFlags=void 0,i.$final.call(this)},this.GetIndex=function(){var e=0;return this.FDataSet!=null?e=this.FDataSet.FFieldList.IndexOf(this):e=-1,e},this.SetAlignment=function(e){this.FAlignment!==e&&(this.FAlignment=e,this.PropertyChanged(!1))},this.SetIndex=function(e){this.FFields!==null&&this.FFields.SetFieldIndex(this,e)},this.SetDisplayLabel=function(e){this.FDisplayLabel!==e&&(this.FDisplayLabel=e,this.PropertyChanged(!0))},this.SetDisplayWidth=function(e){this.FDisplayWidth!==e&&(this.FDisplayWidth=e,this.PropertyChanged(!0))},this.GetDisplayWidth=function(){var e=0;return this.FDisplayWidth===0?e=this.GetDefaultWidth():e=this.FDisplayWidth,e},this.SetReadOnly=function(e){this.FReadOnly!==e&&(this.FReadOnly=e,this.PropertyChanged(!0))},this.SetVisible=function(e){this.FVisible!==e&&(this.FVisible=e,this.PropertyChanged(!0))},this.IsDisplayLabelStored=function(){var e=!1,e=this.GetDisplayName()!==this.FFieldName;return e},this.IsDisplayWidthStored=function(){var e=!1,e=this.FDisplayWidth!==0;return e},this.GetLookupList=function(){var e=null;return this.FLookupList!=null||(this.FLookupList=Q.$create("Create$1")),e=this.FLookupList,e},this.CalcLookupValue=function(){this.FLookupDataSet!=null&&this.FLookupDataSet.GetActive()?this.SetAsJSValue(this.FLookupDataSet.Lookup(this.FLookupKeyfields,this.FDataSet.GetFieldValues(this.FKeyFields),this.FLookupresultField)):this.SetAsJSValue(null)},this.RaiseAccessError=function(e){var t=null,t=this.AccessError(e);throw t},this.AccessError=function(e){var n=null,n=g.$create("CreateFmt",[rtl.getResStr(t,"SInvalidTypeConversion"),s(18,e,18,this.FFieldName)]);return n},this.CheckInactive=function(){this.FDataSet!=null&&this.FDataSet.CheckInactive()},this.CheckTypeSize=function(n){n!==0&&!this.IsBlob()&&e.DatabaseErrorFmt(rtl.getResStr(t,"SInvalidFieldSize"),s(0,n))},this.Change=function(){this.FOnChange!=null&&this.FOnChange(this)},this.Bind=function(n){n&&this.FFieldKind===2&&((this.FLookupDataSet===null||this.FLookupKeyfields===""||this.FLookupresultField===""||this.FKeyFields==="")&&e.DatabaseErrorFmt(rtl.getResStr(t,"SLookupInfoError"),s(18,this.GetDisplayName())),this.FFields.CheckFieldNames(this.FKeyFields),this.FLookupDataSet.Open(),this.FLookupDataSet.FFieldList.CheckFieldNames(this.FLookupKeyfields),this.FLookupDataSet.FieldByName(this.FLookupresultField),this.FLookupCache&&this.RefreshLookupList())},this.GetAsBoolean=function(){var e=!1;return this.RaiseAccessError(c.SBoolean),e=!1,e},this.GetAsLargeInt=function(){var e=0;return this.RaiseAccessError(c.SLargeInt),e=0,e},this.GetAsDateTime=function(){var e=0;return this.RaiseAccessError(c.SDateTime),e=0,e},this.GetAsFloat=function(){var e=0;return this.RaiseAccessError(c.SDateTime),e=0,e},this.GetAsInteger=function(){var e=0;return this.RaiseAccessError(c.SInteger),e=0,e},this.GetAsJSValue=function(){var e=void 0,e=this.GetData();return e},this.GetAsString=function(){var e="",e=this.GetClassDesc();return e},this.GetClassDesc=function(){var e="",t="",t=p(this.$classname,2,X("Field",this.$classname)-2);return this.GetIsNull()?e="("+be(t)+")":e="("+x(t)+")",e},this.GetDefaultWidth=function(){var e=0,e=10;return e},this.GetDisplayName=function(){var e="";return this.FDisplayLabel!==""?e=this.FDisplayLabel:e=this.FFieldName,e},this.GetIsNull=function(){var e=!1,e=P(this.GetData());return e},this.Notification=function(e,t){i.Notification.call(this,e,t),t===1&&e===this.FLookupDataSet&&(this.FLookupDataSet=null)},this.PropertyChanged=function(e){this.FDataSet!==null&&this.FDataSet.GetActive()&&(e?this.FDataSet.DataEvent(4,0):this.FDataSet.DataEvent(2,0))},this.SetAsJSValue=function(n){if(P(n))this.Clear();else try{this.SetVarValue(n)}catch(n){if(we.isPrototypeOf(n))e.DatabaseErrorFmt(rtl.getResStr(t,"SFieldValueError"),s(18,this.GetDisplayName()));else throw n}},this.SetDataset=function(e){if(e===this.FDataSet)return;this.FDataSet!=null&&(this.FDataSet.CheckInactive(),this.FDataSet.FFieldList.Remove(this)),e!=null&&(e.CheckInactive(),e.FFieldList.Add(this)),this.FDataSet=e},this.SetDataType=function(e){this.FDataType=e},this.SetSize=function(e){this.CheckInactive(),this.$class.CheckTypeSize(e),this.FSize=e},this.SetVarValue=function(){this.RaiseAccessError(c.SJSValue)},this.Create$1=function(e){return i.Create$1.call(this,e),this.FVisible=!0,this.FValidChars=rtl.arraySetLength(this.FValidChars,"",255),this.FProviderFlags=rtl.createSet(0,1),this},this.Destroy=function(){this.FDataSet!=null&&(this.FDataSet.SetActive(!1),this.FFields!=null&&this.FFields.Remove(this)),rtl.free(this,"FLookupList"),i.Destroy.call(this)},this.Assign=function(e){e===null?this.Clear():n.isPrototypeOf(e)?this.SetAsJSValue(e.GetAsJSValue()):y.Assign.call(this,e)},this.Clear=function(){this.SetData(null)},this.GetData=function(){var n=void 0;return this.FDataSet===null&&e.DatabaseErrorFmt(rtl.getResStr(t,"SNoDataset"),s(18,this.FFieldName)),this.FValidating?n=this.FValueBuffer:(n=this.FDataSet.GetFieldData(this),q(n)&&(n=null)),n},this.IsBlob=function(){var e=!1,e=!1;return e},this.RefreshLookupList=function(){var e=!1;if(this.FLookupDataSet==null||this.FLookupKeyfields.length===0||this.FLookupresultField.length===0||this.FKeyFields.length===0)return;e=this.FLookupDataSet.GetActive();try{this.FLookupDataSet.SetActive(!0),this.FFields.CheckFieldNames(this.FKeyFields),this.FLookupDataSet.FFieldList.CheckFieldNames(this.FLookupKeyfields),this.FLookupDataSet.FieldByName(this.FLookupresultField),this.GetLookupList().Clear(),this.FLookupDataSet.DisableControls();try{for(this.FLookupDataSet.First();!this.FLookupDataSet.FEOF;)this.FLookupDataSet.Next()}finally{this.FLookupDataSet.EnableControls()}}finally{this.FLookupDataSet.SetActive(e)}},this.SetData=function(n){this.FDataSet!=null||e.DatabaseErrorFmt(rtl.getResStr(t,"SNoDataset"),s(18,this.FFieldName)),this.FDataSet.SetFieldData(this,n)},this.SetFieldType=function(){};var o=this.$rtti;o.addProperty("Alignment",2,l.$rtti.TAlignment,"FAlignment","SetAlignment",{Default:Ce}),o.addProperty("CustomConstraint",0,rtl.string,"FCustomConstraint","FCustomConstraint"),o.addProperty("ConstraintErrorMessage",0,rtl.string,"FConstraintErrorMessage","FConstraintErrorMessage"),o.addProperty("DefaultExpression",0,rtl.string,"FDefaultExpression","FDefaultExpression"),o.addProperty("DisplayLabel",15,rtl.string,"GetDisplayName","SetDisplayLabel",{stored:"IsDisplayLabelStored"}),o.addProperty("DisplayWidth",15,rtl.longint,"GetDisplayWidth","SetDisplayWidth",{stored:"IsDisplayWidthStored"}),o.addProperty("FieldKind",0,e.$rtti.TFieldKind,"FFieldKind","FFieldKind"),o.addProperty("FieldName",0,rtl.string,"FFieldName","FFieldName"),o.addProperty("HasConstraints",0,rtl.boolean,"FHasConstraints",""),o.addProperty("Index",3,rtl.longint,"GetIndex","SetIndex"),o.addProperty("ImportedConstraint",0,rtl.string,"FImportedConstraint","FImportedConstraint"),o.addProperty("KeyFields",0,rtl.string,"FKeyFields","FKeyFields"),o.addProperty("LookupCache",0,rtl.boolean,"FLookupCache","FLookupCache"),o.addProperty("LookupDataSet",0,e.$rtti.TDataSet,"FLookupDataSet","FLookupDataSet"),o.addProperty("LookupKeyFields",0,rtl.string,"FLookupKeyfields","FLookupKeyfields"),o.addProperty("LookupResultField",0,rtl.string,"FLookupresultField","FLookupresultField"),o.addProperty("Origin",0,rtl.string,"FOrigin","FOrigin"),o.addProperty("ProviderFlags",0,e.$rtti.TProviderFlags,"FProviderFlags","FProviderFlags"),o.addProperty("ReadOnly",2,rtl.boolean,"FReadOnly","SetReadOnly"),o.addProperty("Required",0,rtl.boolean,"FRequired","FRequired"),o.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),o.addProperty("OnChange",0,e.$rtti.TFieldNotifyEvent,"FOnChange","FOnChange"),o.addProperty("OnGetText",0,e.$rtti.TFieldGetTextEvent,"FOnGetText","FOnGetText"),o.addProperty("OnSetText",0,e.$rtti.TFieldSetTextEvent,"FOnSetText","FOnSetText"),o.addProperty("OnValidate",0,e.$rtti.TFieldNotifyEvent,"FOnValidate","FOnValidate")}),rtl.createClass(this,"TStringField",n,function(){N=this,this.$init=function(){n.$init.call(this),this.FFixedChar=!1,this.FTransliterate=!1},this.CheckTypeSize=function(n){n<0&&e.DatabaseErrorFmt(rtl.getResStr(t,"SInvalidFieldSize"),s(0,n))},this.GetAsBoolean=function(){var n=!1,t="",t=this.GetAsString(),n=t.length>0&&Ee(t.charAt(0)).charCodeAt()in rtl.createSet(84,e.YesNoChars[1].charCodeAt());return n},this.GetAsDateTime=function(){var e=0,e=ke(this.GetAsString());return e},this.GetAsFloat=function(){var e=0,e=Ae(this.GetAsString());return e},this.GetAsInteger=function(){var e=0,e=U(this.GetAsString());return e},this.GetAsLargeInt=function(){var e=0,e=Me(this.GetAsString());return e},this.GetAsString=function(){var e="",t=void 0,t=this.GetData();return rtl.isString(t)?e=""+t:e="",e},this.GetAsJSValue=function(){var e=void 0,e=this.GetData();return e},this.GetDefaultWidth=function(){var e=0,e=this.FSize;return e},this.SetAsString=function(e){this.SetData(e)},this.SetVarValue=function(e){rtl.isString(e)?this.SetAsString(""+e):this.RaiseAccessError(rtl.getResStr(t,"SFieldValueError"))},this.Create$1=function(e){return n.Create$1.call(this,e),this.SetDataType(1),this.FFixedChar=!1,this.FTransliterate=!1,this.FSize=20,this},this.SetFieldType=function(e){e in rtl.createSet(1,12)&&this.SetDataType(e)};var o=this.$rtti;o.addProperty("Size",2,rtl.longint,"FSize","SetSize",{Default:20})}),rtl.createClass(this,"TNumericField",n,function(){u=this,this.$init=function(){n.$init.call(this),this.FDisplayFormat="",this.FEditFormat=""},this.CheckTypeSize=function(n){n>16&&e.DatabaseErrorFmt(rtl.getResStr(t,"SInvalidFieldSize"),s(0,n))},this.RangeError=function(n,o,i){e.DatabaseErrorFmt(rtl.getResStr(t,"SRangeError"),s(3,n,3,o,3,i,18,this.FFieldName))},this.SetDisplayFormat=function(e){this.FDisplayFormat!==e&&(this.FDisplayFormat=e,this.PropertyChanged(!0))},this.SetEditFormat=function(e){this.FEditFormat!==e&&(this.FEditFormat=e,this.PropertyChanged(!0))},this.GetAsBoolean=function(){var e=!1,e=this.GetAsInteger()!==0;return e},this.Create$1=function(e){return n.Create$1.call(this,e),this.SetAlignment(1),this};var o=this.$rtti;o.addProperty("Alignment",2,l.$rtti.TAlignment,"FAlignment","SetAlignment",{Default:Fe}),o.addProperty("DisplayFormat",2,rtl.string,"FDisplayFormat","SetDisplayFormat"),o.addProperty("EditFormat",2,rtl.string,"FEditFormat","SetEditFormat")}),rtl.createClass(this,"TIntegerField",u,function(){_=this,this.$init=function(){u.$init.call(this),this.FMinValue=0,this.FMaxValue=0,this.FMinRange=0,this.FMaxRange=0},this.SetMinValue=function(e){e>=this.FMinRange&&e<=this.FMaxRange?this.FMinValue=e:this.RangeError(e,this.FMinRange,this.FMaxRange)},this.SetMaxValue=function(e){e>=this.FMinRange&&e<=this.FMaxRange?this.FMaxValue=e:this.RangeError(e,this.FMinRange,this.FMaxRange)},this.GetAsFloat=function(){var e=0,e=this.GetAsInteger();return e},this.GetAsInteger=function(){var e=0;return this.GetValue({get:function(){return e},set:function(t){e=t}})||(e=0),e},this.GetAsString=function(){var e="",t=0;return this.GetValue({get:function(){return t},set:function(e){t=e}})?e=E(t):e="",e},this.GetAsJSValue=function(){var e=void 0,t=0;return this.GetValue({get:function(){return t},set:function(e){t=e}})?e=t:e=null,e},this.GetValue=function(e){var t=!1,n=void 0,n=this.GetData(),t=v(n);return t&&e.set(rtl.trunc(n)),t},this.SetAsInteger=function(e){this.CheckRange(e)?this.SetData(e):this.FMinValue!==0||this.FMaxValue!==0?this.RangeError(e,this.FMinValue,this.FMaxValue):this.RangeError(e,this.FMinRange,this.FMaxRange)},this.SetVarValue=function(e){v(e)?this.SetAsInteger(rtl.trunc(e)):this.RaiseAccessError(c.SInteger)},this.GetAsLargeInt=function(){var e=0,e=this.GetAsInteger();return e},this.Create$1=function(e){return u.Create$1.call(this,e),this.SetDataType(2),this.FMinRange=-2147483648,this.FMaxRange=2147483647,this},this.CheckRange=function(e){var t=!1;return this.FMinValue!==0||this.FMaxValue!==0?t=e>=this.FMinValue&&e<=this.FMaxValue:t=e>=this.FMinRange&&e<=this.FMaxRange,t};var e=this.$rtti;e.addProperty("MaxValue",2,rtl.longint,"FMaxValue","SetMaxValue",{Default:0}),e.addProperty("MinValue",2,rtl.longint,"FMinValue","SetMinValue",{Default:0})}),rtl.createClass(this,"TLargeintField",u,function(){ee=this,this.$init=function(){u.$init.call(this),this.FMinValue=0,this.FMaxValue=0,this.FMinRange=0,this.FMaxRange=0},this.SetMinValue=function(e){e>=this.FMinRange&&e<=this.FMaxRange?this.FMinValue=e:this.RangeError(e,this.FMinRange,this.FMaxRange)},this.SetMaxValue=function(e){e>=this.FMinRange&&e<=this.FMaxRange?this.FMaxValue=e:this.RangeError(e,this.FMinRange,this.FMaxRange)},this.GetAsFloat=function(){var e=0,e=this.GetAsLargeInt();return e},this.GetAsInteger=function(){var e=0,e=this.GetAsLargeInt();return e},this.GetAsLargeInt=function(){var e=0;return this.GetValue({get:function(){return e},set:function(t){e=t}})||(e=0),e},this.GetAsString=function(){var e="",t=0;return this.GetValue({get:function(){return t},set:function(e){t=e}})?e=E(t):e="",e},this.GetAsJSValue=function(){var e=void 0,t=0;return this.GetValue({get:function(){return t},set:function(e){t=e}})?e=t:e=null,e},this.GetValue=function(e){var t=!1,n=void 0,n=this.GetData(),t=v(n);return t&&e.set(rtl.trunc(n)),t},this.SetAsLargeInt=function(e){this.CheckRange(e)?this.SetData(e):this.RangeError(e,this.FMinValue,this.FMaxValue)},this.SetVarValue=function(e){v(e)?this.SetAsLargeInt(rtl.trunc(e)):this.RaiseAccessError(c.SLargeInt)},this.Create$1=function(e){return u.Create$1.call(this,e),this.SetDataType(3),this.FMinRange=-9007199254740991,this.FMaxRange=9007199254740991,this},this.CheckRange=function(e){var t=!1;return this.FMinValue!==0||this.FMaxValue!==0?t=e>=this.FMinValue&&e<=this.FMaxValue:t=e>=this.FMinRange&&e<=this.FMaxRange,t};var e=this.$rtti;e.addProperty("MaxValue",2,rtl.nativeint,"FMaxValue","SetMaxValue",{Default:0}),e.addProperty("MinValue",2,rtl.nativeint,"FMinValue","SetMinValue",{Default:0})}),rtl.createClass(this,"TAutoIncField",_,function(){se=this,this.SetAsInteger=function(){_.SetAsInteger.apply(this,arguments)},this.Create$1=function(e){return _.Create$1.call(this,e),this.SetDataType(9),this}}),rtl.createClass(this,"TFloatField",u,function(){L=this,this.$init=function(){u.$init.call(this),this.FCurrency=!1,this.FMaxValue=0,this.FMinValue=0,this.FPrecision=0},this.SetCurrency=function(e){if(this.FCurrency===e)return;this.FCurrency=e},this.SetPrecision=function(e){e===-1||e>1?this.FPrecision=e:this.FPrecision=2},this.GetAsFloat=function(){var e=0,t=void 0,t=this.GetData();return rtl.isNumber(t)?e=rtl.getNumber(t):e=0,e},this.GetAsLargeInt=function(){var e=0,e=Math.round(this.GetAsFloat());return e},this.GetAsInteger=function(){var e=0,e=Math.round(this.GetAsFloat());return e},this.GetAsJSValue=function(){var e=void 0,t=void 0,t=this.GetData();return rtl.isNumber(t)?e=t:e=null,e},this.GetAsString=function(){var e="",t=void 0,t=this.GetData();return rtl.isNumber(t)?e=W(rtl.getNumber(t)):e="",e},this.SetAsFloat=function(e){this.CheckRange(e)?this.SetData(e):this.RangeError(e,this.FMinValue,this.FMaxValue)},this.SetVarValue=function(e){rtl.isNumber(e)?this.SetAsFloat(rtl.getNumber(e)):this.RaiseAccessError("Float")},this.Create$1=function(e){return u.Create$1.call(this,e),this.SetDataType(5),this.FPrecision=15,this},this.CheckRange=function(e){var t=!1;return this.FMinValue!==0||this.FMaxValue!==0?t=e>=this.FMinValue&&e<=this.FMaxValue:t=!0,t};var e=this.$rtti;e.addProperty("Currency",2,rtl.boolean,"FCurrency","SetCurrency",{Default:!1}),e.addProperty("MaxValue",0,rtl.double,"FMaxValue","FMaxValue"),e.addProperty("MinValue",0,rtl.double,"FMinValue","FMinValue"),e.addProperty("Precision",2,rtl.longint,"FPrecision","SetPrecision",{Default:15})}),rtl.createClass(this,"TBooleanField",n,function(){oe=this,this.FDisplays$a$clone=function(e){var t,n=[];n.length=2;for(t=0;t<2;t++)n[t]=e[t].slice(0);return n},this.$init=function(){n.$init.call(this),this.FDisplayValues="",this.FDisplays=rtl.arraySetLength(null,"",2,2)},this.$final=function(){this.FDisplays=void 0,n.$final.call(this)},this.SetDisplayValues=function(n){var o=0;this.FDisplayValues!==n&&(o=X(";",n),(o<2||o===n.length)&&e.DatabaseErrorFmt(rtl.getResStr(t,"SInvalidDisplayValues"),s(18,n)),this.FDisplayValues=n,this.FDisplays[0][1]=p(n,1,o-1),this.FDisplays[1][1]=x(this.FDisplays[0][1]),this.FDisplays[0][0]=p(n,o+1,n.length-o),this.FDisplays[1][0]=x(this.FDisplays[0][0]),this.PropertyChanged(!0))},this.GetAsBoolean=function(){var e=!1,t=void 0,t=this.GetData();return D(t)?e=t!=!1:e=!1,e},this.GetAsString=function(){var e="",t=void 0,t=this.GetData();return D(t)?e=this.FDisplays[0][+(t!=!1)]:e="",e},this.GetAsJSValue=function(){var e=void 0,t=void 0,t=this.GetData();return D(t)?e=t!=!1:e=null,e},this.GetAsInteger=function(){var e=0,e=this.GetAsBoolean()+0;return e},this.GetDefaultWidth=function(){var e=0,e=this.FDisplays[0][0].length;return e<this.FDisplays[0][1].length&&(e=this.FDisplays[0][1].length),e},this.SetAsBoolean=function(e){this.SetData(e)},this.SetVarValue=function(e){D(e)?this.SetAsBoolean(e!=!1):rtl.isNumber(e)&&this.SetAsBoolean(rtl.getNumber(e)!==0)},this.Create$1=function(e){return n.Create$1.call(this,e),this.SetDataType(4),this.SetDisplayValues("True;False"),this};var o=this.$rtti;o.addProperty("DisplayValues",2,rtl.string,"FDisplayValues","SetDisplayValues")}),rtl.createClass(this,"TDateTimeField",n,function(){j=this,this.$init=function(){n.$init.call(this),this.FDisplayFormat=""},this.SetDisplayFormat=function(e){this.FDisplayFormat!==e&&(this.FDisplayFormat=e,this.PropertyChanged(!0))},this.ConvertToDateTime=function(e,t){var n=0;return P(e)?n=0:this.FDataSet!=null?n=this.FDataSet.ConvertToDateTime(this,e,t):n=b.DefaultConvertToDateTime(this,e,t),n},this.DateTimeToNativeDateTime=function(e){var t=void 0;return this.FDataSet!=null?t=this.FDataSet.ConvertDateTimeToNative(this,e):t=b.DefaultConvertDateTimeToNative(this,e),t},this.GetAsDateTime=function(){var e=0,e=this.ConvertToDateTime(this.GetData(),!1);return e},this.GetAsFloat=function(){var e=0,e=this.GetAsDateTime();return e},this.GetAsString=function(){var e="";return this.GetText({get:function(){return e},set:function(t){e=t}},!1),e},this.GetAsJSValue=function(){var e=void 0,e=this.GetData();return!rtl.isString(e)&&!rtl.isObject(e)&&(e=null),e},this.GetText=function(e,t){var i,s=0,n="",s=this.ConvertToDateTime(this.GetData(),!1);s===0?e.set(""):(t&&this.FDisplayFormat.length!==0?n=this.FDisplayFormat:(i=this.FDataType,i===7?n=o.LongTimeFormat:i===6?n=o.ShortDateFormat:n="c"),e.set(Ne(n,s)))},this.SetAsDateTime=function(e){this.SetData(this.DateTimeToNativeDateTime(e))},this.SetVarValue=function(e){this.SetAsDateTime(this.ConvertToDateTime(e,!0))},this.Create$1=function(e){return n.Create$1.call(this,e),this.SetDataType(8),this};var e=this.$rtti;e.addProperty("DisplayFormat",2,rtl.string,"FDisplayFormat","SetDisplayFormat")}),rtl.createClass(this,"TDateField",j,function(){H=this,this.Create$1=function(e){return j.Create$1.call(this,e),this.SetDataType(6),this}}),rtl.createClass(this,"TTimeField",j,function(){ie=this,this.Create$1=function(e){return j.Create$1.call(this,e),this.SetDataType(7),this}}),rtl.createClass(this,"TBinaryField",n,function(){A=this,this.CheckTypeSize=function(n){n<1&&e.DatabaseErrorFmt(rtl.getResStr(t,"SInvalidFieldSize"),s(0,n))},this.BlobToBytes=function(e){var t=[];return this.FDataSet!=null?t=this.FDataSet.BlobDataToBytes(e):t=b.DefaultBlobDataToBytes(e),t},this.BytesToBlob=function(e){var t=void 0;return this.FDataSet!=null?t=this.FDataSet.BytesToBlobData(rtl.arrayRef(e)):t=b.DefaultBytesToBlobData(rtl.arrayRef(e)),t},this.GetAsString=function(){if(e="",t=void 0,n=[],s=0,e="",t=this.GetData(),t!=null)if(this.FDataType===11)e=""+t;else{n=this.BlobToBytes(t);for(var e,t,n,s,o=0,i=rtl.length(n)-1;o<=i;o++)s=o,e=e.concat(String.fromCharCode(n[s]))}return e},this.GetAsJSValue=function(){var e=void 0,e=this.GetData();return e},this.SetAsString=function(e){if(t=[],n=0,this.FDataType===11)this.SetData(e);else{t=rtl.arraySetLength(t,0,e.length);for(var t,n,s=1,o=e.length;s<=o;s++)n=s,t[n-1]=e.charCodeAt(n-1);this.SetAsBytes(t)}},this.SetVarValue=function(e){if(t=[],n=0,s=0,rtl.isArray(e)){s=rtl.length(e),t=rtl.arraySetLength(t,0,s);for(var t,n,s,o=1,i=s-1;o<=i;o++)n=o,t[n]=e[n];this.SetAsBytes(t)}else rtl.isString(e)?this.SetAsString(""+e):this.RaiseAccessError("Blob")},this.GetAsBytes=function(){var e=[],t=void 0,t=this.GetData();return Le(t)?e=this.BlobToBytes(t):e=rtl.arraySetLength(e,0,0),e},this.SetAsBytes=function(e){this.SetData(this.BytesToBlob(rtl.arrayRef(e)))},this.Create$1=function(e){return n.Create$1.call(this,e),this};var o=this.$rtti;o.addProperty("Size",2,rtl.longint,"FSize","SetSize",{Default:16})}),I=this.TBlobDisplayValue={0:"dvClass",dvClass:0,1:"dvFull",dvFull:1,2:"dvClip",dvClip:2,3:"dvFit",dvFit:3},this.$rtti.$Enum("TBlobDisplayValue",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TBlobDisplayValue}),this.$rtti.$Enum("TBlobType",{minvalue:10,maxvalue:11,ordtype:1,enumtype:this.TFieldType}),rtl.createClass(this,"TBlobField",A,function(){S=this,this.$init=function(){A.$init.call(this),this.FDisplayValue=0,this.FModified=!1},this.GetBlobType=function(){var e=G.ftBlob,e=10;return e},this.SetBlobType=function(e){this.SetFieldType(e)},this.SetDisplayValue=function(e){if(this.FDisplayValue===e)return;this.FDisplayValue=e,this.PropertyChanged(!1)},this.CheckTypeSize=function(n){n<0&&e.DatabaseErrorFmt(rtl.getResStr(t,"SInvalidFieldSize"),s(0,n))},this.GetBlobSize=function(){var e=0,t=[],t=this.GetAsBytes(),e=rtl.length(t);return e},this.GetIsNull=function(){var e=!1;return this.FModified?e=this.GetBlobSize()===0:e=n.GetIsNull.call(this),e},this.Create$1=function(e){return A.Create$1.call(this,e),this.SetDataType(10),this},this.Clear=function(){this.SetData(null)},this.IsBlob=function(){var e=!1,e=!0;return e},this.SetFieldType=function(t){t in e.ftBlobTypes&&this.SetDataType(t)};var o=this.$rtti;o.addProperty("DisplayValue",2,e.$rtti.TBlobDisplayValue,"FDisplayValue","SetDisplayValue",{Default:I.dvClass}),o.addProperty("BlobType",3,e.$rtti.TBlobType,"GetBlobType","SetBlobType"),o.addProperty("Size",2,rtl.longint,"FSize","SetSize",{Default:0})}),rtl.createClass(this,"TMemoField",S,function(){re=this,this.Create$1=function(e){return S.Create$1.call(this,e),this.SetDataType(11),this}}),rtl.createClass(this,"TVariantField",n,function(){ae=this,this.CheckTypeSize=function(){},this.GetAsBoolean=function(){var e=!1,e=this.GetAsJSValue()==!0;return e},this.GetAsDateTime=function(){var e=0,t=void 0,t=this.GetData();return this.FDataSet!=null?e=this.FDataSet.ConvertToDateTime(this,t,!0):e=b.DefaultConvertToDateTime(this,t,!0),e},this.GetAsFloat=function(){var t=0,e=void 0,e=this.GetData();return rtl.isNumber(e)?t=rtl.getNumber(e):rtl.isString(e)?t=parseFloat(""+e):this.RaiseAccessError("Variant"),t},this.GetAsInteger=function(){var t=0,e=void 0,e=this.GetData();return v(e)?t=rtl.trunc(e):rtl.isString(e)?t=parseInt(""+e):this.RaiseAccessError("Variant"),t},this.GetAsString=function(){var t="",e=void 0,e=this.GetData();return v(e)?t=E(rtl.trunc(e)):rtl.isNumber(e)?t=W(rtl.getNumber(e)):rtl.isString(e)?t=""+e:this.RaiseAccessError("Variant"),t},this.GetAsJSValue=function(){var e=void 0,e=this.GetData();return e},this.SetVarValue=function(e){this.SetData(e)},this.Create$1=function(e){return n.Create$1.call(this,e),this.SetDataType(13),this}}),rtl.createClass(this,"TDataSetField",n,function(){Se=this,this.$init=function(){n.$init.call(this),this.FNestedDataSet=null},this.$final=function(){this.FNestedDataSet=void 0,n.$final.call(this)},this.AssignNestedDataSet=function(e){this.FNestedDataSet!=null&&(this.FNestedDataSet.Close(),this.FNestedDataSet.FDataSetField=null,this.FDataSet!=null&&this.FDataSet.GetNestedDataSets().Remove(this.FNestedDataSet)),e!=null&&this.FDataSet.GetNestedDataSets().Add(e),this.FNestedDataSet=e},this.Bind=function(e){n.Bind.apply(this,arguments),this.FNestedDataSet!=null&&(e?this.FNestedDataSet.FState===0&&this.FNestedDataSet.Open():this.FNestedDataSet.Close())},this.Create$1=function(){return n.Create$1.apply(this,arguments),this.SetDataType(14),this},this.Destroy=function(){this.AssignNestedDataSet(null),n.Destroy.call(this)}}),de=this.TIndexOption={0:"ixPrimary",ixPrimary:0,1:"ixUnique",ixUnique:1,2:"ixDescending",ixDescending:2,3:"ixCaseInsensitive",ixCaseInsensitive:3,4:"ixExpression",ixExpression:4,5:"ixNonMaintained",ixNonMaintained:5},this.$rtti.$Enum("TIndexOption",{minvalue:0,maxvalue:5,ordtype:1,enumtype:this.TIndexOption}),this.$rtti.$Set("TIndexOptions",{comptype:this.$rtti.TIndexOption}),rtl.createClass(this,"TIndexDef",h,function(){C=this,this.$init=function(){h.$init.call(this),this.FCaseinsFields="",this.FDescFields="",this.FExpression="",this.FFields="",this.FOptions={},this.FSource=""},this.$final=function(){this.FOptions=void 0,h.$final.call(this)},this.GetExpression=function(){var e="",e=this.FExpression;return e},this.SetCaseInsFields=function(e){if(this.FCaseinsFields===e)return;e!==""&&(this.FOptions=rtl.unionSet(this.FOptions,rtl.createSet(3))),this.FCaseinsFields=e},this.SetDescFields=function(e){if(this.FDescFields===e)return;e!==""&&(this.FOptions=rtl.unionSet(this.FOptions,rtl.createSet(2))),this.FDescFields=e},this.SetExpression=function(e){this.FExpression=e},this.Assign=function(e){var t=null,t=null;C.isPrototypeOf(e)&&(t=rtl.as(e,C)),t!=null?(this.FName=t.FName,this.FFields=t.FFields,this.FOptions=rtl.refSet(t.FOptions),this.FCaseinsFields=t.FCaseinsFields,this.FDescFields=t.FDescFields,this.FSource=t.FSource,this.FExpression=t.GetExpression()):y.Assign.call(this,e)};var t=this.$rtti;t.addProperty("Expression",3,rtl.string,"GetExpression","SetExpression"),t.addProperty("Fields",0,rtl.string,"FFields","FFields"),t.addProperty("CaseInsFields",2,rtl.string,"FCaseinsFields","SetCaseInsFields"),t.addProperty("DescFields",2,rtl.string,"FDescFields","SetDescFields"),t.addProperty("Options",0,e.$rtti.TIndexOptions,"FOptions","FOptions"),t.addProperty("Source",0,rtl.string,"FSource","FSource")}),rtl.createClass(this,"TIndexDefs",k,function(){ue=this,this.GetItem$1=function(e){var t=null,t=rtl.as(z.GetItem.call(this,e),C);return t},this.Find$1=function(n){var o=null,o=rtl.as(k.Find.call(this,n),C);return o===null&&e.DatabaseErrorFmt$1(rtl.getResStr(t,"SIndexNotFound"),s(18,n),this.FDataset),o}}),rtl.createClass(this,"TCheckConstraint",m,function(){te=this,this.$init=function(){m.$init.call(this),this.FCustomConstraint="",this.FErrorMessage="",this.FFromDictionary=!1,this.FImportedConstraint=""},this.Assign=function(){};var e=this.$rtti;e.addProperty("CustomConstraint",0,rtl.string,"FCustomConstraint","FCustomConstraint"),e.addProperty("ErrorMessage",0,rtl.string,"FErrorMessage","FErrorMessage"),e.addProperty("FromDictionary",0,rtl.boolean,"FFromDictionary","FFromDictionary"),e.addProperty("ImportedConstraint",0,rtl.string,"FImportedConstraint","FImportedConstraint")}),rtl.createClass(this,"TCheckConstraints",z,function(){J=this,this.GetOwner=function(){var e=null,e=null;return e},this.Create$2=function(){return z.Create$1.call(this,te),this}}),rtl.createClass(this,"TFields",r,function(){Y=this,this.$init=function(){r.$init.call(this),this.FDataset=null,this.FFieldList=null,this.FOnChange=null,this.FValidFieldKinds={}},this.$final=function(){this.FDataset=void 0,this.FFieldList=void 0,this.FOnChange=void 0,this.FValidFieldKinds=void 0,r.$final.call(this)},this.ClearFieldDefs=function(){e=0;for(var e,t=0,n=this.GetCount()-1;t<=n;t++)e=t,this.GetField(e).FFieldDef=null},this.Changed=function(){this.FDataset!==null&&!(3 in this.FDataset.FComponentState)&&this.FDataset.DataEvent(9,0),this.FOnChange!=null&&this.FOnChange(this)},this.GetCount=function(){var e=0,e=this.FFieldList.FCount;return e},this.GetField=function(e){var t=null,t=rtl.getObject(this.FFieldList.Get(e));return t},this.SetFieldIndex=function(e,t){var n=0,n=this.FFieldList.IndexOf(e);if(n===-1)return;t<0&&(t=0),t>=this.GetCount()&&(t=this.GetCount()-1),t!==n&&(this.FFieldList.Delete(n),this.FFieldList.Insert(t,e),e.PropertyChanged(!0),this.Changed())},this.Create$1=function(e){return this.FDataset=e,this.FFieldList=w.$create("Create"),this.FValidFieldKinds=rtl.createSet(null,0,3),this},this.Destroy=function(){this.FFieldList!=null&&this.Clear(),$({p:this,get:function(){return this.p.FFieldList},set:function(e){this.p.FFieldList=e}}),r.Destroy.call(this)},this.Add=function(e){this.CheckFieldName(e.FFieldName),this.FFieldList.Add(e),e.FFields=this,this.Changed()},this.CheckFieldName=function(n){this.FindField(n)!==null&&e.DatabaseErrorFmt$1(rtl.getResStr(t,"SDuplicateFieldName"),s(18,n),this.FDataset)},this.CheckFieldNames=function(t){var s="",n=0;if(t==="")return;n=1;do s=e.ExtractFieldName(t,{get:function(){return n},set:function(e){n=e}}),this.FieldByName(s);while(!(n>t.length))},this.Clear=function(){for(var e=null;this.FFieldList.FCount>0;)e=rtl.getObject(this.FFieldList.Last()),e.FDataSet=null,e=rtl.freeLoc(e),this.FFieldList.Delete(this.FFieldList.FCount-1);this.Changed()},this.FindField=function(e){t=null,n="",s=0,n=x(e);for(var t,n,s,o=0,i=this.FFieldList.FCount-1;o<=i;o++)if(s=o,t=rtl.getObject(this.FFieldList.Get(s)),n===x(t.FFieldName))return t;return t=null,t},this.FieldByName=function(n){var o=null,o=this.FindField(n);return o===null&&e.DatabaseErrorFmt$1(rtl.getResStr(t,"SFieldNotFound"),s(18,n),this.FDataset),o},this.IndexOf=function(e){var t=0,t=this.FFieldList.IndexOf(e);return t},this.Remove=function(e){this.FFieldList.Remove(e),e.FFields=null,this.Changed()}}),Oe=this.TBookmarkFlag={0:"bfCurrent",bfCurrent:0,1:"bfBOF",bfBOF:1,2:"bfEOF",bfEOF:2,3:"bfInserted",bfInserted:3},rtl.recNewT(this,"TBookmark",function(){d=this,this.Data=void 0,this.$eq=function(e){return this.Data===e.Data},this.$assign=function(e){return this.Data=e.Data,this}}),pe=this.TGetMode={0:"gmCurrent",gmCurrent:0,1:"gmNext",gmNext:1,2:"gmPrior",gmPrior:2},Ie=this.TGetResult={0:"grOK",grOK:0,1:"grBOF",grBOF:1,2:"grEOF",grEOF:2,3:"grError",grError:3},He=this.TResyncMode$a={0:"rmExact",rmExact:0,1:"rmCenter",rmCenter:1},Re=this.TDataAction={0:"daFail",daFail:0,1:"daAbort",daAbort:1,2:"daRetry",daRetry:2},this.$rtti.$Enum("TDataAction",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TDataAction}),ze=this.TLocateOption={0:"loCaseInsensitive",loCaseInsensitive:0,1:"loPartialKey",loPartialKey:1,2:"loFromCurrent",loFromCurrent:2},this.$rtti.$MethodVar("TDataSetNotifyEvent",{procsig:rtl.newTIProcSig([["DataSet",this.$rtti.TDataSet]]),methodkind:0}),this.$rtti.$MethodVar("TDataSetErrorEvent",{procsig:rtl.newTIProcSig([["DataSet",this.$rtti.TDataSet],["E",this.$rtti.EDatabaseError],["DataAction",this.$rtti.TDataAction,1]]),methodkind:0}),le=this.TLoadOption={0:"loNoOpen",loNoOpen:0,1:"loNoEvents",loNoEvents:1,2:"loAtEOF",loAtEOF:2,3:"loCancelPending",loCancelPending:3},this.$rtti.$MethodVar("TFilterRecordEvent",{procsig:rtl.newTIProcSig([["DataSet",this.$rtti.TDataSet],["Accept",rtl.boolean,1]]),methodkind:0}),xe=this.TRecordState={0:"rsNew",rsNew:0,1:"rsClean",rsClean:1,2:"rsUpdate",rsUpdate:2,3:"rsDelete",rsDelete:3},rtl.recNewT(this,"TDataRecord",function(){a=this,this.data=void 0,this.state=0,this.bookmark=void 0,this.bookmarkFlag=0,this.$eq=function(e){return this.data===e.data&&this.state===e.state&&this.bookmark===e.bookmark&&this.bookmarkFlag===e.bookmarkFlag},this.$assign=function(e){return this.data=e.data,this.state=e.state,this.bookmark=e.bookmark,this.bookmarkFlag=e.bookmarkFlag,this}}),rtl.createClass(this,"TDataSet",i,function(){b=this,this.$init=function(){i.$init.call(this),this.FAfterLoad=null,this.FBeforeLoad=null,this.FBlockReadSize=0,this.FCalcBuffer=a.$new(),this.FCalcFieldsCount=0,this.FOnLoadFail=null,this.FOpenAfterRead=!1,this.FActiveRecord=0,this.FAfterCancel=null,this.FAfterClose=null,this.FAfterDelete=null,this.FAfterEdit=null,this.FAfterInsert=null,this.FAfterOpen=null,this.FAfterPost=null,this.FAfterScroll=null,this.FAutoCalcFields=!1,this.FBOF=!1,this.FBeforeCancel=null,this.FBeforeClose=null,this.FBeforeDelete=null,this.FBeforeEdit=null,this.FBeforeInsert=null,this.FBeforeOpen=null,this.FBeforePost=null,this.FBeforeScroll=null,this.FBlobFieldCount=0,this.FBuffers=[],this.FBufferCount=0,this.FConstraints=null,this.FDisableControlsCount=0,this.FDisableControlsState=0,this.FCurrentRecord=0,this.FDataSources=null,this.FDefaultFields=!1,this.FEOF=!1,this.FEnableControlsEvent=0,this.FFieldList=null,this.FFieldDefs=null,this.FFilterText="",this.FFiltered=!1,this.FInternalCalcFields=!1,this.FModified=!1,this.FOnCalcFields=null,this.FOnDeleteError=null,this.FOnEditError=null,this.FOnFilterRecord=null,this.FOnNewRecord=null,this.FOnPostError=null,this.FRecordCount=0,this.FIsUniDirectional=!1,this.FState=0,this.FInternalOpenComplete=!1,this.FDataProxy=null,this.FDataRequestID=0,this.FChangeList=null,this.FLoadCount=0,this.FMinLoadID=0,this.FDataSetField=null,this.FNestedDataSets=null,this.FNestedDataSetClass=null},this.$final=function(){this.FAfterLoad=void 0,this.FBeforeLoad=void 0,this.FCalcBuffer=void 0,this.FOnLoadFail=void 0,this.FAfterCancel=void 0,this.FAfterClose=void 0,this.FAfterDelete=void 0,this.FAfterEdit=void 0,this.FAfterInsert=void 0,this.FAfterOpen=void 0,this.FAfterPost=void 0,this.FAfterScroll=void 0,this.FBeforeCancel=void 0,this.FBeforeClose=void 0,this.FBeforeDelete=void 0,this.FBeforeEdit=void 0,this.FBeforeInsert=void 0,this.FBeforeOpen=void 0,this.FBeforePost=void 0,this.FBeforeScroll=void 0,this.FBuffers=void 0,this.FConstraints=void 0,this.FDataSources=void 0,this.FFieldList=void 0,this.FFieldDefs=void 0,this.FOnCalcFields=void 0,this.FOnDeleteError=void 0,this.FOnEditError=void 0,this.FOnFilterRecord=void 0,this.FOnNewRecord=void 0,this.FOnPostError=void 0,this.FDataProxy=void 0,this.FChangeList=void 0,this.FDataSetField=void 0,this.FNestedDataSets=void 0,this.FNestedDataSetClass=void 0,i.$final.call(this)},this.DoInternalOpen=function(){this.InternalOpen(),this.FInternalOpenComplete=!0,this.FRecordCount=0,this.RecalcBufListSize(),this.FBOF=!0,this.FEOF=this.FRecordCount===0,this.GetDataProxy()!=null&&this.InitChangeList()},this.GetDataProxy=function(){var e=null;return this.FDataProxy===null&&this.SetDataProxy(this.DoGetDataProxy()),e=this.FDataProxy,e},this.RegisterDataSource=function(e){this.FDataSources.Add(e),this.RecalcBufListSize()},this.SetDataProxy=function(e){if(e===this.FDataProxy)return;this.FDataProxy!=null&&this.FDataProxy.RemoveFreeNotification(this),this.FDataProxy=e,this.FDataProxy!=null&&this.FDataProxy.FreeNotification(this)},this.ShiftBuffersForward=function(){var e,n=a.$new(),t=0;n.$assign(this.FBuffers[this.FBufferCount]);for(e=this.FBufferCount;e>=1;e--)t=e,this.FBuffers[t].$assign(this.FBuffers[t-1]);this.FBuffers[0].$assign(n)},this.ShiftBuffersBackward=function(){t=a.$new(),e=0,t.$assign(this.FBuffers[0]);for(var e,t,n=1,s=this.FBufferCount;n<=s;n++)e=n,this.FBuffers[e-1].$assign(this.FBuffers[e]);this.FBuffers[this.FBufferCount].$assign(t)},this.TryDoing=function(e,t){for(var o,i,s=!1,n=0,s=!0,n=2;n===2;)try{return this.UpdateCursorPos(),e(),s}catch(e){if(g.isPrototypeOf(e)){if(i=e,n=0,t!=null&&t(this,i,{get:function(){return n},set:function(e){n=e}}),o=n,o===0)throw e;o===1&&Pe()}else throw e}return s},this.GetActive=function(){var e=!1,e=this.FState!==0&&this.FState!==12;return e},this.UnRegisterDataSource=function(e){this.FDataSources.Remove(e)},this.SetFieldDefs=function(e){this.FFieldList.ClearFieldDefs(),this.FFieldDefs.Assign$2(e)},this.HandleRequestResponse=function(e){var t,n=!1;if(e==null)return;if(e.FRequestID<=this.FMinLoadID){e.$destroy("Destroy");return}this.FLoadCount-=1,t=e.FSuccess,t===0?this.FOnLoadFail!=null&&this.FOnLoadFail(this,e.FRequestID,e.FErrorMsg):(t===1||t===2)&&(n=!1,e.FEvent!=null&&e.FEvent(this,e.FData),e.FSuccess!==1&&(n=this.DataPacketReceived(e)),this.GetActive()||0 in e.FLoadOptions?(2 in e.FLoadOptions&&n&&(this.FEOF=!1),1 in e.FLoadOptions||this.DoAfterLoad()):(1 in e.FLoadOptions||this.DoAfterLoad(),this.Open())),e.$destroy("Destroy")},this.GetNestedDataSets=function(){var e=null;return this.FNestedDataSets!=null||(this.FNestedDataSets=w.$create("Create")),e=this.FNestedDataSets,e},this.DataPacketReceived=function(){var t=!1,t=!1;return t},this.DoLoad=function(e,t){var s=!1,n=null;return 1 in e||this.DoBeforeLoad(),s=this.GetDataProxy()!==null,s&&(n=this.GetDataProxy().GetDataRequest(rtl.refSet(e),rtl.createCallback(this,"HandleRequestResponse"),t),n.FDataset=this,this.GetActive()&&n.FBookmark.$assign(this.GetBookmark()),this.FDataRequestID+=1,n.FRequestID=this.FDataRequestID,this.GetDataProxy().DoGetData(n)?this.FLoadCount+=1:n=rtl.freeLoc(n),s)},this.DoGetDataProxy=function(){var e=null,e=null;return e},this.InitChangeList=function(){this.DoneChangeList(),this.FChangeList=w.$create("Create")},this.DoneChangeList=function(){this.ClearChangeList(),$({p:this,get:function(){return this.p.FChangeList},set:function(e){this.p.FChangeList=e}})},this.ClearChangeList=function(){if(e=0,this.FChangeList==null)return;for(var e,t=0,n=this.FChangeList.FCount-1;t<=n;t++)e=t,rtl.getObject(this.FChangeList.Get(e)).$destroy("Destroy"),this.FChangeList.Put(e,null)},this.GetApplyUpdateData=function(e){var t=void 0,t=e.data;return t},this.IndexInChangeList=function(e){var t=0,t=-1;if(this.FChangeList==null)return t;for(t=this.FChangeList.FCount-1;t>=0&&this.CompareBookmarks(d.$clone(e),d.$clone(rtl.getObject(this.FChangeList.Get(t)).FBookmark))!==0;)t-=1;return t},this.AddToChangeList=function(n){var r,s=null,o=d.$new(),i=0,c=void 0,s=null;return this.FChangeList!=null?(o.$assign(this.GetBookmark()),i=this.IndexInChangeList(d.$clone(o)),i===-1?(c=this.GetApplyUpdateData(a.$clone(this.ActiveBuffer())),this.GetDataProxy()!=null?s=this.GetDataProxy().GetUpdateDescriptor(this,d.$clone(o),c,n):s=R.$create("Create$1",[null,this,d.$clone(o),c,n]),this.FChangeList.Add(s)):(s=rtl.getObject(this.FChangeList.Get(i)),r=n,r===2?s.FStatus===1?this.FChangeList.Delete(i):s.FStatus=2:r===1?e.DatabaseError$1(rtl.getResStr(t,"SErrInsertingSameRecordtwice"),this):r===0&&(s.FData=this.GetApplyUpdateData(a.$clone(this.ActiveBuffer())))),s):s},this.RecalcBufListSize=function(){if(t=0,o=0,e=0,n=null,!this.IsCursorOpen())return;this.FIsUniDirectional?e=1:e=10;for(var e,t,n,s,o,a,i=0,r=this.FDataSources.FCount-1;i<=r;i++){t=i;for(s=0,a=rtl.getObject(this.FDataSources.Get(t)).FDataLinks.GetCount()-1;s<=a;s++)o=s,n=rtl.getObject(rtl.getObject(this.FDataSources.Get(t)).FDataLinks.Get(o)),e<n.GetBufferCount()&&(e=n.GetBufferCount())}if(this.FBufferCount===e)return;this.SetBufListSize(e),this.GetNextRecords(),this.FRecordCount<this.FBufferCount&&!this.FIsUniDirectional&&(this.FActiveRecord=this.FActiveRecord+this.GetPriorRecords(),this.CursorPosChanged())},this.ActivateBuffers=function(){this.FBOF=!1,this.FEOF=!1,this.FActiveRecord=0},this.BindFields=function(n){r=0,a=0,i=null,o=null,this.FCalcFieldsCount=0,this.FBlobFieldCount=0;for(var o,i,a,r,c=0,l=this.FFieldList.GetCount()-1;c<=l;c++)r=c,o=this.FFieldList.GetField(r),o.FFieldDef=null,n?o.FFieldKind in rtl.createSet(1,2)?(o.FFieldNo=-1,this.FCalcFieldsCount+=1):(a=this.FFieldDefs.IndexOf(o.FFieldName),a===-1?e.DatabaseErrorFmt$1(rtl.getResStr(t,"SFieldNotFound"),s(18,o.FFieldName),this):(i=this.FFieldDefs.GetItem$1(a),o.FFieldDef=i,o.FFieldNo=i.FFieldNo,i.FInternalCalcField&&(this.FInternalCalcFields=!0),o.$class.IsBlob()&&(o.FSize=i.FSize,this.FBlobFieldCount+=1))):o.FFieldNo=0,o.Bind(n)},this.BlockReadNext=function(){this.MoveBy(1)};var n,o=rtl.createSet(1,2,3);this.BookmarkAvailable=function(){var e=!1,e=!this.IsEmpty()&&!this.FIsUniDirectional&&this.FState in o&&this.GetBookmarkFlag(a.$clone(this.ActiveBuffer()))===0;return e},this.CalculateFields=function(e){if(t=0,this.FCalcBuffer.$assign(e),this.FState!==11&&(this.ClearCalcFields(this.FCalcBuffer),!this.FIsUniDirectional))for(var t,n=0,s=this.FFieldList.GetCount()-1;n<=s;n++)t=n,this.FFieldList.GetField(t).FFieldKind===2&&this.FFieldList.GetField(t).CalcLookupValue();this.DoOnCalcFields()},this.CheckActive=function(){this.GetActive()||e.DatabaseError$1(rtl.getResStr(t,"SInactiveDataset"),this)},this.CheckInactive=function(){this.GetActive()&&e.DatabaseError$1(rtl.getResStr(t,"SActiveDataset"),this)},this.CheckBiDirectional=function(){this.FIsUniDirectional&&e.DatabaseError$1(rtl.getResStr(t,"SUniDirectional"),this)},this.ClearBuffers=function(){this.FRecordCount=0,this.FActiveRecord=0,this.FCurrentRecord=-1,this.FBOF=!0,this.FEOF=!0},this.ClearCalcFields=function(){},this.CloseCursor=function(){this.ClearBuffers(),this.SetBufListSize(0),this.FFieldList.ClearFieldDefs(),this.InternalClose(),this.FInternalOpenComplete=!1},this.CreateFields=function(){e=0;for(var e,n,t=0,s=this.FFieldDefs.GetCount()-1;t<=s;t++)e=t,n=this.FFieldDefs.GetItem$1(e),n.FDataType!==0&&n.CreateField(this)},this.DataEvent=function(e,t){n=this;function a(e){e.FFieldKind in rtl.createSet(0,3)&&n.SetModified(!0),n.FState!==4&&(e.FFieldKind===0&&(n.FInternalCalcFields?n.RefreshInternalCalcFields(n.FBuffers[n.FActiveRecord]):n.FAutoCalcFields&&n.FCalcFieldsCount!==0&&n.CalculateFields(n.FBuffers[n.FActiveRecord])),e.Change())}function r(){if(t=0,e=null,n.FState!==3&&n.UpdateCursorPos(),n.FNestedDataSets!=null)for(var e,t,s=0,o=n.GetNestedDataSets().FCount-1;s<=o;s++)t=s,e=rtl.getObject(n.GetNestedDataSets().Get(t)),e.GetActive()&&e.DataEvent(11,0)}if(o=0,s=e,s===0?a(rtl.getObject(t)):s===2||s===3?r():s===4&&(this.FEnableControlsEvent=4),!this.ControlsDisabled()&&this.FState!==10)for(var n,s,o,i=0,c=this.FDataSources.FCount-1;i<=c;i++)o=i,rtl.getObject(this.FDataSources.Get(o)).ProcessEvent(e,t)},this.DestroyFields=function(){this.FFieldList.Clear()},this.DoAfterCancel=function(){this.FAfterCancel!=null&&this.FAfterCancel(this)},this.DoAfterClose=function(){this.FAfterClose!=null&&!(3 in this.FComponentState)&&this.FAfterClose(this)},this.DoAfterOpen=function(){this.FAfterOpen!=null&&this.FAfterOpen(this)},this.DoAfterPost=function(){this.FAfterPost!=null&&this.FAfterPost(this)},this.DoAfterScroll=function(){this.FAfterScroll!=null&&this.FAfterScroll(this)},this.DoBeforeCancel=function(){this.FBeforeCancel!=null&&this.FBeforeCancel(this)},this.DoBeforeClose=function(){this.FBeforeClose!=null&&!(3 in this.FComponentState)&&this.FBeforeClose(this)},this.DoBeforeOpen=function(){this.FBeforeOpen!=null&&this.FBeforeOpen(this)},this.DoBeforePost=function(){this.FBeforePost!=null&&this.FBeforePost(this)},this.DoBeforeScroll=function(){this.FBeforeScroll!=null&&this.FBeforeScroll(this)},this.DoOnCalcFields=function(){this.FOnCalcFields!=null&&this.FOnCalcFields(this)},this.DoBeforeLoad=function(){this.FBeforeLoad!=null&&this.FBeforeLoad(this)},this.DoAfterLoad=function(){this.FAfterLoad!=null&&this.FAfterLoad(this)},this.GetCalcFields=function(e){var t=0;if(this.FCalcFieldsCount>0||this.FInternalCalcFields){t=this.FState,this.FState=5;try{this.CalculateFields(e)}finally{this.FState=t}}},this.GetFieldClass=function(t){var n=null,n=e.DefaultFieldClasses[t];return n},this.GetfieldCount=function(){var e=0,e=this.FFieldList.GetCount();return e},this.GetFieldValues=function(e){s=void 0,o=0,t=null,n=[],t=V.$create("Create$1");try{if(this.GetFieldList(t,e),t.GetCount()>1){n=rtl.arraySetLength(n,void 0,t.GetCount());for(var t,n,s,o,i=0,a=t.GetCount()-1;i<=a;i++)o=i,n[o]=rtl.getObject(t.Get(o)).GetAsJSValue();s=n}else s=this.FieldByName(e).GetAsJSValue()}finally{t=rtl.freeLoc(t)}return s},this.GetNextRecords=function(){for(var e=0,e=0;this.FRecordCount<this.FBufferCount&&this.GetNextRecord();)e+=1;return e},this.GetNextRecord=function(){var e=!1,t=a.$new();return this.FRecordCount>0&&this.SetCurrentRecord(this.FRecordCount-1),e=this.GetRecord(this.FBuffers[this.FBufferCount],1,!0)===0,e?(this.FRecordCount===0&&this.ActivateBuffers(),this.FRecordCount===this.FBufferCount?this.ShiftBuffersBackward():(this.FRecordCount+=1,this.FCurrentRecord=this.FRecordCount-1,t.$assign(this.FBuffers[this.FCurrentRecord]),this.FBuffers[this.FCurrentRecord].$assign(this.FBuffers[this.FBufferCount]),this.FBuffers[this.FBufferCount].$assign(t))):this.CursorPosChanged(),e},this.GetPriorRecords=function(){for(var e=0,e=0;this.FRecordCount<this.FBufferCount&&this.GetPriorRecord();)e+=1;return e},this.GetPriorRecord=function(){var e=!1;return this.CheckBiDirectional(),this.FRecordCount>0&&this.SetCurrentRecord(0),e=this.GetRecord(this.FBuffers[this.FBufferCount],2,!0)===0,e?(this.FRecordCount===0&&this.ActivateBuffers(),this.ShiftBuffersForward(),this.FRecordCount<this.FBufferCount&&(this.FRecordCount+=1)):this.CursorPosChanged(),e},this.InitRecord=function(e){this.InternalInitRecord(e),this.ClearCalcFields(e)},this.InternalCancel=function(){},this.OpenCursor=function(e){e?this.InternalInitFieldDefs():this.FState!==12&&this.DoInternalOpen()},this.OpenCursorcomplete=function(){try{this.FState===12&&this.DoInternalOpen()}finally{this.FInternalOpenComplete?(this.SetState(1),this.DoAfterOpen(),this.IsEmpty()||this.DoAfterScroll()):(this.SetState(0),this.CloseCursor())}},this.RefreshInternalCalcFields=function(){},this.RestoreState=function(e){this.FState=e,this.FDisableControlsCount-=1},this.SetActive=function(e){if(e&&this.FState===0){if(0 in this.FComponentState){this.FOpenAfterRead=!0;return}this.DoBeforeOpen(),this.FEnableControlsEvent=4,this.FInternalCalcFields=!1;try{this.FDefaultFields=this.GetfieldCount()===0,this.OpenCursor(!1)}finally{this.FState!==12&&this.OpenCursorcomplete()}this.FModified=!1}else!e&&this.FState!==0&&(this.DoBeforeClose(),this.SetState(0),this.DoneChangeList(),this.CloseCursor(),this.DoAfterClose(),this.FModified=!1)},this.SetBufListSize=function(e){if(t=0,e<0&&(e=0),e===this.FBufferCount)return;if(e>this.FBufferCount){this.FBuffers=rtl.arraySetLength(this.FBuffers,a,e+1);for(var t,n,o,s=this.FBufferCount,i=e;s<=i;s++)t=s,this.FBuffers[t].$assign(this.AllocRecordBuffer())}else if(e<this.FBufferCount&&e>=0&&this.FActiveRecord>e-1){for(n=0,o=this.FActiveRecord-e;n<=o;n++)t=n,this.ShiftBuffersBackward();this.FActiveRecord=e-1}this.FBuffers=rtl.arraySetLength(this.FBuffers,a,e+1),this.FBufferCount=e,this.FRecordCount>this.FBufferCount&&(this.FRecordCount=this.FBufferCount)},this.SetCurrentRecord=function(e){if(this.FCurrentRecord!==e){if(!this.FIsUniDirectional){var t=this.GetBookmarkFlag(a.$clone(this.FBuffers[e]));t===0?this.InternalSetToRecord(a.$clone(this.FBuffers[e])):t===1?this.InternalFirst():t===2&&this.InternalLast()}this.FCurrentRecord=e}},this.SetFiltered=function(e){e&&this.CheckBiDirectional(),this.FFiltered=e},this.SetFilterText=function(e){this.FFilterText=e},this.SetModified=function(e){this.FModified=e},this.SetName=function(e){n=this;function r(e){for(var t="",s=0,o=0,t=e,s=0,o=0;s<n.FFieldList.GetCount();)t===n.FFieldList.GetField(s).FFieldName?(o+=1,t=e+E(o)):s+=1;return t}if(t=0,s="",o="",n.FName===e)return;if(o=n.FName,i.SetName.call(this,e),4 in this.FComponentState)for(var t,n,s,o,a=0,c=this.FFieldList.GetCount()-1;a<=c;a++)t=a,s=o+this.FFieldList.GetField(t).FFieldName,p(this.FFieldList.GetField(t).FName,1,s.length)===s&&this.FFieldList.GetField(t).SetName(r(e+this.FFieldList.GetField(t).FFieldName))},this.SetOnFilterRecord=function(e){this.CheckBiDirectional(),this.FOnFilterRecord=e},this.SetState=function(e){e!==this.FState&&(this.FState=e,e===1&&(this.FModified=!1),this.DataEvent(6,0))},this.SetTempState=function(e){var t=0,t=this.FState;return this.FState=e,this.FDisableControlsCount+=1,t},this.AllocRecordBuffer=function(){var e=a.$new();return e.data=null,e.state=0,e},this.FreeRecordBuffer=function(){},this.GetBookmarkData=function(){},this.GetBookmarkFlag=function(){var t=0,t=0;return t},this.GetDataSource=function(){var e=null,e=null;return e},this.InternalFirst=function(){},this.InternalInitRecord=function(){},this.InternalLast=function(){},this.InternalPost=function(){var n=this;function o(){i=0;for(var o,i,a=0,r=n.FFieldList.GetCount()-1;a<=r;a++)i=a,o=n.FFieldList.GetField(i),o.FRequired&&!o.FReadOnly&&o.FFieldKind===0&&o.FDataType!==9&&o.GetIsNull()&&e.DatabaseErrorFmt$1(rtl.getResStr(t,"SNeedField"),s(18,o.GetDisplayName()),n)}o()},this.InternalSetToRecord=function(){},this.Notification=function(e,t){i.Notification.call(this,e,t),t===1&&e===this.FDataProxy&&(this.FDataProxy=null)},this.SetDataSetField=function(n){if(n===this.FDataSetField)return;n!==null&&(n.FDataSet===this||n.FDataSet.GetDataSource()!==null&&n.FDataSet.GetDataSource().FDataSet===this)&&e.DatabaseError$1(rtl.getResStr(t,"SCircularDataLink"),this),n!=null&&!this.$class.InheritsFrom(n.FDataSet.FNestedDataSetClass)&&e.DatabaseErrorFmt$1(rtl.getResStr(t,"SNestedDataSetClass"),s(18,n.FDataSet.FNestedDataSetClass.$classname),this),this.GetActive()&&this.Close(),this.FDataSetField!=null&&this.FDataSetField.AssignNestedDataSet(null),this.FDataSetField=n,n!=null&&(n.AssignNestedDataSet(this),n.FDataSet.GetActive()&&this.Open())},this.GetFieldData=function(e){var t=void 0,t=this.GetFieldData$1(e,a.$clone(this.ActiveBuffer()));return t},this.SetFieldData=function(e,t){this.SetFieldData$1(e,this.FBuffers[this.FActiveRecord],t)},this.GetFieldData$1=function(e,t){var n=void 0,n=t.data[e.FFieldName];return q(n)&&(n=null),n},this.SetFieldData$1=function(e,t,n){t.data[e.FFieldName]=n},this.FieldDefsClass=function(){var e=null,e=M;return e},this.FieldsClass=function(){var e=null,e=Y;return e},this.Create$1=function(e){return i.Create$1.call(this,e),this.FFieldDefs=this.$class.FieldDefsClass().$create("Create$4",[this]),this.FFieldList=this.$class.FieldsClass().$create("Create$1",[this]),this.FDataSources=w.$create("Create"),this.FConstraints=J.$create("Create$2",[this]),this.FBuffers=rtl.arraySetLength(this.FBuffers,a,1),this.FActiveRecord=0,this.FEOF=!0,this.FBOF=!0,this.FIsUniDirectional=!1,this.FAutoCalcFields=!0,this.FDataRequestID=0,this.FNestedDataSetClass=this.$class.ClassType(),this},this.Destroy=function(){for(t=0,this.SetActive(!1),this.SetDataSetField(null),rtl.free(this,"FFieldDefs"),rtl.free(this,"FFieldList"),rtl.free(this,"FNestedDataSets"),e=this.FDataSources;e.FCount>0;)rtl.getObject(e.Get(e.FCount-1)).SetDataSet(null);e.$destroy("Destroy");for(var e,t,n=0,s=this.FBufferCount;n<=s;n++)t=n,this.FreeRecordBuffer(this.FBuffers[t]);rtl.free(this,"FConstraints"),this.FBuffers=rtl.arraySetLength(this.FBuffers,a,1),i.Destroy.call(this)},this.ActiveBuffer=function(){var e=a.$new();return this.FActiveRecord!==-1?e.$assign(this.FBuffers[this.FActiveRecord]):e.$assign(a.$new()),e},this.ConvertToDateTime=function(e,t,n){var s=0,s=this.$class.DefaultConvertToDateTime(e,t,n);return s},this.ConvertDateTimeToNative=function(e,t){var n=void 0,n=this.$class.DefaultConvertDateTimeToNative(e,t);return n},this.DefaultConvertToDateTime=function(e,n){var i=0,i=0;if(rtl.isString(n)){if(!Be(""+n,{get:function(){return i},set:function(e){i=e}}))throw Ve.$create("CreateFmt",[rtl.getResStr(t,"SErrInvalidDateTime"),s(18,""+n)])}else rtl.isNumber(n)?i=rtl.getNumber(n):$e(n)&&(i=We(n));return i},this.DefaultConvertDateTimeToNative=function(e,t){var n=void 0,n=Ue(t);return n},this.BlobDataToBytes=function(e){var t=[],t=this.$class.DefaultBlobDataToBytes(e);return t},this.DefaultBlobDataToBytes=function(e){var t=[],s="",n=0,o=0,i=0,t=rtl.arraySetLength(t,0,0);if(rtl.isString(e))for(s=""+e,i=s.length,t=rtl.arraySetLength(t,0,rtl.trunc((i+1)/2)),n=1,o=0;n<i;)t[o]=U("$"+p(s,n,2)),n+=2,o+=1;return t},this.BytesToBlobData=function(e){var t=void 0,t=this.$class.DefaultBytesToBlobData(rtl.arrayRef(e));return t},this.DefaultBytesToBlobData=function(e){if(n=void 0,t="",s=0,rtl.length(e)===0)n=null;else{t="";for(var t,n,s,o=0,i=rtl.length(e)-1;o<=i;o++)s=o,t=t.concat(Ke(e[s],2));n=t}return n},this.Cancel=function(){this.FState in rtl.createSet(2,3)&&(this.DataEvent(7,0),this.DoBeforeCancel(),this.UpdateCursorPos(),this.InternalCancel(),this.FState===3&&this.FRecordCount===1?(this.FEOF=!0,this.FBOF=!0,this.FRecordCount=0,this.InitRecord(this.FBuffers[this.FActiveRecord]),this.SetState(1),this.DataEvent(2,0)):(this.SetState(1),this.SetCurrentRecord(this.FActiveRecord),this.Resync({})),this.DoAfterCancel())},this.CheckBrowseMode=function(){this.CheckActive(),this.DataEvent(7,0);var e=this.FState;e===2||e===3?(this.UpdateRecord(),this.FModified?this.Post():this.Cancel()):e===4&&this.Post()},this.Close=function(){this.SetActive(!1)},this.ControlsDisabled=function(){var e=!1,e=this.FDisableControlsCount>0;return e},this.CompareBookmarks=function(){var n=0,n=0;return n},this.CursorPosChanged=function(){this.FCurrentRecord=-1},this.DisableControls=function(){this.FDisableControlsCount===0&&(this.FDisableControlsState=this.FState,this.FEnableControlsEvent=2),this.FDisableControlsCount+=1},this.EnableControls=function(){this.FDisableControlsCount>0&&(this.FDisableControlsCount-=1),this.FDisableControlsCount===0&&(this.FState!==this.FDisableControlsState&&this.DataEvent(6,0),this.FState!==0&&this.FDisableControlsState!==0&&this.DataEvent(this.FEnableControlsEvent,0))},this.FieldByName=function(n){var o=null,o=this.FindField(n);return o===null&&e.DatabaseErrorFmt$1(rtl.getResStr(t,"SFieldNotFound"),s(18,n),this),o},this.FindField=function(e){var t=null,t=this.FFieldList.FindField(e);return t},this.First=function(){this.CheckBrowseMode(),this.DoBeforeScroll(),this.FIsUniDirectional?this.FBOF||(this.SetActive(!1),this.SetActive(!0)):this.ClearBuffers();try{this.InternalFirst(),this.FIsUniDirectional||this.GetNextRecords()}finally{this.FBOF=!0,this.DataEvent(2,0),this.DoAfterScroll()}},this.GetBookmark=function(){var e=d.$new();return this.BookmarkAvailable()?this.GetBookmarkData(a.$clone(this.ActiveBuffer()),e):e.Data=null,e},this.GetFieldList=function(t,n){var o=null,i="",s=0;if(n===""||t===null)return;s=1;do i=e.ExtractFieldName(n,{get:function(){return s},set:function(e){s=e}}),o=this.FieldByName(i),t.Add(o);while(!(s>n.length))},this.GetFieldList$1=function(t,n){var o=null,i="",s=0;if(n===""||t===null)return;s=1;do i=e.ExtractFieldName(n,{get:function(){return s},set:function(e){s=e}}),o=this.FieldByName(i),t.Add(o);while(!(s>n.length))},this.IsEmpty=function(){var e=!1,e=this.FBOF&&this.FEOF&&this.FState!==3;return e},this.Lookup=function(){var s=void 0;return this.CheckBiDirectional(),s=null,s},this.MoveBy=function(e){var s,t=this,o=0,n=0;function i(){var s=0,s=0;for(t.FBOF=!1;e>0&&!t.FEOF;)t.FActiveRecord<t.FRecordCount-1?(t.FActiveRecord+=1,e-=1,n+=1):t.GetNextRecord()?(e-=1,s-=1,n+=1):(t.FEOF=!0,t.DoLoad(rtl.createSet(0,2),null));return s}function a(){var s=0;for(t.CheckBiDirectional(),s=0,t.FEOF=!1;e<0&&!t.FBOF;)t.FActiveRecord>0?(t.FActiveRecord-=1,e+=1,n-=1):t.GetPriorRecord()?(e+=1,s+=1,n-=1):t.FBOF=!0;return s}if(s=0,this.CheckBrowseMode(),o=0,n=0,this.DoBeforeScroll(),e===0||e>0&&this.FEOF||e<0&&this.FBOF)return o;try{s=0,e>0?s=i():s=a()}finally{this.DataEvent(3,s),this.DoAfterScroll(),o=n}return o},this.Next=function(){this.FBlockReadSize>0?this.BlockReadNext():this.MoveBy(1)},this.Open=function(){this.SetActive(!0)},n=[0,1],this.Post=function(){var o=null,i=!1;if(this.UpdateRecord(),this.FState in rtl.createSet(2,3)){if(this.DataEvent(7,0),this.DoBeforePost(),i=this.FState===3,!this.TryDoing(rtl.createCallback(this,"InternalPost"),this.FOnPostError))return;this.CursorPosChanged(),this.SetState(1),this.Resync({}),o=this.AddToChangeList(n[+i]),o!=null&&o.FBookmark.$assign(this.GetBookmark()),this.DoAfterPost()}else this.FState!==4&&e.DatabaseErrorFmt$1(rtl.getResStr(t,"SNotEditing"),s(18,this.FName),this)},this.Resync=function(n){var s=0,o=0;if(this.FIsUniDirectional)return;if(this.GetRecord(this.FBuffers[0],0,!1)!==0)if(0 in n)e.DatabaseError$1(rtl.getResStr(t,"SNoSuchRecord"),this);else if(this.GetRecord(this.FBuffers[0],1,!0)!==0&&this.GetRecord(this.FBuffers[0],2,!0)!==0){this.ClearBuffers(),this.InternalInitRecord(this.FBuffers[this.FActiveRecord]),this.DataEvent(2,0);return}for(this.FCurrentRecord=0,this.FEOF=!1,this.FBOF=!1,(1 in n)?o=rtl.trunc(this.FRecordCount/2):o=this.FActiveRecord,s=0,this.FRecordCount=1,this.FActiveRecord=0;s<o&&this.GetPriorRecord();)s+=1;this.FActiveRecord=s,this.GetNextRecords(),this.FRecordCount<this.FBufferCount&&(this.FActiveRecord=this.FActiveRecord+this.GetPriorRecords()),this.DataEvent(2,0)},this.UpdateCursorPos=function(){this.FRecordCount>0&&this.SetCurrentRecord(this.FActiveRecord)},this.UpdateRecord=function(){this.FState in e.dsEditModes||e.DatabaseErrorFmt$1(rtl.getResStr(t,"SNotEditing"),s(18,this.FName),this),this.DataEvent(5,0)}}),rtl.createClass(this,"TDataLink",y,function(){je=this,this.$init=function(){y.$init.call(this),this.FFirstRecord=0,this.FBufferCount=0,this.FActive=!1,this.FDataSourceFixed=!1,this.FEditing=!1,this.FReadOnly=!1,this.FUpdatingRecord=!1,this.FVisualControl=!1,this.FDataSource=null},this.$final=function(){this.FDataSource=void 0,y.$final.call(this)},this.CalcFirstRecord=function(e){var t=0;return this.FDataSource.FDataSet.FActiveRecord>this.FFirstRecord+e+this.FBufferCount-1?t=this.FDataSource.FDataSet.FActiveRecord-(this.FFirstRecord+e+this.FBufferCount-1):this.FDataSource.FDataSet.FActiveRecord<this.FFirstRecord+e?t=this.FDataSource.FDataSet.FActiveRecord-(this.FFirstRecord+e):t=0,this.FFirstRecord+=e+t,t},this.CalcRange=function(){var e=0,t=0,t=this.GetDataset().FActiveRecord-this.FBufferCount+1;t<0&&(t=0),e=this.GetDataset().FBufferCount-this.FBufferCount,e<0&&(e=0),e>this.GetDataset().FActiveRecord&&(e=this.GetDataset().FActiveRecord),this.FFirstRecord<t&&(this.FFirstRecord=t),this.FFirstRecord>e&&(this.FFirstRecord=e),this.FFirstRecord!==0&&this.GetDataset().FActiveRecord-this.FFirstRecord<this.FBufferCount-1&&(this.FFirstRecord-=1)},this.CheckActiveAndEditing=function(){var t=!1,t=this.FDataSource!=null&&!(this.FDataSource.FState in rtl.createSet(0,12));this.SetActive(t),t=this.FDataSource!=null&&this.FDataSource.FState in e.dsEditModes&&!this.FReadOnly,t!==this.FEditing&&(this.FEditing=t,this.EditingChanged())},this.GetDataset=function(){var e=null;return this.FDataSource!=null?e=this.FDataSource.FDataSet:e=null,e},this.SetActive=function(e){this.FActive!==e&&(this.FActive=e,this.ActiveChanged())},this.SetDataSource=function(e){if(this.FDataSource===e)return;this.FDataSourceFixed||(this.FDataSource!=null&&(this.FDataSource.UnregisterDataLink(this),this.FDataSource=null,this.CheckActiveAndEditing()),this.FDataSource=e,this.FDataSource!=null&&(this.FDataSource.RegisterDataLink(this),this.CheckActiveAndEditing()))},this.ActiveChanged=function(){this.FFirstRecord=0},this.CheckBrowseMode=function(){},this.DataEvent=function(e,t){if(e===6)this.CheckActiveAndEditing();else if(this.FActive){var n=e;n===0||n===1?this.FUpdatingRecord||this.RecordChanged(rtl.getObject(t)):n===2?(this.SetActive(this.FDataSource.FDataSet.GetActive()),this.CalcRange(),this.CalcFirstRecord(rtl.trunc(t)),this.DataSetChanged()):n===3?this.DataSetScrolled(this.CalcFirstRecord(rtl.trunc(t))):n===4?(this.CalcFirstRecord(rtl.trunc(t)),this.LayoutChanged()):n===5?this.UpdateRecord():n===7?this.CheckBrowseMode():n===10&&this.FocusControl(t)}},this.DataSetChanged=function(){this.RecordChanged(null)},this.DataSetScrolled=function(){this.DataSetChanged()},this.EditingChanged=function(){},this.FocusControl=function(){},this.GetBufferCount=function(){var e=0,e=this.FBufferCount;return e},this.LayoutChanged=function(){this.DataSetChanged()},this.RecordChanged=function(){},this.UpdateData=function(){},this.Destroy=function(){this.FActive=!1,this.FEditing=!1,this.FDataSourceFixed=!1,this.SetDataSource(null),r.Destroy.call(this)},this.UpdateRecord=function(){this.FUpdatingRecord=!0;try{this.UpdateData()}finally{this.FUpdatingRecord=!1}}}),this.$rtti.$MethodVar("TDataChangeEvent",{procsig:rtl.newTIProcSig([["Sender",f.$rtti.TObject],["Field",this.$rtti.TField]]),methodkind:0}),rtl.createClass(this,"TDataSource",i,function(){ve=this,this.$init=function(){i.$init.call(this),this.FDataSet=null,this.FDataLinks=null,this.FEnabled=!1,this.FAutoEdit=!1,this.FState=0,this.FOnStateChange=null,this.FOnDataChange=null,this.FOnUpdateData=null},this.$final=function(){this.FDataSet=void 0,this.FDataLinks=void 0,this.FOnStateChange=void 0,this.FOnDataChange=void 0,this.FOnUpdateData=void 0,i.$final.call(this)},this.DistributeEvent=function(e,t){n=0,s=this.FDataLinks;for(var n,s,o,a,r,c,i=0,l=s.GetCount()-1;i<=l;i++)n=i,a=rtl.getObject(s.Get(n)),a.FVisualControl||a.DataEvent(e,t);for(o=0,c=s.GetCount()-1;o<=c;o++)n=o,r=rtl.getObject(s.Get(n)),r.FVisualControl&&r.DataEvent(e,t)},this.RegisterDataLink=function(e){this.FDataLinks.Add(e),this.FDataSet!=null&&this.FDataSet.RecalcBufListSize()};var t,n=rtl.createSet(1,2,3,4,6);this.ProcessEvent=function(e,t){var s=!1,o=0;if(e===6){if(s=this.FState===0,o=this.FState,this.FDataSet!=null&&this.FEnabled?this.FState=this.FDataSet.FState:this.FState=0,this.FState===o)return}else s=!0;this.DistributeEvent(e,t),3 in this.FComponentState||(e===6&&this.DoStateChange(),e in n&&s&&this.DoDataChange(null),e===0&&this.DoDataChange(t),e===5&&this.DoUpdateData())},this.SetDataSet=function(e){this.FDataSet!==null&&(this.FDataSet.UnRegisterDataSource(this),this.FDataSet=null,this.ProcessEvent(6,0)),e!==null&&(e.RegisterDataSource(this),this.FDataSet=e,this.ProcessEvent(6,0))},this.SetEnabled=function(e){this.FEnabled=e,this.ProcessEvent(6,0)},this.UnregisterDataLink=function(e){this.FDataLinks.Remove(e),this.FDataSet!==null&&this.FDataSet.RecalcBufListSize()},this.DoDataChange=function(e){this.FOnDataChange!=null&&this.FOnDataChange(this,e)},this.DoStateChange=function(){this.FOnStateChange!=null&&this.FOnStateChange(this)},this.DoUpdateData=function(){this.FOnUpdateData!=null&&this.FOnUpdateData(this)},this.Create$1=function(e){return i.Create$1.call(this,e),this.FDataLinks=V.$create("Create$1"),this.FEnabled=!0,this.FAutoEdit=!0,this},this.Destroy=function(){this.FOnStateChange=null,this.SetDataSet(null);for(var e=this.FDataLinks;e.GetCount()>0;)rtl.getObject(e.Get(e.GetCount()-1)).SetDataSource(null);rtl.free(this,"FDataLinks"),i.Destroy.call(this)},t=this.$rtti,t.addProperty("AutoEdit",0,rtl.boolean,"FAutoEdit","FAutoEdit",{Default:!0}),t.addProperty("DataSet",2,e.$rtti.TDataSet,"FDataSet","SetDataSet"),t.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),t.addProperty("OnStateChange",0,l.$rtti.TNotifyEvent,"FOnStateChange","FOnStateChange"),t.addProperty("OnDataChange",0,e.$rtti.TDataChangeEvent,"FOnDataChange","FOnDataChange"),t.addProperty("OnUpdateData",0,l.$rtti.TNotifyEvent,"FOnUpdateData","FOnUpdateData")}),fe=this.TDataRequestResult={0:"rrFail",rrFail:0,1:"rrEOF",rrEOF:1,2:"rrOK",rrOK:2},rtl.createClass(this,"TDataRequest",r,function(){Z=this,this.$init=function(){r.$init.call(this),this.FBookmark=d.$new(),this.FDataset=null,this.FErrorMsg="",this.FEvent=null,this.FLoadOptions={},this.FRequestID=0,this.FSuccess=0,this.FData=void 0,this.FAfterRequest=null,this.FDataProxy=null},this.$final=function(){this.FBookmark=void 0,this.FDataset=void 0,this.FEvent=void 0,this.FLoadOptions=void 0,this.FAfterRequest=void 0,this.FDataProxy=void 0,r.$final.call(this)},this.Create$1=function(e,t,n,s){return this.FDataProxy=e,this.FLoadOptions=rtl.refSet(t),this.FEvent=s,this.FAfterRequest=n,this}}),rtl.createClass(this,"TRecordUpdateDescriptor",r,function(){R=this,this.$init=function(){r.$init.call(this),this.FBookmark=d.$new(),this.FData=void 0,this.FDataset=null,this.FProxy=null,this.FStatus=0},this.$final=function(){this.FBookmark=void 0,this.FDataset=void 0,this.FProxy=void 0,r.$final.call(this)},this.Create$1=function(e,t,n,s,o){return this.FDataset=t,this.FBookmark.$assign(n),this.FData=s,this.FStatus=o,this.FProxy=e,this}}),rtl.createClass(this,"TDataProxy",i,function(){me=this,this.GetDataRequestClass=function(){var e=null,e=Z;return e},this.GetUpdateDescriptorClass=function(){var e=null,e=R;return e},this.GetDataRequest=function(e,t,n){var s=null,s=this.GetDataRequestClass().$create("Create$1",[this,rtl.refSet(e),t,n]);return s},this.GetUpdateDescriptor=function(e,t,n,s){var o=null,o=this.GetUpdateDescriptorClass().$create("Create$1",[this,e,d.$clone(t),n,s]);return o}}),this.Fieldtypenames=["Unknown","String","Integer","NativeInt","Boolean","Float","Date","Time","DateTime","AutoInc","Blob","Memo","FixedChar","Variant","Dataset"],this.DefaultFieldClasses=[n,N,_,ee,oe,L,H,ie,j,se,S,re,N,ae,null],this.dsEditModes=rtl.createSet(2,3,4),this.ftBlobTypes=rtl.createSet(10,11),this.DatabaseError=function(e){throw g.$create("Create$1",[e])},this.DatabaseError$1=function(t,n){if(n!=null&&n.FName!=="")throw g.$create("CreateFmt",["%s : %s",s(18,n.FName,18,t)]);e.DatabaseError(t)},this.DatabaseErrorFmt=function(e,t){throw g.$create("CreateFmt",[e,t])},this.DatabaseErrorFmt$1=function(t,n,o){if(o!=null)throw g.$create("CreateFmt",[qe("%s : %s",s(18,o.FName,18,t)),n]);e.DatabaseErrorFmt(t,n)},this.ExtractFieldName=function(e,t){for(var o="",n=0,s=0,n=t.get(),s=e.length;n<=s&&e.charAt(n-1)!==";";)n+=1;return o=Ye(p(e,t.get(),n-t.get())),n<=s&&e.charAt(n-1)===";"&&(n+=1),t.set(n),o},e.$implcode=function(){t=pas.DBConst,c.DefaultBufferCount=10,c.SBoolean="Boolean",c.SDateTime="TDateTime",c.SInteger="Integer",c.SLargeInt="NativeInt",c.SJSValue="JSValue"}},["DBConst","TypInfo"]),rtl.module("contnrs",["System","SysUtils","Classes"],function(){"use strict";var v,t=this,n=t.$impl,s=null,o=null,i=null,a=null,l=null,u=null,r=null,c=pas.System,e=c.TObject,h=pas.Classes,m=h.TFPList,f=c.VarRecs,d=pas.SysUtils,p=d.FreeAndNil,g=d.Exception;rtl.createClass(this,"TFPObjectList",e,function(){s=this,this.$init=function(){e.$init.call(this),this.FFreeObjects=!1,this.FList=null},this.$final=function(){this.FList=void 0,e.$final.call(this)},this.GetCount=function(){var e=0,e=this.FList.FCount;return e},this.GetItem=function(e){var t=null,t=rtl.getObject(this.FList.Get(e));return t},this.SetItem=function(e,t){var n=null;this.FFreeObjects?(n=rtl.getObject(this.FList.Get(e)),this.FList.Put(e,t),n=rtl.freeLoc(n)):this.FList.Put(e,t)},this.Create$1=function(){return e.Create.call(this),this.FList=m.$create("Create"),this.FFreeObjects=!0,this},this.Create$2=function(e){return this.Create$1(),this.FFreeObjects=e,this},this.Destroy=function(){this.FList!==null&&(this.Clear(),this.FList.$destroy("Destroy")),e.Destroy.call(this)},this.Clear=function(){var e,t=0,n=null;if(this.FFreeObjects)for(e=this.FList.FCount-1;e>=0;e--)t=e,n=rtl.getObject(this.FList.Get(t)),this.FList.Put(t,null),n=rtl.freeLoc(n);this.FList.Clear()},this.Add=function(e){var t=0,t=this.FList.Add(e);return t}}),rtl.createClass(this,"THTCustomNode",e,function(){o=this,this.$init=function(){e.$init.call(this),this.FKey=""},this.CreateWith=function(t){return e.Create.call(this),this.FKey=t,this}}),rtl.createClass(this,"TFPCustomHashTable",e,function(){i=this,this.$init=function(){e.$init.call(this),this.FHashTable=null,this.FHashFunction=null,this.FCount=0,this.FHashTableSize=0},this.$final=function(){this.FHashTable=void 0,this.FHashFunction=void 0,e.$final.call(this)},this.SetHashTableSize=function(e){var t=0,s=0;if(e!==this.FHashTableSize){for(t=0;n.PRIMELIST[t]<e&&t<27;)t+=1;s=n.PRIMELIST[t],this.FCount===0?(this.FHashTableSize=s,this.InitializeHashTable()):this.ChangeTableSize(s)}},this.InitializeHashTable=function(){if(t=0,this.FHashTableSize>0)for(var t,e=0,n=this.FHashTableSize-1;e<=n;e++)t=e,this.FHashTable.Add(null);this.FCount=0},this.Chain=function(e){var t=null,t=this.FHashTable.GetItem(e);return t},this.FindChainForAdd=function(e){if(n=null,o=0,i=0,o=this.FHashFunction(e,this.FHashTableSize),n=this.Chain(o),n!=null){if(n.GetCount()>0)for(var n,o,i,a=0,c=n.GetCount()-1;a<=c;a++)if(i=a,n.GetItem(i).FKey===e)throw r.$create("CreateFmt",[rtl.getResStr(t,"DuplicateMsg"),f(18,e)])}else this.FHashTable.SetItem(o,s.$create("Create$2",[!0])),n=this.Chain(o);return this.FCount+=1,n},this.Create$1=function(){return this.CreateWith(196613,t.RSHash),this},this.CreateWith=function(t,n){return e.Create.call(this),this.FHashTable=s.$create("Create$2",[!0]),this.SetHashTableSize(t),this.FHashFunction=n,this},this.Destroy=function(){rtl.free(this,"FHashTable"),e.Destroy.call(this)},this.ChangeTableSize=function(e){if(t=null,n=null,o=0,a=0,r=0,c=null,t=this.FHashTable,o=this.FHashTableSize,this.FHashTableSize=e,this.FHashTable=s.$create("Create$2",[!0]),this.InitializeHashTable(),o>0)for(var t,n,o,i,a,r,c,d,l=0,u=o-1;l<=u;l++)if(a=l,n=t.GetItem(a),n!=null)for(i=0,d=n.GetCount()-1;i<=d;i++)r=i,c=n.GetItem(r),this.AddNode(c);t=rtl.freeLoc(t)},this.Clear=function(){if(e=0,this.FHashTableSize>0)for(var e,t=0,n=this.FHashTableSize-1;t<=n;t++)e=t,this.Chain(e)!=null&&this.Chain(e).Clear();this.FCount=0},this.Find=function(e){if(s=null,o=0,t=null,n=0,o=this.FHashFunction(e,this.FHashTableSize),t=this.Chain(o),t!=null&&t.GetCount()>0)for(var t,n,s,o,i=0,a=t.GetCount()-1;i<=a;i++)if(n=i,t.GetItem(n).FKey===e)return t.GetItem(n);return s=null,s}}),rtl.createClass(this,"THTObjectNode",o,function(){a=this,this.$init=function(){o.$init.call(this),this.FData=null},this.$final=function(){this.FData=void 0,o.$final.call(this)}}),rtl.createClass(this,"THTOwnedObjectNode",a,function(){l=this,this.Destroy=function(){p({p:this,get:function(){return this.p.FData},set:function(e){this.p.FData=e}}),e.Destroy.call(this)}}),rtl.createClass(this,"TFPObjectHashTable",i,function(){u=this,this.$init=function(){i.$init.call(this),this.FOwnsObjects=!1},this.CreateNewNode=function(e){var t=null;return this.FOwnsObjects?t=l.$create("CreateWith",[e]):t=a.$create("CreateWith",[e]),t},this.AddNode=function(e){this.Add(e.FKey,e.FData)},this.GetData=function(e){var t=null,n=null,n=this.Find(e);return n!=null?t=n.FData:t=null,t},this.Create$2=function(e){return i.Create$1.call(this),this.FOwnsObjects=e,this},this.Add=function(e,t){var s=null,n=null,s=this.FindChainForAdd(e),n=this.CreateNewNode(e);n.FData=t,s.Add(n)}}),rtl.createClass(this,"EDuplicate",g,function(){r=this}),v=378551,this.RSHash=function(e,t){if(n=0,s=0,o=0,s=63689,n=0,e.length>0)for(var n,s,o,i=1,a=e.length;i<=a;i++)o=i,n=n*s+e.charCodeAt(o-1),s=s*378551;return n=rtl.lw(n&2147483647)%t,n},t.$implcode=function(){n.NPRIMES=28,n.PRIMELIST=[53,97,193,389,769,1543,3079,6151,12289,24593,49157,98317,196613,393241,786433,1572869,3145739,6291469,12582917,25165843,50331653,100663319,201326611,402653189,805306457,1610612741,3221225473,4294967291],t.$resourcestrings={DuplicateMsg:{org:"An item with key %0:s already exists"}}}},["JS"]),rtl.module("fpexprpars",["System","Classes","SysUtils","contnrs"],function(){"use strict";var n=this,e=n.$impl,De=null,Je=null,he=null,ue=null,et=null,t=null,i=null,c=null,z=null,ce=null,Q=null,U=null,T=null,F=null,we=null,P=null,x=null,k=null,de=null,ve=null,ke=null,Me=null,d=null,_e=null,ye=null,je=null,ge=null,fe=null,me=null,f=null,g=null,le=null,O=null,re=null,te=null,Z=null,G=null,Y=null,q=null,Se=null,V=null,v=null,nt=null,u=null,tt=null,E=null,H=null,b=null,X=null,p=null,j=null,J=null,ee=null,S=null,ne=null,se=null,oe=null,ie=null,ae=null,_=null,l=pas.System,m=l.TObject,s=pas.SysUtils,a=s.Format,o=l.VarRecs,y=s.LowerCase,L=l.upcase,pe=l.val$8,R=s.Exception,r=s.FreeAndNil,He=s.TrimLeft,D=s.IntToStr,I=s.FormatDateTime,C=pas.Classes,B=C.TCollectionItem,Oe=s.FloatToStr,ze=s.CurrToStr,Ce=s.StrToInt,Ee=s.StrToFloat,Xe=s.StrToCurr,Ae=s.StrToDateTime,$=null,w=null,ft=C.TPersistent,M=C.TCollection,xe=s.CompareText,h=C.TComponent,Ne=s.TryStrToInt64,Le=pas.contnrs,Re=Le.TFPObjectHashTable,Pe=s.TFormatSettings,be=l.Frac,Ie=l.Odd,Be=l.Sqr$1,Ve=l.Trunc,$e=l.Int,Qe=l.Copy,Ue=l.Delete,Ke=l.Pos,qe=s.UpperCase,Ye=s.StringReplace,Fe=s.Date,dt=s.Time,We=s.Now,Ze=s.DayOfWeek,N=s.DecodeDate,A=s.DecodeTime,K=s.EncodeDate,W=s.EncodeTime,st=s.StrToIntDef$1,ot=s.StrToFloatDef,it=s.DateToStr,at=s.TimeToStr,rt=s.StrToDate,ct=s.StrToDateDef,lt=s.StrToTime,Te=s.StrToTimeDef,ut=s.StrToDateTimeDef,ht=s.FormatFloat,mt=s.BoolToStr,Ge=s.StrToBool,pt=s.StrToBoolDef,De=this.TTokenType={0:"ttPlus",ttPlus:0,1:"ttMinus",ttMinus:1,2:"ttLessThan",ttLessThan:2,3:"ttLargerThan",ttLargerThan:3,4:"ttEqual",ttEqual:4,5:"ttDiv",ttDiv:5,6:"ttMod",ttMod:6,7:"ttMul",ttMul:7,8:"ttLeft",ttLeft:8,9:"ttRight",ttRight:9,10:"ttLessThanEqual",ttLessThanEqual:10,11:"ttLargerThanEqual",ttLargerThanEqual:11,12:"ttunequal",ttunequal:12,13:"ttNumber",ttNumber:13,14:"ttString",ttString:14,15:"ttIdentifier",ttIdentifier:15,16:"ttComma",ttComma:16,17:"ttAnd",ttAnd:17,18:"ttOr",ttOr:18,19:"ttXor",ttXor:19,20:"ttTrue",ttTrue:20,21:"ttFalse",ttFalse:21,22:"ttNot",ttNot:22,23:"ttif",ttif:23,24:"ttCase",ttCase:24,25:"ttPower",ttPower:25,26:"ttEOF",ttEOF:26};this.ttComparisons=rtl.createSet(3,2,11,10,4,12),this.$rtti.$Class("TFPExpressionParser"),this.$rtti.$ClassRef("TFPExprFunctionClass",{instancetype:this.$rtti.TFPExprFunction}),Je=this.TNumberKind={0:"nkDecimal",nkDecimal:0,1:"nkHex",nkHex:1,2:"nkOctal",nkOctal:2,3:"nkBinary",nkBinary:3},rtl.createClass(this,"TFPExpressionScanner",m,function(){he=this,this.$init=function(){m.$init.call(this),this.FSource="",this.LSource=0,this.FPos=0,this.FChar="",this.FToken="",this.FTokenType=0},this.GetCurrentChar=function(){var e="",e=this.FChar;return e},this.ScanError=function(e){throw ue.$create("Create$1",[e])},this.SetSource=function(t){this.FSource=t,this.LSource=this.FSource.length,this.FTokenType=26,this.LSource===0?(this.FPos=0,this.FChar=e.cNull):(this.FPos=1,this.FChar=this.FSource.charAt(0)),this.FToken=""},this.DoIdentifier=function(){for(var t=0,s="",i="",s=this.GetCurrentChar();!this.IsWordDelim(s)&&s!==e.cNull;){if(s!=='"')this.FToken=this.FToken+s;else{for(s=this.NextPos();!(s.charCodeAt()in rtl.createSet(e.cNull.charCodeAt(),34));)this.FToken=this.FToken+s,s=this.NextPos();s!=='"'&&this.ScanError(a(rtl.getResStr(n,"SErrUnterminatedIdentifier"),o(18,this.FToken)))}s=this.NextPos()}return i=y(this.FToken),i==="or"?t=18:i==="xor"?t=19:i==="and"?t=17:i==="true"?t=20:i==="false"?t=21:i==="not"?t=22:i==="if"?t=23:i==="case"?t=24:i==="mod"?t=6:t=15,t},this.DoNumber=function(t){var r,c=this,d=0,s="",u=0,l=0,i="";function h(t,n){var o,s=!1,s=c.IsDigit(t,n);return s||(o=n,o===0?s=c.FToken!==""&&L(t)==="E"||c.FToken!==""&&t.charCodeAt()in rtl.createSet(43,45)&&i==="E":o===1?s=t===e.cHexIdentifier&&i==="\0":o===2?s=t===e.cOctalIdentifier&&i==="\0":o===3&&(s=t===e.cBinaryIdentifier&&i==="\0")),s}for(s=this.GetCurrentChar(),i="\0";s!==e.cNull;){if(this.IsWordDelim(s))if(r=t,r===0){if(!(i.charCodeAt()in rtl.createSet(69,45,43)))break}else if(r===1||r===2)break;else if(r===3&&i!=="\0")break;h(s,t)||this.ScanError(a(rtl.getResStr(n,"SErrInvalidNumberChar"),o(9,s))),this.FToken=this.FToken+s,i=L(s),s=this.NextPos()}return pe(this.FToken,{get:function(){return u},set:function(e){u=e}},{get:function(){return l},set:function(e){l=e}}),l!==0&&this.ScanError(a(rtl.getResStr(n,"SErrInvalidNumber"),o(18,this.FToken))),d=13,d},this.DoDelimiter=function(){var t,e=0,r=!1,s="",i="",s=this.FChar;return this.FToken=s,r=s.charCodeAt()in rtl.createSet(60,62),i=s,s=this.NextPos(),r&&s.charCodeAt()in rtl.createSet(61,62)?(this.FToken=this.FToken+s,this.NextPos(),i===">"?e=11:s===">"?e=12:e=10):(t=i,t==="+"?e=0:t==="-"?e=1:t==="<"?e=2:t===">"?e=3:t==="="?e=4:t==="/"?e=5:t==="*"?e=7:t==="("?e=8:t===")"?e=9:t===","?e=16:t==="^"?e=25:this.ScanError(a(rtl.getResStr(n,"SUnknownDelimiter"),o(9,i)))),e},this.DoString=function(){var t,s=this,o=0;function i(t){var n=!1,n=t===e.cNull||t===e.cSingleQuote&&!(s.FPos<s.LSource&&s.FSource.charAt(s.FPos+1-1)===e.cSingleQuote);return n}for(t="",this.FToken="",t=this.NextPos();!i(t);)this.FToken=this.FToken+t,t===e.cSingleQuote&&this.NextPos(),t=this.NextPos();return t===e.cNull&&this.ScanError(rtl.getResStr(n,"SBadQuotes")),o=14,this.FTokenType=o,this.NextPos(),o},this.NextPos=function(){var t="";return this.FPos+=1,this.FPos>this.FSource.length?this.FChar=e.cNull:this.FChar=this.FSource.charAt(this.FPos-1),t=this.FChar,t},this.SkipWhiteSpace=function(){for(;this.FChar.charCodeAt()in e.WhiteSpace&&this.FPos<=this.LSource;)this.NextPos()},this.IsWordDelim=function(t){var n=!1,n=t.charCodeAt()in e.WordDelimiters;return n},this.IsDelim=function(t){var n=!1,n=t.charCodeAt()in e.Delimiters;return n},this.IsDigit=function(t,n){var s=!1,o=n;return o===0?s=t.charCodeAt()in e.Digits:o===1?s=t.charCodeAt()in e.HexDigits:o===2?s=t.charCodeAt()in e.OctalDigits:o===3&&(s=t.charCodeAt()in e.BinaryDigits),s},this.IsAlpha=function(e){var t=!1,t=e.charCodeAt()in rtl.createSet(null,65,90,null,97,122);return t},this.Create$1=function(){return this.SetSource(""),this},this.GetToken=function(){var s=0,t="";return this.FToken="",this.SkipWhiteSpace(),t=this.FChar,t===e.cNull?s=26:this.IsDelim(t)?s=this.DoDelimiter():t===e.cSingleQuote?s=this.DoString():t===e.cHexIdentifier?s=this.DoNumber(1):t===e.cOctalIdentifier?s=this.DoNumber(2):t===e.cBinaryIdentifier?s=this.DoNumber(3):this.IsDigit(t,0)?s=this.DoNumber(0):this.IsAlpha(t)||t==='"'||t==="_"?s=this.DoIdentifier():this.ScanError(a(rtl.getResStr(n,"SErrUnknownCharacter"),o(0,this.FPos,9,t))),this.FTokenType=s,s}}),rtl.createClass(this,"EExprScanner",R,function(){ue=this}),et=this.TResultType={0:"rtBoolean",rtBoolean:0,1:"rtInteger",rtInteger:1,2:"rtFloat",rtFloat:2,3:"rtDateTime",rtDateTime:3,4:"rtString",rtString:4,5:"rtCurrency",rtCurrency:5},this.$rtti.$Enum("TResultType",{minvalue:0,maxvalue:5,ordtype:1,enumtype:this.TResultType}),rtl.recNewT(this,"TFPExpressionResult",function(){t=this,this.ResultType=0,this.resValue=void 0,this.$eq=function(e){return this.ResultType===e.ResultType&&this.resValue===e.resValue},this.$assign=function(e){return this.ResultType=e.ResultType,this.resValue=e.resValue,this};var e=n.$rtti.$Record("TFPExpressionResult",{});e.addField("ResultType",n.$rtti.TResultType),e.addField("resValue",rtl.jsvalue)}),this.$rtti.$DynArray("TExprParameterArray",{eltype:this.$rtti.TFPExpressionResult}),rtl.createClass(this,"TFPExprNode",m,function(){i=this,this.CheckNodeType=function(t,s){var i="",a=0;if(t===null&&e.RaiseParserError(rtl.getResStr(n,"SErrNoNodeToCheck")),!(t.NodeType()in s)){i="";for(a=0;a<=5;a++)a in s&&(i!==""&&(i=i+","),i=i+n.ResultTypeName(a));e.RaiseParserError$1(rtl.getResStr(n,"SInvalidNodeType"),o(18,n.ResultTypeName(t.NodeType()),18,i,18,t.AsString()))}}}),rtl.createClass(this,"TFPBinaryOperation",i,function(){c=this,this.$init=function(){i.$init.call(this),this.FLeft=null,this.FRight=null},this.$final=function(){this.FLeft=void 0,this.FRight=void 0,i.$final.call(this)},this.CheckSameNodeTypes=function(){var t=0,s=0,t=this.FLeft.NodeType(),s=this.FRight.NodeType();s!==t&&e.RaiseParserError$1(rtl.getResStr(n,"SErrTypesDoNotMatch"),o(18,n.ResultTypeName(t),18,n.ResultTypeName(s),18,this.FLeft.AsString(),18,this.FRight.AsString()))},this.Create$1=function(e,t){return this.FLeft=e,this.FRight=t,this},this.Destroy=function(){r({p:this,get:function(){return this.p.FLeft},set:function(e){this.p.FLeft=e}}),r({p:this,get:function(){return this.p.FRight},set:function(e){this.p.FRight=e}}),m.Destroy.call(this)},this.Check=function(){this.FLeft!=null||e.RaiseParserError$1(rtl.getResStr(n,"SErrNoleftOperand"),o(18,this.$classname)),this.FRight!=null||e.RaiseParserError$1(rtl.getResStr(n,"SErrNoRightOperand"),o(18,this.$classname))}}),rtl.createClass(this,"TFPBooleanOperation",c,function(){z=this,this.Check=function(){c.Check.call(this),this.CheckNodeType(this.FLeft,rtl.createSet(1,0)),this.CheckNodeType(this.FRight,rtl.createSet(1,0)),this.CheckSameNodeTypes()},this.NodeType=function(){var e=0,e=this.FLeft.NodeType();return e}}),rtl.createClass(this,"TFPBinaryAndOperation",z,function(){ce=this,this.GetNodeValue=function(){var s,e=t.$new(),n=t.$new();return e.$assign(this.FLeft.GetNodeValue()),n.$assign(this.FRight.GetNodeValue()),s=e.ResultType,s===0?e.resValue=e.resValue!=!1&&n.resValue!=!1:s===1&&(e.resValue=rtl.and(rtl.trunc(e.resValue),rtl.trunc(n.resValue))),e},this.AsString=function(){var e="",e=this.FLeft.AsString()+" and "+this.FRight.AsString();return e}}),rtl.createClass(this,"TFPBinaryOrOperation",z,function(){Q=this,this.GetNodeValue=function(){var s,e=t.$new(),n=t.$new();return e.$assign(this.FLeft.GetNodeValue()),n.$assign(this.FRight.GetNodeValue()),s=e.ResultType,s===0?e.resValue=e.resValue!=!1||n.resValue!=!1:s===1&&(e.resValue=rtl.or(rtl.trunc(e.resValue),rtl.trunc(n.resValue))),e},this.AsString=function(){var e="",e=this.FLeft.AsString()+" or "+this.FRight.AsString();return e}}),rtl.createClass(this,"TFPBinaryXOrOperation",z,function(){U=this,this.GetNodeValue=function(){var s,e=t.$new(),n=t.$new();return e.$assign(this.FLeft.GetNodeValue()),n.$assign(this.FRight.GetNodeValue()),s=e.ResultType,s===0?e.resValue=e.resValue!=!1^n.resValue!=!1:s===1&&(e.resValue=rtl.xor(rtl.trunc(e.resValue),rtl.trunc(n.resValue))),e},this.AsString=function(){var e="",e=this.FLeft.AsString()+" xor "+this.FRight.AsString();return e}}),rtl.createClass(this,"TFPBooleanResultOperation",c,function(){T=this,this.Check=function(){c.Check.call(this),this.CheckSameNodeTypes()},this.NodeType=function(){var e=0,e=0;return e}}),rtl.createClass(this,"TFPEqualOperation",T,function(){F=this,this.GetNodeValue=function(){var e=t.$new(),n=t.$new();return e.$assign(this.FLeft.GetNodeValue()),n.$assign(this.FRight.GetNodeValue()),e.resValue=e.resValue==n.resValue,e.ResultType=0,e},this.AsString=function(){var e="",e=this.FLeft.AsString()+" = "+this.FRight.AsString();return e}}),rtl.createClass(this,"TFPUnequalOperation",F,function(){we=this,this.GetNodeValue=function(){var e=t.$new();return e.$assign(F.GetNodeValue.call(this)),e.resValue=!e.resValue,e},this.AsString=function(){var e="",e=this.FLeft.AsString()+" <> "+this.FRight.AsString();return e}}),rtl.createClass(this,"TFPOrderingOperation",T,function(){P=this;var e=rtl.createSet(1,2,5,3,4);this.Check=function(){this.CheckNodeType(this.FLeft,e),this.CheckNodeType(this.FRight,e),T.Check.call(this)}}),rtl.createClass(this,"TFPLessThanOperation",P,function(){x=this,this.GetNodeValue=function(){var s,e=t.$new(),n=t.$new();return e.$assign(this.FLeft.GetNodeValue()),n.$assign(this.FRight.GetNodeValue()),s=e.ResultType,s===1?e.resValue=rtl.trunc(e.resValue)<rtl.trunc(n.resValue):s===2?e.resValue=rtl.getNumber(e.resValue)<rtl.getNumber(n.resValue):s===5?e.resValue=rtl.trunc(e.resValue*1e4)<rtl.trunc(n.resValue*1e4):s===3?e.resValue=rtl.getNumber(e.resValue)<rtl.getNumber(n.resValue):s===4&&(e.resValue=""+e.resValue<""+n.resValue),e.ResultType=0,e},this.AsString=function(){var e="",e=this.FLeft.AsString()+" < "+this.FRight.AsString();return e}}),rtl.createClass(this,"TFPGreaterThanOperation",P,function(){k=this,this.GetNodeValue=function(){var s,o,i,a,e=t.$new(),n=t.$new();return e.$assign(this.FLeft.GetNodeValue()),n.$assign(this.FRight.GetNodeValue()),s=e.ResultType,s===1?(o=this.FRight.NodeType(),o===1?e.resValue=rtl.trunc(e.resValue)>rtl.trunc(n.resValue):o===2?e.resValue=rtl.trunc(e.resValue)>rtl.getNumber(n.resValue):o===5&&(e.resValue=rtl.trunc(e.resValue)*1e4>rtl.trunc(n.resValue*1e4))):s===2?(i=this.FRight.NodeType(),i===1?e.resValue=rtl.getNumber(e.resValue)>rtl.trunc(n.resValue):i===2?e.resValue=rtl.getNumber(e.resValue)>rtl.getNumber(n.resValue):i===5&&(e.resValue=rtl.getNumber(e.resValue)*1e4>rtl.trunc(n.resValue*1e4))):s===5?(a=this.FRight.NodeType(),a===1?e.resValue=rtl.trunc(e.resValue*1e4)>rtl.trunc(n.resValue)*1e4:a===2?e.resValue=rtl.trunc(e.resValue*1e4)>rtl.getNumber(n.resValue)*1e4:a===5&&(e.resValue=rtl.trunc(e.resValue*1e4)>rtl.trunc(n.resValue*1e4))):s===3?e.resValue=rtl.getNumber(e.resValue)>rtl.getNumber(n.resValue):s===4&&(e.resValue=""+e.resValue>""+n.resValue),e.ResultType=0,e},this.AsString=function(){var e="",e=this.FLeft.AsString()+" > "+this.FRight.AsString();return e}}),rtl.createClass(this,"TFPLessThanEqualOperation",k,function(){de=this,this.GetNodeValue=function(){var e=t.$new();return e.$assign(k.GetNodeValue.call(this)),e.resValue=!e.resValue,e},this.AsString=function(){var e="",e=this.FLeft.AsString()+" <= "+this.FRight.AsString();return e}}),rtl.createClass(this,"TFPGreaterThanEqualOperation",x,function(){ve=this,this.GetNodeValue=function(){var e=t.$new();return e.$assign(x.GetNodeValue.call(this)),e.resValue=!e.resValue,e},this.AsString=function(){var e="",e=this.FLeft.AsString()+" >= "+this.FRight.AsString();return e}}),rtl.createClass(this,"TIfOperation",c,function(){ke=this,this.$init=function(){c.$init.call(this),this.FCondition=null},this.$final=function(){this.FCondition=void 0,c.$final.call(this)},this.GetNodeValue=function(){var e=t.$new();return e.$assign(this.FCondition.GetNodeValue()),e.resValue==!1?e.$assign(this.FRight.GetNodeValue()):e.$assign(this.FLeft.GetNodeValue()),e},this.Check=function(){c.Check.call(this),this.FCondition.NodeType()!==0&&e.RaiseParserError$1(rtl.getResStr(n,"SErrIFNeedsBoolean"),o(18,this.FCondition.AsString())),this.CheckSameNodeTypes()},this.NodeType=function(){var e=0,e=this.FLeft.NodeType();return e},this.Create$2=function(e,t,n){return c.Create$1.call(this,t,n),this.FCondition=e,this},this.Destroy=function(){r({p:this,get:function(){return this.p.FCondition},set:function(e){this.p.FCondition=e}}),c.Destroy.call(this)},this.AsString=function(){var e="",e=a("if(%s , %s , %s)",o(18,this.FCondition.AsString(),18,this.FLeft.AsString(),18,this.FRight.AsString()));return e}}),rtl.createClass(this,"TCaseOperation",i,function(){Me=this,this.$init=function(){i.$init.call(this),this.FArgs=[]},this.$final=function(){this.FArgs=void 0,i.$final.call(this)},this.GetNodeValue=function(){var s,i=t.$new(),a=0,r=0,e=!1,n=t.$new(),o=t.$new();for(n.$assign(this.FArgs[0].GetNodeValue()),r=rtl.length(this.FArgs),a=2,e=!1;!e&&a<r;)i.$assign(this.FArgs[a].GetNodeValue()),s=n.ResultType,s===0?e=n.resValue==o.resValue:s===1?e=n.resValue==o.resValue:s===2?e=n.resValue==o.resValue:s===5?e=n.resValue==o.resValue:s===3?e=n.resValue==o.resValue:s===4&&(e=n.resValue==o.resValue),e||(a+=2);return i.ResultType=this.FArgs[1].NodeType(),e?i.$assign(this.FArgs[a+1].GetNodeValue()):r%2===0&&i.$assign(this.FArgs[1].GetNodeValue()),i},this.Check=function(){i=0,a=0,s=0,t=null,rtl.length(this.FArgs)<3&&e.RaiseParserError(rtl.getResStr(n,"SErrCaseNeeds3")),rtl.length(this.FArgs)%2===1&&e.RaiseParserError(rtl.getResStr(n,"SErrCaseEvenCount")),i=this.FArgs[0].NodeType(),a=this.FArgs[1].NodeType();for(var t,s,i,a,r=2,c=rtl.length(this.FArgs)-1;r<=c;r++)s=r,t=this.FArgs[s],s%2===0?(v.isPrototypeOf(t)||e.RaiseParserError$1(rtl.getResStr(n,"SErrCaseLabelNotAConst"),o(0,rtl.trunc(s/2),18,t.AsString())),t.NodeType()!==i&&e.RaiseParserError$1(rtl.getResStr(n,"SErrCaseLabelType"),o(0,rtl.trunc(s/2),18,t.AsString(),18,n.ResultTypeName(i),18,n.ResultTypeName(t.NodeType())))):t.NodeType()!==a&&e.RaiseParserError$1(rtl.getResStr(n,"SErrCaseValueType"),o(0,rtl.trunc((s-1)/2),18,t.AsString(),18,n.ResultTypeName(a),18,n.ResultTypeName(t.NodeType())))},this.NodeType=function(){var e=0,e=this.FArgs[1].NodeType();return e},this.Create$1=function(e){return this.FArgs=rtl.arrayRef(e),this},this.Destroy=function(){e=0;for(var e,t=0,n=rtl.length(this.FArgs)-1;t<=n;t++)e=t,r({a:e,p:this.FArgs,get:function(){return this.p[this.a]},set:function(e){this.p[this.a]=e}});m.Destroy.call(this)},this.AsString=function(){e="",t=0,e="";for(var e,t,n=0,s=rtl.length(this.FArgs)-1;n<=s;n++)t=n,e!==""&&(e=e+", "),e=e+this.FArgs[t].AsString();return e="Case("+e+")",e}}),rtl.createClass(this,"TMathOperation",c,function(){d=this;var e=rtl.createSet(1,2,5,3,4);this.Check=function(){c.Check.call(this),this.CheckNodeType(this.FLeft,e),this.CheckNodeType(this.FRight,e),this.CheckSameNodeTypes()},this.NodeType=function(){var e=0,e=this.FLeft.NodeType();return e}}),rtl.createClass(this,"TFPAddOperation",d,function(){_e=this,this.GetNodeValue=function(){var s,e=t.$new(),n=t.$new();return e.$assign(this.FLeft.GetNodeValue()),n.$assign(this.FRight.GetNodeValue()),s=e.ResultType,s===1?e.resValue=rtl.trunc(e.resValue)+rtl.trunc(n.resValue):s===4?e.resValue=""+e.resValue+(""+n.resValue):s===3?e.resValue=rtl.getNumber(e.resValue)+rtl.getNumber(n.resValue):s===2?e.resValue=rtl.getNumber(e.resValue)+rtl.getNumber(n.resValue):s===5&&(e.resValue=(rtl.trunc(e.resValue*1e4)+rtl.trunc(n.resValue*1e4))/1e4),e.ResultType=this.NodeType(),e},this.AsString=function(){var e="",e=this.FLeft.AsString()+" + "+this.FRight.AsString();return e}}),rtl.createClass(this,"TFPSubtractOperation",d,function(){ye=this;var e=rtl.createSet(1,2,5,3);this.Check=function(){this.CheckNodeType(this.FLeft,e),this.CheckNodeType(this.FRight,e),d.Check.call(this)},this.GetNodeValue=function(){var s,e=t.$new(),n=t.$new();return e.$assign(this.FLeft.GetNodeValue()),n.$assign(this.FRight.GetNodeValue()),s=e.ResultType,s===1?e.resValue=rtl.trunc(e.resValue)-rtl.trunc(n.resValue):s===3?e.resValue=rtl.getNumber(e.resValue)-rtl.getNumber(n.resValue):s===2?e.resValue=rtl.getNumber(e.resValue)-rtl.getNumber(n.resValue):s===5&&(e.resValue=(rtl.trunc(e.resValue*1e4)-rtl.trunc(n.resValue*1e4))/1e4),e},this.AsString=function(){var e="",e=this.FLeft.AsString()+" - "+this.FRight.AsString();return e}}),rtl.createClass(this,"TFPMultiplyOperation",d,function(){je=this;var e=rtl.createSet(1,5,2);this.Check=function(){this.CheckNodeType(this.FLeft,e),this.CheckNodeType(this.FRight,e),d.Check.call(this)},this.AsString=function(){var e="",e=this.FLeft.AsString()+" * "+this.FRight.AsString();return e},this.GetNodeValue=function(){var s,e=t.$new(),n=t.$new();return e.$assign(this.FLeft.GetNodeValue()),n.$assign(this.FRight.GetNodeValue()),s=e.ResultType,s===1?e.resValue=rtl.trunc(e.resValue)*rtl.trunc(n.resValue):s===2?e.resValue=rtl.getNumber(e.resValue)*rtl.getNumber(n.resValue):s===5&&(e.resValue=rtl.trunc(e.resValue*1e4)*rtl.trunc(n.resValue*1e4)/1e4/1e4),e}}),rtl.createClass(this,"TFPDivideOperation",d,function(){ge=this;var e=rtl.createSet(1,5,2);this.Check=function(){this.CheckNodeType(this.FLeft,e),this.CheckNodeType(this.FRight,e),d.Check.call(this)},this.AsString=function(){var e="",e=this.FLeft.AsString()+" / "+this.FRight.AsString();return e},this.NodeType=function(){var e=0;return this.FLeft.NodeType()===5&&this.FRight.NodeType()===5?e=5:e=2,e},this.GetNodeValue=function(){var s,e=t.$new(),n=t.$new();return e.$assign(this.FLeft.GetNodeValue()),n.$assign(this.FRight.GetNodeValue()),s=e.ResultType,s===1?e.resValue=rtl.trunc(e.resValue)/rtl.trunc(n.resValue):s===2?e.resValue=rtl.getNumber(e.resValue)/rtl.getNumber(n.resValue):s===5&&(this.NodeType()===5?e.resValue=rtl.trunc(rtl.trunc(e.resValue*1e4)/rtl.trunc(n.resValue*1e4)*1e4)/1e4:e.resValue=rtl.getNumber(e.resValue)/rtl.getNumber(n.resValue)),e.ResultType=this.NodeType(),e}}),rtl.createClass(this,"TFPModuloOperation",d,function(){fe=this,this.Check=function(){this.CheckNodeType(this.FLeft,rtl.createSet(1)),this.CheckNodeType(this.FRight,rtl.createSet(1)),d.Check.call(this)},this.AsString=function(){var e="",e=this.FLeft.AsString()+" mod "+this.FRight.AsString();return e},this.NodeType=function(){var e=0,e=1;return e},this.GetNodeValue=function(){var e=t.$new(),n=t.$new();return e.$assign(this.FLeft.GetNodeValue()),n.$assign(this.FRight.GetNodeValue()),e.resValue=rtl.trunc(e.resValue)%rtl.trunc(n.resValue),e.ResultType=1,e}}),rtl.createClass(this,"TFPPowerOperation",d,function(){me=this;var s=rtl.createSet(1,5,2);this.Check=function(){this.CheckNodeType(this.FLeft,s),this.CheckNodeType(this.FRight,s)},this.AsString=function(){var e="",e=this.FLeft.AsString()+"^"+this.FRight.AsString();return e},this.NodeType=function(){var e=0,e=2;return e},this.GetNodeValue=function(){var s=t.$new(),o=t.$new();return s.$assign(this.FLeft.GetNodeValue()),o.$assign(this.FRight.GetNodeValue()),s.resValue=e.power(n.ArgToFloat(t.$clone(s)),n.ArgToFloat(t.$clone(o))),s.ResultType=2,s}}),rtl.createClass(this,"TFPUnaryOperator",i,function(){f=this,this.$init=function(){i.$init.call(this),this.FOperand=null},this.$final=function(){this.FOperand=void 0,i.$final.call(this)},this.Create$1=function(e){return this.FOperand=e,this},this.Destroy=function(){r({p:this,get:function(){return this.p.FOperand},set:function(e){this.p.FOperand=e}}),m.Destroy.call(this)},this.Check=function(){this.FOperand!=null||e.RaiseParserError$1(rtl.getResStr(n,"SErrNoOperand"),o(18,this.$classname))}}),rtl.createClass(this,"TFPConvertNode",f,function(){g=this,this.AsString=function(){var e="",e=this.FOperand.AsString();return e}}),rtl.createClass(this,"TFPNotNode",f,function(){le=this,this.Check=function(){this.FOperand.NodeType()in rtl.createSet(1,0)||e.RaiseParserError$1(rtl.getResStr(n,"SErrNoNOTOperation"),o(18,n.ResultTypeName(this.FOperand.NodeType()),18,this.FOperand.AsString()))},this.NodeType=function(){var e=0,e=this.FOperand.NodeType();return e},this.GetNodeValue=function(){var n,e=t.$new();return e.$assign(this.FOperand.GetNodeValue()),n=e.ResultType,n===1?e.resValue=!e.resValue:n===0&&(e.resValue=!e.resValue),e},this.AsString=function(){var e="",e="not "+this.FOperand.AsString();return e}}),rtl.createClass(this,"TIntConvertNode",g,function(){O=this,this.Check=function(){f.Check.call(this),this.CheckNodeType(this.FOperand,rtl.createSet(1))}}),rtl.createClass(this,"TIntToFloatNode",O,function(){re=this,this.NodeType=function(){var e=0,e=2;return e},this.GetNodeValue=function(){var e=t.$new();return e.$assign(this.FOperand.GetNodeValue()),e.resValue=e.resValue,e.ResultType=2,e}}),rtl.createClass(this,"TIntToCurrencyNode",O,function(){te=this,this.NodeType=function(){var e=0,e=5;return e},this.GetNodeValue=function(){var e=t.$new();return e.$assign(this.FOperand.GetNodeValue()),e.resValue=e.resValue,e.ResultType=5,e}}),rtl.createClass(this,"TIntToDateTimeNode",O,function(){Z=this,this.NodeType=function(){var e=0,e=3;return e},this.GetNodeValue=function(){var e=t.$new();return e.$assign(this.FOperand.GetNodeValue()),e.ResultType=3,e}}),rtl.createClass(this,"TFloatToDateTimeNode",g,function(){G=this,this.Check=function(){f.Check.call(this),this.CheckNodeType(this.FOperand,rtl.createSet(2))},this.NodeType=function(){var e=0,e=3;return e},this.GetNodeValue=function(){var e=t.$new();return e.$assign(this.FOperand.GetNodeValue()),e.ResultType=3,e}}),rtl.createClass(this,"TFloatToCurrencyNode",g,function(){Y=this,this.Check=function(){this.CheckNodeType(this.FOperand,rtl.createSet(2))},this.NodeType=function(){var e=0,e=5;return e},this.GetNodeValue=function(){var e=t.$new();return e.$assign(this.FOperand.GetNodeValue()),e.ResultType=5,e.resValue=e.resValue,e}}),rtl.createClass(this,"TCurrencyToDateTimeNode",g,function(){q=this,this.Check=function(){f.Check.call(this),this.CheckNodeType(this.FOperand,rtl.createSet(5))},this.NodeType=function(){var e=0,e=3;return e},this.GetNodeValue=function(){var e=t.$new(),n=t.$new();return n.$assign(this.FOperand.GetNodeValue()),e.resValue=rtl.trunc(n.resValue*1e4)/1e4,e.ResultType=3,e}}),rtl.createClass(this,"TCurrencyToFloatNode",g,function(){Se=this,this.Check=function(){f.Check.call(this),this.CheckNodeType(this.FOperand,rtl.createSet(5))},this.NodeType=function(){var e=0,e=2;return e},this.GetNodeValue=function(){var e=t.$new();return e.$assign(this.FOperand.GetNodeValue()),e.resValue=rtl.trunc(e.resValue*1e4)/1e4,e.ResultType=2,e}}),rtl.createClass(this,"TFPNegateOperation",f,function(){V=this,this.Check=function(){f.Check.call(this),this.FOperand.NodeType()in rtl.createSet(1,2,5)||e.RaiseParserError$1(rtl.getResStr(n,"SErrNoNegation"),o(18,n.ResultTypeName(this.FOperand.NodeType()),18,this.FOperand.AsString()))},this.NodeType=function(){var e=0,e=this.FOperand.NodeType();return e},this.GetNodeValue=function(){var n,e=t.$new();return e.$assign(this.FOperand.GetNodeValue()),n=e.ResultType,n===1?e.resValue=-rtl.trunc(e.resValue):n===2?e.resValue=-rtl.getNumber(e.resValue):n===5&&(e.resValue=-rtl.trunc(e.resValue*1e4)/1e4),e},this.AsString=function(){var e="",e="-"+He(this.FOperand.AsString());return e}}),rtl.createClass(this,"TFPConstExpression",i,function(){v=this,this.$init=function(){i.$init.call(this),this.FValue=t.$new()},this.$final=function(){this.FValue=void 0,i.$final.call(this)},this.CreateString=function(e){return this.FValue.ResultType=4,this.FValue.resValue=e,this},this.CreateInteger=function(e){return this.FValue.ResultType=1,this.FValue.resValue=e,this},this.CreateFloat=function(e){return m.Create.call(this),this.FValue.ResultType=2,this.FValue.resValue=e,this},this.CreateBoolean=function(e){return this.FValue.ResultType=0,this.FValue.resValue=e,this},this.Check=function(){},this.NodeType=function(){var e=0,e=this.FValue.ResultType;return e},this.GetNodeValue=function(){var e=t.$new();return e.$assign(this.FValue),e},this.AsString=function(){var e="",t=this.NodeType();return t===4?e="'"+(""+this.FValue.resValue)+"'":t===1?e=D(rtl.trunc(this.FValue.resValue)):t===3?e="'"+I("cccc",rtl.getNumber(this.FValue.resValue))+"'":t===0?this.FValue.resValue==!1?e="False":e="True":t===2?e=rtl.floatToStr(rtl.getNumber(this.FValue.resValue)):t===5&&(e=rtl.floatToStr(rtl.trunc(this.FValue.resValue*1e4)/1e4)),e}}),nt=this.TIdentifierType={0:"itVariable",itVariable:0,1:"itFunctionHandler",itFunctionHandler:1,2:"itFunctionNode",itFunctionNode:2},this.$rtti.$Enum("TIdentifierType",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TIdentifierType}),this.$rtti.$RefToProcVar("TFPExprFunctionEvent",{procsig:rtl.newTIProcSig([["Args",this.$rtti.TExprParameterArray,2]],this.$rtti.TFPExpressionResult)}),this.$rtti.$RefToProcVar("TFPExprVariableEvent",{procsig:rtl.newTIProcSig([["AName",rtl.string,2]],this.$rtti.TFPExpressionResult)}),rtl.createClass(this,"TFPExprIdentifierDef",B,function(){u=this,this.$init=function(){B.$init.call(this),this.FNodeType=null,this.FOnGetVarValue=null,this.FStringValue="",this.FValue=t.$new(),this.FArgumentTypes="",this.FIDType=0,this.FName="",this.FOnGetValue=null},this.$final=function(){this.FNodeType=void 0,this.FOnGetVarValue=void 0,this.FValue=void 0,this.FOnGetValue=void 0,B.$final.call(this)},this.GetResultType=function(){var e=0,e=this.FValue.ResultType;return e},this.GetValue=function(){var e="",t=this.FValue.ResultType;return t===0?this.FValue.resValue?e="True":e="False":t===1?e=D(rtl.trunc(this.FValue.resValue)):t===2?e=Oe(rtl.getNumber(this.FValue.resValue)):t===5?e=ze(rtl.trunc(this.FValue.resValue*1e4)):t===3?e=I("cccc",rtl.getNumber(this.FValue.resValue)):t===4&&(e=""+this.FValue.resValue),e},this.SetArgumentTypes=function(e){if(t=0,this.FArgumentTypes===e)return;for(var t,s=1,o=e.length;s<=o;s++)t=s,n.CharToResultType(e.charAt(t-1));this.FArgumentTypes=e},this.SetName=function(t){if(this.FName===t)return;t!==""&&this.FCollection!=null&&this.FCollection.IndexOfIdentifier(t)!==-1&&e.RaiseParserError$1(rtl.getResStr(n,"SErrDuplicateIdentifier"),o(18,t)),this.FName=t},this.SetResultType=function(e){e!==this.FValue.ResultType&&(this.FValue.ResultType=e,this.SetValue(this.FStringValue))},this.SetValue=function(e){if(this.FStringValue=e,e!==""){var t,n=this.FValue.ResultType;n===0?this.FValue.resValue=this.FStringValue==="True":n===1?this.FValue.resValue=Ce(e):n===2?this.FValue.resValue=Ee(e):n===5?this.FValue.resValue=Xe(e)/1e4:n===3?this.FValue.resValue=Ae(e):n===4&&(this.FValue.resValue=e)}else t=this.FValue.ResultType,t===0?this.FValue.resValue=!1:t===1?this.FValue.resValue=0:t===2?this.FValue.resValue=0:t===5?this.FValue.resValue=0:t===3?this.FValue.resValue=0:t===4&&(this.FValue.resValue="")},this.FetchValue=function(){var e=0,t=0,s=0,e=this.GetResultType();if(this.FOnGetVarValue!=null&&this.FValue.$assign(this.FOnGetVarValue(this.FName)),t=this.FValue.ResultType,t!==e)if(t===1&&e===2)this.FValue.ResultType=e,s=rtl.trunc(this.FValue.resValue),this.FValue.resValue=s;else throw this.FValue.ResultType=e,_.$create("CreateFmt",['Value handler for variable %s returned wrong type, expected "%s", got "%s"',o(18,this.FName,18,w(n.$rtti.TResultType,e),18,w(n.$rtti.TResultType,t))])},this.ArgumentCount=function(){var e=0,e=this.FArgumentTypes.length;return e},this.Assign=function(e){var t=null;u.isPrototypeOf(e)?(t=rtl.as(e,u),this.FStringValue=t.FStringValue,this.FValue.$assign(t.FValue),this.FArgumentTypes=t.FArgumentTypes,this.FIDType=t.FIDType,this.FName=t.FName,this.FOnGetValue=t.FOnGetValue,this.FOnGetVarValue=t.FOnGetVarValue):ft.Assign.call(this,e)},this.EventBasedVariable=function(){var e=!1,e=this.FOnGetVarValue!=null;return e};var s=this.$rtti;s.addProperty("IdentifierType",0,n.$rtti.TIdentifierType,"FIDType","FIDType"),s.addProperty("Name",2,rtl.string,"FName","SetName"),s.addProperty("Value",3,rtl.string,"GetValue","SetValue"),s.addProperty("ParameterTypes",2,rtl.string,"FArgumentTypes","SetArgumentTypes"),s.addProperty("ResultType",3,n.$rtti.TResultType,"GetResultType","SetResultType"),s.addProperty("OnGetFunctionValue",0,n.$rtti.TFPExprFunctionEvent,"FOnGetValue","FOnGetValue"),s.addProperty("OnGetVariableValue",0,n.$rtti.TFPExprVariableEvent,"FOnGetVarValue","FOnGetVarValue"),s.addProperty("NodeType",0,n.$rtti.TFPExprFunctionClass,"FNodeType","FNodeType")}),tt=this.TBuiltInCategory={0:"bcStrings",bcStrings:0,1:"bcDateTime",bcDateTime:1,2:"bcMath",bcMath:2,3:"bcBoolean",bcBoolean:3,4:"bcConversion",bcConversion:4,5:"bcData",bcData:5,6:"bcVaria",bcVaria:6,7:"bcUser",bcUser:7,8:"bcAggregate",bcAggregate:8},this.$rtti.$Enum("TBuiltInCategory",{minvalue:0,maxvalue:8,ordtype:1,enumtype:this.TBuiltInCategory}),this.$rtti.$Set("TBuiltInCategories",{comptype:this.$rtti.TBuiltInCategory}),rtl.createClass(this,"TFPBuiltInExprIdentifierDef",u,function(){E=this,this.$init=function(){u.$init.call(this),this.FCategory=0},this.Assign=function(e){u.Assign.call(this,e),E.isPrototypeOf(e)&&(this.FCategory=rtl.as(e,E).FCategory)};var e=this.$rtti;e.addProperty("Category",0,n.$rtti.TBuiltInCategory,"FCategory","FCategory")}),rtl.createClass(this,"TFPExprIdentifierDefs",M,function(){H=this,this.$init=function(){M.$init.call(this),this.FParser=null},this.$final=function(){this.FParser=void 0,M.$final.call(this)},this.GetI=function(e){var t=null,t=this.GetItem(e);return t},this.Update=function(e){M.Update.call(this,e),this.FParser!=null&&(this.FParser.FDirty=!0)},this.IndexOfIdentifier=function(e){for(var t=0,t=this.GetCount()-1;t>=0&&xe(this.GetI(t).FName,e)!==0;)t-=1;return t},this.AddVariable=function(e,t,n){var s=null,s=rtl.as(this.Add(),u);return s.FIDType=0,s.SetName(e),s.SetResultType(t),s.FOnGetVarValue=n,s},this.AddFloatVariable=function(e,t){var n=null,n=rtl.as(this.Add(),u);return n.FIDType=0,n.SetName(e),n.SetResultType(2),n.FValue.resValue=t,n},this.AddFunction=function(e,t,s,o){var i=null,i=rtl.as(this.Add(),u);return i.SetName(e),i.FIDType=1,i.SetArgumentTypes(s),i.SetResultType(n.CharToResultType(t)),i.FOnGetValue=o,i},this.AddFunction$1=function(e,t,s,o){var i=null,i=rtl.as(this.Add(),u);return i.SetName(e),i.FIDType=2,i.SetArgumentTypes(s),i.SetResultType(n.CharToResultType(t)),i.FNodeType=o,i}}),rtl.createClass(this,"TFPExprIdentifierNode",i,function(){b=this,this.$init=function(){i.$init.call(this),this.FID=null,this.PResult=null,this.FResultType=0},this.$final=function(){this.FID=void 0,i.$final.call(this)},this.CreateIdentifier=function(e){return m.Create.call(this),this.FID=e,this.PResult=this.FID.FValue,this.FResultType=this.FID.GetResultType(),this},this.NodeType=function(){var e=0,e=this.FResultType;return e},this.GetNodeValue=function(){var e=t.$new();return this.FID.EventBasedVariable()&&(this.FID.FetchValue(),this.PResult=this.FID.FValue),e.$assign(this.PResult),e.ResultType=this.FResultType,e}}),rtl.createClass(this,"TFPExprVariable",b,function(){X=this,this.Check=function(){},this.AsString=function(){var e="",e=this.FID.FName;return e}}),rtl.createClass(this,"TFPExprFunction",b,function(){p=this,this.$init=function(){b.$init.call(this),this.FArgumentNodes=[],this.FargumentParams=[]},this.$final=function(){this.FArgumentNodes=void 0,this.FargumentParams=void 0,b.$final.call(this)},this.CalcParams=function(){e=0;for(var e,t=0,n=rtl.length(this.FargumentParams)-1;t<=n;t++)e=t,this.FargumentParams[e].$assign(this.FArgumentNodes[e].GetNodeValue())},this.ConvertArgument=function(t,s,i){var r=null,a=null,a=ie.ConvertNode(s,i);return s===a&&e.RaiseParserError$1(rtl.getResStr(n,"SErrInvalidArgumentType"),o(0,t,18,n.ResultTypeName(i),18,n.ResultTypeName(s.NodeType()))),r=a,r},this.Check=function(){t=0,s=0,i=0,rtl.length(this.FArgumentNodes)!==this.FID.ArgumentCount()&&e.RaiseParserError$1(rtl.getResStr(n,"ErrInvalidArgumentCount"),o(18,this.FID.FName));for(var t,s,i,a=0,r=rtl.length(this.FArgumentNodes)-1;a<=r;a++)t=a,s=n.CharToResultType(this.FID.FArgumentTypes.charAt(t+1-1)),i=this.FArgumentNodes[t].NodeType(),s!==i&&(this.FArgumentNodes[t]=this.ConvertArgument(t+1,this.FArgumentNodes[t],s))},this.CreateFunction=function(e,n){return b.CreateIdentifier.call(this,e),this.FArgumentNodes=rtl.arrayRef(n),this.FargumentParams=rtl.arraySetLength(this.FargumentParams,t,rtl.length(n)),this},this.Destroy=function(){e=0;for(var e,t=0,n=rtl.length(this.FArgumentNodes)-1;t<=n;t++)e=t,r({a:e,p:this.FArgumentNodes,get:function(){return this.p[this.a]},set:function(e){this.p[this.a]=e}});m.Destroy.call(this)},this.AsString=function(){t="",e="",n=0,e="";for(var e,t,n,s=0,o=rtl.length(this.FArgumentNodes)-1;s<=o;s++)n=s,e!==""&&(e=e+","),e=e+this.FArgumentNodes[n].AsString();return e!==""&&(e="("+e+")"),t=this.FID.FName+e,t}}),rtl.createClass(this,"TAggregateExpr",p,function(){j=this,this.$init=function(){p.$init.call(this),this.FResult=t.$new()},this.$final=function(){this.FResult=void 0,p.$final.call(this)},this.GetNodeValue=function(){var e=t.$new();return e.$assign(this.FResult),e}}),rtl.createClass(this,"TAggregateMin",j,function(){J=this}),rtl.createClass(this,"TAggregateMax",j,function(){ee=this}),rtl.createClass(this,"TAggregateSum",j,function(){S=this,this.ConvertArgument=function(t,s,i){var a=null;return s.NodeType()in rtl.createSet(2,1,5)||e.RaiseParserError$1(rtl.getResStr(n,"SErrInvalidArgumentType"),o(0,t,18,n.ResultTypeName(i),18,n.ResultTypeName(s.NodeType()))),a=s,a}}),rtl.createClass(this,"TAggregateAvg",S,function(){ne=this,this.$init=function(){S.$init.call(this),this.FCount=0},this.GetNodeValue=function(){var n,s,e=t.$new();return e.$assign(j.GetNodeValue.call(this)),e.ResultType=this.FResult.ResultType,this.FCount===0?(n=this.FResult.ResultType,n===1?(e.ResultType=2,e.resValue=0):n===2?e.resValue=0:n===5&&(e.resValue=0)):(s=this.FResult.ResultType,s===1?(e.ResultType=2,e.resValue=rtl.trunc(this.FResult.resValue)/this.FCount):s===2?e.resValue=rtl.getNumber(this.FResult.resValue)/this.FCount:s===5&&(e.resValue=rtl.trunc(rtl.trunc(this.FResult.resValue*1e4)/this.FCount)/1e4)),e}}),rtl.createClass(this,"TAggregateCount",j,function(){se=this}),rtl.createClass(this,"TFPFunctionEventHandler",p,function(){oe=this,this.$init=function(){p.$init.call(this),this.FCallBack=null},this.$final=function(){this.FCallBack=void 0,p.$final.call(this)},this.CreateFunction=function(e){return p.CreateFunction.apply(this,arguments),this.FCallBack=e.FOnGetValue,this},this.GetNodeValue=function(){var e=t.$new();return rtl.length(this.FargumentParams)>0&&this.CalcParams(),e.$assign(this.FCallBack(this.FargumentParams)),e.ResultType=this.NodeType(),e}}),rtl.createClass(this,"TFPExpressionParser",h,function(){ie=this,this.$init=function(){h.$init.call(this),this.FBuiltIns={},this.FExpression="",this.FScanner=null,this.FExprNode=null,this.FIdentifiers=null,this.FHashList=null,this.FDirty=!1},this.$final=function(){this.FBuiltIns=void 0,this.FScanner=void 0,this.FExprNode=void 0,this.FIdentifiers=void 0,this.FHashList=void 0,h.$final.call(this)},this.CheckEOF=function(){this.TokenType()===26&&this.ParserError(rtl.getResStr(n,"SErrUnexpectedEndOfExpression"))},this.GetAsBoolean=function(){var n=!1,e=t.$new();return this.EvaluateExpression(e),this.CheckResultType(e,0),n=e.resValue!=!1,n},this.MatchNodes=function(e,t){var o,s=null,i=0,n=0,s=e,i=e.NodeType(),n=t.NodeType();return i!==n&&(o=i,o===1?n in rtl.createSet(2,5,3)&&(s=this.$class.ConvertNode(e,n)):o===2?n in rtl.createSet(5,3)&&(s=this.$class.ConvertNode(e,n)):o===5&&n in rtl.createSet(2,3)&&(s=this.$class.ConvertNode(e,n))),s},this.CheckNodes=function(e,t){e.set(this.MatchNodes(e.get(),t.get())),t.set(this.MatchNodes(t.get(),e.get()))},this.SetBuiltIns=function(e){if(rtl.eqSet(this.FBuiltIns,e))return;this.FBuiltIns=rtl.refSet(e),this.FDirty=!0},this.SetIdentifiers=function(e){this.FIdentifiers.Assign(e)},this.ParserError=function(e){throw _.$create("Create$1",[e])},this.SetExpression=function(e){if(this.FExpression===e)return;this.FExpression=e,this.FScanner.SetSource(e),this.FExprNode!=null&&r({p:this,get:function(){return this.p.FExprNode},set:function(e){this.p.FExprNode=e}}),this.FExpression!==""?(this.GetToken(),this.FExprNode=this.Level1(),this.TokenType()!==26&&this.ParserError(a(rtl.getResStr(n,"SErrUnterminatedExpression"),o(0,this.FScanner.FPos,18,this.CurrentToken()))),this.FExprNode.Check()):this.FExprNode=null},this.CheckResultType=function(t,s){t.ResultType!==s&&e.RaiseParserError$1(rtl.getResStr(n,"SErrInvalidResultType"),o(18,n.ResultTypeName(t.ResultType)))},this.ConvertNode=function(e,t){var s,i,a,n=null,n=e,o=e.NodeType();return o===1?(s=t,s===2?n=re.$create("Create$1",[n]):s===5?n=te.$create("Create$1",[n]):s===3&&(n=Z.$create("Create$1",[n]))):o===2?(i=t,i===5?n=Y.$create("Create$1",[n]):i===3&&(n=G.$create("Create$1",[n]))):o===5&&(a=t,a===2?n=Se.$create("Create$1",[n]):a===3&&(n=q.$create("Create$1",[n]))),n},this.BuiltinsManager=function(){var e=null,e=n.BuiltinIdentifiers();return e},this.Level1=function(){var s,e=null,o=0,t=null;this.TokenType()===22?(this.GetToken(),this.CheckEOF(),t=this.Level2(),e=le.$create("Create$1",[t])):e=this.Level2();try{for(;this.TokenType()in rtl.createSet(17,18,19);)o=this.TokenType(),this.GetToken(),this.CheckEOF(),t=this.Level2(),s=o,s===18?e=Q.$create("Create$1",[e,t]):s===17?e=ce.$create("Create$1",[e,t]):s===19?e=U.$create("Create$1",[e,t]):this.ParserError(rtl.getResStr(n,"SErrUnknownBooleanOp"))}catch(t){throw e=rtl.freeLoc(e),t}return e},this.Level2=function(){var s,e=null,o=null,i=0,t=null,e=this.Level3();try{this.TokenType()in n.ttComparisons&&(i=this.TokenType(),this.GetToken(),this.CheckEOF(),o=this.Level3(),this.CheckNodes({get:function(){return e},set:function(t){e=t}},{get:function(){return o},set:function(e){o=e}}),s=i,s===2?t=x:s===10?t=de:s===3?t=k:s===11?t=ve:s===4?t=F:s===12?t=we:this.ParserError(rtl.getResStr(n,"SErrUnknownComparison")),e=t.$create("Create$1",[e,o]))}catch(t){throw e=rtl.freeLoc(e),t}return e},this.Level3=function(){var n,e=null,s=0,t=null,e=this.Level4();try{for(;this.TokenType()in rtl.createSet(0,1);)s=this.TokenType(),this.GetToken(),this.CheckEOF(),t=this.Level4(),this.CheckNodes({get:function(){return e},set:function(t){e=t}},{get:function(){return t},set:function(e){t=e}}),n=s,n===0?e=_e.$create("Create$1",[e,t]):n===1&&(e=ye.$create("Create$1",[e,t]))}catch(t){throw e=rtl.freeLoc(e),t}return e},this.Level4=function(){var n,e=null,s=0,t=null,e=this.Level5();try{for(;this.TokenType()in rtl.createSet(7,5,6);)s=this.TokenType(),this.GetToken(),t=this.Level5(),this.CheckNodes({get:function(){return e},set:function(t){e=t}},{get:function(){return t},set:function(e){t=e}}),n=s,n===7?e=je.$create("Create$1",[e,t]):n===5?e=ge.$create("Create$1",[e,t]):n===6&&(e=fe.$create("Create$1",[e,t]))}catch(t){throw e=rtl.freeLoc(e),t}return e},this.Level5=function(){var e=null,t=!1,t=!1;return this.TokenType()in rtl.createSet(0,1)&&(t=this.TokenType()===1,this.GetToken()),e=this.Level6(),t&&(e=V.$create("Create$1",[e])),e},this.Level6=function(){var e=null,t=null,e=this.Level7();try{for(;this.TokenType()===25;)this.GetToken(),t=this.Level5(),this.CheckNodes({get:function(){return e},set:function(t){e=t}},{get:function(){return t},set:function(e){t=e}}),e=me.$create("Create$1",[e,t])}catch(t){throw e=rtl.freeLoc(e),t}return e},this.Level7=function(){var e=null;if(this.TokenType()===8){this.GetToken(),e=this.Level1();try{this.TokenType()!==9&&this.ParserError(a(rtl.getResStr(n,"SErrBracketExpected"),o(0,this.FScanner.FPos,18,this.CurrentToken()))),this.GetToken()}catch(t){throw e=rtl.freeLoc(e),t}}else e=this.Primitive();return e},this.Primitive=function(){var u,p,s=null,h=0,m=0,f=0,i=0,l=!1,d=!1,c=null,e=[],t=0,e=rtl.arraySetLength(e,null,0);if(this.TokenType()===13)Ne(this.CurrentToken(),{get:function(){return h},set:function(e){h=e}})?s=v.$create("CreateInteger",[h]):(pe(this.CurrentToken(),{get:function(){return f},set:function(e){f=e}},{get:function(){return m},set:function(e){m=e}}),m===0?s=v.$create("CreateFloat",[f]):this.ParserError(a(rtl.getResStr(n,"SErrInvalidFloat"),o(18,this.CurrentToken()))));else if(this.TokenType()===14)s=v.$create("CreateString",[this.CurrentToken()]);else if(this.TokenType()in rtl.createSet(20,21))s=v.$create("CreateBoolean",[this.TokenType()===20]);else if(this.TokenType()in rtl.createSet(15,23,24)){if(l=this.TokenType()===23,d=this.TokenType()===24,l||d||(c=this.IdentifierByName(this.CurrentToken()),c===null&&this.ParserError(a(rtl.getResStr(n,"SErrUnknownIdentifier"),o(18,this.CurrentToken())))),l?i=3:d?i=-4:c.FIDType in rtl.createSet(1,2)?i=c.ArgumentCount():i=0,i!==0){this.GetToken(),this.TokenType()!==8&&this.ParserError(a(rtl.getResStr(n,"SErrLeftBracketExpected"),o(0,this.FScanner.FPos,18,this.CurrentToken()))),e=rtl.arraySetLength(e,null,Math.abs(i)),t=0;try{do this.GetToken(),i<0&&t===rtl.length(e)&&(e=rtl.arraySetLength(e,null,t+1),e[t]=null),e[t]=this.Level1(),t+=1,this.TokenType()!==16&&t<Math.abs(i)&&this.ParserError(a(rtl.getResStr(n,"SErrCommaExpected"),o(0,this.FScanner.FPos,18,this.CurrentToken())));while(!(t===i||i<0&&this.TokenType()===9))this.TokenType()!==9&&this.ParserError(a(rtl.getResStr(n,"SErrBracketExpected"),o(0,this.FScanner.FPos,18,this.CurrentToken())))}catch(n){if(R.isPrototypeOf(n)){for(p=n,t-=1;t>=0;)r({a:t,p:e,get:function(){return this.p[this.a]},set:function(e){this.p[this.a]=e}}),t-=1;throw n}throw n}}l?s=ke.$create("Create$2",[e[0],e[1],e[2]]):d?s=Me.$create("Create$1",[rtl.arrayRef(e)]):(u=c.FIDType,u===0?s=X.$create("CreateIdentifier",[c]):u===1?s=oe.$create("CreateFunction",[c,e]):u===2&&(s=c.FNodeType.$create("CreateFunction",[c,e])))}else this.ParserError(a(rtl.getResStr(n,"SerrUnknownTokenAtPos"),o(0,this.FScanner.FPos,18,this.CurrentToken())));return this.GetToken(),s},this.GetToken=function(){var e=0,e=this.FScanner.GetToken();return e},this.TokenType=function(){var e=0,e=this.FScanner.FTokenType;return e},this.CurrentToken=function(){var e="",e=this.FScanner.FToken;return e},this.CreateHashList=function(){if(s=null,e=null,t=0,n=null,this.FHashList.Clear(),n=this.$class.BuiltinsManager(),rtl.neSet(this.FBuiltIns,{})&&n!=null)for(var e,t,n,s,o,a,i=0,r=n.GetCount()-1;i<=r;i++)t=i,e=n.GetI(t),e.FCategory in this.FBuiltIns&&this.FHashList.Add(y(e.FName),e);for(o=0,a=this.FIdentifiers.GetCount()-1;o<=a;o++)t=o,s=this.FIdentifiers.GetI(t),this.FHashList.Add(y(s.FName),s);this.FDirty=!1},this.Create$1=function(e){return h.Create$1.call(this,e),this.FIdentifiers=H.$create("Create$1",[u]),this.FIdentifiers.FParser=this,this.FScanner=he.$create("Create$1"),this.FHashList=Re.$create("Create$2",[!1]),this},this.Destroy=function(){r({p:this,get:function(){return this.p.FHashList},set:function(e){this.p.FHashList=e}}),r({p:this,get:function(){return this.p.FExprNode},set:function(e){this.p.FExprNode=e}}),r({p:this,get:function(){return this.p.FIdentifiers},set:function(e){this.p.FIdentifiers=e}}),r({p:this,get:function(){return this.p.FScanner},set:function(e){this.p.FScanner=e}}),h.Destroy.call(this)},this.IdentifierByName=function(e){var t=null;return this.FDirty&&this.CreateHashList(),t=this.FHashList.GetData(y(e)),t},this.EvaluateExpression=function(e){e.$assign(this.Evaluate$1())},this.Evaluate$1=function(){var e=t.$new();return this.FExpression===""&&this.ParserError(rtl.getResStr(n,"SErrInExpressionEmpty")),this.FExprNode!=null||this.ParserError(rtl.getResStr(n,"SErrInExpression")),e.$assign(this.FExprNode.GetNodeValue()),e};var s=this.$rtti;s.addProperty("Expression",2,rtl.string,"FExpression","SetExpression"),s.addProperty("Identifiers",2,n.$rtti.TFPExprIdentifierDefs,"FIdentifiers","SetIdentifiers"),s.addProperty("BuiltIns",2,n.$rtti.TBuiltInCategories,"FBuiltIns","SetBuiltIns")}),rtl.createClass(this,"TExprBuiltInManager",h,function(){ae=this,this.$init=function(){h.$init.call(this),this.FDefs=null},this.$final=function(){this.FDefs=void 0,h.$final.call(this)},this.GetCount=function(){var e=0,e=this.FDefs.GetCount();return e},this.GetI=function(e){var t=null,t=this.FDefs.GetI(e);return t},this.Create$1=function(e){return h.Create$1.call(this,e),this.FDefs=H.$create("Create$1",[E]),this},this.Destroy=function(){r({p:this,get:function(){return this.p.FDefs},set:function(e){this.p.FDefs=e}}),h.Destroy.call(this)},this.AddFloatVariable=function(e,t,n){var s=null,s=this.FDefs.AddFloatVariable(t,n);return s.FCategory=e,s},this.AddFunction=function(e,t,n,s,o){var i=null,i=this.FDefs.AddFunction(t,n,s,o);return i.FCategory=e,i},this.AddFunction$1=function(e,t,n,s,o){var i=null,i=this.FDefs.AddFunction$1(t,n,s,o);return i.FCategory=e,i}}),rtl.createClass(this,"EExprParser",R,function(){_=this}),this.AllBuiltIns=rtl.createSet(0,1,2,3,4,5,6,7,8),this.ResultTypeName=function(e){var t="",t=w(n.$rtti.TResultType,e);return t},this.CharToResultType=function(t){var s=0,i=L(t);return i==="S"?s=4:i==="D"?s=3:i==="B"?s=0:i==="I"?s=1:i==="F"?s=2:i==="C"?s=5:e.RaiseParserError$1(rtl.getResStr(n,"SErrInvalidResultCharacter"),o(9,t)),s},this.BuiltinIdentifiers=function(){var t=null;return e.BuiltIns===null&&(e.BuiltIns=ae.$create("Create$1",[null])),t=e.BuiltIns,t},this.RegisterStdBuiltins=function(t,n){2 in n&&(t.AddFloatVariable(2,"pi",Math.PI),t.AddFunction(2,"cos","F","F",e.BuiltInCos),t.AddFunction(2,"sin","F","F",e.BuiltInSin),t.AddFunction(2,"abs","F","F",e.BuiltInAbs),t.AddFunction(2,"sqr","F","F",e.BuiltInSqr),t.AddFunction(2,"sqrt","F","F",e.BuiltInSqrt),t.AddFunction(2,"exp","F","F",e.BuiltInExp),t.AddFunction(2,"ln","F","F",e.BuiltInLn),t.AddFunction(2,"log","F","F",e.BuiltInLog),t.AddFunction(2,"frac","F","F",e.BuiltInFrac),t.AddFunction(2,"int","F","F",e.BuiltInInt),t.AddFunction(2,"round","I","F",e.BuiltInRound),t.AddFunction(2,"trunc","I","F",e.BuiltInTrunc)),0 in n&&(t.AddFunction(0,"length","I","S",e.BuiltInLength),t.AddFunction(0,"copy","S","SII",e.BuiltInCopy),t.AddFunction(0,"delete","S","SII",e.BuiltInDelete),t.AddFunction(0,"pos","I","SS",e.BuiltInPos),t.AddFunction(0,"lowercase","S","S",e.BuiltInLowercase),t.AddFunction(0,"uppercase","S","S",e.BuiltInUppercase),t.AddFunction(0,"stringreplace","S","SSSBB",e.BuiltInStringReplace),t.AddFunction(0,"comparetext","I","SS",e.BuiltInCompareText)),1 in n&&(t.AddFunction(1,"date","D","",e.BuiltInDate),t.AddFunction(1,"time","D","",e.BuiltInTime),t.AddFunction(1,"now","D","",e.BuiltInNow),t.AddFunction(1,"dayofweek","I","D",e.BuiltInDayofWeek),t.AddFunction(1,"extractyear","I","D",e.BuiltInExtractYear),t.AddFunction(1,"extractmonth","I","D",e.BuiltInExtractMonth),t.AddFunction(1,"extractday","I","D",e.BuiltInExtractDay),t.AddFunction(1,"extracthour","I","D",e.BuiltInExtractHour),t.AddFunction(1,"extractmin","I","D",e.BuiltInExtractMin),t.AddFunction(1,"extractsec","I","D",e.BuiltInExtractSec),t.AddFunction(1,"extractmsec","I","D",e.BuiltInExtractMSec),t.AddFunction(1,"encodedate","D","III",e.BuiltInEncodedate),t.AddFunction(1,"encodetime","D","IIII",e.BuiltInEncodeTime),t.AddFunction(1,"encodedatetime","D","IIIIIII",e.BuiltInEncodeDateTime),t.AddFunction(1,"shortdayname","S","I",e.BuiltInShortDayName),t.AddFunction(1,"shortmonthname","S","I",e.BuiltInShortMonthName),t.AddFunction(1,"longdayname","S","I",e.BuiltInLongDayName),t.AddFunction(1,"longmonthname","S","I",e.BuiltInLongMonthName)),3 in n&&(t.AddFunction(3,"shl","I","II",e.BuiltInShl),t.AddFunction(3,"shr","I","II",e.BuiltInShr),t.AddFunction(3,"IFS","S","BSS",e.BuiltinIFS),t.AddFunction(3,"IFF","F","BFF",e.BuiltinIFF),t.AddFunction(3,"IFD","D","BDD",e.BuiltinIFD),t.AddFunction(3,"IFI","I","BII",e.BuiltinIFI)),4 in n&&(t.AddFunction(4,"inttostr","S","I",e.BuiltInIntToStr),t.AddFunction(4,"strtoint","I","S",e.BuiltInStrToInt),t.AddFunction(4,"strtointdef","I","SI",e.BuiltInStrToIntDef),t.AddFunction(4,"floattostr","S","F",e.BuiltInFloatToStr),t.AddFunction(4,"strtofloat","F","S",e.BuiltInStrToFloat),t.AddFunction(4,"strtofloatdef","F","SF",e.BuiltInStrToFloatDef),t.AddFunction(4,"booltostr","S","B",e.BuiltInBoolToStr),t.AddFunction(4,"strtobool","B","S",e.BuiltInStrToBool),t.AddFunction(4,"strtobooldef","B","SB",e.BuiltInStrToBoolDef),t.AddFunction(4,"datetostr","S","D",e.BuiltInDateToStr),t.AddFunction(4,"timetostr","S","D",e.BuiltInTimeToStr),t.AddFunction(4,"strtodate","D","S",e.BuiltInStrToDate),t.AddFunction(4,"strtodatedef","D","SD",e.BuiltInStrToDateDef),t.AddFunction(4,"strtotime","D","S",e.BuiltInStrToTime),t.AddFunction(4,"strtotimedef","D","SD",e.BuiltInStrToTimeDef),t.AddFunction(4,"strtodatetime","D","S",e.BuiltInStrToDateTime),t.AddFunction(4,"strtodatetimedef","D","SD",e.BuiltInStrToDateTimeDef),t.AddFunction(4,"formatfloat","S","SF",e.BuiltInFormatFloat),t.AddFunction(4,"formatdatetime","S","SD",e.BuiltInFormatDateTime)),8 in n&&(t.AddFunction$1(8,"count","I","",se),t.AddFunction$1(8,"sum","F","F",S),t.AddFunction$1(8,"avg","F","F",ne),t.AddFunction$1(8,"min","F","F",J),t.AddFunction$1(8,"max","F","F",ee))},this.ArgToFloat=function(e){var t=0;return e.ResultType===1?t=rtl.trunc(e.resValue):e.ResultType===5?t=rtl.trunc(e.resValue*1e4)/1e4:t=rtl.getNumber(e.resValue),t},n.$implcode=function(){$=pas.TypInfo,w=$.GetEnumName,e.cNull="\0",e.cSingleQuote="'",e.cHexIdentifier="$",e.cOctalIdentifier="&",e.cBinaryIdentifier="%",e.Digits=rtl.createSet(null,48,57,46),e.HexDigits=rtl.createSet(null,48,57,null,65,70,null,97,102),e.OctalDigits=rtl.createSet(null,48,55),e.BinaryDigits=rtl.createSet(48,49),e.WhiteSpace=rtl.createSet(32,13,10,9),e.Operators=rtl.createSet(43,45,60,62,61,47,42,94),e.Delimiters=rtl.unionSet(e.Operators,rtl.createSet(44,40,41)),e.Symbols=rtl.unionSet(rtl.createSet(37),e.Delimiters),e.WordDelimiters=rtl.unionSet(e.WhiteSpace,e.Symbols),e.FileFormatSettings=Pe.$new(),e.RaiseParserError=function(e){throw _.$create("Create$1",[e])},e.RaiseParserError$1=function(e,t){throw _.$create("CreateFmt",[e,t])},e.BuiltIns=null,e.power=function(e,t){var n=0,s=0;return t===0?n=1:e===0&&t>0?n=0:e<0&&be(t)===0?(s=Math.round(t),n=Math.exp(t*Math.log(-e)),Ie(s)&&(n=-n)):n=Math.exp(t*Math.log(e)),n},e.BuiltInCos=function(e){var s=t.$new();return s.ResultType=2,s.resValue=Math.cos(n.ArgToFloat(t.$clone(e[0]))),s},e.BuiltInSin=function(e){var s=t.$new();return s.ResultType=2,s.resValue=Math.sin(n.ArgToFloat(t.$clone(e[0]))),s},e.BuiltInAbs=function(e){var s=t.$new();return s.ResultType=2,s.resValue=Math.abs(n.ArgToFloat(t.$clone(e[0]))),s},e.BuiltInSqr=function(e){var s=t.$new();return s.ResultType=2,s.resValue=Be(n.ArgToFloat(t.$clone(e[0]))),s},e.BuiltInSqrt=function(e){var s=t.$new();return s.ResultType=2,s.resValue=Math.sqrt(n.ArgToFloat(t.$clone(e[0]))),s},e.BuiltInExp=function(e){var s=t.$new();return s.ResultType=2,s.resValue=Math.exp(n.ArgToFloat(t.$clone(e[0]))),s},e.BuiltInLn=function(e){var s=t.$new();return s.ResultType=2,s.resValue=Math.log(n.ArgToFloat(t.$clone(e[0]))),s},e.L10=0,e.BuiltInLog=function(s){var o=t.$new();return o.ResultType=2,o.resValue=Math.log(n.ArgToFloat(t.$clone(s[0])))/e.L10,o},e.BuiltInRound=function(e){var s=t.$new();return s.ResultType=1,s.resValue=Math.round(n.ArgToFloat(t.$clone(e[0]))),s},e.BuiltInTrunc=function(e){var s=t.$new();return s.ResultType=1,s.resValue=Ve(n.ArgToFloat(t.$clone(e[0]))),s},e.BuiltInInt=function(e){var s=t.$new();return s.ResultType=1,s.resValue=$e(n.ArgToFloat(t.$clone(e[0]))),s},e.BuiltInFrac=function(e){var s=t.$new();return s.ResultType=2,s.resValue=be(n.ArgToFloat(t.$clone(e[0]))),s},e.BuiltInLength=function(e){var n=t.$new();return n.ResultType=1,n.resValue=(""+e[0].resValue).length,n},e.BuiltInCopy=function(e){var n=t.$new();return n.ResultType=4,n.resValue=Qe(""+e[0].resValue,rtl.trunc(e[1].resValue),rtl.trunc(e[2].resValue)),n},e.BuiltInDelete=function(e){var s=t.$new(),n="";return s.ResultType=4,n=""+e[0].resValue,Ue({get:function(){return n},set:function(e){n=e}},rtl.trunc(e[1].resValue),rtl.trunc(e[2].resValue)),s.resValue=n,s},e.BuiltInPos=function(e){var n=t.$new();return n.ResultType=1,n.resValue=Ke(""+e[0].resValue,""+e[1].resValue),n},e.BuiltInUppercase=function(e){var n=t.$new();return n.ResultType=4,n.resValue=qe(""+e[0].resValue),n},e.BuiltInLowercase=function(e){var n=t.$new();return n.ResultType=4,n.resValue=y(""+e[0].resValue),n},e.BuiltInStringReplace=function(e){var s=t.$new(),n={};return s.ResultType=4,n={},e[3].resValue==!1||(n=rtl.includeSet(n,0)),e[4].resValue==!1||(n=rtl.includeSet(n,1)),s.resValue=Ye(""+e[0].resValue,""+e[1].resValue,""+e[2].resValue,rtl.refSet(n)),s},e.BuiltInCompareText=function(e){var n=t.$new();return n.ResultType=1,n.resValue=xe(""+e[0].resValue,""+e[1].resValue),n},e.BuiltInDate=function(e){var n=t.$new();return rtl.length(e)===0,n.ResultType=3,n.resValue=Fe(),n},e.BuiltInTime=function(e){var n=t.$new();return rtl.length(e)===0,n.ResultType=3,n.resValue=dt(),n},e.BuiltInNow=function(e){var n=t.$new();return rtl.length(e)===0,n.ResultType=3,n.resValue=We(),n},e.BuiltInDayofWeek=function(e){var n=t.$new();return n.ResultType=1,n.resValue=Ze(rtl.getNumber(e[0].resValue)),n},e.BuiltInExtractYear=function(e){var n=t.$new(),s=0,o=0,i=0;return n.ResultType=1,N(rtl.getNumber(e[0].resValue),{get:function(){return s},set:function(e){s=e}},{get:function(){return o},set:function(e){o=e}},{get:function(){return i},set:function(e){i=e}}),n.resValue=s,n},e.BuiltInExtractMonth=function(e){var n=t.$new(),o=0,s=0,i=0;return n.ResultType=1,N(rtl.getNumber(e[0].resValue),{get:function(){return o},set:function(e){o=e}},{get:function(){return s},set:function(e){s=e}},{get:function(){return i},set:function(e){i=e}}),n.resValue=s,n},e.BuiltInExtractDay=function(e){var n=t.$new(),o=0,i=0,s=0;return n.ResultType=1,N(rtl.getNumber(e[0].resValue),{get:function(){return o},set:function(e){o=e}},{get:function(){return i},set:function(e){i=e}},{get:function(){return s},set:function(e){s=e}}),n.resValue=s,n},e.BuiltInExtractHour=function(e){var n=t.$new(),s=0,o=0,i=0,a=0;return n.ResultType=1,A(rtl.getNumber(e[0].resValue),{get:function(){return s},set:function(e){s=e}},{get:function(){return o},set:function(e){o=e}},{get:function(){return i},set:function(e){i=e}},{get:function(){return a},set:function(e){a=e}}),n.resValue=s,n},e.BuiltInExtractMin=function(e){var n=t.$new(),o=0,s=0,i=0,a=0;return n.ResultType=1,A(rtl.getNumber(e[0].resValue),{get:function(){return o},set:function(e){o=e}},{get:function(){return s},set:function(e){s=e}},{get:function(){return i},set:function(e){i=e}},{get:function(){return a},set:function(e){a=e}}),n.resValue=s,n},e.BuiltInExtractSec=function(e){var n=t.$new(),o=0,i=0,s=0,a=0;return n.ResultType=1,A(rtl.getNumber(e[0].resValue),{get:function(){return o},set:function(e){o=e}},{get:function(){return i},set:function(e){i=e}},{get:function(){return s},set:function(e){s=e}},{get:function(){return a},set:function(e){a=e}}),n.resValue=s,n},e.BuiltInExtractMSec=function(e){var n=t.$new(),o=0,i=0,a=0,s=0;return n.ResultType=1,A(rtl.getNumber(e[0].resValue),{get:function(){return o},set:function(e){o=e}},{get:function(){return i},set:function(e){i=e}},{get:function(){return a},set:function(e){a=e}},{get:function(){return s},set:function(e){s=e}}),n.resValue=s,n},e.BuiltInEncodedate=function(e){var n=t.$new();return n.ResultType=3,n.resValue=K(rtl.trunc(e[0].resValue),rtl.trunc(e[1].resValue),rtl.trunc(e[2].resValue)),n},e.BuiltInEncodeTime=function(e){var n=t.$new();return n.ResultType=3,n.resValue=W(rtl.trunc(e[0].resValue),rtl.trunc(e[1].resValue),rtl.trunc(e[2].resValue),rtl.trunc(e[3].resValue)),n},e.BuiltInEncodeDateTime=function(e){var n=t.$new();return n.ResultType=3,n.resValue=K(rtl.trunc(e[0].resValue),rtl.trunc(e[1].resValue),rtl.trunc(e[2].resValue))+W(rtl.trunc(e[3].resValue),rtl.trunc(e[4].resValue),rtl.trunc(e[5].resValue),rtl.trunc(e[6].resValue)),n},e.BuiltInShortDayName=function(e){var n=t.$new();return n.ResultType=4,n.resValue=s.FormatSettings.ShortDayNames[rtl.trunc(e[0].resValue)],n},e.BuiltInShortMonthName=function(e){var n=t.$new();return n.ResultType=4,n.resValue=s.FormatSettings.ShortMonthNames[rtl.trunc(e[0].resValue)-1],n},e.BuiltInLongDayName=function(e){var n=t.$new();return n.resValue=s.FormatSettings.LongDayNames[rtl.trunc(e[0].resValue)],n},e.BuiltInLongMonthName=function(e){var n=t.$new();return n.ResultType=4,n.resValue=s.FormatSettings.LongMonthNames[rtl.trunc(e[0].resValue)-1],n},e.BuiltInFormatDateTime=function(e){var n=t.$new();return n.ResultType=4,n.resValue=I(""+e[0].resValue,rtl.getNumber(e[1].resValue)),n},e.BuiltInIntToStr=function(e){var n=t.$new();return n.ResultType=4,n.resValue=D(rtl.trunc(e[0].resValue)),n},e.BuiltInStrToInt=function(e){var n=t.$new();return n.ResultType=1,n.resValue=Ce(""+e[0].resValue),n},e.BuiltInStrToIntDef=function(e){var n=t.$new();return n.ResultType=1,n.resValue=st(""+e[0].resValue,rtl.trunc(e[1].resValue)),n},e.BuiltInFloatToStr=function(e){var n=t.$new();return n.ResultType=4,n.resValue=Oe(rtl.getNumber(e[0].resValue)),n},e.BuiltInStrToFloat=function(e){var n=t.$new();return n.ResultType=2,n.resValue=Ee(""+e[0].resValue),n},e.BuiltInStrToFloatDef=function(e){var n=t.$new();return n.ResultType=2,n.resValue=ot(""+e[0].resValue,rtl.getNumber(e[1].resValue)),n},e.BuiltInDateToStr=function(e){var n=t.$new();return n.ResultType=4,n.resValue=it(rtl.getNumber(e[0].resValue)),n},e.BuiltInTimeToStr=function(e){var n=t.$new();return n.ResultType=4,n.resValue=at(rtl.getNumber(e[0].resValue)),n},e.BuiltInStrToDate=function(e){var n=t.$new();return n.ResultType=3,n.resValue=rt(""+e[0].resValue),n},e.BuiltInStrToDateDef=function(e){var n=t.$new();return n.ResultType=3,n.resValue=ct(""+e[0].resValue,rtl.getNumber(e[1].resValue)),n},e.BuiltInStrToTime=function(e){var n=t.$new();return n.ResultType=3,n.resValue=lt(""+e[0].resValue),n},e.BuiltInStrToTimeDef=function(e){var n=t.$new();return n.ResultType=3,n.resValue=Te(""+e[0].resValue,rtl.getNumber(e[1].resValue)),n},e.BuiltInStrToDateTime=function(e){var n=t.$new();return n.ResultType=3,n.resValue=Ae(""+e[0].resValue),n},e.BuiltInStrToDateTimeDef=function(e){var n=t.$new();return n.ResultType=3,n.resValue=ut(""+e[0].resValue,rtl.getNumber(e[1].resValue)),n},e.BuiltInFormatFloat=function(e){var n=t.$new();return n.ResultType=4,n.resValue=ht(""+e[0].resValue,rtl.getNumber(e[1].resValue)),n},e.BuiltInBoolToStr=function(e){var n=t.$new();return n.ResultType=4,n.resValue=mt(e[0].resValue!=!1,!1),n},e.BuiltInStrToBool=function(e){var n=t.$new();return n.ResultType=0,n.resValue=Ge(""+e[0].resValue),n},e.BuiltInStrToBoolDef=function(e){var n=t.$new();return n.resValue=pt(""+e[0].resValue,e[1].resValue!=!1),n.ResultType=0,n},e.BuiltInShl=function(e){var n=t.$new();return n.ResultType=1,n.resValue=rtl.shl(rtl.trunc(e[0].resValue),rtl.trunc(e[1].resValue)),n},e.BuiltInShr=function(e){var n=t.$new();return n.ResultType=1,n.resValue=rtl.shr(rtl.trunc(e[0].resValue),rtl.trunc(e[1].resValue)),n},e.BuiltinIFS=function(e){var n=t.$new();return n.ResultType=4,e[0].resValue==!1?n.resValue=e[2].resValue:n.resValue=e[1].resValue,n},e.BuiltinIFI=function(e){var n=t.$new();return n.ResultType=1,e[0].resValue==!1?n.resValue=e[2].resValue:n.resValue=e[1].resValue,n},e.BuiltinIFF=function(e){var n=t.$new();return n.ResultType=2,e[0].resValue==!1?n.resValue=e[2].resValue:n.resValue=e[1].resValue,n},e.BuiltinIFD=function(e){var n=t.$new();return n.ResultType=3,e[0].resValue==!1?n.resValue=e[2].resValue:n.resValue=e[1].resValue,n},e.InitFileFormatSettings=function(){e.FileFormatSettings.$assign(s.FormatSettings),e.FileFormatSettings.DecimalSeparator=".",e.FileFormatSettings.DateSeparator="-",e.FileFormatSettings.TimeSeparator=":",e.FileFormatSettings.ShortDateFormat="yyyy-mm-dd",e.FileFormatSettings.LongTimeFormat="hh:nn:ss"},n.$resourcestrings={SBadQuotes:{org:"Unterminated string"},SUnknownDelimiter:{org:'Unknown delimiter character: "%s"'},SErrUnknownCharacter:{org:'Unknown character at pos %d: "%s"'},SErrUnexpectedEndOfExpression:{org:"Unexpected end of expression"},SErrUnknownComparison:{org:"Internal error: Unknown comparison"},SErrUnknownBooleanOp:{org:"Internal error: Unknown boolean operation"},SErrBracketExpected:{org:"Expected ) bracket at position %d, but got %s"},SerrUnknownTokenAtPos:{org:"Unknown token at pos %d : %s"},SErrLeftBracketExpected:{org:"Expected ( bracket at position %d, but got %s"},SErrInvalidFloat:{org:"%s is not a valid floating-point value"},SErrUnknownIdentifier:{org:"Unknown identifier: %s"},SErrInExpression:{org:"Cannot evaluate: error in expression"},SErrInExpressionEmpty:{org:"Cannot evaluate: empty expression"},SErrCommaExpected:{org:"Expected comma (,) at position %d, but got %s"},SErrInvalidNumberChar:{org:"Unexpected character in number : %s"},SErrInvalidNumber:{org:"Invalid numerical value : %s"},SErrUnterminatedIdentifier:{org:"Unterminated quoted identifier: %s"},SErrNoOperand:{org:"No operand for unary operation %s"},SErrNoleftOperand:{org:"No left operand for binary operation %s"},SErrNoRightOperand:{org:"No right operand for binary operation %s"},SErrNoNegation:{org:"Cannot negate expression of type %s : %s"},SErrNoNOTOperation:{org:'Cannot perform "not" on expression of type %s: %s'},SErrTypesDoNotMatch:{org:'Type mismatch: %s<>%s for expressions "%s" and "%s".'},SErrNoNodeToCheck:{org:"Internal error: No node to check !"},SInvalidNodeType:{org:"Node type (%s) not in allowed types (%s) for expression: %s"},SErrUnterminatedExpression:{org:"Badly terminated expression. Found token at position %d : %s"},SErrDuplicateIdentifier:{org:'An identifier with name "%s" already exists.'},SErrInvalidResultCharacter:{org:'"%s" is not a valid return type indicator'},ErrInvalidArgumentCount:{org:"Invalid argument count for function %s"},SErrInvalidArgumentType:{org:"Invalid type for argument %d: Expected %s, got %s"},SErrInvalidResultType:{org:"Invalid result type: %s"},SErrIFNeedsBoolean:{org:"First argument to IF must be of type boolean: %s"},SErrCaseNeeds3:{org:"Case statement needs to have at least 4 arguments"},SErrCaseEvenCount:{org:"Case statement needs to have an even number of arguments"},SErrCaseLabelNotAConst:{org:'Case label %d "%s" is not a constant expression'},SErrCaseLabelType:{org:'Case label %d "%s" needs type %s, but has type %s'},SErrCaseValueType:{org:'Case value %d "%s" needs type %s, but has type %s'}}},n.$init=function(){e.L10=Math.log(10),n.RegisterStdBuiltins(n.BuiltinIdentifiers(),n.AllBuiltIns),e.InitFileFormatSettings()}},["TypInfo"]),rtl.module("JSONDataset",["System","Types","JS","DB","Classes","SysUtils","TypInfo","fpexprpars"],function(){"use strict";var A=this,oe=A.$impl,Q=null,f=null,c=null,i=null,a=null,o=null,D=null,N=null,L=null,H=null,P=null,m=null,l=null,R=null,z=null,d=null,w=null,ne=null,x=null,O=null,I=null,b=pas.System,t=b.TObject,e=pas.DB,E=e.TDateField,k=e.TTimeField,_=e.TDateTimeField,te=b.Copy,r=pas.SysUtils,Y=r.CompareText,q=r.CompareStr,g=pas.JS,K=g.isDate,W=r.JSDateToDateTime,$=pas.Classes,p=$.TFPList,h=e.EDatabaseError,u=b.VarRecs,B=pas.TypInfo,X=B.GetEnumName,M=g.isUndefined,n=r.FreeAndNil,v=e.TIndexDef,U=e.TIndexDefs,s=e.TDataSet,T=pas.fpexprpars,F=T.TFPExpressionResult,G=e.DatabaseErrorFmt$1,V=T.TFPExpressionParser,j=e.TDataRecord,Z=e.TBookmark,J=e.DatabaseErrorFmt,y=null,S=null,C=null,se=r.FormatDateTime,ee=g.JSDelete,Q=this.TJSONRowType={0:"rtJSONObject",rtJSONObject:0,1:"rtJSONArray",rtJSONArray:1};rtl.createClass(this,"TJSONFieldMapper",t,function(){f=this,this.CopyRow=function(e){var t=void 0,t=JSON.parse(JSON.stringify(e));return t},this.GetJSONDataForField$1=function(e,t){var n=void 0,n=this.GetJSONDataForField(e.FFieldName,e.GetIndex(),t);return n},this.SetJSONDataForField$1=function(e,t,n){this.SetJSONDataForField(e.FFieldName,e.GetIndex(),t,n)}}),rtl.createClass(this,"TJSONDateField",E,function(){c=this,this.$init=function(){E.$init.call(this),this.FDateFormat=""};var e=this.$rtti;e.addProperty("DateFormat",0,rtl.string,"FDateFormat","FDateFormat")}),rtl.createClass(this,"TJSONTimeField",k,function(){i=this,this.$init=function(){k.$init.call(this),this.FTimeFormat=""};var e=this.$rtti;e.addProperty("TimeFormat",0,rtl.string,"FTimeFormat","FTimeFormat")}),rtl.createClass(this,"TJSONDateTimeField",_,function(){a=this,this.$init=function(){_.$init.call(this),this.FDateTimeFormat=""};var e=this.$rtti;e.addProperty("DateTimeFormat",0,rtl.string,"FDateTimeFormat","FDateTimeFormat")}),rtl.createClass(this,"TFieldComparer",t,function(){o=this,this.$init=function(){t.$init.call(this),this.FDesc=!1,this.FValue=void 0,this.FField=null,this.FOptions={},this.FDataset=null},this.$final=function(){this.FField=void 0,this.FOptions=void 0,this.FDataset=void 0,t.$final.call(this)},this.Create$1=function(e,t,n,s){return this.FField=t,this.FValue=n,this.FOptions=rtl.refSet(s),this.FDataset=e,this},this.GetFieldValue=function(e){var t=void 0,t=this.FDataset.FFieldMapper.GetJSONDataForField$1(this.FField,this.FDataset.FRows[e]);return t},this.CompareRows=function(e,t){var n=0,n=this.Compare(e,this.GetFieldValue(t));return n},this.Compare$1=function(e){var t=0,t=this.Compare(e,this.FValue);return t}}),rtl.createClass(this,"TStringFieldComparer",o,function(){D=this,this.Compare=function(e,t){var o=0,n="",s="",n=""+this.GetFieldValue(e),s=""+t;return 1 in this.FOptions&&(n=te(n,1,s.length)),0 in this.FOptions?o=Y(n,s):o=q(n,s),o}}),rtl.createClass(this,"TNativeIntFieldComparer",o,function(){N=this,this.Compare=function(e,t){var n=0,s=0,o=0,s=rtl.trunc(this.GetFieldValue(e)),o=rtl.trunc(t),n=s-o;return n}}),rtl.createClass(this,"TBooleanFieldComparer",o,function(){L=this,this.Compare=function(e,t){var n=0,s=!1,o=!1,s=this.GetFieldValue(e)!=!1,o=t!=!1,n=s+0-(o+0);return n}}),rtl.createClass(this,"TDateTimeFieldComparer",o,function(){H=this,this.Compare=function(e,t){var n=this,s=0,o=0,i=0;function a(e){var t=0;return K(e)?t=W(e):t=n.FDataset.ConvertDateTimeField(""+e,n.FField),t}return o=a(this.GetFieldValue(e)),i=a(t),s=Math.round(o-i),s}}),rtl.createClass(this,"TFloatFieldComparer",o,function(){P=this,this.Compare=function(e,t){var n=0,s=0,o=0,s=rtl.getNumber(this.GetFieldValue(e)),o=rtl.getNumber(t),n=Math.round(s-o);return n}}),rtl.createClass(this,"TRecordComparer",t,function(){m=this,this.$init=function(){t.$init.call(this),this.FDataset=null,this.FIndexBased=!1,this.FItems=[],this.FOptions={},this.FValues=[]},this.$final=function(){this.FDataset=void 0,this.FItems=void 0,this.FOptions=void 0,this.FValues=void 0,t.$final.call(this)},this.ConstructItems=function(t){n=null,i=null,s=null,o=0,n=p.$create("Create");try{if(this.FDataset.GetFieldList$1(n,t),!this.FIndexBased&&n.FCount!==rtl.length(this.FValues))throw h.$create("CreateFmt",["Array of values has different length (%d) from array of fields (%d)",u(19,rtl.length(this.FValues),0,n.FCount)]);this.FItems=rtl.arraySetLength(this.FItems,null,n.FCount);for(var n,s,o,i,a=0,r=n.FCount-1;a<=r;a++){if(o=a,s=rtl.getObject(n.Get(o)),i=this.DataTypeToComparerClass(s.FDataType),i===null)throw h.$create("CreateFmt",["Cannot locate on field %s of type %s)",u(18,s.FFieldName,18,X(e.$rtti.TFieldType,s.FDataType))]);this.FIndexBased?this.FItems[o]=i.$create("Create$1",[this.FDataset,s,null,rtl.refSet(this.FOptions)]):this.FItems[o]=i.$create("Create$1",[this.FDataset,s,this.FValues[o],rtl.refSet(this.FOptions)])}}finally{n=rtl.freeLoc(n)}},this.DataTypeToComparerClass=function(e){var n=null,t=e;return t===11||t===12||t===1?n=D:t===9||t===2||t===3?n=N:t===4?n=L:t===5?n=P:t===6||t===7||t===8?n=H:n=null,n},this.Compare=function(e){for(var t=0,n=0,s=0,t=0,n=0,s=rtl.length(this.FItems);t===0&&n<s;)t=this.FItems[n].Compare$1(e),n+=1;return t},this.CompareRows=function(e,t){for(var n=0,s=0,o=0,n=0,s=0,o=rtl.length(this.FItems);n===0&&s<o;)n=this.FItems[s].CompareRows(e,t),n!==0&&this.FItems[s].FDesc&&(n=-n),s+=1;return n},this.updateFromIndex=function(e){t=null,n=0,t=p.$create("Create");try{if(e.FCaseinsFields!==""){this.FDataset.GetFieldList$1(t,e.FCaseinsFields);for(var t,n,s,i,o=0,a=rtl.length(this.FItems)-1;o<=a;o++)n=o,t.IndexOf(this.FItems[n].FField)!==-1&&(this.FItems[n].FOptions=rtl.unionSet(this.FItems[n].FOptions,rtl.createSet(0)))}t.Clear(),this.FDataset.GetFieldList$1(t,e.FDescFields);for(s=0,i=rtl.length(this.FItems)-1;s<=i;s++)n=s,this.FItems[n].FDesc=2 in e.FOptions||t.IndexOf(this.FItems[n].FField)!==-1}finally{t=rtl.freeLoc(t)}},this.Create$1=function(e,t,n,s){return this.FDataset=e,rtl.isArray(n)?this.FValues=n:(this.FValues=rtl.arraySetLength(this.FValues,void 0,1),this.FValues[0]=n),this.FOptions=rtl.refSet(s),this.ConstructItems(t),this},this.Create$2=function(e,t){return this.FDataset=e,this.FIndexBased=!0,3 in t.FOptions&&(this.FOptions=rtl.createSet(0)),this.ConstructItems(t.FFields),this.updateFromIndex(t),this},this.Destroy=function(){e=0;for(var e,n=0,s=rtl.length(this.FItems)-1;n<=s;n++)e=n,rtl.free(this.FItems,e);t.Destroy.call(this)}}),rtl.createClass(this,"TJSONIndex",t,function(){l=this,this.$init=function(){t.$init.call(this),this.FList=null,this.FRows=null,this.FDataset=null},this.$final=function(){this.FList=void 0,this.FRows=void 0,this.FDataset=void 0,t.$final.call(this)},this.GetRecordIndex=function(e){var t=0;return M(this.FList[e])?t=-1:t=rtl.trunc(this.FList[e]),t},this.GetCount=function(){var e=0,e=this.FList.length;return e},this.ClearIndex=function(){this.FList.length=0},this.Create$1=function(e,t){return this.FRows=t,this.FList=new Array(this.FRows.length),this.FDataset=e,this.CreateIndex(),this},this.Insert=function(e,t){var n=0,n=this.Append(t);return n}}),rtl.createClass(this,"TDefaultJSONIndex",l,function(){R=this,this.CreateIndex=function(){e=0;for(var e,t=0,n=this.FRows.length-1;t<=n;t++)e=t,this.FList[e]=e},this.AppendToIndex=function(){e=0,t=0,t=this.FList.length,this.FList.length=this.FRows.length;for(var e,t,n=t,s=this.FRows.length-1;n<=s;n++)e=n,this.FList[e]=e},this.Append=function(e){var t=0,t=this.FList.push(e)-1;return t},this.Insert=function(e,t){var n=0;return this.FList.splice(e,0,t),n=e,n},this.FindRecord=function(e){var t=0,t=this.FList.indexOf(e);return t},this.Update=function(e){var t=0,t=e;return t}}),rtl.createClass(this,"TSortedJSONIndex",l,function(){z=this,this.$init=function(){l.$init.call(this),this.FComparer=null,this.FUnique=!1},this.$final=function(){this.FComparer=void 0,l.$final.call(this)},this.FindPos=function(e){var o=0,t=0,s=0,n=0,i=0;if(this.FComparer==null)return o;for(t=0,s=this.GetCount()-1;t<=s;)n=t+rtl.trunc((s-t)/2),i=this.FComparer.CompareRows(e,rtl.trunc(this.FList[n])),i>0?t=n+1:(s=n-1,i===0&&this.FUnique&&(t=n));return o=t,o},this.MergeSort=function(e){var o=null,u=null,i=0,t=0,n=0,r=0,l=0,a=0,d=0,s=0,c=0;if(e===null)return null;if(i=e.length,o=new Array(i),i===0)return o;a=1;do{for(t=0,l=0,d=0;t<i;){for(d+=1,s=i-t,a<s&&(s=a),n=t+s,c=a;s>0||c>0&&n<i;)s===0?(r=n,n+=1,c-=1):c===0||n>=i?(r=t,t+=1,s-=1):this.FComparer.CompareRows(rtl.trunc(e[t]),rtl.trunc(e[n]))<=0?(r=t,t+=1,s-=1):(r=n,n+=1,c-=1),o[l]=e[r],l+=1;t=n}if(d<=1)return o;a=a*2,u=o,o=e,e=u}while(!!1)return o},this.Destroy=function(){n({p:this,get:function(){return this.p.FComparer},set:function(e){this.p.FComparer=e}}),t.Destroy.call(this)},this.CreateComparer=function(e){n({p:this,get:function(){return this.p.FComparer},set:function(e){this.p.FComparer=e}}),this.FComparer=m.$create("Create$2",[this.FDataset,e])},this.CreateIndex=function(){var t=null,e=0;if(this.FComparer===null)return;for(e=this.FRows.length-1,t=new Array(e+1);e>=0;)t[e]=e,e-=1;this.FList=this.MergeSort(t)},this.AppendToIndex=function(){this.CreateIndex()},this.Append=function(e){var t=0,t=this.FindPos(e);return this.FList.splice(t,0,e),t},this.FindRecord=function(e){var t=0,t=this.FList.indexOf(e);return t},this.Update=function(e){var t=0,n=0,n=this.FindRecord(e),t=this.FindPos(e);return t!==n&&this.FList.splice(t,0,this.FList.splice(n,1)[0]),t}}),rtl.createClass(this,"TJSONIndexDef",v,function(){d=this,this.$init=function(){v.$init.call(this),this.FIndex=null},this.$final=function(){this.FIndex=void 0,v.$final.call(this)},this.ClearIndex=function(){n({p:this,get:function(){return this.p.FIndex},set:function(e){this.p.FIndex=e}})},this.BuildIndex=function(e){this.FIndex===null?this.FIndex=z.$create("Create$1",[e,e.FRows]):this.FIndex.ClearIndex(),this.FIndex.CreateComparer(this),this.FIndex.CreateIndex()}}),rtl.createClass(this,"TJSONIndexDefs",U,function(){w=this,this.GetD=function(e){var t=null,t=rtl.as(this.GetItem$1(e),d);return t}}),rtl.createClass(this,"TBaseJSONDataSet",s,function(){ne=this,this.$init=function(){s.$init.call(this),this.FActiveIndex="",this.FIndexes=null,this.FMUS=!1,this.FOwnsData=!1,this.FDefaultIndex=null,this.FCurrentIndex=null,this.FCurrent=0,this.FMetaData=null,this.FRows=null,this.FDeletedRows=null,this.FFieldMapper=null,this.FEditIdx=0,this.FEditRow=void 0,this.FFilterRow=void 0,this.FUseDateTimeFormatFields=!1,this.FRowType=0,this.FFilterExpression=null},this.$final=function(){this.FIndexes=void 0,this.FDefaultIndex=void 0,this.FCurrentIndex=void 0,this.FMetaData=void 0,this.FRows=void 0,this.FDeletedRows=void 0,this.FFieldMapper=void 0,this.FFilterExpression=void 0,s.$final.call(this)},this.GetFilterField=function(e){var s,t=F.$new(),n=null,o=0,n=this.FieldByName(e);return t.ResultType=this.FieldTypeToExpressionType(n.FDataType),s=t.ResultType,s===0?t.resValue=n.GetAsBoolean():s===1?t.resValue=n.GetAsLargeInt():s===2?t.resValue=n.GetAsFloat():s===3?t.resValue=n.GetAsDateTime():s===4?t.resValue=n.GetAsString():s===5&&(o=n.GetAsFloat()*1e4,t.resValue=o/1e4),t},this.SetActiveIndex=function(e){if(this.FActiveIndex===e)return;if(this.FActiveIndex=e,0 in this.FComponentState)return;this.ActivateIndex(this.GetActive())},this.SetIndexes=function(e){if(this.FIndexes===e)return;this.FIndexes.Assign(e),this.GetActive()&&this.BuildIndexes()},this.SetMetaData=function(e){this.CheckInactive(),this.FMetaData=e},this.SetRows=function(e){if(e===this.FRows)return;this.CheckInactive(),this.FRows=null,this.AddToRows(e)},this.RemoveCalcFields=function(e){t=0;for(var t,n=0,s=this.FFieldList.GetCount()-1;n<=s;n++)t=n,this.FFieldList.GetField(t).FFieldKind in rtl.createSet(1,3,2)&&this.FFieldMapper.RemoveField(this.FFieldList.GetField(t).FFieldName,this.FFieldList.GetField(t).GetIndex(),e)},this.ActivateIndex=function(e){var t=null;this.FActiveIndex!==""?t=rtl.as(this.FIndexes.Find$1(this.FActiveIndex),d):t=null,t===null?this.FCurrentIndex=this.FDefaultIndex:(t.FIndex===null&&e&&t.BuildIndex(this),this.FCurrentIndex=t.FIndex),this.GetActive()&&this.Resync(rtl.createSet(1))},this.FieldTypeToExpressionType=function(t){var s=0,n=t;return n===11||n===12||n===1?s=4:n===2||n===9||n===3?s=1:n===4?s=0:n===5?s=2:n===6||n===7||n===8?s=3:G("Fields of type %s are not supported in filter expressions.",u(18,e.Fieldtypenames[t]),this),s},this.GetFilterIsNull=function(e){var t=F.$new();return t.ResultType=0,t.resValue=this.FieldByName(""+e[0].resValue).GetIsNull(),t},this.FilterExpressionClass=function(){var e=null,e=V;return e},this.CreateFilterExpression=function(){e=null,t=0,e=this.FilterExpressionClass().$create("Create$1",[this]);for(var e,t,n=0,s=this.FFieldList.GetCount()-1;n<=s;n++)t=n,e.FIdentifiers.AddVariable(this.FFieldList.GetField(t).FFieldName,this.FieldTypeToExpressionType(this.FFieldList.GetField(t).FDataType),rtl.createCallback(this,"GetFilterField"));return e.FIdentifiers.AddFunction("IsNull","B","S",rtl.createCallback(this,"GetFilterIsNull")),e.SetExpression(this.FFilterText),e},this.DoFilterRecord=function(){var e=!1,t=0,e=!0,t=this.SetTempState(6);try{if(this.FOnFilterRecord!=null&&(this.FOnFilterRecord(this,{get:function(){return e},set:function(t){e=t}}),!e))return e;if(!this.FFiltered||this.FFilterText==="")return e;this.FFilterExpression===null&&(this.FFilterExpression=this.CreateFilterExpression()),e=this.FFilterExpression.GetAsBoolean()}finally{this.RestoreState(t)}return e},this.CreateIndexDefs=function(){var e=null,e=w.$create("create$3",[this,this,d]);return e},this.RecordComparerClass=function(){var e=null,e=m;return e},this.LocateRecordIndex=function(e,t,n){var i=0,a=null,s=0,o=0,i=-1,a=this.RecordComparerClass().$create("Create$1",[this,e,t,rtl.refSet(n)]);try{for((2 in n)?o=this.FCurrent:o=0,s=this.FCurrentIndex.GetRecordIndex(o);i===-1&&s!==-1;)a.Compare(s)===0&&(i=s),o+=1,s=this.FCurrentIndex.GetRecordIndex(o)}finally{a=rtl.freeLoc(a)}return i},this.AllocRecordBuffer=function(){var e=j.$new();return e.data=new Object,e.bookmark=null,e.state=0,e},this.FreeRecordBuffer=function(e){e.data=null,e.bookmark=null,e.state=0},this.InternalInitRecord=function(e){e.data=this.FFieldMapper.CreateRow(),e.bookmark=null,e.state=0},this.GetRecord=function(e,t){var i,s=0,a=0,o=!1,s=0;do o=!0,i=t,i===1?this.FCurrent<this.FCurrentIndex.GetCount()-1?this.FCurrent+=1:s=2:i===2?this.FCurrent>0?this.FCurrent-=1:s=1:i===0&&(this.FCurrent<0||this.FCurrent>=this.FCurrentIndex.GetCount())&&(s=2),s===0&&(a=this.FCurrentIndex.GetRecordIndex(this.FCurrent),e.data=this.FRows[a],e.bookmarkFlag=0,e.bookmark=a,this.GetCalcFields(e),this.FFiltered&&(this.FFilterRow=e.data,o=this.DoFilterRecord(),!o&&t===0&&(o=!0,s=2)));while(!o)return s},this.AddToRows=function(e){this.FRows===null?this.FRows=e:(this.FRows=this.FRows.concat(e),this.AppendToIndexes())},this.InternalClose=function(){this.BindFields(!1),this.FDefaultFields&&this.DestroyFields(),this.FreeData()},this.InternalFirst=function(){this.FCurrent=-1},this.InternalLast=function(){this.FCurrent=this.FCurrentIndex.GetCount()},this.InternalOpen=function(){n({p:this,get:function(){return this.p.FFieldMapper},set:function(e){this.p.FFieldMapper=e}}),this.FFieldMapper=this.CreateFieldMapper(),this.FRows===null&&(this.FRows=new Array,this.FOwnsData=!0),this.CreateIndexes(),this.InternalInitFieldDefs(),this.FDefaultFields&&this.CreateFields(),this.BindFields(!0),this.InitDateTimeFields(),this.FActiveIndex!==""&&this.ActivateIndex(!0),this.FCurrent=-1},this.InternalPost=function(){if(e=0,n=0,s=0,t=0,r=Z.$new(),s=-1,this.GetBookmarkData(j.$clone(this.ActiveBuffer()),r),this.FState===3)if(t=this.FRows.push(this.FEditRow)-1,this.GetBookmarkFlag(j.$clone(this.ActiveBuffer()))===2){this.FDefaultIndex.Append(t);for(var e,t,n,s,o,i,r,c,l,a=0,d=this.FIndexes.GetCount()-1;a<=d;a++)e=a,this.FIndexes.GetD(e).FIndex!=null&&(n=this.FIndexes.GetD(e).FIndex.Append(t),this.FIndexes.GetD(e).FIndex===this.FCurrentIndex&&(s=n))}else{this.FCurrent=this.FDefaultIndex.Insert(this.FCurrent,t);for(o=0,c=this.FIndexes.GetCount()-1;o<=c;o++)e=o,this.FIndexes.GetD(e).FIndex!=null&&(n=this.FIndexes.GetD(e).FIndex.Append(t),this.FIndexes.GetD(e).FIndex===this.FCurrentIndex&&(s=n))}else{this.FEditIdx===-1&&J("Failed to retrieve record index for record %d",u(0,this.FCurrent)),t=this.FEditIdx,this.FRows[t]=this.FEditRow,this.FDefaultIndex.Update(t);for(i=0,l=this.FIndexes.GetCount()-1;i<=l;i++)e=i,n=this.FCurrentIndex.Update(t),this.FIndexes.GetD(e).FIndex!=null&&this.FIndexes.GetD(e).FIndex===this.FCurrentIndex&&(s=n)}s!==-1&&(this.FCurrent=s),this.FEditIdx=-1,this.FEditRow=null},this.InternalCancel=function(){this.FEditIdx=-1,this.FEditRow=null},this.InternalInitFieldDefs=function(){if(this.FMetaData!=null&&this.MetaDataToFieldDefs(),this.FFieldDefs.GetCount()===0)throw I.$create("Create$1",["No fields found"])},this.InternalSetToRecord=function(e){this.FCurrent=this.FCurrentIndex.FindRecord(rtl.trunc(e.bookmark))},this.SetFilterText=function(e){s.SetFilterText.call(this,e),n({p:this,get:function(){return this.p.FFilterExpression},set:function(e){this.p.FFilterExpression=e}}),this.GetActive()&&this.Resync(rtl.createSet(1))},this.SetFiltered=function(e){s.SetFiltered.call(this,e),n({p:this,get:function(){return this.p.FFilterExpression},set:function(e){this.p.FFilterExpression=e}}),this.GetActive()&&this.Resync(rtl.createSet(1))},this.GetFieldClass=function(e){var n,t=null;return this.FUseDateTimeFormatFields&&e in rtl.createSet(6,8,7)?(n=e,n===6?t=c:n===8?t=a:n===7&&(t=i)):t=s.GetFieldClass.call(this,e),t},this.GetApplyUpdateData=function(e){var t=void 0,t=this.FFieldMapper.CopyRow(e.data);return this.RemoveCalcFields(t),t},this.IsCursorOpen=function(){var e=!1,e=this.FDefaultIndex!=null;return e},this.GetBookmarkData=function(e,t){t.Data=e.bookmark},this.GetBookmarkFlag=function(e){var t=0,t=e.bookmarkFlag;return t},this.BuildIndexes=function(){e=0;for(var e,t=0,n=this.FIndexes.GetCount()-1;t<=n;t++)e=t,this.FIndexes.GetD(e).BuildIndex(this)},this.FreeData=function(){e=0,this.FOwnsData&&(this.FRows=null,this.FMetaData=null);for(var e,t=0,s=this.FIndexes.GetCount()-1;t<=s;t++)e=t,this.FIndexes.GetD(e).ClearIndex();this.FCurrentIndex=null,n({p:this,get:function(){return this.p.FDefaultIndex},set:function(e){this.p.FDefaultIndex=e}}),n({p:this,get:function(){return this.p.FFieldMapper},set:function(e){this.p.FFieldMapper=e}}),this.FCurrentIndex=null,this.FDeletedRows=null},this.AppendToIndexes=function(){this.FDefaultIndex.AppendToIndex(),this.FCurrentIndex!=null&&this.FCurrentIndex!==this.FDefaultIndex&&this.FCurrentIndex.AppendToIndex()},this.CreateIndexes=function(){this.FDefaultIndex=R.$create("Create$1",[this,this.FRows]),this.AppendToIndexes(),this.FCurrentIndex===null&&(this.FCurrentIndex=this.FDefaultIndex)},this.InitDateTimeFields=function(){},this.ConvertDateTimeField=function(e,t){var s=0,n="",s=0,n="",o=t.FDataType;return o===6?c.isPrototypeOf(t)&&(n=rtl.as(t,c).FDateFormat):o===7?i.isPrototypeOf(t)&&(n=rtl.as(t,i).FTimeFormat):o===8&&a.isPrototypeOf(t)&&(n=rtl.as(t,a).FDateTimeFormat),n===""?s=this.$class.DefaultConvertToDateTime(t,e,!0):s=S(n,e,1),s},this.FormatDateTimeField=function(e,t){var s="",n="",s="",n="",o=t.FDataType;return o===6?c.isPrototypeOf(t)&&(n=t.FDateFormat):o===7?i.isPrototypeOf(t)&&(n=t.FTimeFormat):o===8&&a.isPrototypeOf(t)&&(n=t.FDateTimeFormat),n===""?s=C(e):s=se(n,e),s},this.CreateFieldMapper=function(){var e=null;return this.FRowType===1?e=O.$create("Create"):e=x.$create("Create"),e},this.Create$1=function(){return s.Create$1.apply(this,arguments),this.FOwnsData=!0,this.FUseDateTimeFormatFields=!1,this.FEditIdx=-1,this.FIndexes=this.CreateIndexDefs(),this},this.Destroy=function(){this.Close(),n({p:this,get:function(){return this.p.FFilterExpression},set:function(e){this.p.FFilterExpression=e}}),n({p:this,get:function(){return this.p.FIndexes},set:function(e){this.p.FIndexes=e}}),this.FEditIdx=-1,s.Destroy.call(this)},this.ConvertDateTimeToNative=function(e,t){var n=void 0;return isNaN(t)?n=null:n=this.FormatDateTimeField(t,e),n},this.Lookup=function(e,t,n){i=void 0,c=0,r=0,o=null,a=[],i=null,o=p.$create("Create");try{if(this.GetFieldList$1(o,n),i=s.Lookup.call(this,e,t,n),c=this.LocateRecordIndex(e,t,{}),c!==-1){a=rtl.arraySetLength(a,void 0,o.FCount);for(var o,i,a,r,c,l=0,d=o.FCount-1;l<=d;l++)r=l,a[r]=this.FFieldMapper.GetJSONDataForField$1(rtl.getObject(o.Get(r)),this.FRows[c]);o.FCount===1?i=a[r]:i=a}}finally{o=rtl.freeLoc(o)}return i},this.GetFieldData$1=function(e,t){var s=void 0,n=void 0;if(this.FState in rtl.createSet(5,11))n=this.FCalcBuffer.data;else if(this.FState===6)n=this.FFilterRow;else if(this.FEditIdx==t.bookmark)this.FState===8?n=t.data:n=this.FEditRow;else{if(this.FState===8)return null;n=t.data}return s=this.FFieldMapper.GetJSONDataForField$1(e,n),M(s)&&(s=null),s},this.SetFieldData$1=function(e,t,n){var s=void 0;this.FState in rtl.createSet(5,11)?s=this.FCalcBuffer.data:s=this.FEditRow,this.FFieldMapper.SetJSONDataForField$1(e,s,n),this.FState in rtl.createSet(5,11,6,7)||this.DataEvent(0,e),this.SetModified(!0)},this.CompareBookmarks=function(e,t){var n=0;return rtl.isNumber(e.Data)&&rtl.isNumber(t.Data)?n=rtl.trunc(t.Data)-rtl.trunc(e.Data):rtl.isNumber(e.Data)?n=-1:rtl.isNumber(t.Data)?n=1:n=0,n}}),rtl.createClass(this,"TJSONObjectFieldMapper",f,function(){x=this,this.RemoveField=function(e,t,n){ee(n,e)},this.SetJSONDataForField=function(e,t,n,s){n[e]=s},this.GetJSONDataForField=function(e,t,n){var s=void 0,s=n[e];return s},this.CreateRow=function(){var e=void 0,e=new Object;return e}}),rtl.createClass(this,"TJSONArrayFieldMapper",f,function(){O=this,this.RemoveField=function(e,t,n){n.splice(t,1)},this.SetJSONDataForField=function(e,t,n,s){n[t]=s},this.GetJSONDataForField=function(e,t,n){var s=void 0,s=n[t];return s},this.CreateRow=function(){var e=void 0,e=new Array;return e}}),rtl.createClass(this,"EJSONDataset",h,function(){I=this}),A.$implcode=function(){y=pas.DateUtils,S=y.ScanDateTime,C=y.DateTimeToRFC3339}},["DateUtils"]),rtl.module("ExtJSDataset",["System","Classes","SysUtils","DB","JS","JSONDataset"],function(){"use strict";var y=this,b=null,s=pas.JSONDataset,o=s.TBaseJSONDataSet,a=pas.SysUtils,u=a.SameText,r=pas.JS,l=r.isNull,e=pas.DB,m=e.DatabaseError,t=a.StringReplace,h=a.LowerCase,n=s.EJSONDataset,d=pas.System,i=d.VarRecs,f=r.isUndefined,p=s.TJSONDateField,g=s.TJSONTimeField,v=s.TJSONDateTimeField,c=r.toNumber,j=d.Trunc;rtl.createClass(this,"TExtJSJSONDataSet",o,function(){b=this,this.$init=function(){o.$init.call(this),this.FFields=null,this.FIDField="",this.FRoot=""},this.$final=function(){this.FFields=void 0,o.$final.call(this)},this.InternalOpen=function(){e=0,o.InternalOpen.call(this);for(var e,t=0,n=this.FFieldList.GetCount()-1;t<=n;t++)e=t,u(this.FFieldList.GetField(e).FFieldName,this.FIDField)&&(this.FFieldList.GetField(e).FProviderFlags=rtl.unionSet(this.FFieldList.GetField(e).FProviderFlags,rtl.createSet(2)))},this.DataPacketReceived=function(e){var n=!1,t=null,s=null,n=!1;return l(e.FData)?n:(rtl.isString(e.FData)?t=JSON.parse(""+e.FData):rtl.isObject(e.FData)?t=e.FData:m("Cannot handle data packet"),this.FRoot===""&&(this.FRoot="rows"),this.FIDField===""&&(this.FIDField="id"),t.hasOwnProperty("metaData")&&rtl.isObject(t.metaData)&&(this.GetActive()||this.SetMetaData(t.metaData),this.FMetaData.hasOwnProperty("root")&&rtl.isString(this.FMetaData.root)&&(this.FRoot=""+this.FMetaData.root),this.FMetaData.hasOwnProperty("idField")&&rtl.isString(this.FMetaData.idField)&&(this.FIDField=""+this.FMetaData.idField)),t.hasOwnProperty(this.FRoot)&&rtl.isArray(t[this.FRoot])&&(s=t[this.FRoot],n=s.length>0,this.AddToRows(s)),n)},this.ConvertDateFormat=function(e){var n="",n=t(e,"y","yy",rtl.createSet(0)),n=t(n,"Y","yyyy",rtl.createSet(0)),n=t(n,"g","h",rtl.createSet(0)),n=t(n,"G","hh",rtl.createSet(0)),n=t(n,"F","mmmm",rtl.createSet(0)),n=t(n,"M","mmm",rtl.createSet(0)),n=t(n,"n","m",rtl.createSet(0)),n=t(n,"D","ddd",rtl.createSet(0)),n=t(n,"j","d",rtl.createSet(0)),n=t(n,"l","dddd",rtl.createSet(0)),n=t(n,"i","nn",rtl.createSet(0)),n=t(n,"u","zzz",rtl.createSet(0)),n=t(n,"a","am/pm",rtl.createSet(0,1)),n=h(n);return n},this.MetaDataToFieldDefs=function(){if(s=null,o=null,t=0,r=0,c="",a=0,e=void 0,this.FFieldDefs.Clear(),e=this.FMetaData.fields,!rtl.isArray(e))throw n.$create("Create$1",["Invalid metadata object"]);s=e;for(var e,t,s,o,a,r,c,d=0,u=s.length-1;d<=u;d++){if(t=d,!rtl.isObject(s[t]))throw n.$create("CreateFmt",["Field definition %d in metadata is not an object",i(0,t)]);if(o=s[t],e=o.name,!rtl.isString(e))throw n.$create("CreateFmt",["Field definition %d in has no or invalid name property",i(0,t)]);if(c=""+e,e=o.type,l(e)||f(e))a=1;else if(rtl.isString(e))a=this.StringToFieldType(""+e);else throw n.$create("CreateFmt",["Field definition %d in has invalid type property",i(0,t)]);a===1?r=this.GetStringFieldLength(o,c,t):r=0,this.FFieldDefs.Add$4(c,a,r)}this.FFields=s},this.InitDateTimeFields=function(){if(n=null,e=null,o=0,s="",t=void 0,this.FFields===null)return;for(var e,t,n,s,o,i=0,a=this.FFields.length-1;i<=a;i++)o=i,n=this.FFields[o],t=n.type,rtl.isString(t)&&""+t==="date"&&(t=n.dateFormat,rtl.isString(t)&&(s=this.ConvertDateFormat(""+t),e=this.FindField(""+n.name),e!==null&&e.FDataType in rtl.createSet(6,7,8)&&e.FFieldKind===0&&(p.isPrototypeOf(e)?e.FDateFormat=s:g.isPrototypeOf(e)?e.FTimeFormat=s:v.isPrototypeOf(e)&&(e.FDateTimeFormat=s))))},this.StringToFieldType=function(e){var t=0;if(e==="int")t=3;else if(e==="float")t=5;else if(e==="boolean")t=4;else if(e==="date")t=8;else if(e==="string"||e==="auto"||e==="")t=1;else if(this.FMUS)t=1;else throw n.$create("CreateFmt",["Unknown JSON data type : %s",i(18,e)]);return t},this.GetStringFieldLength=function(e,t,s){if(o=0,l=0,r=0,a=void 0,o=0,a=e.maxlen,isNaN(c(a)))for(var o,a,r,l,d=0,u=this.FRows.length-1;d<=u;d++)l=d,a=this.FFieldMapper.GetJSONDataForField(t,s,this.FRows[l]),rtl.isString(a)&&(r=(""+a).length,r>o&&(o=r));else if(o=j(c(a)),o<=0)throw n.$create("CreateFmt",["Invalid maximum length specifier for field %s",i(18,t)]);return o===0&&(o=20),o},this.Create$1=function(e){return o.Create$1.call(this,e),this.FUseDateTimeFormatFields=!0,this};var a=this.$rtti;a.addProperty("FieldDefs",2,e.$rtti.TFieldDefs,"FFieldDefs","SetFieldDefs"),a.addProperty("Indexes",2,s.$rtti.TJSONIndexDefs,"FIndexes","SetIndexes"),a.addProperty("ActiveIndex",2,rtl.string,"FActiveIndex","SetActiveIndex"),a.addProperty("Active",3,rtl.boolean,"GetActive","SetActive",{Default:!1}),a.addProperty("BeforeOpen",0,e.$rtti.TDataSetNotifyEvent,"FBeforeOpen","FBeforeOpen"),a.addProperty("AfterOpen",0,e.$rtti.TDataSetNotifyEvent,"FAfterOpen","FAfterOpen"),a.addProperty("BeforeClose",0,e.$rtti.TDataSetNotifyEvent,"FBeforeClose","FBeforeClose"),a.addProperty("AfterClose",0,e.$rtti.TDataSetNotifyEvent,"FAfterClose","FAfterClose"),a.addProperty("BeforeInsert",0,e.$rtti.TDataSetNotifyEvent,"FBeforeInsert","FBeforeInsert"),a.addProperty("AfterInsert",0,e.$rtti.TDataSetNotifyEvent,"FAfterInsert","FAfterInsert"),a.addProperty("BeforeEdit",0,e.$rtti.TDataSetNotifyEvent,"FBeforeEdit","FBeforeEdit"),a.addProperty("AfterEdit",0,e.$rtti.TDataSetNotifyEvent,"FAfterEdit","FAfterEdit"),a.addProperty("BeforePost",0,e.$rtti.TDataSetNotifyEvent,"FBeforePost","FBeforePost"),a.addProperty("AfterPost",0,e.$rtti.TDataSetNotifyEvent,"FAfterPost","FAfterPost"),a.addProperty("BeforeCancel",0,e.$rtti.TDataSetNotifyEvent,"FBeforeCancel","FBeforeCancel"),a.addProperty("AfterCancel",0,e.$rtti.TDataSetNotifyEvent,"FAfterCancel","FAfterCancel"),a.addProperty("BeforeDelete",0,e.$rtti.TDataSetNotifyEvent,"FBeforeDelete","FBeforeDelete"),a.addProperty("AfterDelete",0,e.$rtti.TDataSetNotifyEvent,"FAfterDelete","FAfterDelete"),a.addProperty("BeforeScroll",0,e.$rtti.TDataSetNotifyEvent,"FBeforeScroll","FBeforeScroll"),a.addProperty("AfterScroll",0,e.$rtti.TDataSetNotifyEvent,"FAfterScroll","FAfterScroll"),a.addProperty("OnCalcFields",0,e.$rtti.TDataSetNotifyEvent,"FOnCalcFields","FOnCalcFields"),a.addProperty("OnDeleteError",0,e.$rtti.TDataSetErrorEvent,"FOnDeleteError","FOnDeleteError"),a.addProperty("OnEditError",0,e.$rtti.TDataSetErrorEvent,"FOnEditError","FOnEditError"),a.addProperty("OnFilterRecord",2,e.$rtti.TFilterRecordEvent,"FOnFilterRecord","SetOnFilterRecord"),a.addProperty("OnNewRecord",0,e.$rtti.TDataSetNotifyEvent,"FOnNewRecord","FOnNewRecord"),a.addProperty("OnPostError",0,e.$rtti.TDataSetErrorEvent,"FOnPostError","FOnPostError"),a.addProperty("OwnsData",0,rtl.boolean,"FOwnsData","FOwnsData")})}),rtl.module("jsonlib",["System","Classes","Web","JS"],function(){"use strict";var s=this,t=null,n=pas.Classes,e=n.TComponent;rtl.createClass(this,"TJSONData",e,function(){t=this,this.$init=function(){e.$init.call(this),this.FData=null},this.$final=function(){this.FData=void 0,e.$final.call(this)},this.GetString=function(e){var t="",t=""+this.FData[e];return t},this.Create$2=function(t,n){return e.Create$1.call(this,t),this.FData=n,this}})}),rtl.module("ajaxlib",["System","Classes","SysUtils","Web","Types","JS","jsonlib"],function(){"use strict";var r=this,e=null,s=null,n=pas.Classes,t=n.TComponent,o=n.TStringList,i=pas.jsonlib,a=i.TJSONData;rtl.createClass(this,"TWebRequest",t,function(){e=this,this.$init=function(){t.$init.call(this),this.FMethod="",this.FURI="",this.FCallback=null,this.FRequest=null,this.FHeaders=null},this.$final=function(){this.FCallback=void 0,this.FRequest=void 0,this.FHeaders=void 0,t.$final.call(this)},this.GetComplete=function(){var e=!1;return this.FRequest.readyState===4?e=!0:e=!1,e},this.GetResponseText=function(){var e="",e=this.FRequest.responseText;return e},this.GetStatus=function(){var e=0,e=this.FRequest.status;return e},this.SetCallback=function(e){if(rtl.eqCallback(this.FCallback,e))return;this.FCallback=e,this.FRequest.onreadystatechange=e},this.ProcessHeaders=function(){e=0;for(var e,t=0,n=this.FHeaders.GetCount()-1;t<=n;t++)e=t,this.FRequest.setRequestHeader(this.FHeaders.GetName(e),this.FHeaders.GetValueFromIndex(e))},this.Create$2=function(e,t,n){return this.FRequest=new XMLHttpRequest,this.FHeaders=o.$create("Create$1"),this.FMethod=t,this.FURI=n,this},this.DoRequest=function(){this.DoRequest$1("")},this.DoRequest$1=function(e){var t="";if(this.FMethod==="get"?t=this.FURI+"?"+e:t=this.FURI,this.FRequest.open(this.FMethod,t,!0),this.ProcessHeaders(),this.FMethod==="post"&&(this.FRequest.setRequestHeader("content-type","application/x-www-form-urlencoded"),e!=="")){this.FRequest.send(e),this.FHeaders.Clear();return}this.FRequest.send(),this.FHeaders.Clear()}}),rtl.createClass(this,"TJSONRequest",e,function(){s=this,this.$init=function(){e.$init.call(this),this.FJSONCallback=null,this.FOnJSONError=null},this.$final=function(){this.FJSONCallback=void 0,this.FOnJSONError=void 0,e.$final.call(this)},this.ParseJSON=function(){var e=null;if(!this.GetComplete())return;this.FRequest.status===200?(e=JSON.parse(this.GetResponseText()),this.FJSONCallback(a.$create("Create$2",[this,e]))):this.FOnJSONError!=null&&this.FOnJSONError(this)},this.SetJSONCallback=function(e){if(rtl.eqCallback(this.FJSONCallback,e))return;this.FJSONCallback=e,this.SetCallback(rtl.createSafeCallback(this,"ParseJSON"))}})}),rtl.module("jsontable",["System","Classes","SysUtils","p2jsres","Web","ExtJSDataset","JS","ajaxlib"],function(){"use strict";var p=this,t=null,n=null,s=null,i=null,c=pas.SysUtils,a=c.Exception,r=pas.Classes,e=r.TComponent,o=pas.p2jsres,l=o.TResourceInfo,d=o.GetResourceInfo$1,u=pas.ajaxlib,h=u.TWebRequest,m=pas.ExtJSDataset,f=m.TExtJSJSONDataSet;rtl.createClass(this,"EJSONTable",a,function(){t=this}),rtl.createClass(this,"EBadDatafile",t,function(){n=this}),rtl.createClass(this,"ENoDataSet",t,function(){s=this}),rtl.createClass(this,"TJSONTable",e,function(){i=this,this.$init=function(){e.$init.call(this),this.FActive=!1,this.FDataSet=null,this.FDatafile="",this.FFilter="",this.FRequest=null,this.FOnSuccess=null,this.FOnFailure=null},this.$final=function(){this.FDataSet=void 0,this.FRequest=void 0,this.FOnSuccess=void 0,this.FOnFailure=void 0,e.$final.call(this)},this.GetDataSet=function(){var e=null;if(!this.FActive)throw s.$create("Create$1",["Dataset not available."]);return e=this.FDataSet,e},this.GetDates=function(e){var t=0,t=this.FDataSet.FieldByName(e).GetAsDateTime();return t},this.GetInts=function(e){var t=0,t=this.IntField(e);return t},this.GetStrings=function(e){var t="",t=this.StringField(e);return t},this.SetActive=function(e){if(this.FActive===e)return;if(e&&this.FDatafile==="")throw n.$create("Create$1",["Datafile is not set."]);e?this.OpenTable():this.CloseTable()},this.SetDatafile=function(e){if(this.FDatafile===e)return;if(this.FActive)throw n.$create("Create$1",["Datafile cannot be set while active."]);this.FDatafile=e},this.ParseJSON=function(){if(!this.FRequest.GetComplete())return;this.FRequest.GetStatus()!==200?this.FOnFailure!=null&&this.FOnFailure():(this.ParseTable(this.FRequest.GetResponseText()),this.FOnSuccess!=null&&this.FOnSuccess())},this.OpenTable=function(){var e=l.$new();d(0,this.FDatafile,e)?this.ParseTable(window.atob(e.data)):(this.FRequest=h.$create("Create$2",[this,"get",this.FDatafile+".json"]),this.FRequest.SetCallback(rtl.createSafeCallback(this,"ParseJSON")),this.FRequest.DoRequest())},this.CloseTable=function(){this.FDataSet.Close()},this.SetFilter=function(e){if(this.FFilter===e)return;if(!this.FActive)throw s.$create("Create$1",["Dataset is not active."]);e===""?this.FDataSet.SetFiltered(!1):(this.FDataSet.SetFilterText(e),this.FDataSet.SetFiltered(!0),this.FDataSet.First()),this.FFilter=e},this.StringField=function(e){var t="",t=this.FDataSet.FieldByName(e).GetAsString();return t},this.IntField=function(e){var t=0,t=this.FDataSet.FieldByName(e).GetAsInteger();return t},this.Create$1=function(t){return e.Create$1.call(this,t),this.FDataSet=f.$create("Create$1",[this]),this.FDatafile="",this},this.Destroy=function(){rtl.free(this,"FDataSet"),e.Destroy.call(this)},this.ParseTable=function(e){var n=null;if(this.FActive)throw t.$create("Create$1",["Cannot parse table with active dataset."]);n=JSON.parse(e),this.FDataSet.SetMetaData(n.metaData),this.FDataSet.SetRows(n.Data),this.FDataSet.Open(),this.FActive=!0}})}),rtl.module("models",["System","Classes","SysUtils","browserconsole","jsontable"],function(){"use strict";var s=this,t=null,n=pas.jsontable,e=n.TJSONTable;rtl.createClass(this,"TWebsiteDB",e,function(){t=this,this.Create$1=function(t){return e.Create$1.call(this,t),this.SetDatafile("website"),this.SetActive(!0),this}})}),rtl.module("strutils",["System","SysUtils","Types"],function(){"use strict";var e=this,t=e.$impl,n=pas.System,s=n.upcase,o=n.StringOfChar;this.Soundex=function(e,n){var i="",a="",l="",c=0,r=0,i="",l="\0";if(e.length>0)for(i=s(e.charAt(0)),c=2,r=e.length;c<=r&&i.length<n;)a=t.SScore.charAt(e.charCodeAt(c-1)-1),a.charCodeAt()in rtl.createSet(48,105,l.charCodeAt())||(i=i+a),a!=="i"&&(l=a),c+=1;return r=i.length,r<n&&(i=i+o("0",n-r)),i},this.SoundexSimilar=function(t,n,s){var o=!1,o=e.Soundex(t,s)===e.Soundex(n,s);return o},this.SoundexSimilar$1=function(t,n){var s=!1,s=e.SoundexSimilar(t,n,4);return s},this.SoundexProc=function(t,n){var s=!1,s=e.SoundexSimilar$1(t,n);return s},this.AnsiResemblesProc=null,this.ResemblesProc=null,this.RPosex$1=function(e,t,n){var s=0,s=new String(t).lastIndexOf(e,n-1)+1;return s},this.RPos=function(t,n){var s=0,s=e.RPosex$1(t,n,n.length);return s},e.$implcode=function(){t.SScore="00000000000000000000000000000000000000000000000000000000000000000123012i02245501262301i2i20000000123012i02245501262301i2i20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},e.$init=function(){e.AnsiResemblesProc=e.SoundexProc,e.ResemblesProc=e.SoundexProc}},["JS"]),rtl.module("webrouter",["System","Classes","SysUtils","Web"],function(){"use strict";var n=this,o=n.$impl,u=null,a=null,R=null,N=null,s=null,F=null,_=null,y=null,v=null,k=null,x=null,m=null,r=null,t=null,C=null,b=pas.SysUtils,T=b.Exception,d=pas.Classes,p=pas.System,l=p.TObject,e=p.Copy,c=p.Pos,E=d.TStringList,O=d.TCollectionItem,i=p.Delete,D=b.CompareText,A=null,S=null,z=d.TCollection,f=d.TComponent,j=p.VarRecs,M=b.FreeAndNil,w=null,h=null,L=b.IntToStr,g=null;rtl.createClass(this,"EHTTPRoute",T,function(){u=this}),rtl.recNewT(this,"TScrollPoint",function(){a=this,this.X=0,this.Y=0,this.$eq=function(e){return this.X===e.X&&this.Y===e.Y},this.$assign=function(e){return this.X=e.X,this.Y=e.Y,this}}),this.$rtti.$Class("TRoute"),this.$rtti.$RefToProcVar("TRouteEvent",{procsig:rtl.newTIProcSig([["URl",rtl.string],["aRoute",this.$rtti.TRoute],["Params",d.$rtti.TStrings]])}),R=this.TTransitionResult={0:"trOK",trOK:0,1:"trError",trError:1,2:"trAbort",trAbort:2},N=this.THistoryKind={0:"hkAuto",hkAuto:0,1:"hkAbstract",hkAbstract:1,2:"hkHash",hkHash:2,3:"hkHTML5",hkHTML5:3},rtl.createClass(this,"THistory",l,function(){s=this,this.$init=function(){l.$init.call(this),this.FOnAllow=null,this.FRouter=null,this.FOnChange=null,this.FOnReady=null,this.FOnError=null,this.FCurrent=null,this.FBase=""},this.$final=function(){this.FOnAllow=void 0,this.FRouter=void 0,this.FOnChange=void 0,this.FOnReady=void 0,this.FOnError=void 0,this.FCurrent=void 0,l.$final.call(this)},this.GetCurrent=function(){var e=null,e=this.FCurrent;return e},this.SetupListeners=function(){},this.Create$2=function(e,t){return this.FRouter=e,this.FBase=t,this},this.NormalizeHash=function(t){var n="",n=t;return e(n,1,1)!=="/"&&(n="/"+n),n},this.UpdateRoute=function(e){this.FCurrent=e,this.FOnChange!=null&&this.FOnChange(e)},this.Destroy=function(){l.Destroy.call(this)},this.ExpectScroll=function(){var e=!1,e=this.FRouter!=null&&this.FRouter.FOnScroll!=null;return e},this.SupportsScroll=function(){var e=!1,e=t.supportsPushState()&&this.ExpectScroll();return e},this.getLocation=function(t){var n="",s="",s=window.location.pathname;return t!==""&&c(t,s)===1&&(s=e(s,t.length+1,s.length-t.length)),n=s,n===""&&(n="/"),n=n+window.location.search+window.location.hash,n},this.Push=function(e){var t=0,n=null,n=this.GetCurrent(),t=this.TransitionTo(e);return t===0&&(t=this.doPush(e),t===0&&r.handle(this.FRouter,this.GetCurrent(),n,!1)),t},this.TransitionTo=function(e){var s,o=0,n=null,t=null,n=E.$create("Create$1");try{t=this.FRouter.FindHTTPRoute(e,n),s=this.ConfirmTransition(t,n),s===0?(t=this.FRouter.DoRouteRequest(t,e,n),this.UpdateRoute(t),this.FOnReady!=null&&this.FOnReady(this,e,t)):s===1&&this.FOnError!=null&&this.FOnError(this,e,t)}finally{n=rtl.freeLoc(n)}return o=0,o},this.ConfirmTransition=function(e,t){var s=0,o=null,n=!1,o=this.GetCurrent(),n=!0;return this.FOnAllow!=null&&this.FOnAllow(this,o,e,t,{get:function(){return n},set:function(e){n=e}}),n||(this.ensureURL(!1),s=2),s=0,s}}),rtl.createClass(this,"TAbstractHistory",s,function(){F=this,this.$init=function(){s.$init.call(this),this.FIndex=0,this.FStack=[]},this.$final=function(){this.FStack=void 0,s.$final.call(this)},this.MaybeGrow=function(e){e+1>rtl.length(this.FStack)&&(this.FStack=rtl.arraySetLength(this.FStack,"",e+1))},this.doPush=function(e){var t=0;return this.FIndex+=1,this.MaybeGrow(this.FIndex),this.FStack[this.FIndex]=e,t=0,t},this.Create$2=function(){return s.Create$2.apply(this,arguments),this.FStack=rtl.arraySetLength(this.FStack,"",0),this.FIndex=-1,this},this.GetCurrentLocation=function(){var e="",t=0,n="",t=rtl.length(this.FStack)-1;return t>=0?n=this.FStack[t]:e="/",e=n,e},this.ensureURL=function(e){e}}),rtl.createClass(this,"THashHistory",s,function(){_=this,this.$init=function(){s.$init.call(this),this.FlastHash=""},this.DoHashChange=function(){var e="",t=null,e=this.$class.NormalizeHash(this.$class.getHash());if(e===this.FlastHash)return;t=this.GetCurrent(),this.TransitionTo(e)===0?(r.handle(this.FRouter,this.GetCurrent(),t,!0),this.FlastHash=e):this.$class.replaceHash(this.FlastHash)},this.SetupListeners=function(){this.SupportsScroll()&&r.Setup(),t.supportsPushState()?window.addEventListener("popstate",rtl.createCallback(this,"DoHashChange")):window.addEventListener("hashchange",rtl.createCallback(this,"DoHashChange"))},this.doPush=function(e){var n=0,t="",t=this.$class.NormalizeHash(e);return this.FlastHash=t,this.$class.pushHash(t),n=0,n},this.ensureURL=function(e){var n="",t="",t=this.$class.NormalizeHash(this.FlastHash),n=this.$class.getHash();n!==t&&(e?this.$class.pushHash(t):this.$class.replaceHash(t))},this.GetCurrentLocation=function(){var e="",e=this.$class.getHash();return e},this.pushHash=function(e){t.supportsPushState()?t.PushState(this.getUrl(e),!1):window.location.hash=e},this.replaceHash=function(e){var n="",n=this.getHash();if(n===e)return;t.supportsPushState()?t.ReplaceState(this.getUrl(e)):window.location.replace(this.getUrl(e))},this.getUrl=function(t){var n="",s="",o=0,s=window.location.href,o=c("#",s);return o===0?n=s:n=e(s,1,o-1),n=n+"#"+t,n},this.getHash=function(){var s="",t="",n=0,t=window.location.href,n=c("#",t);return n===0?s="":s=e(t,n+1,t.length-n),s}}),rtl.createClass(this,"THTMLHistory",s,function(){y=this,this.$init=function(){s.$init.call(this),this.FlastLocation=""},this.DoStateChange=function(){var e="",t=null,e=this.$class.getLocation(this.FBase);if(e===this.FlastLocation)return;t=this.GetCurrent(),this.TransitionTo(e)===0?(r.handle(this.FRouter,this.GetCurrent(),t,!0),this.FlastLocation=e):this.$class.replaceState(this.FlastLocation)},this.SetupListeners=function(){window.addEventListener("popstate",rtl.createCallback(this,"DoStateChange"))},this.doPush=function(e){var t=0;return this.$class.pushState(this.getUrl(e),!1),t=0,t},this.ensureURL=function(e){var t="",s="",n="",s=this.GetCurrentLocation(),n=this.FlastLocation;s!==n&&(t=this.getUrl(n),e?this.$class.pushState(t,!1):this.$class.replaceState(t))},this.GetCurrentLocation=function(){var e="",e=window.location;return e},this.pushState=function(e,n){t.PushState(e,n)},this.replaceState=function(e){this.pushState(e,!0)},this.getUrl=function(t){for(var s="",s=n.IncludeHTTPPathDelimiter(this.FBase);t!==""&&e(t,1,1)==="/";)t=e(t,2,t.length-1);return s=this.FBase+t,s}}),rtl.createClass(this,"TRoute",O,function(){v=this,this.$init=function(){O.$init.call(this),this.FDefault=!1,this.FEvent=null,this.FURLPattern=""},this.$final=function(){this.FEvent=void 0,O.$final.call(this)},this.SetURLPattern=function(e){var t="",t=this.$class.NormalizeURLPattern(e);if(this.FURLPattern===t)return;this.FURLPattern=t},this.NormalizeURLPattern=function(e){var s="",t="",t=n.IncludeHTTPPathDelimiter(e);return t!=="/"&&t.charAt(0)==="/"&&i({get:function(){return t},set:function(e){t=e}},1,1),s=t,s},this.Matches=function(e){var t=!1,t=D(this.FURLPattern,this.$class.NormalizeURLPattern(e))===0;return t},this.MatchPattern=function(t,n){var s,o,a,r,d,u,h,m,p,y=this,l=!1;function f(e,t){var n=!1,n=t.length>0&&t.charAt(0)===e;return n}function v(e,t){var s=!1,n=0,n=t.length,s=n>0&&t.charAt(n-1)===e;return s}function j(t,n,s,o){var a=0;n.get()!==o&&(t.set(t.get()+n.get()),f(o,s.get())&&(t.set(t.get()+o),i(s,1,1))),a=c(o,s.get()),a===0&&(a=s.get().length+1),n.set(e(s.get(),1,a-1)),s.set(e(s.get(),a,2147483647))}function b(t,n,s,o){var a=0,r=0;n.get()!==o&&(s.set(n.get()+s.get()),r=t.get().length,v(o,t.get())&&(s.set(o+s.get()),i(t,r,1))),a=S(o,t.get()),n.set(e(t.get(),a+1,2147483647)),t.set(e(t.get(),1,a))}function g(e,t){n!=null&&n.SetValue(e,t)}if(m="",h="",o="",r="",u="",d="",a="",s="",p="",l=!1,this.FURLPattern==="")return l;m=t,h=this.FURLPattern,i({get:function(){return h},set:function(e){h=e}},c("?",h),2147483647),i({get:function(){return m},set:function(e){m=e}},c("?",m),2147483647),f("/",h)&&i({get:function(){return h},set:function(e){h=e}},1,1),f("/",m)&&i({get:function(){return m},set:function(e){m=e}},1,1),o="",u="",s="/",a="/",r=h,d=m;do{if(j({get:function(){return o},set:function(e){o=e}},{get:function(){return s},set:function(e){s=e}},{get:function(){return r},set:function(e){r=e}},"/"),j({get:function(){return u},set:function(e){u=e}},{get:function(){return a},set:function(e){a=e}},{get:function(){return d},set:function(e){d=e}},"/"),f(":",s))g(e(s,2,2147483647),a);else if(f("*",s)){p=e(s,2,2147483647),o=r,u=a+d,s="/",a="/",r="",d="",v("/",o)&&!v("/",u)&&i({get:function(){return o},set:function(e){o=e}},o.length,1);do{if(b({get:function(){return o},set:function(e){o=e}},{get:function(){return s},set:function(e){s=e}},{get:function(){return r},set:function(e){r=e}},"/"),b({get:function(){return u},set:function(e){u=e}},{get:function(){return a},set:function(e){a=e}},{get:function(){return d},set:function(e){d=e}},"/"),f(":",s))g(e(s,2,2147483647),a);else if(!(s===""&&o==="")&&s!==a)return l;if(o===""||u==="")return o===""&&(p!==""&&g(p,u+a),l=!0),l}while(!!1)}else if(s!==a)return l;if(r===""||d==="")return r===""&&d===""?l=!0:r==="/"&&(l=!0),l}while(!!1)return l};var t=this.$rtti;t.addProperty("Default",0,rtl.boolean,"FDefault","FDefault"),t.addProperty("URLPattern",2,rtl.string,"FURLPattern","SetURLPattern"),t.addProperty("Event",0,n.$rtti.TRouteEvent,"FEvent","FEvent")}),rtl.createClass(this,"TRouteList",z,function(){k=this,this.GetR=function(e){var t=null,t=rtl.as(this.GetItem(e),v);return t}}),rtl.recNewT(this,"TScrollParams",function(){x=this,this.selector="",this.$new=function(){var e=Object.create(this);return e.Position=a.$new(),e},this.$eq=function(e){return this.selector===e.selector&&this.Position.$eq(e.Position)},this.$assign=function(e){return this.selector=e.selector,this.Position.$assign(e.Position),this}}),rtl.createClass(this,"TRouter",f,function(){m=this,this.FService=null,this.FServiceClass=null,this.$init=function(){f.$init.call(this),this.FAfterRequest=null,this.FBeforeRequest=null,this.FHistory=null,this.FOnScroll=null,this.FRoutes=null},this.$final=function(){this.FAfterRequest=void 0,this.FBeforeRequest=void 0,this.FHistory=void 0,this.FOnScroll=void 0,this.FRoutes=void 0,f.$final.call(this)},this.GetHistory=function(){var e=null;return this.FHistory===null&&this.InitHistory(0,""),e=this.FHistory,e},this.CreateHTTPRoute=function(e,t,n){var s=null;return this.CheckDuplicate(t,n),s=e.$create("Create$1",[this.FRoutes]),s.SetURLPattern(t),s.FDefault=n,s},this.CreateRouteList=function(){var e=null,e=k.$create("Create$1",[v]);return e},this.CheckDuplicate=function(e,t){s=0,o=0,i=null,o=-1;for(var s,o,i,a=0,r=this.FRoutes.GetCount()-1;a<=r;a++)if(s=a,i=this.FRoutes.GetR(s),i.FDefault&&(o=s),i.Matches(e))throw u.$create("CreateFmt",[rtl.getResStr(n,"EDuplicateRoute"),j(18,e)]);if(t&&o!==-1)throw u.$create("CreateFmt",[rtl.getResStr(n,"EDuplicateDefaultRoute"),j(18,e)])},this.DoRouteRequest=function(e,t,n){var s=null,s=e;if(s!=null)s.HandleRequest(this,t,n);else throw u.$create("CreateFmt",["No route for URL: %s",j(18,t)]);return s},this.DoRouteRequest$1=function(e,t){var s=null,o="",n=null,o=e,n=E.$create("Create$1");try{s=this.GetRoute(o,n),t?this.Push(e):s=this.DoRouteRequest(s,o,n)}finally{n=rtl.freeLoc(n)}return s},this.Create$1=function(e){return f.Create$1.call(this,e),this.FRoutes=this.CreateRouteList(),this},this.Destroy=function(){M({p:this,get:function(){return this.p.FRoutes},set:function(e){this.p.FRoutes=e}}),f.Destroy.call(this)},this.InitHistory=function(e,n){M({p:this,get:function(){return this.p.FHistory},set:function(e){this.p.FHistory=e}});var s=e;s===1?this.FHistory=F.$create("Create$2",[this,n]):s===2?this.FHistory=_.$create("Create$2",[this,n]):s===3?this.FHistory=y.$create("Create$2",[this,n]):s===0&&(t.supportsPushState()?this.FHistory=y.$create("Create$2",[this,n]):this.FHistory=_.$create("Create$2",[this,n])),this.FHistory.SetupListeners()},this.SanitizeRoute=function(e){var t="",t=e;return t},this.Service=function(){var e=null;return this.FService===null&&(m.FService=this.ServiceClass().$create("Create$1",[null])),e=this.FService,e},this.ServiceClass=function(){var e=null;return this.FServiceClass===null&&(m.FServiceClass=m),e=this.FServiceClass,e},this.RegisterRoute=function(e,t,n){var s=null,s=this.CreateHTTPRoute(C,e,n);return s.FEvent=t,s},this.FindHTTPRoute=function(e,t){for(var n=null,s=0,o="",o=this.$class.SanitizeRoute(e),n=null,s=0;n===null&&s<this.FRoutes.GetCount();)n=this.FRoutes.GetR(s),n.MatchPattern(o,t)||(n=null),s+=1;return n},this.GetRoute=function(e,t){var n=null,n=this.FindHTTPRoute(e,t);if(n==null)throw u.$create("Create$1",["Not found"]);return n},this.RouteRequest=function(e,t){var s=null,n="",n=e;return this.FBeforeRequest!=null&&this.FBeforeRequest(this,{get:function(){return n},set:function(e){n=e}}),s=this.DoRouteRequest$1(n,t),this.FAfterRequest!=null&&this.FAfterRequest(this,n),s},this.RouteFromURL=function(){var e="",e=this.GetCurrentLocation();return e!==""&&n.Router().RouteRequest(e,!0),e},this.GetCurrentLocation=function(){var e="",e=this.GetHistory().GetCurrentLocation();return e},this.Push=function(e){var t=0,t=this.GetHistory().Push(e);return t}}),rtl.createClass(this,"TWebScroll",l,function(){r=this,this.scrollToPosition=function(e){var n=null,t=a.$new();e.selector!==""?(n=document.querySelector(e.selector),n!=null?t.$assign(o.getElementPosition(n,a.$clone(e.Position))):t.$assign(e.Position)):t.$assign(e.Position),window.scrollTo(Math.round(t.X),Math.round(t.Y))},this.getScrollPosition=function(){var e=a.$new(),n="",t=void 0,n=this.GetStateKey();return e.X=0,e.Y=0,n!==""&&(t=o.positionStore[n],rtl.isObject(t)&&(e.X=rtl.getNumber(t.x),e.Y=rtl.getNumber(t.y))),e},this.SaveScrollPosition=function(){var e="",e=this.GetStateKey();e!==""&&(o.positionStore[e]=h(["x",window.scrollX,"y",window.scrollY]))},this.Setup=function(){window.history.replaceState(h(["key",this.GetStateKey()]),""),window.addEventListener("popstate",rtl.createSafeCallback(o,"DoScroll"))},this.handle=function(e,t,n){var o=a.$new(),i=x.$new();if(e.FOnScroll==null)return;o.$assign(this.getScrollPosition()),i.$assign(e.FOnScroll(e,t,n,a.$clone(o))),this.scrollToPosition(x.$clone(i))},this.GetStateKey=function(){var e="",e=(new Date).toString();return e}}),rtl.createClass(this,"TBrowserState",l,function(){t=this,this.TheKey="",this.GenKey=function(){var e="",e=L(Date.now());return e},this.supportsPushState=function(){var s=this,e=!1,n="";function t(e){var t=!1,t=c(e,n)!==0;return t}return e=!1,g(window)&&g(window.navigator)&&(n=window.navigator.userAgent,e=!(t("Android 2.")||t("Android 4.0")||t("Mobile Safari")||t("Chrome")||t("Windows Phone"))),e&&(e=g(window.history)&&g(window.history)),e},this.GetStateKey=function(){var e="";return this.TheKey===""&&(t.TheKey=this.GenKey()),e=this.TheKey,e},this.SetStateKey=function(e){t.TheKey=e},this.PushState=function(e,t){var n=null;r.SaveScrollPosition();try{t||this.SetStateKey(this.GenKey()),n=h(["key",this.GetStateKey()]),t?window.history.replaceState(n,"",e):window.history.pushState(n,"",e)}catch{t?window.location.replace(e):window.location.assign(e)}},this.ReplaceState=function(e){this.PushState(e,!0)}}),this.Router=function(){var e=null,e=m.Service();return e},this.IncludeHTTPPathDelimiter=function(t){var n="";return e(t,t.length,1)==="/"?n=t:n=t+"/",n},n.$implcode=function(){A=pas.strutils,S=A.RPos,w=pas.JS,h=w.New,g=w.isDefined,rtl.createClass(o,"TRouteEventHandler",v,function(){C=this,this.HandleRequest=function(e,t,n){this.FEvent!=null&&this.FEvent(t,this,n)}}),o.DoScroll=function(){var t=!1;return r.SaveScrollPosition(),t=!0,t},o.positionStore=null,o.getElementPosition=function(e,t){var n=a.$new(),i=null,s=null,o=null,i=document.documentElement,s=i.getBoundingClientRect(),o=e.getBoundingClientRect();return n.X=o.left-s.left-t.X,n.Y=o.top-s.top-t.Y,n},n.$resourcestrings={EDuplicateRoute:{org:"Duplicate route pattern: %s"},EDuplicateDefaultRoute:{org:"Duplicate default route registered with pattern: %s"}}},n.$init=function(){o.positionStore=h([])}},["strutils","JS"]),rtl.module("program",["System","browserconsole","browserapp","JS","Classes","SysUtils","Web","models","DateUtils","webrouter","ajaxlib","jsonlib"],function(){"use strict";var e=this,a=null,r=pas.browserapp,n=r.TBrowserApplication,o=pas.SysUtils,i=o.QuotedStr,s=o.FormatDateTime,c=pas.webrouter,t=c.Router,l=pas.models,d=l.TWebsiteDB,u=pas.ajaxlib,h=u.TJSONRequest;rtl.createClass(this,"TMyHomePage",n,function(){a=this,this.$init=function(){n.$init.call(this),this.FDatabase=null,this.FSettings=null,this.FSiteTitle=""},this.$final=function(){this.FDatabase=void 0,this.FSettings=void 0,n.$final.call(this)},this.HandleRoute=function(e){var s=0;if(this.FDatabase.SetFilter("Path="+i(e,"'")),this.FDatabase.GetDataSet().FEOF){this.GetHTMLElement("title").innerHTML=this.FSiteTitle,document.title="Resource not found",this.GetHTMLElement("modified").innerHTML="An error has occured.",this.GetHTMLElement("content").innerHTML="<h1>Resource not found.</h1>";return}this.GetHTMLElement("title").innerHTML=this.FDatabase.GetStrings("Title"),this.FDatabase.GetStrings("Title")!==this.FSiteTitle&&(document.title=this.FDatabase.GetStrings("Title")+" :: "+this.FSiteTitle),this.GetHTMLElement("modified").innerHTML=this.GetDateInfo(),s=this.FDatabase.GetInts("ContentType"),this.GetHTMLElement("content").innerHTML=this.RenderContent(s),s>99&&s<200?window.hljs.initHighlighting():s===50?window.eval(this.FDatabase.GetStrings("Content")):s===51?window.eval("window.brython({pythonpath:['/pyapi']});"):s===52&&window.startApple2()},this.GetDateInfo=function(){var t="",n=0,t=s(e.DATE_FORMAT,this.FDatabase.GetDates("Created")),n=this.FDatabase.GetDates("Modified")-this.FDatabase.GetDates("Created");return n>=1&&(t="<b>Created on</b> "+t+"<br/><b>Last Updated on</b> "+s(e.DATE_FORMAT,this.FDatabase.GetDates("Modified"))),t},this.CodeHighlight=function(e,t){var n="",n='<pre><code class="language-'+e+'">'+t+"</code></pre>";return n},this.RenderContent=function(e){var t="",n=e;return n===0?t=this.FDatabase.GetStrings("Content"):n===1?t=window.marked.parse(this.FDatabase.GetStrings("Content")):n===50?t="Loading JavaScript Application, please wait...":n===51?t='<script type="text/python">'+this.FDatabase.GetStrings("Content")+"<\/script>":n===52?t='<script type="text/applesoft-basic">'+this.FDatabase.GetStrings("Content")+"<\/script>":n===100?t=this.CodeHighlight("pascal",this.FDatabase.GetStrings("Content")):n===101?t=this.CodeHighlight("bash",this.FDatabase.GetStrings("Content")):n===102?t=this.CodeHighlight("python",this.FDatabase.GetStrings("Content")):n===103?t=this.CodeHighlight("ruby",this.FDatabase.GetStrings("Content")):n===104?t=this.CodeHighlight("c",this.FDatabase.GetStrings("Content")):n===105?t=this.CodeHighlight("makefile",this.FDatabase.GetStrings("Content")):n===106?t=this.CodeHighlight("javascript",this.FDatabase.GetStrings("Content")):t="<b>Unknown Content-Type!</b>",t},this.HandleRequest=function(){!1&&this.GetContent("/NaR"),t().InitHistory(2,""),t().RegisterRoute("*",rtl.createCallback(this,"HandleRoute"),!1),this.AfterInit(!1)},this.ConfigureSite=function(e){this.FSiteTitle=e.GetString("title"),this.SettingFailed(null)},this.SettingFailed=function(){this.FDatabase=d.$create("Create$1",[this]),this.HandleRequest()},this.DoRun=function(){this.FSiteTitle="Puter Blogger",this.FSettings=h.$create("Create$2",[this,"get","settings.json"]),this.FSettings.SetJSONCallback(rtl.createCallback(this,"ConfigureSite")),this.FSettings.FOnJSONError=rtl.createCallback(this,"SettingFailed"),this.FSettings.DoRequest()},this.GetContent=function(e){var t="";return this.FDatabase.SetFilter("Path="+i(e,"'")),this.FDatabase.GetDataSet().FEOF?t="":t=this.RenderContent(this.FDatabase.GetInts("ContentType")),t},this.AfterInit=function(){t().RouteFromURL()===""&&t().Push("/index")}}),this.DATE_FORMAT='dddd mmmm d, yyyy "at" hh:nn',this.Application=null,e.$main=function(){e.Application=a.$create("Create$1",[null]),e.Application.Initialize(),e.Application.Run()}}),initAPI=function(){window.GetContent=rtl.createSafeCallback(pas.program.Application,"GetContent"),AfterInit=rtl.createSafeCallback(pas.program.Application,"AfterInit")},SetTitle=function(e){document.getElementById("title").innerHTML=e},SetContent=function(e){document.getElementById("content").innerHTML=e}