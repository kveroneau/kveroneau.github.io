var pas={$libimports:{}},rtl={version:20200,quiet:!1,debug_load_units:!1,debug_rtti:!1,$res:{},debug:function(){if(rtl.quiet||!console||!console.log)return;console.log(arguments)},error:function(e){throw rtl.debug("Error: ",e),e},warn:function(e){rtl.debug("Warn: ",e)},checkVersion:function(e){if(rtl.version!=e)throw"expected rtl version "+e+", but found "+rtl.version},hiInt:Math.pow(2,53),hasString:function(e){return rtl.isString(e)&&e.length>0},isArray:function(e){return Array.isArray(e)},isFunction:function(e){return typeof e=="function"},isModule:function(e){return rtl.isObject(e)&&rtl.hasString(e.$name)&&pas[e.$name]===e},isImplementation:function(e){return rtl.isObject(e)&&rtl.isModule(e.$module)&&e.$module.$impl===e},isNumber:function(e){return typeof e=="number"},isObject:function(e){var t=typeof e;return typeof e=="object"&&e!=null},isString:function(e){return typeof e=="string"},getNumber:function(e){return typeof e=="number"?e:NaN},getChar:function(e){return typeof e=="string"&&e.length===1?e:""},getObject:function(e){return typeof e=="object"||typeof e=="function"?e:null},isTRecord:function(e){return rtl.isObject(e)&&e.hasOwnProperty("$new")&&typeof e.$new=="function"},isPasClass:function(e){return rtl.isObject(e)&&e.hasOwnProperty("$classname")&&rtl.isObject(e.$module)},isPasClassInstance:function(e){return rtl.isObject(e)&&rtl.isPasClass(e.$class)},hexStr:function(e,t){return("000000000000000"+e.toString(16).toUpperCase()).slice(-t)},m_loading:0,m_loading_intf:1,m_intf_loaded:2,m_loading_impl:3,m_initializing:4,m_initialized:5,module:function(e,t,n,s){rtl.debug_load_units&&rtl.debug('rtl.module name="'+e+'" intfuses='+t+" impluses="+s),rtl.hasString(e)||rtl.error('invalid module name "'+e+'"'),rtl.isArray(t)||rtl.error('invalid interface useslist of "'+e+'"'),rtl.isFunction(n)||rtl.error('invalid interface code of "'+e+'"'),s!=null&&!rtl.isArray(s)&&rtl.error('invalid implementation useslist of "'+e+'"'),pas[e]&&rtl.error('module "'+e+'" is already registered');var o=Object.create(rtl.tSectionRTTI),i=o.$module=pas[e]={$name:e,$intfuseslist:t,$impluseslist:s,$state:rtl.m_loading,$intfcode:n,$implcode:null,$impl:null,$rtti:o};s&&(i.$impl={$module:i,$rtti:o})},exitcode:0,run:function(e){try{rtl.hasString(e)||(e="program"),rtl.debug_load_units&&rtl.debug('rtl.run module="'+e+'"'),rtl.initRTTI();var n,t=pas[e];t||rtl.error('rtl.run module "'+e+'" missing'),rtl.loadintf(t),rtl.loadimpl(t),(e=="program"||e=="library")&&(rtl.debug_load_units&&rtl.debug("running $main"),n=pas[e].$main(),rtl.isNumber(n)&&(rtl.exitcode=n))}catch(e){if(!rtl.showUncaughtExceptions)throw e;rtl.handleUncaughtException(e)||(rtl.showException(e),rtl.exitcode=216)}return rtl.exitcode},showException:function(e){var t=rtl.hasString(e.$classname)?e.$classname:"";t+=(t?": ":"")+(e.hasOwnProperty("fMessage")?e.fMessage:e),alert("Uncaught Exception : "+t)},handleUncaughtException:function(e){if(rtl.onUncaughtException)try{return rtl.onUncaughtException(e),!0}catch{return!1}else return!1},loadintf:function(e){if(e.$state>rtl.m_loading_intf)return;rtl.debug_load_units&&rtl.debug('loadintf: "'+e.$name+'"'),e.$state===rtl.m_loading_intf&&rtl.error('unit cycle detected "'+e.$name+'"'),e.$state=rtl.m_loading_intf,rtl.loaduseslist(e,e.$intfuseslist,rtl.loadintf),rtl.debug_load_units&&rtl.debug('loadintf: run intf of "'+e.$name+'"'),e.$intfcode(e.$intfuseslist),e.$state=rtl.m_intf_loaded},loaduseslist:function(e,t,n){if(t==null)return;for(var s,i=t.length,o=0;o<i;o++)s=t[o],rtl.debug_load_units&&rtl.debug('loaduseslist of "'+e.$name+'" uses="'+s+'"'),pas[s]==void 0&&rtl.error('module "'+e.$name+'" misses "'+s+'"'),n(pas[s])},loadimpl:function(e){if(e.$state>=rtl.m_loading_impl)return;e.$state<rtl.m_intf_loaded&&rtl.error('loadimpl: interface not loaded of "'+e.$name+'"'),rtl.debug_load_units&&rtl.debug('loadimpl: load uses of "'+e.$name+'"'),e.$state=rtl.m_loading_impl,rtl.loaduseslist(e,e.$impluseslist,rtl.loadintf),rtl.loaduseslist(e,e.$intfuseslist,rtl.loadimpl),rtl.loaduseslist(e,e.$impluseslist,rtl.loadimpl),rtl.debug_load_units&&rtl.debug('loadimpl: run impl of "'+e.$name+'"'),rtl.isFunction(e.$implcode)&&e.$implcode(e.$impluseslist),rtl.debug_load_units&&rtl.debug('loadimpl: run init of "'+e.$name+'"'),e.$state=rtl.m_initializing,rtl.isFunction(e.$init)&&e.$init(),e.$state=rtl.m_initialized},createCallback:function(e,t){var n;if(typeof t=="string"){if(e.hasOwnProperty("$events")||(e.$events={}),n=e.$events[t],n)return n;e.$events[t]=n=function(){return e[t].apply(e,arguments)}}else n=function(){return t.apply(e,arguments)};return n.scope=e,n.fn=t,n},createSafeCallback:function(e,t){var n;if(typeof t=="string"){if(e.hasOwnProperty("$events")||(e.$events={}),n=e.$events[t],n)return n;e.$events[t]=n=function(){try{return e[t].apply(e,arguments)}catch(e){if(!rtl.handleUncaughtException(e))throw e}}}else n=function(){try{return t.apply(e,arguments)}catch(e){if(!rtl.handleUncaughtException(e))throw e}};return n.scope=e,n.fn=t,n},eqCallback:function(e,t){return e===t||e!=null&&t!=null&&e.fn&&e.scope===t.scope&&e.fn===t.fn},initStruct:function(e,t,n){return t.$module&&t.$module.$impl===t&&(t=t.$module),e.$parent=t,rtl.isModule(t)?(e.$module=t,e.$name=n):(e.$module=t.$module,e.$name=t.$name+"."+n),t},initClass:function(e,t,n,s,o){t[n]=e,e.$class=e,e.$classname=o||n,t=rtl.initStruct(e,t,n),e.$fullname=t.$name+"."+n,rtl.debug_rtti&&rtl.debug("initClass "+e.$fullname);var i=e.$module.$rtti.$Class(e.$classname,{class:e});e.$rtti=i,rtl.isObject(e.$ancestor)&&(i.ancestor=e.$ancestor.$rtti),i.ancestor||(i.ancestor=null),s.call(e)},createClass:function(e,t,n,s,o){var i=null;n!=null?(i=Object.create(n),i.$ancestor=n):(i={$ancestor:null},i.$create=function(e,t){t==null&&(t=[]);var n=Object.create(this);n.$init();try{typeof e=="string"?n[e].apply(n,t):e.apply(n,t),n.AfterConstruction()}catch(e){throw n.Destroy&&n.Destroy(),n.$final(),e}return n},i.$destroy=function(e){this.BeforeDestruction(),this[e]&&this[e](),this.$final()}),rtl.initClass(i,e,t,s,o)},createClassExt:function(e,t,n,s,o,i){var r=rtl.isFunction(n),a=null;if(r?(a=Object.create(n.prototype),a.$ancestorfunc=n,a.$ancestor=null):n.$func?(r=!0,a=Object.create(n),a.$ancestor=n):(a=Object.create(n),a.$ancestor=null),a.$create=function(e,t){t==null&&(t=[]);var n=null;s.length>0?n=this[s](e,t):r?n=new this.$func(t):n=Object.create(a),n.$init&&n.$init();try{typeof e=="string"?this[e].apply(n,t):e.apply(n,t),n.AfterConstruction&&n.AfterConstruction()}catch(e){throw n.Destroy&&n.Destroy(),n.$final&&n.$final(),e}return n},a.$destroy=function(e){this.BeforeDestruction&&this.BeforeDestruction(),this[e]&&this[e](),this.$final&&this.$final()},rtl.initClass(a,e,t,o,i),r){function c(){}c.prototype=a,a.$func=c}},createHelper:function(e,t,n,s,o){var a,i=null;n!=null?(i=Object.create(n),i.$ancestor=n):i={$ancestor:null},e[t]=i,i.$class=i,i.$classname=o||t,e=rtl.initStruct(i,e,t),i.$fullname=e.$name+"."+t,a=i.$module.$rtti.$Helper(i.$classname,{helper:i}),i.$rtti=a,rtl.isObject(n)&&(a.ancestor=n.$rtti),a.ancestor||(a.ancestor=null),s.call(i)},tObjectDestroy:"Destroy",free:function(e,t){if(e[t]==null)return null;e[t].$destroy(rtl.tObjectDestroy),e[t]=null},freeLoc:function(e){return e==null?null:(e.$destroy(rtl.tObjectDestroy),null)},hideProp:function(e,t,n){Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0}),arguments.length>2&&(e[t]=n)},recNewT:function(e,t,n,s){var i,o={};return e&&(e[t]=o),i=rtl.hideProp,s&&(rtl.initStruct(o,e,t),o.$record=o,i(o,"$record"),i(o,"$name"),i(o,"$parent"),i(o,"$module"),i(o,"$initSpec")),n.call(o),o.$new||(o.$new=function(){return Object.create(o)}),o.$clone=function(e){return o.$new().$assign(e)},i(o,"$new"),i(o,"$clone"),i(o,"$eq"),i(o,"$assign"),o},is:function(e,t){return t.isPrototypeOf(e)||e===t},isExt:function(e,t,n){return e!=null&&!(typeof t!="object"&&typeof t!="function")&&(e===t?n!==1&&(n!==2||rtl.isPasClass(e)):t.isPrototypeOf&&t.isPrototypeOf(e)?n===1?rtl.isPasClassInstance(e):n!==2||rtl.isPasClass(e):typeof t=="function"&&e instanceof t)},Exception:null,EInvalidCast:null,EAbstractError:null,ERangeError:null,EIntOverflow:null,EPropWriteOnly:null,raiseE:function(e){var n,t=rtl[e];if(t==null&&(n=pas.SysUtils,n||(n=pas.sysutils),n&&(t=n[e],t||(t=n[e.toLowerCase()]),t||(t=n.Exception),t||(t=n.exception))),t){if(t.Create)throw t.$create("Create");if(t.create)throw t.$create("create")}throw e==="EInvalidCast"?"invalid type cast":e==="EAbstractError"?"Abstract method called":e==="ERangeError"?"range error":e},as:function(e,t){if(e===null||rtl.is(e,t))return e;rtl.raiseE("EInvalidCast")},asExt:function(e,t,n){if(e===null||rtl.isExt(e,t,n))return e;rtl.raiseE("EInvalidCast")},createInterface:function(e,t,n,s,o,i){var r,a=o?Object.create(o):{};return e[t]=a,a.$module=e,a.$name=t,a.$fullname=e.$name+"."+t,a.$guid=n,a.$guidr=null,a.$names=s||[],rtl.isFunction(i)&&(rtl.debug_rtti&&rtl.debug("createInterface "+a.$fullname),r=a.$module.$rtti.$Interface(t,{interface:a,module:e}),a.$rtti=r,o&&(r.ancestor=o.$rtti),r.ancestor||(r.ancestor=null),i.call(a)),a},strToGUIDR:function(e,t){var o,n=0;function s(t){var s=e.substr(n,t);return n+=t,parseInt(s,16)}n+=1,t.D1=s(8),n+=1,t.D2=s(4),n+=1,t.D3=s(4),n+=1,t.D4||(t.D4=[]),t.D4[0]=s(2),t.D4[1]=s(2),n+=1;for(o=2;o<8;o++)t.D4[o]=s(2);return t},guidrToStr:function(e){if(e.$intf)return e.$intf.$guid;for(var t=rtl.hexStr,n="{"+t(e.D1,8)+"-"+t(e.D2,4)+"-"+t(e.D3,4)+"-"+t(e.D4[0],2)+t(e.D4[1],2)+"-",s=2;s<8;s++)n+=t(e.D4[s],2);return n+="}",n},createTGUID:function(e){var t=pas.System?pas.System.TGuid:pas.system.tguid,n=rtl.strToGUIDR(e,t.$new());return n},getIntfGUIDR:function(e){if(!e)return null;if(!e.$guidr){var t=rtl.createTGUID(e.$guid);e.hasOwnProperty("$guid")||(e=Object.getPrototypeOf(e)),t.$intf=e,e.$guidr=t}return e.$guidr},addIntf:function(e,t,n){function l(e){return typeof e=="function"?function(){return e.apply(this.$o,arguments)}:function(){rtl.raiseE("EAbstractError")}}n||(n={});var o,i,a,r,s=t,c=Object.create(s);e.hasOwnProperty("$intfmaps")||(e.$intfmaps={}),e.$intfmaps[t.$guid]=c;do{if(o=s.$names,!o)break;for(i=0;i<o.length;i++)a=o[i],r=n[a],r||(r=a),c[a]=l(e[r]);s=Object.getPrototypeOf(s)}while(s!=null)},getIntfG:function(e,t,n){if(!e)return null;var s,o,i,a=e.$intfmaps;if(!a)return null;if(o=a[t],!o)return null;if(typeof o=="function")return o.call(e);if(s=null,e.$interfaces&&(s=e.$interfaces[t]),s||(s=Object.create(o),s.$o=e,e.$interfaces||(e.$interfaces={}),e.$interfaces[t]=s),typeof n=="object")return i=null,s.QueryInterface(rtl.getIntfGUIDR(n),{get:function(){return i},set:function(e){i=e}})===0?i:null;else n===2&&s.$kind==="com"&&s._AddRef();return s},getIntfT:function(e,t){return rtl.getIntfG(e,t.$guid)},queryIntfT:function(e,t){return rtl.getIntfG(e,t.$guid,t)},queryIntfIsT:function(e,t){var n=rtl.getIntfG(e,t.$guid);return!!n&&(n.$kind==="com"&&n._Release(),!0)},asIntfT:function(e,t){var n=rtl.getIntfG(e,t.$guid);if(n!==null)return n;rtl.raiseEInvalidCast()},intfIsIntfT:function(e,t){return e!==null&&rtl.queryIntfIsT(e.$o,t)},intfAsIntfT:function(e,t){if(!e)return null;var n=rtl.getIntfG(e.$o,t.$guid);if(n)return n;rtl.raiseEInvalidCast()},intfIsClass:function(e,t){return e!=null&&rtl.is(e.$o,t)},intfAsClass:function(e,t){return e==null?null:rtl.as(e.$o,t)},intfToClass:function(e,t){return e!==null&&rtl.is(e.$o,t)?e.$o:null},intfRefs:{ref:function(e,t){var n=this[e];return n&&(delete this[e],n._Release()),t&&(this[e]=t),t},free:function(){for(e in this)if(this.hasOwnProperty(e)){var e,t=this[e];t&&t._Release()}}},createIntfRefs:function(){return Object.create(rtl.intfRefs)},setIntfP:function(e,t,n,s){var o=e[t];if(o===n)return;o!==null&&(e[t]=null,o._Release()),n!==null&&(s||n._AddRef(),e[t]=n)},setIntfL:function(e,t,n){return e!==t?(t!==null&&(n||t._AddRef()),e!==null&&e._Release()):n&&e!==null&&e._Release(),t},_AddRef:function(e){return e&&e._AddRef(),e},_Release:function(e){return e&&e._Release(),e},trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)},checkMethodCall:function(e,t){if(rtl.isObject(e)&&rtl.is(e,t))return;rtl.raiseE("EInvalidCast")},oc:function(e){if(Math.floor(e)===e&&e>=-0x1fffffffffffff&&e<=0x1fffffffffffff)return e;rtl.raiseE("EIntOverflow")},rc:function(e,t,n){if(Math.floor(e)===e&&e>=t&&e<=n)return e;rtl.raiseE("ERangeError")},rcc:function(e,t,n){if(typeof e=="string"&&e.length===1){var s=e.charCodeAt(0);if(s>=t&&s<=n)return e}rtl.raiseE("ERangeError")},rcSetCharAt:function(e,t,n){return(typeof e!="string"||t<0||t>=e.length)&&rtl.raiseE("ERangeError"),rtl.setCharAt(e,t,n)},rcCharAt:function(e,t){return(typeof e!="string"||t<0||t>=e.length)&&rtl.raiseE("ERangeError"),e.charAt(t)},rcArrR:function(e,t){if(Array.isArray(e)&&typeof t=="number"&&t>=0&&t<e.length){if(arguments.length>2){e=e[t];for(var n=2;n<arguments.length;n++)e=rtl.rcArrR(e,arguments[n]);return e}return e[t]}rtl.raiseE("ERangeError")},rcArrW:function(e,t,n){for(var s=3;s<arguments.length;s++)e=rtl.rcArrR(e,t),t=arguments[s-1],n=arguments[s];if(Array.isArray(e)&&typeof t=="number"&&t>=0&&t<e.length)return e[t]=n;rtl.raiseE("ERangeError")},length:function(e){return e==null?0:e.length},arrayRef:function(e){return e!=null&&rtl.hideProp(e,"$pas2jsrefcnt",1),e},arraySetLength:function(e,t){d=[],h=9999;for(s=2;s<arguments.length;s++)m=arguments[s],m==="s"?h=s-2:d.push({dim:m+0,a:null,i:0,src:null});var s,d,h,m,f=d.length-1,a=0,r=0,i=null,o=null,c=e,l=0,u=0;do{if(a>0&&(i=d[a-1],c=i.src&&i.src.length>i.i?i.src[i.i]:null),c?c.$pas2jsrefcnt>0||a>=h?(o=[],l=c.length,u=l):(o=c,l=0,u=o.length):(o=[],l=0,u=0),r=d[a].dim,o.length=r,a>0&&(i.a[i.i]=o,i.i++,r===0&&i.i<i.a.length))continue;if(r>0){if(a<f){i=d[a],i.a=o,i.i=0,i.src=c,a++;continue}if(l>r&&(l=r),rtl.isArray(t)){for(s=0;s<l;s++)o[s]=c[s];for(s=u;s<r;s++)o[s]=[]}else if(rtl.isObject(t))if(rtl.isTRecord(t)){for(s=0;s<l;s++)o[s]=t.$clone(c[s]);for(s=u;s<r;s++)o[s]=t.$new()}else{for(s=0;s<l;s++)o[s]=rtl.refSet(c[s]);for(s=u;s<r;s++)o[s]={}}else{for(s=0;s<l;s++)o[s]=c[s];for(s=u;s<r;s++)o[s]=t}}for(;a>0&&d[a-1].i>=d[a-1].dim;)a--;if(a===0)return f===0?o:d[0].a}while(!0)},arrayEq:function(e,t){if(e===null)return t===null;if(t===null)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},arrayClone:function(e,t,n,s,o,i){if(e==="refSet")for(;n<s;n++)o[i++]=rtl.refSet(t[n]);else if(rtl.isTRecord(e))for(;n<s;n++)o[i++]=e.$clone(t[n]);else for(;n<s;n++)o[i++]=t[n]},arrayConcat:function(e){for(var t,o=[],s=0,n=1;n<arguments.length;n++)t=arguments[n],t!==null&&(s+=t.length);o.length=s,s=0;for(n=1;n<arguments.length;n++){if(t=arguments[n],t===null)continue;rtl.arrayClone(e,t,0,t.length,o,s),s+=t.length}return o},arrayConcatN:function(){for(var t,e=null,n=0;n<arguments.length;n++){if(t=arguments[n],t===null)continue;e===null?e=rtl.arrayRef(t):e=e.concat(t)}return e},arrayCopy:function(e,t,n,s){if(t===null)return[];n<0&&(n=0),s===void 0&&(s=t.length);var i,o=n+s;return o>t.length&&(o=t.length),n>=o?[]:e===0?t.slice(n,o):(i=[],i.length=o-n,rtl.arrayClone(e,t,n,o,i,0),i)},arrayInsert:function(e,t,n){return t?(t.splice(n,0,e),t):[e]},setCharAt:function(e,t,n){return e.substr(0,t)+n+e.substr(t+1)},getResStr:function(e,t){var n=e.$resourcestrings[t];return n.current?n.current:n.org},createSet:function(){for(var t,s,o,n={},e=0;e<arguments.length;e++)if(arguments[e]!=null)n[arguments[e]]=!0;else{s=arguments[e+=1],o=arguments[e+=1];for(t=s;t<=o;t++)n[t]=!0}return n},cloneSet:function(e){var n,t={};for(n in e)t[n]=!0;return t},refSet:function(e){return rtl.hideProp(e,"$shared",!0),e},includeSet:function(e,t){return e.$shared&&(e=rtl.cloneSet(e)),e[t]=!0,e},excludeSet:function(e,t){return e.$shared&&(e=rtl.cloneSet(e)),delete e[t],e},diffSet:function(e,t){var s,n={};for(s in e)t[s]||(n[s]=!0);return n},unionSet:function(e,t){var s,n={};for(s in e)n[s]=!0;for(s in t)n[s]=!0;return n},intersectSet:function(e,t){var s,n={};for(s in e)t[s]&&(n[s]=!0);return n},symDiffSet:function(e,t){var n,s={};for(n in e)t[n]||(s[n]=!0);for(n in t)e[n]||(s[n]=!0);return s},eqSet:function(e,t){for(var n in e)if(!t[n])return!1;for(var n in t)if(!e[n])return!1;return!0},neSet:function(e,t){return!rtl.eqSet(e,t)},leSet:function(e,t){for(var n in e)if(!t[n])return!1;return!0},geSet:function(e,t){for(var n in t)if(!e[n])return!1;return!0},strSetLength:function(e,t){var n=e.length;if(n>t)return e.substring(0,t);if(e.repeat)return e+" ".repeat(t-n);for(;n<t;)e+=" ",n++;return e},spaceLeft:function(e,t){var n=e.length;if(n>=t)return e;if(e.repeat)return" ".repeat(t-n)+e;for(;n<t;)e=" "+e,n++;return e},floatToStr:function(e,t,n){if(arguments.length>2)return rtl.spaceLeft(e.toFixed(n),t);var n,o,i="",s=Math.abs(e);return s>1&&s<1e10||s>1e-10&&s<1?i="00":(s>1&&s<1e100||s<1e-10)&&(i="0"),arguments.length<2?t=24:t<9&&(t=9),n=t-8,o=(e>0?" ":"")+e.toExponential(n),o=o.replace(/e(.)/,"E$1"+i),rtl.spaceLeft(o,t)},valEnum:function(e,t,n){e=e.toLowerCase();for(var s in t)if(typeof s=="string"&&s.toLowerCase()===e)return n(0),t[s];return n(1),0},lw:function(e){return e<0?e+4294967296:e},and:function(e,t){var n=2147483648,s=2147483647,o=e/n&t/n,i=e&s&(t&s);return o*n+i},or:function(e,t){var n=2147483648,s=2147483647,o=e/n|t/n,i=e&s|t&s;return o*n+i},xor:function(e,t){var n=2147483648,s=2147483647,o=e/n^t/n,i=e&s^t&s;return o*n+i},shr:function(e,t){return e<0&&(e+=rtl.hiInt),e<2147483648?e>>t:t<=0?e:t>54?0:Math.floor(e/Math.pow(2,t))},shl:function(e,t){if(e<0&&(e+=rtl.hiInt),t<=0)return e;if(t>54)return 0;var n=e*Math.pow(2,t);return n<=rtl.hiInt?n:n%rtl.hiInt},initRTTI:function(){rtl.debug_rtti&&rtl.debug("initRTTI"),rtl.tTypeInfo={name:"tTypeInfo",kind:0,$module:null,attr:null};function e(e,t,n){n||(n=rtl.tTypeInfo),rtl.debug_rtti&&rtl.debug('initRTTI.newBaseTI "'+e+'" '+t+' ("'+n.name+'")');var s=Object.create(n);return s.name=e,s.kind=t,rtl[e]=s,s}function n(t,n,s,o){var i=e(t,1,rtl.tTypeInfoInteger);return i.minvalue=n,i.maxvalue=s,i.ordtype=o,i}e("tTypeInfoInteger",1),n("shortint",-128,127,0),n("byte",0,255,1),n("smallint",-32768,32767,2),n("word",0,65535,3),n("longint",-2147483648,2147483647,4),n("longword",0,4294967295,5),n("nativeint",-0x10000000000000,0xfffffffffffff,6),n("nativeuint",0,0xfffffffffffff,7),e("char",2),e("string",3),e("tTypeInfoEnum",4,rtl.tTypeInfoInteger),e("tTypeInfoSet",5),e("double",6),e("boolean",7),e("tTypeInfoProcVar",8),e("tTypeInfoMethodVar",9,rtl.tTypeInfoProcVar),e("tTypeInfoArray",10),e("tTypeInfoDynArray",11),e("tTypeInfoPointer",15);var t,o=e("pointer",15,rtl.tTypeInfoPointer);o.reftype=null,e("jsvalue",16),e("tTypeInfoRefToProcVar",17,rtl.tTypeInfoProcVar),rtl.tTypeMember={attr:null};function s(e,t){var n=Object.create(rtl.tTypeMember);n.name=e,n.kind=t,rtl[e]=n}s("tTypeMemberField",1),s("tTypeMemberMethod",2),s("tTypeMemberProperty",3),rtl.tTypeMembers={},t=e("tTypeInfoStruct",0),t.$addMember=function(e,t,n){if(rtl.debug_rtti){if(!rtl.hasString(e)||e.charAt()==="$")throw'invalid member "'+e+'", this="'+this.name+'"';if(!rtl.is(t,rtl.tTypeMember))throw'invalid ancestor "'+t+":"+t.name+'", "'+this.name+"."+e+'"';if(n!=null&&typeof n!="object")throw'invalid options "'+n+'", "'+this.name+"."+e+'"'}var o,s=Object.create(t);if(s.name=e,this.members[e]=s,this.names.push(e),rtl.isObject(n))for(o in n)n.hasOwnProperty(o)&&(s[o]=n[o]);return s},t.addField=function(e,t,n){var s=this.$addMember(e,rtl.tTypeMemberField,n);if(rtl.debug_rtti&&!rtl.is(t,rtl.tTypeInfo))throw'invalid type "'+t+'", "'+this.name+"."+e+'"';return s.typeinfo=t,this.fields.push(e),s},t.addFields=function(){for(var t,n,e=0;e<arguments.length;)t=arguments[e++],n=arguments[e++],e<arguments.length&&typeof arguments[e]=="object"?this.addField(t,n,arguments[e++]):this.addField(t,n)},t.addMethod=function(e,t,n,s,o,i){var a=this.$addMember(e,rtl.tTypeMemberMethod,i);return a.methodkind=t,a.procsig=rtl.newTIProcSig(n,s,o),this.methods.push(e),a},t.addProperty=function(e,t,n,s,o,i){var a=this.$addMember(e,rtl.tTypeMemberProperty,i);return a.flags=t,a.typeinfo=n,a.getter=s,a.setter=o,a.params=rtl.isArray(a.params)?rtl.newTIParams(a.params):null,this.properties.push(e),rtl.isString(a.stored)||(a.stored=""),a},t.getField=function(e){return this.members[this.fields[e]]},t.getMethod=function(e){return this.members[this.methods[e]]},t.getProperty=function(e){return this.members[this.properties[e]]},e("tTypeInfoRecord",12,rtl.tTypeInfoStruct),e("tTypeInfoClass",13,rtl.tTypeInfoStruct),e("tTypeInfoClassRef",14),e("tTypeInfoInterface",18,rtl.tTypeInfoStruct),e("tTypeInfoHelper",19,rtl.tTypeInfoStruct),e("tTypeInfoExtClass",20,rtl.tTypeInfoClass)},tSectionRTTI:{$module:null,$inherited:function(e,t,n){rtl.debug_rtti&&rtl.debug('tSectionRTTI.newTI "'+(this.$module?this.$module.$name:"(no module)")+'"."'+e+'" ('+t.name+") "+(n?"init":"forward"));var o,s=this[e];if(s){{if(!s.$forward)throw'duplicate type "'+e+'"';if(!t.isPrototypeOf(s))throw'typeinfo ancestor mismatch "'+e+'" ancestor="'+t.name+'" t.name="'+s.name+'"'}}else s=Object.create(t),s.name=e,s.$module=this.$module,this[e]=s;if(n){delete s.$forward;for(o in n)n.hasOwnProperty(o)&&(s[o]=n[o])}else s.$forward=!0;return s},$Scope:function(e,t,n){var s=this.$inherited(e,t,n);return s.members={},s.names=[],s.fields=[],s.methods=[],s.properties=[],s},$TI:function(e,t,n){var s=this.$inherited(e,rtl.tTypeInfo,n);return s.kind=t,s},$Int:function(e,t){return this.$inherited(e,rtl.tTypeInfoInteger,t)},$Enum:function(e,t){return this.$inherited(e,rtl.tTypeInfoEnum,t)},$Set:function(e,t){return this.$inherited(e,rtl.tTypeInfoSet,t)},$StaticArray:function(e,t){return this.$inherited(e,rtl.tTypeInfoArray,t)},$DynArray:function(e,t){return this.$inherited(e,rtl.tTypeInfoDynArray,t)},$ProcVar:function(e,t){return this.$inherited(e,rtl.tTypeInfoProcVar,t)},$RefToProcVar:function(e,t){return this.$inherited(e,rtl.tTypeInfoRefToProcVar,t)},$MethodVar:function(e,t){return this.$inherited(e,rtl.tTypeInfoMethodVar,t)},$Record:function(e,t){return this.$Scope(e,rtl.tTypeInfoRecord,t)},$Class:function(e,t){return this.$Scope(e,rtl.tTypeInfoClass,t)},$ClassRef:function(e,t){return this.$inherited(e,rtl.tTypeInfoClassRef,t)},$Pointer:function(e,t){return this.$inherited(e,rtl.tTypeInfoPointer,t)},$Interface:function(e,t){return this.$Scope(e,rtl.tTypeInfoInterface,t)},$Helper:function(e,t){return this.$Scope(e,rtl.tTypeInfoHelper,t)},$ExtClass:function(e,t){return this.$Scope(e,rtl.tTypeInfoExtClass,t)}},newTIParam:function(e){var t={name:e[0],typeinfo:e[1],flags:rtl.isNumber(e[2])?e[2]:0};return t},newTIParams:function(e){var t,n=[];if(rtl.isArray(e))for(t=0;t<e.length;t++)n.push(rtl.newTIParam(e[t]));return n},newTIProcSig:function(e,t,n){var s={params:rtl.newTIParams(e),resulttype:t||null,flags:n||0};return s},addResource:function(e){rtl.$res[e.name]=e},getResource:function(e){var t=rtl.$res[e];return t!==void 0?t:null},getResourceList:function(){return Object.keys(rtl.$res)}};rtl.addResource({name:"website",unit:"models",format:"application/javascript",encoding:"base64",data:"eyAibWV0YURhdGEiIDogeyAiZmllbGRzIiA6IFt7ICJuYW1lIiA6ICJJRCIsICJ0eXBlIiA6ICJpbnQiIH0sIHsgIm5hbWUiIDogIlBBVEgiLCAidHlwZSIgOiAic3RyaW5nIiB9LCB7ICJuYW1lIiA6ICJUSVRMRSIsICJ0eXBlIiA6ICJzdHJpbmciIH0sIHsgIm5hbWUiIDogIkNSRUFURUQiLCAidHlwZSIgOiAiZGF0ZSIgfSwgeyAibmFtZSIgOiAiTU9ESUZJRUQiLCAidHlwZSIgOiAiZGF0ZSIgfSwgeyAibmFtZSIgOiAiQ09OVEVOVFRZUEUiLCAidHlwZSIgOiAiaW50IiB9LCB7ICJuYW1lIiA6ICJDT05URU5UIiwgInR5cGUiIDogInN0cmluZyIgfV0sICJyb290IiA6ICJEYXRhIiB9LCAiRGF0YSIgOiBbeyAiSUQiIDogMywgIlBBVEgiIDogIi9pbmRleCIsICJUSVRMRSIgOiAia3Zlcm9uZWF1LmdpdGh1Yi5pbyIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTA1VDE4OjU1OjA0LjQ1NFoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDMtMjVUMjA6NTE6MjkuNjkyWiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiV2VsY29tZSB0byBteSBzbWFsbCBzcGFjZSBvbiAqR2l0SHViKiB3aGVyZSBJIGNhbiBzaG93Y2FzZSB2YXJpb3VzIHByb2dyYW1zIEkndmUgZG9uZSB3aXRoIGFueW9uZSB3aG9tIG1pZ2h0IGJlIGludGVyZXN0ZWQuXG5cbldoaWxlIHRoaXMgd2Vic2l0ZSBtaWdodCBsb29rIHNpbXBsZSBmcm9tIHRoZSBmaXJzdCBsb29rLCBpdCBpcyBpbmZhY3QgYSBkYXRhLWRyaXZlbiB3ZWJzaXRlIGJ1aWx0IHVzaW5nIFtPYmplY3QgUGFzY2FsXSgjL09iamVjdFBhc2NhbCksIGEgbGFuZ3VhZ2UgbW9zdCBwZW9wbGUgZGVlbWVkIGRlYWQgYnkgdGhlIGVhcmx5IDIwMDBzLiAgSXQgaXMgaW5kZWVkIHN0aWxsIHdlbGwgYW5kIGFsaXZlIGFuZCBiZWluZyB1cGRhdGVkIHdpdGggbWFueSBtb2Rlcm4gc3RhbmRhcmRzIHVudGlsIHRoaXMgdmVyeSBkYXkuICBJIGhpZ2hseSByZWNvbW1lbmQgdGFraW5nIGEgbG9vayBhdCB0aGUgc291cmNlIGNvZGUgZm9yIHRoaXMgd2Vic2l0ZSwgd2hpY2ggY2FuIGJlIGZvdW5kIG9uIG15IFtHaXRIdWJdKGh0dHBzOi8vZ2l0aHViLmNvbS9rdmVyb25lYXUva3Zlcm9uZWF1LmdpdGh1Yi5pbykuXG5cbllvdSBjYW4gZmluZCBhIFtzaXN0ZXIgc2l0ZV0oaHR0cHM6Ly9rdmVyb25lYXUucHV0ZXIuc2l0ZS8pIG9mIHRoaXMgb3ZlciBvbiBbUHV0ZXJdKCMvUHV0ZXIpLiAgSWYgeW91IGxpa2UgdG8gaGF2ZSBhIGJsb2cgd2hpY2ggd29ya3Mgc2ltaWxhciB0byB0aGlzIG9uZSBhbmQgY2FuIGJlIGFkbWluaXN0ZXJlZCBvdmVyIGEgSmF2YVNjcmlwdCBhcHBsaWNhdGlvbiBpbiB0aGUgUHV0ZXIgY2xvdWQsIHRoZW4gZ2l2ZSBbUHV0ZXJCbG9nZ2VyXShodHRwczovL3B1dGVyLmNvbS9hcHAvcHV0ZXJibG9nZ2VyKSBhIHRyeSB0b2RheSFcblxuWW91IGNhbiBsZWFybiBtb3JlIGFib3V0IFt0aGlzIHdlYnNpdGVdKCMvQWJvdXRTaXRlKSB0aGVyZS4gIFlvdSBtaWdodCBiZSBzdGFydGluZyB0byBhc2sgeW91cnNlbGYsIFwiV2hhdCB1cCB3aXRoIHRoaXMgd2Vic2l0ZT9cIiAgVGhhdCBpcyBhIGdyZWF0IGFuZCBtb3N0IG5hdHVyYWwgcXVlc3Rpb24gdG8gYmUgYXNraW5nLiAgRmlyc3RseSwgSSBkb24ndCBiZWxpZXZlIGluIG92ZXJ3aGVsbWluZyB0aGUgdXNlciB3aXRoIHRvbyBtdWNoLCBzbyBhcyBhIHJlc3VsdCwgdGhpcyB3ZWJzaXRlIHRha2VzIGEgKmh1Z2VseSBuYXR1cmFsKiB0YWtlIG9uIGNvbnRlbnQgZXhwbG9yYXRpb24gYW5kIGNvbnN1bXB0aW9uLCBhIG5vdmVsIGNvbmNlcHQgSSBrbm93LiAgUmF0aGVyIHRoYW4gbWFraW5nIGFsbCB0aGUgY29udGVudCBhdmFpbGFibGUgb24gdGhlIHdlYnNpdGUgYXZhaWxhYmxlIHJpZ2h0IGZyb20gdGhlIGdldC1nbywgaW5zdGVhZCB0aGUgd2Vic2l0ZSB3b3JrcyBtb3JlIG9yIHNvIGxpa2UgaG93IG9uZSB3b3VsZCBwbGF5IGEgdHlwaWNhbCBbWmVsZGFdKCMvWmVsZGEpIGdhbWUsIHdoZXJlYXMgdGhlIGdhbWUgd29ybGQgYmVjb21lcyB0byBvcGVuIHVwIGFzIHlvdSBiZWdpbiB0byBwcm9ncmVzcyBpbiB0aGUgc3RvcnkgdG8gZ2FpbiBuZXcgaXRlbXMgYW5kIGFiaWxpdGllcywgZW5mb3JjaW5nIHlvdSB0byB1c2UgdGhlc2UgbmV3IGFiaWxpdGllcyB0byBrZWVwIGJlaW5nIGN1cmlvdXMgYW5kIGV4cGxvcmluZyBwbGFjZXMgeW91IGNvdWxkbid0IHdpdGggeW91ciBwcmV2aW91cyBhYmlsaXRpZXMuICBUaGlzIHdlYnNpdGUgY2FuIGFsc28ga2VlcCB0cmFjayBvZiB3aGVyZSBleGFjdGx5IHlvdSBhcmUsIGFzIHlvdSB3aWxsIG5vdGljZSBieSB0aGUgKkxvY2F0aW9uKiBjaGFuZ2luZyBpbiB5b3VyIGJyb3dzZXIsIGFzIGEgcmVzdWx0LCBpZiB5b3UgZG8gZmluZCBhbiBhcnRpY2xlIHlvdSdkIGxvdmUgdG8gc2hhcmUgd2l0aCBhIGZyaWVuZCBvciBmYW1pbHksIG9yIHRvIGp1c3QgbWFrZSBmdW4gb2Ygb24gc29tZSBjb21tdW5pdHkgZm9ydW0gc29tZXBsYWNlIG9uIHRoZSBJbnRlcm5ldCwgdGhlbiBJIGltcGxvcmUgdGhhdCB5b3UganVzdCBoaXQgdGhhdCBzaGFyZSBidXR0b24gaW4geW91ciBicm93c2VyIGFuZCBzaGFyZSBpdCBhbW9uZyB5b3VyIHBlZXJzLiAgU2luY2UgbW9zdCBwZW9wbGUgYnJvd3NlIG9uIG1vYmlsZSBkZXZpY2VzIHRoZXNlIGRheXMsIHRoZSBlYXNlIG9mIHNoYXJpbmcgd2ViIGxpbmtzIHRvIHZhcmlvdXMgYXBwcyBhbmQgc2VydmljZXMgaGFzbid0IGJlZW4gZWFzaWVyLiAgVGhpcyB3ZWJzaXRlIGFsc28gY29tZXMgd2l0aCBhbm90aGVyIGJlbmVmaXQgbW9zdCB3ZWJzaXRlcyBjb3VsZCBuZXZlci4gIFRoZSBlbnRpcmUgd2Vic2l0ZSByaWdodCBub3cgYXMgeW91IGFyZSByZWFkaW5nIHRoaXMsIGlzIG5vdyBmdWxseSBkb3dubG9hZGVkIG9udG8geW91ciBkZXZpY2UgYW5kIDEwMCUgYXZhaWxhYmxlIG9mZmxpbmUgd2l0aCBubyBhZGRpdGlvbmFsIGVmZm9ydCBmcm9tIHlvdS4gIFRoaXMgbWVhbnMgdGhhdCBpZiB5b3Ugc28gaGFwcGVuIHRvIGJlIHJlYWRpbmcgdGhpcyBvbiBhbiBhZXJvcGxhbmUgd2l0aCBubyBXaUZpLCBvciBhcmUgdHJhdmVsbGluZyBpbiBhIFN1YndheSBzeXN0ZW0sIHlvdSBjYW4gZmVlbCByZXN0IGFzc3VyZWQgdGhhdCB5b3VyIG5leHQgY2xpY2sgb24gdGhpcyB3ZWJzaXRlKCphcyBsb25nIGFzIGl0J3MgYW4gaW50ZXJuYWwgbGluayopIHdpbGwgbG9hZCB3aXRob3V0IGFueSBpc3N1ZXMgb3IgcmVxdWlyZSBhbnkgYWRkaXRpb25hbCBjb25uZWN0aW9uIHRvIHRoZSBJbnRlcm5ldC4gIFRoZSBvdGhlciBhZHZhbnRhZ2UgdG8gdGhpcyBhcHByb2FjaCBpcyAqdXNlciBwcml2YWN5KiwgbWUsIG5vciBhbnlib2R5IGJ1dCB5b3Ugd2lsbCBrbm93IGV4YWN0bHkgd2hhdCBwYWdlcyBvbiB0aGlzIHdlYnNpdGUgeW91J3ZlIHNlZW4uICBBcyBubyBkYXRhIGFib3V0IHdoYXQgcGFnZSB5b3UgYXJlIGFib3V0IHRvIGxvYWQgaXMgZXZlciB0cmFuc21pdHRlZC5cblxuIyMjIyBIZXJlIGlzIGEgYmFzaWMgc2l0ZS1tYXAgdG8gZ2V0IHlvdSBzdGFydGVkIG9uIHlvdXIgZXhwbG9yYXRpb246XG5cbiAgKiBbUHJvamVjdHNdKCMvUHJvamVjdHMpXG4gICogW3hQcm9qZWN0IEY5XSgjL3hQcm9qZWN0LUY5KVxuICAqIFtJbnRyYVdlYl0oIy9JbnRyYVdlYilcbiAgKiBbQUkgaW4gUGFzY2FsXSgjL1Bhc2NhbEFJKVxuICAqIFtEb2NrZXIgU3R1ZmZdKCMvRG9ja2VyKVxuXG4jIyMjIExpbnV4IFRpcCBhbmQgVHJpY2tzOlxuXG4gICogW1ggV2luZG93IFN5c3RlbV0oIy9XaHlJTG92ZVgpXG5cblxuIiB9LCB7ICJJRCIgOiA0LCAiUEFUSCIgOiAiL09iamVjdFBhc2NhbCIsICJUSVRMRSIgOiAiT2JqZWN0UGFzY2FsIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMDVUMTk6MDM6NTEuODQ1WiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0yNVQyMzoxMDo0OC4yNDFaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJOb3cgeW91IGFyZSBwcm9iYWJseSBzY3JhdGNoaW5nIHlvdXIgaGVhZCBhc2tpbmcgeW91cnNlbGYsIFwiV2h5LCBJIGhhdmVuJ3QgaGVhcmQgYWJvdXQgKlBhc2NhbCogaW4gZGVjYWRlcywgd2h5IHdvdWxkIGFueWJvZHkgaW4gdGhlIHJpZ2h0IG1pbmQgYmUgd2FudGluZyB0byB1c2Ugc3VjaCBhbmNpZW50IHRlY2hub2xvZ3kgbXkgZ3JhbmRmYXRoZXIgb25jZSB1c2VkIG9uIGFuIG9sZCBtYWluZnJhbWUgY29tcHV0ZXIuXCJcblxuKk1vZGVybiBPYmplY3RQYXNjYWwqIGlzIGp1c3QgdGhhdCwgYSBtb2Rlcm4gdmVyc2lvbiBvZiB0aGUgUGFzY2FsIGxhbmd1YWdlIHdpdGggZnVsbCBPYmplY3QgT3JpZW50ZWQgcHJvZ3JhbW1pbmcgeW91IHNlZSBpbiBtb2Rlcm4gbGFuZ3VhZ2VzLiAgV2hhdCBpcyBhY3R1YWxseSBhbWF6aW5nIHRob3VnaCBpcyB0aGF0IE9iamVjdFBhc2NhbCBpcyBmdWxseSBiYWNrd2FyZHMgY29tcGF0aWJsZSB3aXRoIHJlZ3VsYXIgUGFzY2FsLCBpbmNsdWRpbmcgTVMtRE9TIFR1cmJvUGFzY2FsIHZlcnNpb25zLiAgWW91IGNhbiB0YWtlIG1vc3QgY29kZSB3cml0dGVuIGZvciBNUy1ET1MgQm9ybGFuZCBUdXJib1Bhc2NhbCA0LjAgYW5kIHVwIGFuZCBpdCB3aWxsIHVzdWFsbHkgY29tcGlsZSB3aXRoIGxpdHRsZSB0byBubyBlcnJvcnMgb24gdGhlIGZpcnN0IHRyeS4gIElmIHRoZSBwcm9ncmFtIHVzZXMgdGhlIGBncmFwaGAgdW5pdCwgdGhlbiBhIGZldyBzbGlnaHQgbW9kaWZpY2F0aW9ucyBkbyBuZWVkIHRvIGJlIG1hZGUsIG9yIGlmIHlvdSBkbyBydW4gaXQgb24gTGludXgsIHlvdSB3aWxsIG5lZWQgdG8gZG8gc28gaW4geW91ciBjb25zb2xlIGFuZCBvdXRzaWRlIG9mIFgxMS9XYXlsYW5kIHNvIHRoYXQgdGhlIHByb2dyYW0gY2FuIHNwZWFrIHdpdGggeW91ciB2aWRlbyBoYXJkd2FyZSBhcyBkaWQgdGhlIG9yaWdpbmFsIGBncmFwaGAgdW5pdC4gIE9uIFdpbmRvd3MgaXQgbWF5IG5vdCB3b3JrLCBhcyBjb25zb2xlIEVYRXMgd3JpdHRlbiBmb3IgV2luZG93cyBkbyBub3QgaGF2ZSBhY2Nlc3MgdG8gc3VjaCBhIGZyYW1lYnVmZmVyLCBidXQgaWYgeW91IGNvbXBpbGUgdGhlIHByb2dyYW0gZm9yIDMyLWJpdCBNUy1ET1MgR28zMiwgdGhlbiBpdCBzaG91bGQganVzdCB3b3JrLCBidXQgd2l0aCB0aGUgYWRkZWQgYmVuZWZpdCBvZiBub3cgYmVpbmcgMzItYml0IGluc3RlYWQgb2YgdGhlIDE2LWJpdCBwcm9ncmFtcyBUdXJib1Bhc2NhbCBnZW5lcmF0ZWQuICBIb3dldmVyLCBpdCBpcyBlbnRpcmVseSBwb3NzaWJsZSB0byBnZXQgdGhlc2UgYGdyYXBoYCBNUy1ET1MgcHJvZ3JhbXMgdG8gcnVuIG5hdGl2ZWx5IG9uIG1vZGVybiBvcGVyYXRpbmcgc3lzdGVtcyB1c2luZyB2YXJpb3VzIFthYnN0cmFjdGlvbl0oIy9BYnN0cmFjdGlvbikgdW5pdHMuICBJZiB5b3UgdGFrZSBhbnkgcHJvZ3JhbSB3aGljaCB1c2VzIHRoZSBgY3J0YCB1bml0LCB0aGUgc3RhbmRhcmQgdW5pdCB1c2VkIHRvIGNvbnRyb2wgdGhlICpjaGFyYWN0ZXIgZGlzcGxheSogYW5kIGNvbXBpbGUgaXQgb24gTGludXgsIGl0IHdpbGwgcnVuIHBlcmZlY3RseSBmaW5lIGFzIGEgTGludXggY29uc29sZSBhcHBsaWNhdGlvbiB3aGljaCBtYXkgYXQgZmlyc3QgYXBwZWFyIGxpa2UgaXQncyB1c2luZyBgbmN1cnNlc2AsIGJ1dCBpbnN0ZWFkIGl0J3Mgd3JpdGluZyAqcmF3IEFOU0kqIGNvZGVzIHRvIHRoZSB0ZXJtaW5hbCwgYW5kIHRodXMgaGFzIG5vIGV4dGVybmFsIGRlcGVuZGVuY2llcyBhbmQgcmV0YWlucyBhbG1vc3QgZnVsbCBjb21wYXRpYmlsaXR5IHdpdGggaXQncyBNUy1ET1MgY291bnRlcnBhcnQsIG1ha2luZyBwb3J0aW5nIHN1Y2ggZnVsbC1zY3JlZW4gdGV4dCBhcHBzIG92ZXIgdG8gYSBtb2Rlcm4gb3BlcmF0aW5nIHN5c3RlbSBhIGNha2Ugd2Fsay5cblxuIyMjIFdoeSBPYmplY3QgUGFzY2FsP1xuXG5XaHkgbm90PyAgSSB1c2VkICpUdXJibyBQYXNjYWwgNC4wKiB3aGVuIEkgd2FzIGFib3V0IDE3LCBidXQgd2FzIGFsd2F5cyBpbnRyaWd1ZWRcbmluIHRoZSBsYW5ndWFnZSBmb3IgbWFueSB5ZWFycyBwcmlvciB3aGVuIEkgbWV0IG15IHBhcmVudCdzIGZyaWVuZHMgd2hvbSB3ZXJlXG5pbiBlaXRoZXIgYSBzb2Z0d2FyZSBkZXZlbG9wbWVudCBqb2IsIG9yIHdlcmUgdGFraW5nIGNvbXB1dGVyIHNjaWVuY2UgaW4gdW5pdmVyc2l0eS5cblRoaXMgd2FzIGJhY2sgaW4gdGhlIGhleWRheSB3aGVuIEJvcmxhbmQgd2FzICoqdGhlKiogc29mdHdhcmUgZGV2ZWxvcG1lbnQga2l0IGtpbmcuXG5Nb2Rlcm4gZGF5IFBhc2NhbCBpcyBqdXN0IGFzIGZhc3Qgd2hlbiBpdCBjb21lcyBkb3duIHRvIGNvbXBpbGluZyB2ZXJ5IGxhcmdlXG5wcm9ncmFtcywgd2hpY2ggd2FzIG9uZSByZWFzb24gaXQgd2FzIGV4dHJlbWVseSBwb3B1bGFyIGluIHRoZSA4MHMgYW5kIDkwcy4gSW4gdGhlXG5tb2Rlcm4gZGF5IHdoZW4gY29tcGFyaW5nIGEgbGFyZ2UgT2JqZWN0UGFzY2FsIHByb2dyYW0gdG8gYSBDKysgcHJvZ3JhbSBpbiB0ZXJtc1xub2YgY29tcGlsZSB0aW1lLCBPYmplY3RQYXNjYWwgc3RpbGwgYmVhdHMgQysrLCBKYXZhLCBhbmQgbWFueSBvdGhlciBtb2Rlcm4gY29tcGlsaW5nXG5sYW5ndWFnZXMuICBIZXJlJ3MgYSBuaWNlIG92ZXJ2aWV3IG9mIHNvbWUgb2YgdGhlIGZlYXR1cmVzIGluIFBhc2NhbC9PYmplY3RQYXNjYWxcbkkgcmVhbGx5IGxpa2U6XG5cbiAgKiBVbml0IGZpbGVzIGFyZSBlYXNpZXIgdGhhbiBoZWFkZXIgZmlsZXNcbiAgKiBBbGwgdmFyaWFibGVzIGFyZSBkZWNsYXJlZCBpbiBhICprbm93biBsb2NhdGlvbipcbiAgKiBFYXNpbHkgc3VwcG9ydHMgYm90aCBzdHJ1Y3R1cmVkIGFuZCBvYmplY3QgcHJvZ3JhbW1pbmdcbiAgKiBFeHRyZW1lbHkgZWFzeSB0byB1c2Ugc3RhbmRhcmQgQyBsaWJyYXJpZXMsICoqaDJwYXMqKlxuICAqIE92ZXJhbGwgc3ludGF4IGlzIGEgcGxlYXN1cmUgdG8gd3JpdGUsIHJlYWQsIGFuZCB1bmRlcnN0YW5kXG4gICogSGFzIGEgdmVyeSBsYXJnZSBzdGFuZGFyZCBsaWJyYXJ5IGluY2x1ZGVkIG91dCBvZiB0aGUgYm94XG4gICogQ2FuIHRydWx5IGNyZWF0ZSBjb21waWxlZCBuYXRpdmUgY3Jvc3MtcGxhdGZvcm0gYmluYXJ5IHByb2dyYW1zXG4gICAgKiBJIGNhbm5vdCBzdGF0ZSB0aGlzIHBvaW50IGVub3VnaCwgaGFzIG1hbnkgdGFyZ2V0cyBhcyB3ZWxsLlxuICAqIEhhcyBhIHZlcnkgcG93ZXJmdWwgKlJBRCBJREUqIHRvIGRlc2lnbiBhbmQgZGV2ZWxvcCBjcm9zcy1wbGF0Zm9ybSBHVUkgYXBwcy5cbiAgKiBEZWxwaGkgWEUgY2FuIGFjdHVhbGx5IHR1cm4gYSBkZXNrdG9wIGFwcCBpbnRvIGEgbmF0aXZlIGlPUyBhbmQgQW5kcm9pZCBhcHAuXG4gICogRnVsbCBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3aXRoIHBhc3QgdmVyc2lvbnMsIGFsbCB0aGUgd2F5IGJhY2sgdG8gVHVyYm8gUGFzY2FsLlxuICAgICogTm8gb3RoZXIgcHJvZ3JhbW1pbmcgbGFuZ3VhZ2UgY2FuIHNheSB0aGF0IHRoZXkgYXJlIHRoaXMgYmFja3dhcmRzIGNvbXBhdGlibGUuXG4gICAgKiBZb3VyIGNvZGUgd2lsbCBhbHdheXMgcmUtY29tcGlsZSBpbiB0aGUgbGF0ZXN0IHZlcnNpb24gb2YgdGhlIGNvbXBpbGVyIVxuICAqIEFuZCBtdWNoIG1vcmUuLi5cblxuIyMjIENyb3NzLXBsYXRmb3JtIEdVSSBtYWRlIGVhc3lcblxuVGhpcyBpcyB3aGF0IHVsdGltYXRlbHkgbGVkIG1lIHRvIGRpdmUgYmFjayBpbnRvIFBhc2NhbCBvbmNlIGFnYWluIGluIG15IGFkdWx0XG55ZWFycy4gIE15IGhhcyBQYXNjYWwgZXZvbHZlZCwgbm90IG9ubHkgY2FuIEkgY29tcGlsZSBhIFR1cmJvIFBhc2NhbCA0LjAgcHJvZ3JhbVxuaW4gKipGcmVlUGFzY2FsKiosIGJ1dCBJIGNhbiBhbHNvIGNvbXBpbGUgbW9kZXJuICoqRGVscGhpKiogYW5kICoqT2JqZWN0UGFzY2FsKipcbnByb2dyYW1zIHdpdGggbGl0dGxlIHRvIG5vIGV4dHJhIGVmZm9ydC4gIEhhdmUgSSBmb3VuZCBoZWF2ZW4gb24gRWFydGg/ICBJIGhhdmVuJ3RcbnNlZW4gYW55IHByb2dyYW1taW5nIGxhbmd1YWdlIHRha2UgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgc28gc2VyaW91c2x5IGFzIEkndmUgc2VlblxuaW4gdGhlIEZyZWVQYXNjYWwgY29tbXVuaXR5LiAgSSBsaWtlIHRvIGtub3cgdGhhdCBpZiBJIGJ1aWxkIGEgcHJvZ3JhbSB0b2RheSxcbnRoYXQgaXQgY2FuIGJlIGVhc2lseSByZWNvbXBpbGVkIG9uIGEgY29tcHV0ZXIgb2YgdGhlIGZ1dHVyZSB3aXRoIG5vIGFkZGl0aW9uYWxcbmVmZm9ydCwgYW5kIHRoaXMgaXMgd2hhdCBGcmVlUGFzY2FsIHRydWx5IGRlbGl2ZXJzLlxuXG5Ob3cgbGV0cyBhZGQgc29tZSBmYW5jeSBpY3lpbmcgdG8gdGhlIGNha2UuLi4gIFdpdGggTGF6YXJ1cywgdGhlIEZyZWVQYXNjYWwgUkFEXG5JREUsIHlvdSBkbyBub3QgbmVlZCB0byB3b3JyeSBhYm91dCB3aGljaCBHVUkgVG9vbGtpdCB5b3UgbmVlZCB0byB0YXJnZXQsIHlvdSBqdXN0XG5uZWVkIHRvIHRoaW5rIGFib3V0IHRoZSBsYXlvdXQsIGJ1c2luZXNzIGxvZ2ljLCBhbmQgbW9zdCBpbXBvcnRhbnRseSBob3cgeW91ciBwcm9ncmFtXG53aWxsIHdvcmsuICBUaGUgTENMIFRvb2xraXQgdGFrZXMgY2FyZSBvZiBtYWtpbmcgc3VyZSB5b3VyIGNvbXBpbGVkIHByb2dyYW0gbG9va3Ncbm5hdGl2ZSBvbiBldmVyeSBvcGVyYXRpbmcgc3lzdGVtIHlvdSBidWlsZCBvbi4gIE9uIExpbnV4LCB5b3UgY2FuIG1vc3QgZGVmaW5hdGVseVxuY2hvb3NlIGJldHdlZW4gZWl0aGVyIEdUSyBhbmQgUXQsIHdoaWNoIGlzIGdyZWF0LCBhcyB5b3UgY2FuIGVhc2lseSB1c2UgdGhlIHNhbWVcbnNvdXJjZSBjb2RlIGFuZCBidWlsZCB0aGUgcHJvZ3JhbSBmb3IgYm90aCBLREUgYW5kIEdOT01FIHVzZXJzIHdpdGggbm8gYWRkaXRpb25hbFxuZWZmb3J0LiAgT25jZSB5b3UgYXJlIHJlYWR5IHRvIHRha2UgeW91ciBwcm9ncmFtIG1haW5zdHJlYW0gYW5kIGp1bXAgdG8gYm90aFxuTWFjT1MgWCBhbmQgV2luZG93cywgaW4gbW9zdCBjYXNlcyB5b3UgY2FuIGFjdHVhbGx5IGdlbmVyYXRlIHRoZSAuYXBwIGFuZCAuZXhlXG5maWxlcyBkaXJlY3RseSBvbiB5b3VyIExpbnV4IGJveC4gIEhvd2V2ZXIsIEkgcGVyc29uYWxseSBwcmVmZXIgdG8gZG8gdGhlIGJ1aWxkaW5nXG5vbiB0aG9zZSBvcGVyYXRpbmcgc3lzdGVtcyByZXNwZWN0aXZlbHksIGFzIEkgY2FuIHNlZSBob3cgdGhlIEdVSSByZW5kZXJzIG5hdGl2ZWx5LlxuVGhpcyBpcyBlc3BlY2lhbGx5IHRydWUgZm9yIE9TIFgsIGFzIGl0IGhhcyB0aGUgKmdsb2JhbCBtZW51IGJhciogeW91IG5lZWQgdG8gd29ycnlcbmFib3V0LCBzbyB5b3UgbWlnaHQgbmVlZCB0byBzbGlnaHRseSBhZGp1c3QgeW91ciBGb3JtIHRvIHJlbW92ZSB0aGUgZ2FwIHdoZXJlXG50aGUgZW1iZWRkZWQgbWVudSBiYXIgb24gbW9zdCBvcGVyYXRpbmcgc3lzdGVtcyB1c3VhbGx5IGlzLiAgQnV0IG92ZXJhbGwsIHRoYXQgaXNcbnJlYWxseSBhbGwgdGhhdCBuZWVkcyB0byBiZSBkb25lLiAgSWYgeW91IHVzZSB0aGUgc3RhbmRhcmQgR1VJIGNvbXBvbmVudHMsIGFuZCB0aGVcbnByb3BlciBPYmplY3RQYXNjYWwgY2xhc3NlcywgYWxsIHlvdXIgY29kZSB3aWxsIGp1c3QgY29tcGlsZSBmaW5lIG9uIGV2ZXJ5IE9TLlxuXG5BbmQgdGhhdCBmaW5hbCBzdGF0ZW1lbnQgYWJvdmUgaXMgZXhhY3RseSB3aHkgSSBjaG9zZSAqKk9iamVjdFBhc2NhbCoqIG92ZXJcbmFueXRoaW5nIGVsc2UuICBObyBvdGhlciBsYW5ndWFnZSB0aGF0IEkgYW0gYXdhcmUgb2YgY2FuIGRvIHRoaXMgd2l0aCBzdWNoIGxpdHRsZVxuZWZmb3J0LiAgSXQncyBub3RoaW5nIHNob3J0IG9mIGFtYXppbmcgdG8gc2VlIGEgR1VJIHByb2dyYW0gY3JlYXRlZCBvbiB5b3VyIExpbnV4XG5ib3gganVzdCBjb21waWxlIHdpdGggbm8gY29kZSBjaGFuZ2VzIG9uIFdpbmRvd3MgYW5kIE9TIFgsIGFuZCBhbHNvIHVzZSB0aGVpclxubmF0aXZlIGxvb2sgYW5kIGZlZWwuICBJdCBtYWtlcyB5b3VyIHByb2dyYW0gbG9vayBtb3JlIHByb2Zlc3Npb25hbCB3aGVuIHRoZVxuZW5kLXVzZXIgc2VlcyBpdCB1c2luZyB0aGUgbmF0aXZlIEdVSSB0b29sa2l0IG9mIHRoZWlyIE9TLCB0aGUgcHJvZ3JhbSBmaXRzIGluXG53aXRoIHRoZSB1c2VyJ3Mgb3RoZXIgYXBwbGljYXRpb25zLiAgQmVjYXVzZSBvZiB0aGlzLCBPYmplY3RQYXNjYWwgZmVlbHMgbGlrZVxuUHl0aG9uLCB3aGVyZSBJIGNhbiBydW4gYSBzY3JpcHQgb24gYW5vdGhlciBvcGVyYXRpbmcgc3lzdGVtLCBhbmQgaXQgd2lsbCB1c3VhbGx5XG5ydW4gZmluZSBpZiBJIHVzZSB0aGUgbGlicmFyaWVzIHByb3ZpZGVkIGJ5IFB5dGhvbiwgYnV0IGlzIG5hdGl2ZSBjb2RlLCBhbmQgYVxubXVjaCBzbWFsbGVyIGRpc3RyaWJ1dGlvbiBzaXplLlxuIiB9LCB7ICJJRCIgOiA1LCAiUEFUSCIgOiAiL0Fib3V0U2l0ZSIsICJUSVRMRSIgOiAiQWJvdXQgdGhpcyBXZWJzaXRlIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMDVUMTk6NDY6MjYuNTU0WiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0wNlQxOTo1ODozNS4xNDJaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJBcyBzdGF0ZWQgb24gdGhlIHByaW9yIHBhZ2UsIHRoaXMgZW50aXJlIHdlYnNpdGUgaXMgYnVpbHQgdXNpbmcgW09iamVjdFBhc2NhbF0oIy9PYmplY3RQYXNjYWwpIHRlY2hub2xvZ3kuICBJbiB0aGlzIGFydGljbGUgaGVyZSwgSSB3aWxsIGV4cGxhaW4gaG93IGl0IGFsbCB3b3JrcyBleGFjdGx5IGZvciB0aG9zZSB3aG9tIGFyZSBjdXJpb3VzIGFuZCB3b3VsZCBsaWtlIHRvIGJlIG1vcmUgZW5saWdodGVuZWQuICBJbiB0aGUgY3VycmVudCBpdGVyYXRpb24gb2YgdGhpcyB3ZWJzaXRlLCBhbmQgbW9zdCBsaWtlbHkgaW4gZnV0dXJlIGl0ZXJhdGlvbnMsIGFueW9uZSB3YW50aW5nIHRvIGhvc3Qgc3VjaCBhICpzdWRvLXN0YXRpYyB3ZWJzaXRlKiBjYW4gZWFzaWx5IHdpdGggdGhlIGhlbHAgb2YgdGhpcyBXZWIgQXBwbGljYXRpb24uICBJdCBpcyBhIGJpdCBlYXNpZXIgdG8gc2V0LXVwIGFuZCBjb25maWd1cmUgdGhhbiBhIHR5cGljYWwgc3RhdGljIHNpdGUgZ2VuZXJhdG9yLiAgUmF0aGVyIHRoYW4gaGF2aW5nIHRvICpyZS1jb21waWxlIHlvdXIgd2Vic2l0ZSogZWFjaCB0aW1lIHlvdSBhZGQgYSBuZXcgYmxvZyBwb3N0LCB0aGlzIGZyYW1ld29yayB0YWtlcyBhIGRpZmZlcmVudCBhcHByb2FjaC4gIFRoZSB3ZWJzaXRlIGl0c2VsZiBpcyBvbmx5IGNvbXBpbGVkIHdoZW4gYSBmZWF0dXJlIGNoYW5nZSB0byB0aGUgZnJhbWV3b3JrIGl0c2VsZiBpcyBuZWVkZWQsIGFsbCBjb250ZW50IGRhdGEgaXMgc3RvcmVkIG91dHNpZGUgb2YgdGhlIGZyYW1ld29yayBpbiBhbiBleHRlcm5hbCAqKkpTT04qKiBmaWxlLiAgVGhpcyBkYXRhYmFzZSBmaWxlIGNhbiBlaXRoZXIgYmUgZ2VuZXJhdGVkIGJ5IGhhbmQsIHByb2dyYW1tYXRpY2FsbHkgdXNpbmcgYSB0b29sIHRvIGJ1aWxkIGl0LCBvciBieSB1c2luZyB0aGUgaW5jbHVkZWQgW0FkbWluVG9vbF0oIy9BZG1pblRvb2wpIHdoaWNoIGlzIGFibGUgdG8gYm90aCBzdG9yZSB0aGUgZGF0YWJhc2UgYW5kIGNhbiBjcmVhdGUgbmV3IGV4cG9ydHMgb2YgdGhlICoqSlNPTioqIGRhdGEgd2hlbiBkYXRhIGhhcyBiZWVuIGNoYW5nZWQgb24gdGhlIHNpdGUuICBUaGlzIHRvb2wgaXMgd3JpdHRlbiBpbiAqT2JqZWN0UGFzY2FsKiBhbmQgY2FuIGJlIGNyb3NzLWNvbXBpbGVkIHRvIGFsbCBzdXBwb3J0ZWQgb3BlcmF0aW5nIHN5c3RlbXMuICBPbmNlIGEgY29tcGF0aWJsZSAqKkpTT04qKiBkYXRhIGZpbGUgaXMgcmVhZHksIGl0IGNhbiBiZSBwbGFjZWQgYXQgdGhlIHNhbWUgcG9zaXRpb24gYXMgdGhlICoqSFRNTCoqIGZpbGUgdG8gYmUgbG9hZGVkIGluLiAgSGVyZSBpcyBhbiBleGFtcGxlIG9mIGEgdHlwaWNhbCB3ZWIgdHJlZSB3aXRoIHRoaXMgZnJhbWV3b3JrOlxuXG5gYGBcbi9cbiAgaW5kZXguaHRtbFxuICBXZWJBcHAubWluLmpzXG4gIHdlYnNpdGUuanNvblxuYGBgXG5cbllvdSBjYW4gc3R5bGUgeW91ciBIVE1MIHBhZ2UgaG93ZXZlciB5b3UgcGxlYXNlLCBpbmNsdWRpbmcgYWRkaW5nIG1hbnkgbW9yZSBsaW5rcyB0byBjb250ZW50IHBhZ2VzIHVzaW5nIHRoZSBoYXNoIHJvdXRpbmcgc3lzdGVtLiAgT2theSwgc28gd2l0aCB0aGUgaG93IHRvIGdldCBpdCBhbGwgdXAgYW5kIHJ1bm5pbmcgYml0IG91dCBvZiB0aGUgd2F5LCBob3cgZG9lcyBpdCB3b3JrIGV4YWN0bHk/XG5cbltTb3VyY2UgQ29kZV0oaHR0cHM6Ly9naXRodWIuY29tL2t2ZXJvbmVhdS9rdmVyb25lYXUuZ2l0aHViLmlvL2Jsb2IvbWFpbi9zcmMvV2ViQXBwLmxwcilcblxuVGhlcmUncyBub3QgcmVhbGx5IG11Y2ggY29kZSB0aGVyZSwgaXMgdGhlcmU/ICBUaGF0J3MgdGhlIGJlYXV0eSBvZiAqT2JqZWN0UGFzY2FsKiwgaXQgaXMgZXh0cmVtZWx5IGZ1bmN0aW9uYWwgaWYgcHV0IHRvIGdvb2QgdXNlLlxuXG5UaGUgYFdlYlJvdXRlcmAgaXMgYW4gaW5jcmVkaWJsZSB1c2VmdWwgYW5kIHN1cGVyIGVhc3kgdG8gdXNlIGNsaWVudC1zaWRlIGhhc2ggcm91dGVyLiAgSXQgYWxsb3dzIGVuZC11c2VycyB0byBlYXNpbHkgc2hhcmUgYW5kIGJvb2ttYXJrIHBhZ2VzIG9uIGEgc2luZ2xlIHBhZ2UgYXBwbGljYXRpb24gc3VjaCBhcyB0aGlzLiAgSXQgYWxzbyBpbnRlZ3JhdGVzIHJlYWxseSB3ZWxsIHdpdGggYnJvd3NlciBoaXN0b3J5LCBzbyB0aGUgZW5kLXVzZXIgY2FuIHN0aWxsIHVzZSB0aGVpciBiYWNrIGFuZCBmb3J3YXJkIGJ1dHRvbnMgYXMgdGhleSdkIGV4cGVjdCBmcm9tIGEgcmVndWxhciB3ZWJzaXRlLlxuXG5PbmUgdGhpbmcgd2hpY2ggd29ya3MgcmVhbGx5IHdlbGwgaW4gT2JqZWN0UGFzY2FsIGlzICpEYXRhU2V0cyosIGFuZCBiZWluZyBhYmxlIHRvIGVhc2lseSBiaW5kIGFuZCB1c2UgdGhlbSBpbiB2YXJpb3VzIHdheXMgYW5kIGFwcGxpY2F0aW9ucy4gIEluIHRoaXMgcHJvZ3JhbSBJIGFtIHVzaW5nIGEgc3BlY2lhbCBEYXRhc2V0IHdoaWNoIGNhbiBhbHNvIGJlIHVzZWQgaW4gdGhlIGRlc2t0b3AgT2JqZWN0UGFzY2FsIHByb2dyYW1zIGFzIHdlbGwsIHRoZSBgVEV4dEpTT05EYXRhU2V0YC4gIFRoaXMgaXMgYW4gZXh0ZW5kZWQgdmVyc2lvbiBvZiAqKkpTT04qKiB0byBzdXBwb3J0IGVtYmVkZGVkICptZXRhRGF0YSosIHdoaWNoIGRlc2NyaWJlIHRoZSBzY2hlbWEgb2YgdGhlIHRhYmxlIGJlaW5nIGxvYWRlZCBhbmQgdXNlZC4gIEVzc2VudGlhbGx5IHRoZSBlbnRpcmUgd2Vic2l0ZSBjb250ZW50IGlzIGRvd25sb2FkZWQgdG8gdGhlIGVuZC11c2VyIFBDIHdoZW4gdGhleSB2aXNpdCB0aGUgd2Vic2l0ZSwgYW5kIGlzIHRoZW4gY2FjaGVkIHVudGlsIHRoZSB3ZWJzaXRlIGNvbnRlbnQgaGFzIGJlZW4gdXBkYXRlZC4gIE9uIGEgc2xvdyBjb25uZWN0aW9uIGl0IGNhbiBsZWFkIHRvIGEgc2xpZ2h0IGRlbGF5IHVwb24gZmlyc3QgdmlzaXRpbmcgdGhlIHdlYnNpdGUgZm9yIGEgbmV3IHVzZXIsIGhvd2V2ZXIgb25jZSBpdCBpcyBsb2FkZWQsIHRoZSBlbmQtdXNlciB3aWxsIG5ldmVyIG5lZWQgdG8gbWFrZSBhbm90aGVyIHJlcXVlc3QgdG8gdGhlIHNlcnZlci4gIFRoaXMgYWxsb3dzIHRoZSBhcHBsaWNhdGlvbiB0byBiZSBtb3JlIHJlc3BvbnNlLCBidXQgYWxzbyBoYXMgdGhlIGFkZGVkIGJlbmVmaXQgb2Ygd29ya2luZyBjb21wbGV0ZWx5IG9mZi1saW5lLiAgRm9yIGV4YW1wbGUsIGlmIHNvbWVvbmUgd2FzIHJlYWRpbmcgdGhpcyB3ZWJzaXRlIHdoaWxlIHRoZXkgd2VyZSByaWRpbmcgdGhlIHN1YndheSwgZXZlbiBpZiB0aGV5IGxvc2UgY29ubmVjdGlvbiB0byB0aGUgSW50ZXJuZXQgZW50aXJlbHksIHRoZXkgY2FuIHN0aWxsIGNsaWNrIGFuZCBjb250aW51ZSByZWFkaW5nIG1vcmUgYXJ0aWNsZXMgd2l0aG91dCBmZWFyIG9mIGl0IG5vdCBsb2FkaW5nLiAgQW5vdGhlciByZWFsIG5lYXQgZmVhdHVyZSBvZiB0aGVzZSAqRGF0YVNldHMqIGlzIHRoYXQgdGhleSBjYW4gYmUgZWFzaWx5IGZpbHRlcmVkIG9uIHRoZSBjbGllbnQtc2lkZSBhZnRlciBpdCdzIGFsbCBkb3dubG9hZGVkLiAgSSBhbSBwbGFubmluZyBvbiBhZGRpbmcgc29tZSBhZGRpdGlvbmFsIGZlYXR1cmVzIHRvIHRoaXMgd2Vic2l0ZSBmcmFtZXdvcmsgaW4gdGhlIGNvbWluZyBkYXlzIHdoaWNoIHdpbGwgYWxsb3cgdG8gdXNlIHJlYWwtdGltZSBmaWx0ZXJzIG9uIHRoZSB3ZWJzaXRlIGRhdGEgYW5kIHRvIHBlcmZvcm0gcmVhbC10aW1lIHNlYXJjaGVzLlxuXG5TbywgdGhhdCdzIGJhc2ljYWxseSBob3cgdGhpcyB3ZWJzaXRlIHdvcmtzIGluIGEgbnV0c2hlbGwuICBJIGhpZ2hseSByZWNvbW1lbmQganVzdCB0YWtpbmcgYSBsb29rIGF0IHRoZSBzb3VyY2UgY29kZSBhbmQgbWF5YmUgdHJ5aW5nIHRvIGNvbXBpbGUgaXQgeW91cnNlbGYuICBJIHdpbGwgc29vbiBiZSByZWxlYXNpbmcgYSBzdGFuZC1hbG9uZSB2ZXJzaW9uIHdoaWNoIGNhbiBqdXN0IGJlIHVzZWQgb24gYSB3ZWJzaXRlIGFsb25nIHdpdGggYSBbd2Vic2l0ZS5qc29uXSgjL3dlYnNpdGUuanNvbikgZmlsZSB0byBpbW1lZGlhdGUgd29yayBhcyB0aGlzIG9uZSBkb2VzIGJ1dCB3aXRoIHRvdGFsbHkgZGlmZmVyZW50IGNvbnRlbnQuXG5cbiMjIyBUZWNobmljYWwgRGVlcCBEaXZlXG5cbk9rYXksIHNvIGFmdGVyIGFub3RoZXIgZGF5IG9mIHdvcmtpbmcgb24gdGhpcyBmcmFtZXdvcmssIGl0IG5vdyBoYXMgc3VwcG9ydCBmb3IgbXVsdGlwbGUgKkNvbnRlbnQtVHlwZXMqIHdoaWNoIHRoZSBmcmFtZXdvcmsgaGFuZGxlcyBhZnRlciBiZWluZyBzZXQgY29ycmVjdGx5IHdpdGhpbiB0aGUgcHJvdmlkZWQgKkRhdGFTZXQqLiAgSGVyZSBpcyBhIGxpc3Qgb2YgY3VycmVudGx5IGtub3duICpDb250ZW50LVR5cGVzKiBhdmFpbGFibGU6XG5cbiAgKiBbSFRNTF0oIy9fX0RFQlVHX18vSFRNTClcbiAgKiAqKk1hcmtkb3duKiogIFRoaXMgZG9jdW1lbnQgc2hvdWxkIGJlIGEgcHJldHR5IGdvb2QgZXhhbXBsZS5cbiAgKiBbSmF2YVNjcmlwdCBQcm9ncmFtXSgjL19fREVCVUdfXy9KU1Byb2cpXG4gICogW0JyeXRob24gQXBwbGljYXRpb25dKCMvX19ERUJVR19fL1B5QXBwKVxuICAqIFtQYXNjYWwgU291cmNlIENvZGVdKCMvX19ERUJVR19fL1Bhc2NhbClcbiAgKiBbQmFzaCBTY3JpcHRdKCMvX19ERUJVR19fL0Jhc2gpXG4gICogW1B5dGhvbiBTb3VyY2UgQ29kZV0oIy9fX0RFQlVHX18vUHl0aG9uKVxuICAqIFtSdWJ5IFNvdXJjZSBDb2RlXSgjL19fREVCVUdfXy9SdWJ5KVxuICAqIFtDIFNvdXJjZSBDb2RlXSgjL19fREVCVUdfXy9DKVxuICAqIFtNYWtlZmlsZV0oIy9fX0RFQlVHX18vTWFrZWZpbGUpXG4gICogW0phdmFTY3JpcHRdKCMvX19ERUJVR19fL0phdmFTY3JpcHQpXG4gICogW0VtYmVkZGluZyBFeGFtcGxlXSgjL19fREVCVUdfXy9BbGxTb3VyY2UpXG5cbk1vcmUgY2FuIGJlIHN1cHBvcnRlZCBieSB1cGRhdGVkIHRoZSBhcHBsaWNhdGlvbiBjb2RlIGFuZCByZS1jb21waWxpbmcuICBJIGhhdmUgcHJvdmlkZWQgYW4gZXhhbXBsZSB0byBlYWNoIG9uZSBzbyB5b3UgY2FuIHNlZSBob3cgZWFjaCBpcyByZW5kZXJlZCBieSB0aGUgZnJhbWV3b3JrIGluIHRoZSBicm93c2VyLlxuXG5VbmZvcnR1bmF0ZWx5IGl0IHNlZW1zIHRoYXQgdGhlIGN1cnJlbnQgc291cmNlIGNvZGUgaGlnaGxpZ2h0ZXIgZG9lcyBub3Qgc3VwcG9ydCBzaW5nbGUgcGFnZSBhcHBsaWNhdGlvbnMgYW5kIGFzIGEgcmVzdWx0IGl0IGNhbiBvbmx5IHBlcmZvcm0gYSBoaWdobGlnaHQgb25jZSBwZXIgbGlicmFyeSBsb2FkLiAgVG8gc2VlIHRoZSBoaWdobGlnaHRpbmcgb2YgdGhvc2UgdHlwZXMgaW4gYWN0aW9uLCBqdXN0IHJlbG9hZCB0aGUgcGFnZSBhZnRlciBnb2luZyB0byB0aGUgcmVzcGVjdCBjb250ZW50IHBhZ2UuXG4iIH0sIHsgIklEIiA6IDYsICJQQVRIIiA6ICIvQWRtaW5Ub29sIiwgIlRJVExFIiA6ICJEQkFkbWluIFRvb2wiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0wNVQxOTo0OTowMy4yMTFaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTA2VDE2OjIxOjU5LjI3NVoiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIiFbQWRtaW4gVG9vbF0oc3JjL0FkbWluQXBwL1NjcmVlbnNob3QucG5nKVxyXG5cclxuVGhpcyBpcyB0aGUgQWRtaW4gVG9vbCBjb21waWxlZCBvbiAqRGViaWFuIExpbnV4KiwgaXQgaXMgYXQgdGhlIGN1cnJlbnQgbW9tZW50IGEgdmVyeSBzaW1wbGUsIGJ1dCBhbHNvIGEgdmVyeSBlZmZlY3RpdmUgdG9vbC4gIEl0IHN0b3JlcyBpdCdzIGRhdGEgaW4gYSBsb2NhbCBkYXRhYmFzZSBmaWxlIHdoaWNoIGlzIHRoZW4gY29ubmVjdGVkIHRocm91Z2ggdXNpbmcgdGhlIHN0YW5kYXJkICpEYXRhU2V0cyogc3lzdGVtIHRvIG1ha2UgdGhlIGVudGlyZSBmb3JtIHdvcmsgd2l0aCBhbG1vc3Qgbm8gY29kZS5cclxuXHJcbltTb3VyY2UgQ29kZV0oaHR0cHM6Ly9naXRodWIuY29tL2t2ZXJvbmVhdS9rdmVyb25lYXUuZ2l0aHViLmlvL2Jsb2IvbWFpbi9zcmMvQWRtaW5BcHAvZGJhZG1pbndpbmRvdy5wYXMpXHJcblxyXG5BbHRob3VnaCBtb3N0IG9mIHRoZSBmdW4gaGFwcGVucyBkdXJpbmcgdGhlIFtEZXNpZ24gUGhhc2VdKGh0dHBzOi8vZ2l0aHViLmNvbS9rdmVyb25lYXUva3Zlcm9uZWF1LmdpdGh1Yi5pby9ibG9iL21haW4vc3JjL0FkbWluQXBwL2RiYWRtaW53aW5kb3cubGZtKS5cclxuXHJcbkkgd2lsbCBiZSBzb29uIHJlbGVhc2luZyBhIHZpZGVvIHdoaWNoIHdpbGwgZ28gb3ZlciBob3cgdGhpcyB3ZWJzaXRlIGlzIHVwZGF0ZWQgaW4gYSBudXRzaGVsbCwgdGhlIHZpZGVvIHdoaWNoIHdpbGwgYmUgY3JlYXRlZCBhbmQgdXBsb2FkZWQgc29vbiB3aWxsIHJlcGxhY2UgdGhpcyB0ZXh0IGFuZCB0aGUgdmlkZW8gd2lsbCBzaG93IG1lIGRvaW5nIGp1c3QgdGhhdCBhcyBJIHJlcGxhY2UgaXQgd2l0aCBhIHZpZGVvIGxpbmsgYW5kIHNob3dzIHRoZSBwcm9jZXNzIG9mIGEgdHlwaWNhbCB3ZWJzaXRlIHVwZGF0ZS5cclxuXHJcbkVzc2VudGlhbGx5IHRoaXMgcHJvZ3JhbSBnaXZlcyBtZSBhIGxvY2FsIHBlcnNpc3RlbnQgZGF0YWJhc2Ugd2hpY2ggSSBjYW4gdXBkYXRlIHVzaW5nIHRoaXMgcHJvZ3JhbS4gIFRoZW4gd2hlbiBJIGFtIHJlYWR5IHRvIGRlcGxveSBvdXQsIEkganVzdCBoaXQgdGhhdCBsb3ZlbHkgKipFeHBvcnQqKiBidXR0b24gYW5kIGl0IHdpbGwgZ2VuZXJhdGUgYSB3b3JraW5nIFt3ZWJzaXRlLmpzb25dKCMvd2Vic2l0ZS5qc29uKS5cclxuIFxyXG5UaGUgQWRtaW5Ub29sIGFsc28gd29ya3Mgd2VsbCB1bmRlciB0aGUgb2JzZWN1cmUgKk1pY3Jvc29mdCogb3BlcmF0aW5nIHN5c3RlbSwgZm9yIGFueW9uZSB3aXRoIGEgcmlnaHQgbWluZCB0byBiZSBydW5uaW5nIHRoYXQsIG90aGVyIHRoYW4gZm9yIGVkdWNhdGlvbmFsIGFuZCByZXNlYXJjaCBwdXJwb3NlcyB0aGF0IGlzLi4uICBJIGxpa2UgdG8gdW5kZXJzdGFuZCB3aHkgc28tY2FsbGVkICpyZWd1bGFyIHBlb3BsZSogdGVuZCB0byBkbyB0aGUgdGhpbmdzIHRoZXkgZG8sIHN1Y2ggYXMgdXNlIHN1Y2ggYW4gb3BlcmF0aW5nIHN5c3RlbS4gIEl0J3MgYSBmdW4gdG95IGF0IGJlc3QgdGhhdCBtb3N0IGJ1c2luZXNzZXMgcHJlZmVyIHRoZWlyIGRyb25lcyB0byB1c2UuICBJIGd1ZXNzIGl0IGNhbiBhbHNvIHBsYXkgdmlkZW8gZ2FtZXMgd2VsbCwgYnV0ICpTdGVhbU9TKiBpcyByZWFsbHkgc2hvd2luZyB0aGF0IGl0IGlzIGFsc28gbm90IHdlbGwgYXQgdGhlIG9uZSB0aGluZyBpdCB1c2VkIHRvIGJlIHdlbGwgYXQsIHdpdGggKlN0ZWFtT1MqIGhhdmluZyBzaWduaWZpY2FudGx5IG1vcmUgcGVyZm9ybWFuY2Ugb24gdGhlIHNhbWUgaGFyZHdhcmUgd2l0aCB0aGUgc2FtZSBnYW1lLiAgQW55d2F5cywgZW5qb3kgdGhlICpBZG1pblRvb2wqIHJ1bnMgb24gV2luZG93cyAxMCBpbiBhbGwgaXQncyBhd2UgYW5kIHdvbmRlcjpcclxuXHJcbiFbQWRtaW4gVG9vbF0oc3JjL0FkbWluQXBwL1NjcmVlbnNob3RfV2luMTAucG5nKVxuIiB9LCB7ICJJRCIgOiA3LCAiUEFUSCIgOiAiL3dlYnNpdGUuanNvbiIsICJUSVRMRSIgOiAid2Vic2l0ZS5qc29uIGZvcm1hdCBpbmZvcm1hdGlvbiIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTA1VDIxOjAwOjUwLjgzN1oiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMThUMTM6Mjk6MTkuOTk2WiIsICJDT05URU5UVFlQRSIgOiAwLCAiQ09OVEVOVCIgOiAiRm9ybWF0IG9mIHRoZSA8Yj53ZWJzaXRlLmpzb248L2I+IGZpbGU6PGhyLz5cbjxwcmU+XG57ICAgIFxuICBcIm1ldGFEYXRhXCI6IHtcbiAgICBcImZpZWxkc1wiOiBbXG4gICAgICAgIHtcIm5hbWVcIjpcIklkXCIsIFwidHlwZVwiOlwiaW50XCJ9LFxuICAgICAgICB7XCJuYW1lXCI6XCJQYXRoXCIsIFwidHlwZVwiOlwic3RyaW5nXCJ9LFxuICAgICAgICB7XCJuYW1lXCI6XCJUaXRsZVwiLCBcInR5cGVcIjpcInN0cmluZ1wifSxcbiAgICAgICAge1wibmFtZVwiOlwiQ3JlYXRlZFwiLCBcInR5cGVcIjpcImRhdGVcIn0sXG4gICAgICAgIHtcIm5hbWVcIjpcIk1vZGlmaWVkXCIsIFwidHlwZVwiOlwiZGF0ZVwifSxcbiAgICAgICAge1wibmFtZVwiOlwiQ29udGVudFR5cGVcIiwgXCJ0eXBlXCI6XCJpbnRcIn0sXG4gICAgICAgIHtcIm5hbWVcIjpcIkNvbnRlbnRcIiwgXCJ0eXBlXCI6XCJzdHJpbmdcIn1cbiAgICBdLFxuICAgIFwicm9vdFwiOiBcIkRhdGFcIlxuICB9LFxuICBcIkRhdGFcIjogWyAuLi4gXVxufVxuPC9wcmU+XG48cD5UaGlzIGlzIHdoYXQgd291bGQgYmUgY2FsbGVkIHRoZSA8aT5zdGFuZGFyZCBoZWFkZXI8L2k+IGZvciB0aGUgSlNPTiBmaWxlLCBtdWNoIGxpa2UgaG93IG90aGVyIGZpbGUgdHlwZXMgbWF5IGNvbnRhaW4gYSBoZWFkZXIgb2Ygc29ydHMgd2hpY2ggY2FuIGNvbnRhaW4gYWRkaXRpb25hbCA8aT5tZXRhRGF0YTwvaT4gYXMgZG9lcyB0aGUgdXNlIG9mIDxpPkRhdGFTZXRzPC9pPi48L3A+XG48cD5UaGUgQXJyYXkgbG9jYXRlZCBpbiB0aGUgPGk+RGF0YTwvaT4gaXMgd2hlcmUgYWxsIHRoZSBhY3R1YWwgZGF0YSBnb2VzLCBhbmQgZWFjaCByb3cgaW4gdGhlIGFycmF5IHNob3VsZCB0YWtlIG9uIHRoaXMgZm9ybWF0OjwvcD5cbjxwcmU+XG57XG4gIFwiSWRcIjogMSxcbiAgXCJQYXRoXCI6IFwiL2hlbGxvXCIsXG4gIFwiVGl0bGVcIjogXCJIZWxsbyBXb3JsZFwiLFxuICBcIkNvbnRlbnRUeXBlXCI6IDEsXG4gIFwiQ3JlYXRlZFwiOiBcIjIwMjQtMDItMDVUMTk6MDM6NTEuODQ1LTA3OjAwXCIsXG4gIFwiTW9kaWZpZWRcIiA6IFwiMjAyNC0wMi0wNVQxOToxODo0OS4zMjgtMDc6MDBcIixcbiAgXCJDb250ZW50XCIgOiBcIiMgSGVsbG8gV29ybGRcXG5cXG5NYXJrZG93biB3aWxsIGFsc28gYmUgc3VwcG9ydGVkIVxcblwiXG59XG48L3ByZT5cbjxwPkVhY2ggaXRlbSBzaG91bGQgaGF2ZSBhIHVuaXF1ZSA8Yj5JZDwvYj4gYW5kIDxiPlBhdGg8L2I+LiAgVGhlIGNvbnRlbnQgdHlwZSBpcyB1c2VkIHRvIGRldGVybWluZSBob3cgdGhlIHdlYiBhcHBsaWNhdGlvbiB3aWxsIGhhbmRsZSB0aGUgY29udGVudCBpdHNlbGYuICBIZXJlIGlzIGEgY3VycmVudCBsaXN0IG9mIHN1cHBvcnRlZCBjb250ZW50IHR5cGUgbnVtYmVyczo8L3A+XG48dGFibGUgYm9yZGVyPVwiMVwiIGJnY29sb3I9XCIjYWVhZWFlXCI+XG4gIDx0aGVhZD5cbiAgICA8dHI+PHRoPlR5cGU8L3RoPjx0aD5EZXNjcmlwdGlvbiAvIFB1cnBvc2U8L3RoPjwvdHI+XG4gIDwvdGhlYWQ+XG4gIDx0Ym9keT5cbiAgICA8dHI+PHRkPjA8L3RkPjx0ZD5IVE1MPC90ZD48L3RyPlxuICAgIDx0cj48dGQ+MTwvdGQ+PHRkPk1hcmtkb3duPC90ZD48L3RyPlxuICAgIDx0cj48dGggY29sc3Bhbj1cIjJcIj5DbGllbnQtc2lkZSBBcHBsaWNhdGlvbiBUeXBlczwvdGg+PC90cj5cbiAgICA8dHI+PHRkPjUwPC90ZD48dGQ+PGEgaHJlZj1cIiMvV2Vic2l0ZS9KU0FwcFwiPkphdmFTY3JpcHQgQXBwbGljYXRpb248L2E+PC90ZD48L3RyPlxuICAgIDx0cj48dGQ+NTE8L3RkPjx0ZD48YSBocmVmPVwiIy9XZWJzaXRlL1B5QXBwXCI+UHl0aG9uIFdlYiBBcHBsaWNhdGlvbjwvYT48L3RkPjwvdHI+XG4gICAgPHRyPjx0aCBjb2xzcGFuPVwiMlwiPlNvdXJjZSBDb2RlIEhpZ2hsaWdodGVyczwvdGg+PC90cj5cbiAgICA8dHI+PHRkPjEwMDwvdGQ+PHRkPlBhc2NhbCBTb3VyY2UgQ29kZTwvdGQ+PC90cj5cbiAgICA8dHI+PHRkPjEwMTwvdGQ+PHRkPkJhc2ggU2NyaXB0IFNvdXJjZTwvdGQ+PC90cj5cbiAgICA8dHI+PHRkPjEwMjwvdGQ+PHRkPlB5dGhvbiBTb3VyY2U8L3RkPjwvdHI+XG4gICAgPHRyPjx0ZD4xMDM8L3RkPjx0ZD5SdWJ5IFNvdXJjZTwvdGQ+PC90cj5cbiAgICA8dHI+PHRkPjEwNDwvdGQ+PHRkPkMgU291cmNlPC90ZD48L3RyPlxuICAgIDx0cj48dGQ+MTA1PC90ZD48dGQ+TWFrZWZpbGU8L3RkPjwvdHI+XG4gICAgPHRyPjx0ZD4xMDY8L3RkPjx0ZD5KYXZhU2NyaXB0IFNvdXJjZTwvdGQ+PC90cj5cbiAgPC90Ym9keT5cbjwvdGFibGU+XG48cD5UaGVzZSBjb250ZW50IHR5cGVzIGFyZSBzZXR0YWJsZSB2aWEgYSBkcm9wLWRvd24gaW4gdGhlIDxhIGhyZWY9XCIjL0FkbWluVG9vbFwiPkFkbWluIFRvb2w8L2E+LCBhbmQgdGhlIHRvb2wgd2lsbCBldmVuIHN1cHBvcnQgSFRNTCBzeW50YXggaGlnaGxpZ2h0aW5nIHRvIG1ha2Ugd3JpdGluZyBwdXJlIEhUTUwgY29udGVudCBwYWdlcyBtdWNoIGVhc2llci4gIEknZCBhbHNvIGhpZ2hseSByZWNvbW1lbmQgY2hlY2tpbmcgb3V0IG15IDxhIGhyZWY9XCIjL0Z1dHVyZUZlYXR1cmVzXCI+RnV0dXJlIEZlYXR1cmVzPC9hPiBwYWdlIHRvIHNlZSB3aGF0IHRvIGV4cGVjdCBpbiB1cGNvbWluZyByZWxlYXNlcyBvZiB0aGlzIHdlYiBhcHBsaWNhdGlvbi48L3A+XG4iIH0sIHsgIklEIiA6IDgsICJQQVRIIiA6ICIvRnV0dXJlRmVhdHVyZXMiLCAiVElUTEUiIDogIkZ1dHVyZSBGZWF0dXJlcyIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTA1VDIxOjEzOjQ4Ljk5MloiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMjNUMjE6NTU6MTcuNTM4WiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiIyMjIEhlcmUgaXMgYSBsaXN0IG9mIHBvdGVudGlhbCBmdXR1cmUgZmVhdHVyZXMgZm9yIHRoaXMgd2Vic2l0ZSBmcmFtZXdvcms6XG5cbiAgKiBTb3VyY2UgSGlnaGxpZ2h0IENvbnRlbnQtVHlwZSAqKkNvbXBsZXRlZCoqXG4gICogVGFibGUgR2VuZXJhdG9yIENvbnRlbnQtVHlwZVxuICAgIC0gU3RpbGwgdW5zdXJlIG9mIHRoZSBvdmVyYWxsIGZvcm1hdCBvZiB0aGUgQ29udGVudCB0byBtYWtlIGl0IHJlbmRlci5cbiAgKiBFYXN5IHdheSB0byBlbWJlZCBtYWNyb3MgaW50byBDb250ZW50IHdoaWNoIGNhbiBiZSBwYXJzZWQuXG4gICAgLSBDYW4gYmUgdXNlZCBpbiBzYXkgSFRNTCB0byBsb2FkL2VtYmVkIGFub3RoZXIgcmVzb3VyY2UgbGlrZSBhIHRhYmxlLlxuICAqIENyZWF0ZSBhIHByb3BlciByZWxlYXNlIGJ1aWxkIHRoYXQgZG9lcyB1c2UgYW4gZXh0ZXJuYWwgW3dlYnNpdGUuanNvbl0oIy93ZWJzaXRlLmpzb24pLlxuICAgIC0gVGhlIGN1cnJlbnQgdmVyc2lvbiBvZiB0aGlzIHdlYnNpdGUgeW91IGFyZSB2aWV3aW5nIGhhcyB0aGUgZGF0YWJhc2UgZW1iZWRkZWQuXG5cbiMjIyBTb21lIGZlYXR1cmVzIGZvciB0aGUgd2Vic2l0ZSwgd2hpY2ggbWF5IG5lZWQgbmV3IGZyYW1ld29yayBmZWF0dXJlczpcblxuICAqICoqTW9yZSBDb250ZW50ISoqXG5cbiMjIyBGZWF0dXJlcyBmb3IgdGhlIFtBZG1pbiBUb29sXSgjL0FkbWluVG9vbCk6XG5cbiAgKiBJbXByb3ZlIHRoZSBvdmVyYWxsIFVJIHRvIGhhdmUgYSBsYXJnZXIgTWVtbyB2aWV3LiAqKk5vdyBSZXNpemFibGUqKlxuICAqIFBvdGVudGlhbGx5IHJlcGxhY2UgdGhlIFREQk1lbW8gd2l0aCBhIFN5bkVkaXQgaW5zdGVhZC4gICoqU3VwcG9ydGVkIEFkZGVkKipcbiAgICAtIFRoaXMgbWVhbnMgdGhhdCBJIHdpbGwgbmVlZCB0byBtYW5hZ2UgdGhlIG1vdmVtZW50IG9mIGRhdGEgZnJvbSB0aGlzIGZpZWxkIG1hbnVhbGx5LlxuICAqIEFkZCBtYW55IHNlYXJjaCBmZWF0dXJlcyBpbiBhIG5ldyAqKlNlYXJjaCoqIHRhYi5cbiAgICAtICpQbGVhc2UgaXRlcmF0ZSpcbiIgfSwgeyAiSUQiIDogOSwgIlBBVEgiIDogIi9BYnN0cmFjdGlvbiIsICJUSVRMRSIgOiAiQWJzdHJhY3Rpb24iLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0wNVQyMTo0NjozNy43NjNaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTA1VDIxOjQ3OjAwLjAyMFoiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIkJvdGggW0ZyZWVQYXNjYWxdKCMvRnJlZVBhc2NhbCkgYW5kIFtMYXphcnVzXSgjL0xhemFydXMpIGhhdmUgYW1hemluZyBhYnN0cmFjdGlvbiBsYXllcnMuICBUaGUgYWJzdHJhY3Rpb24gbGF5ZXIgaW4gKkZyZWVQYXNjYWwqIG1ha2VzIGl0IHBvc3NpYmxlIHRvIHRha2UgdGhlIHNhbWUgc291cmNlIGNvZGUgYW5kIGNhbiBjb21waWxlIGl0IG9uIGEgZGlmZmVyZW50IHByb2Nlc3NvciBhbmQgb3BlcmF0aW5nIHN5c3RlbSwgYW5kIGl0IHdpbGwgd29yayBhbG1vc3QgdGhlIHNhbWUgYXMgaXQgZGlkIG9mIHRoZSBzeXN0ZW0gd2hpY2ggaXQgd2FzIG9yaWdpbmFsbHkgcHJvZ3JhbW1lZCBvbi4gIFRoaXMgYWJzdHJhY3Rpb24gbGF5ZXIgY29uY2VwdCBJIGJlbGlldmUgZ29lcyBiYWNrIGF0IGxlYXN0IHVudGlsICpUdXJib1Bhc2NhbCA0LjAqIHdoZXJlIGl0IGhhZCB0d28gdW5pdHMgd2hpY2ggd2VyZSBpbiBhIHNlbnNlIGhhcmR3YXJlIGluZGVwZW5kZW50LCBgY3J0YCBhbmQgYGdyYXBoYC5cblxuVGhlIGBjcnRgIHVuaXQgd2FzIHVzZWQgbGlrZSBob3cgYG5jdXJzZXNgIGlzIHVzZWQgdG9kYXksIGFuZCBpZiB5b3UgdGFrZSBhICpUdXJib1Bhc2NhbCogcHJvZ3JhbSB3aGljaCB1c2VzIHRoZSBgY3J0YCB1bml0IGZyb20gYmFjayBpbiB0aGUgODBzIGFuZCBjb21waWxlIGl0IHdpdGggKkZyZWVQYXNjYWwqLCBpdCB3aWxsIHJ1biBhbG1vc3QgZXhhY3RseSBhcyBpdCBkaWQgYmFjayB0aGVuLiAgVGhlcmUgYWxzbyBleGlzdHMgYSBtb3JlIG1vZGVybiB1bml0IGNhbGxlZCBgbmNydGAgd2hpY2ggaXMgYSBkcm9wLWluIHJlcGxhY2VtZW50IGZvciB0aGUgYGNydGAgdW5pdCwgYnV0IGluc3RlYWQgb2YgY29udHJvbGxpbmcgdGhlIHRlcm1pbmFsIGRpcmVjdGx5LCBpdCBpbnN0ZWFkIGxpbmtzIGFuZCB1c2VzIGBuY3Vyc2VzYCBBUEkgY2FsbHMuXG5cblRoZSBgZ3JhcGhgIHVuaXQgb3JpZ2luYWxseSB1c2VkIHdoYXQgd2VyZSBjYWxsZWQgYEJHSWAgb3IgKkJvcmxhbmQgR3JhcGdoaWNzIEludGVyZmFjZSogZHJpdmVycyBpbiB0aGUgKlR1cmJvUGFzY2FsKiBlcmEuICBUaGVzZSBkcml2ZXJzIHdlcmUgYWxzbyB1c2VkIHdpdGggKlR1cmJvIEMqIHByb2dyYW1zIGFzIHdlbGwgYXMgdGhlIHN0YW5kYXJkIGdyYXBoaWNzIGRyaXZlcnMuICBUaGUgYGdyYXBoYCB1bml0IHdhcyB0aGUgYWJzdHJhY3Rpb24gQVBJIHdoaWNoIHdvcmtlZCB3aXRoIHRoZXNlIGRyaXZlcnMgdG8gY29udHJvbCB0aGUgZ3JhcGhpY3Mgb24gdGhlIHNjcmVlbi4gIFRoaXMgdW5pdCBzdGlsbCBleGlzdHMgaW4gKkZyZWVQYXNjYWwqLCBhbmQgaWYgY29tcGlsaW5nIGEgMzItYml0IE1TLURPUyBwcm9ncmFtIHdpdGggaXQsIHRoZSBgZ3JhcGhgIHVuaXQgd2lsbCBmdW5jdGlvbiB0aGUgc2FtZSwgbWludXMgdGhlIG5lZWQgZm9yIHRoZSBgQkdJYCBkcml2ZXJzLiAgVGhpcyBhbGxvd3Mgb2xkZXIgMTYtYml0ICpUdXJib1Bhc2NhbCogcHJvZ3JhbXMgdG8gYmUgZGlyZWN0bHkgY29tcGlsZWQgaW50byBtb2Rlcm4gMzItYml0IHByb2dyYW1zLCBlaXRoZXIgZm9yIE1TLURPUyBzdGlsbCwgb3IgZm9yIGEgbW9kZXJuIG9wZXJhdGluZyBzeXN0ZW0sIGFuZCBldmVuIGludG8gdGhlIDY0LWJpdCBlcmEuICAqKlRhbGsgYWJvdXQgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkhKipcblxuSnVzdCBhcyBgY3J0YCBoYXMgYG5jcnRgIHNvIGl0IGNhbiB1c2UgbW9kZXJuIGxpYnJhcmllcywgc28gZG9lcyB0aGUgYGdyYXBoYCB1bml0LiAgSWYgeW91IHdhbnRlZCB5b3VyIE1TLURPUyBncmFwaC1iYXNlZCBwcm9ncmFtIHRvIGFwcGVhciBpbiBhIG5hdGl2ZSB3aW5kb3cgb24gYSBtb2Rlcm4gb3BlcmF0aW5nIHN5c3RlbSB3aXRoIGFtYXppbmcgNjQtYml0IHBvd2VyISAgVGhlbiB0aGVzZSBgZ3JhcGhgIGRyb3AtaW4gdW5pdHMgYXJlIGp1c3Qgd2hhdCB5b3UgbmVlZC4gIFRoZSBgZ2dpZ3JhcGhgIHVuaXQgdXNlcyB0aGUgW0dlbmVyYWwgR3JhcGhpY3MgSW50ZXJmYWNlXShodHRwOi8vaWJpYmxpby5vcmcvZ2dpY29yZS8pLCBhbiBvdGhlciBncmFwaGljcyBzdGFuZGFyZCBvbiBvbGRlciAqKk5JWCoqIFgxMSBtYWNoaW5lcy4gIEFub3RoZXIgb3B0aW9uIGlzIGBwdGNncmFwaGAgdW5pdCB3aGljaCBpcyB0aGUgb25lIHdoaWNoIEkgYmVsaWV2ZSB3b3JrZWQgYmVzdCBmb3IgbWUgdG8gY29tcGlsZSBgR1JERU1PLlBBU2Agb3ZlciBkaXJlY3RseSBmcm9tIE1TLURPUyB0byBteSBtb2Rlcm4gRGViaWFuIExpbnV4IHN5c3RlbS4gIFRoZXJlIGlzIGFsc28gYSB1bml0IHdoaWNoIHVzZXMgKlNETCogYXMgdGhlIGJhY2tlbmQuICBUaGUgaWRlYSBiZWhpbmQgYWxsIHRoZXNlIHVuaXRzIGlzIHRvIHByZXNlcnZlIGZ1bGwgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgYW5kIGVuc3VyZSB0aGF0IHByb2dyYW1zIGNhbiBzdGlsbCBjb21waWxlIG9uIG1vZGVybiB2ZXJzaW9ucyBvZiB0aGUgY29tcGlsZXIuICBJdCdzIGFsc28gdGhpcyB0eXBlIG9mIGFic3RyYWN0aW9uIHRoYXQgYWxsb3dzICpGcmVlUGFzY2FsKiB0byBiZSBhcyBjcm9zcy1wbGF0Zm9ybSBhcyBpdCBpcyBmb3IgYSBuYXRpdmUgYmluYXJ5IGNvbXBpbGVyLiAgSXQgaGFzIGEgaGVjayBvZiBhIGxvdCBvZiB0YXJnZXRzLCBhbG1vc3QgYXMgbWFueSBhcyBEZWJpYW4uXG5cbk9uZSBvZiB0aGUgbGFyZ2VzdCBhYnN0cmFjdGlvbiBsYXllcnMgaW4gKkZyZWVQYXNjYWwqIGhhcyB0byBiZSB0aGUgW0xDTF0oIy9MQ0wpIG9yIHRoZSAqTGF6YXJ1cyBDb21wb25lbnQgTGlicmFyeSouICBMYXphcnVzIGluIGl0J3MgbW9zdCBzaW1wbGVzdCBmb3JtIGlzIGEgY29tcG9uZW50IGxpYnJhcnkgb2YgYWJzdHJhY3Rpb24gbGF5ZXJzIGZvciBldmVyeSBtb2Rlcm4gR1VJLiAgSWYgeW91IGNvbXBpbGUgYSBMYXphcnVzIGFwcGxpY2F0aW9uIG9uIExpbnV4LCBpdCB3aWxsIG5vcm1hbGx5IGNvbXBpbGUgYWdhaW5zdCB0aGUgKkdUSyogZnJhbWV3b3JrLCBhbmQgY2FuIGNvbXBpbGUgYWdhaW5zdCAqUXQqIHRvbyB3aXRoIGp1c3QgYSBzaW5nbGUgY29tcGlsZSBvcHRpb24gY2hhbmdlLiAgVGhpcyBzYW1lIHByb2dyYW0gd2hlbiBjb21waWxlZCBvbiBXaW5kb3dzIHdpbGwgZ2VuZXJhdGUgYSBwcm9ncmFtIHdoaWNoIHVzZXMgdGhlIHN0YW5kYXJkIFdpbmRvd3MgR1VJIEFQSXMgdG8gZHJhdyBpdCdzIHdpZGdldHMsIGNyZWF0aW5nIGFuIGFwcGxpY2F0aW9uIHdoaWNoIGFwcGVhcnMgZW50aXJlbHkgbmF0aXZlLCBhcyB0aGF0IGlzIGV4YWN0bHkgd2hhdCBpdCBpcy4gIFRoZSBzYW1lIGdvZXMgd2hlbiBjb21waWxpbmcgdGhlIHNhbWUgcHJvZ3JhbSBmb3IgTWFjT1MsIGl0IHdpbGwgdXNlIHRoZSBDb2NvYSB0b29sa2l0IGFuZCB3aWxsIHVzZSBuYXRpdmUgTWFjT1MgVUkgd2lkZ2V0cy4gIEFsbCBvZiB0aGlzIHdpdGggbm8gYWRkaXRpb25hbCBlZmZvcnQgZnJvbSB0aGUgZGV2ZWxvcGVyLiAgVGhlIG9ubHkgYWRkaXRpb25hbCBlZmZvcnQgaXMgd2l0aCB0aGUgdGVzdGVycyBhbmQgVVggZGVzaWduZXJzIHdobyBtYXkgbmVlZCB0byBhZGp1c3QgdmFyaW91cyBjb250cm9scyBvbiB0aGUgZm9ybSBmb3IgZWFjaCBvcGVyYXRpbmcgc3lzdGVtIGlmIGN1c3RvbSBjb21wb25lbnRzIGFyZSBiZWluZyB1c2VkIHRvIGVuc3VyZSBpdCBsb29rcyBjb25zaXN0ZW50LlxuXG5JIGRvIHBsYW4gb24gbWFraW5nIGEgdmlkZW8gYXQgc29tZSBwb2ludCBpbiB0aGUgbmVhciBmdXR1cmUgc2hvd2luZyBhbiBhcHBsaWNhdGlvbiBiZWluZyBkZXZlbG9wZWQgb24gb25lIG9wZXJhdGluZyBzeXN0ZW0gc2VhbWxlc3NseSBiZWluZyBjb21waWxlZCBvbiBhbm90aGVyIHdpdGggemVybyBhZGRpdGlvbmFsIGVmZm9ydC5cbiIgfSwgeyAiSUQiIDogMTAsICJQQVRIIiA6ICIvRnJlZVBhc2NhbCIsICJUSVRMRSIgOiAiRnJlZVBhc2NhbCIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTA1VDIxOjQ3OjU4LjA3OVoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMDVUMjE6NDk6MTAuNzY1WiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiVGhpcyBpcyBteSAqT2JqZWN0UGFzY2FsKiBjb21waWxlciBvZiBjaG9pY2UsIGl0IGNhbiBiZSBkb3dubG9hZGVkIGZyb20gdGhlaXIgb2ZmaWNpYWwgd2Vic2l0ZSwgW2ZyZWVwYXNjYWwub3JnXShodHRwczovL3d3dy5mcmVlcGFzY2FsLm9yZy8pLiIgfSwgeyAiSUQiIDogMTEsICJQQVRIIiA6ICIvTGF6YXJ1cyIsICJUSVRMRSIgOiAiTGF6YXJ1cyBJREUiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0wNVQyMTo0OTozOS4wNzNaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTA2VDExOjMzOjU4LjcwNFoiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIkFuICpJbnRlZ3JhdGVkIERldmVsb3BtZW50IEVudmlyb25tZW50KiBmb3IgdGhlIFtGcmVlUGFzY2FsXSgjL0ZyZWVQYXNjYWwpIGxhbmd1YWdlLiAgSXQgd29ya3MgbW9yZSBvciBsZXNzIGxpa2UgdGhlICpEZWxwaGkqIElERS5cblxuIVtMYXphcnVzIElERSBmcm9tIFdpa2lwZWRpYV0oaHR0cHM6Ly91cGxvYWQud2lraW1lZGlhLm9yZy93aWtpcGVkaWEvY29tbW9ucy90aHVtYi8wLzAxL0xhemFydXNfMS4wX0NhcmJvbi5wbmcvMTAyNHB4LUxhemFydXNfMS4wX0NhcmJvbi5wbmcpIiB9LCB7ICJJRCIgOiAxMiwgIlBBVEgiIDogIi9MQ0wiLCAiVElUTEUiIDogIkxhemFydXMgQ29tcG9uZW50IExpYnJhcnkiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0wNVQyMTo1MTozMS42NTZaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTA1VDIxOjU0OjE3LjE3MVoiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIlRoZSBjcm9zcy1wbGF0Zm9ybSBHVUkgYWJzdHJhY3Rpb24gbGF5ZXIgZm9yIFtGcmVlUGFzY2FsXSgjL0ZyZWVQYXNjYWwpLiAgSXQgaXMgYWxtb3N0IGVudGlyZWx5IGNvbXBhdGlibGUgd2l0aCB0aGUgKkRlbHBoaSogdmVyc2lvbiBjYWxsZWQgKipWQ0wqKiBvciB0aGUgKlZpc3VhbCBDb21wb25lbnQgTGlicmFyeSouICBXaGljaCBpcyBpbiBpdHNlbGYgYSBsaWJyYXJ5IG9mIGNsYXNzZXMgd2hpY2ggYXJlIGFibGUgdG8gY3JlYXRlIGNyb3NzLXBsYXRmb3JtIEdVSSBhcHBsaWNhdGlvbnMgd2l0aCB0aGUgc2FtZSBjb2RlYmFzZS4iIH0sIHsgIklEIiA6IDEzLCAiUEFUSCIgOiAiL1Bhc2NhbFJlc291cmNlcyIsICJUSVRMRSIgOiAiT2JqZWN0UGFzY2FsIFJlc291cmNlcyIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTA2VDEwOjQzOjM1Ljk0NVoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMDZUMTA6NDc6MDQuNzg5WiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiVGhpcyBpcyBhIHBhZ2Ugd2l0aCB2YXJpb3VzIHJlc291cmNlcyB3aGljaCBJIG1heSB1c2Ugb24gYSBkYWlseSBiYXNpcyBkdXJpbmcgY29kaW5nIHNlc3Npb25zOlxuXG4gICogW0xhemFydXMgVGRiZiBUdXRvcmlhbF0oaHR0cHM6Ly93aWtpLmZyZWVwYXNjYWwub3JnL0xhemFydXNfVGRiZl9UdXRvcmlhbCkgIC0gVXNlZnVsIGluZm9ybWF0aW9uIG9uIGZpbHRlciBjb21tYW5kcyBhbmQgZXhwcmVzc2lvbnMuXG4iIH0sIHsgIklEIiA6IDE0LCAiUEFUSCIgOiAiL0xpdmVTdHJlYW1pbmciLCAiVElUTEUiIDogIkxpdmUgU3RyZWFtaW5nIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMDZUMTA6NDg6MjguMTE4WiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0wNlQxMDo1NDoyMi4xOTlaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJJIGFtIGtub3duIHRvICpMaXZlIFN0cmVhbSogbXkgY29kaW5nIHNlc3Npb25zIG9ubGluZSB0aHJvdWdoIG15IG93biBwZXJzb25hbCBsaXZlIHN0cmVhbWluZyBzZXJ2aWNlIEkndmUgY3JlYXRlZCB0byBsaW1pdCBhbnkgZXh0ZXJuYWwgZGlzdHJhY3Rpb25zIGFzIHRvIGVuYWJsZSBteSBhYmlsaXR5IHRvICpIeXBlciBGb2N1cyogb24gYSBzaW5nbGUgY29kaW5nIHRhc2suICBZb3UgY2FuIGZpbmQgdGhlIGZ1bGwgd2Vic2l0ZSBhdCBbbGl2ZS52ZXJvbmVhdS5uZXRdKGh0dHA6Ly9saXZlLnZlcm9uZWF1Lm5ldC8jL2NoYW5uZWwvY29kaW5nKS4gIEkgd2FzIGdvaW5nIHRvIGluY2x1ZGUgYSBmZWVkIHRvIHRoZSBsaXZlIHN0cmVhbSBvbiB0aGlzIHBhZ2UgaGVyZSwgYnV0IGl0IHdvdWxkIHJlcXVpcmUgbWUgdG8gaW5jbHVkZSB0aGUgSmF2YVNjcmlwdCBmaWxlcyBmb3IgdGhlIGNvZGUgcmVxdWlyZWQgdG8gZW5hYmxlIGl0LiAgQW55d2F5cywgcGVyaGFwcyB0aGlzIGlzIGEgd2F5IGZvciBwZW9wbGUgdG8gdGFrZSBhIGxvb2sgYXQgbXkgbmV3IExpdmUgU3RyZWFtaW5nIFBvcnRhbCB3ZWJzaXRlIHRoYXQgSSBzcHVuIHVwIGluIGFib3V0IGEgZGF5J3Mgd29yay5cbiIgfSwgeyAiSUQiIDogMTUsICJQQVRIIiA6ICIvUHJvamVjdHMiLCAiVElUTEUiIDogIk15IFZhcmlvdXMgUHJvamVjdHMiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0wNlQxMToyMzo1Ni43MjJaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAzLTI0VDAwOjEyOjU2LjI4OVoiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIldlbGwsIGZpcnN0bHkgSSBndWVzcyB0aGlzIFt3ZWJzaXRlIGZyYW1ld29ya10oLyNBYm91dFNpdGUpIGhlcmUgY291bnRzIGFzIGEgcHJvamVjdCBvZiBtaW5lLlxuXG4jIyMgTGlicmFyaWVzIC8gUGFja2FnZXNcblxuICAqIFtrbGliXSgjL2tsaWIpXG4gICAgLSBBIFtMYXphcnVzXSgjL0xhemFydXMpIFBhY2thZ2Ugd2hpY2ggY2FuIGFsc28gYmUgdXNlZCBpbiBbRnJlZVBhc2NhbF0oIy9GcmVlUGFzY2FsKSB3aXRoIGFuIGFzc29ydG1lbnQgb2YgdXNlZnVsIHVuaXRzIEkgdXNlIGluIGEgbWFqb3JpdHkgb2YgbXkgcGVyc29uYWwgcHJvamVjdHMuICBJdCB3YXMgbmFtZWQgYXMgc3VjaCBhcyBJIHJlYWxseSBkb24ndCBrbm93IGhvdyB0byBuYW1lIGFueXRoaW5nLCBzbyBhcyBhIGRldmVsb3BlciwgSSBjaG9vc2UgdGhlIG1vc3Qgc2ltcGxlc3Qgb2YgbmFtZXMsIG9mIHdoaWNoIHlvdSB3aWxsIGNvbWUgdG8gc2VlIHdpdGggdGhlIHJlc3Qgb2YgdGhlIHByb2plY3RzIG9uIHRoaXMgbGlzdC5cbiAgKiBba2xpYkxhel0oIy9rbGliKVxuICAgIC0gQSAqTGF6YXJ1cyogcGFja2FnZSB3aGljaCB3aWxsIGFkZCBzZXZlcmFsIGNvbXBvbmVudHMgdW5kZXIgYGtsaWJgIGluIHlvdXIgY29tcG9uZW50IHBhbGV0dGUgd2l0aCB2YXJpb3VzIGNvbXBvbmVudHMgSSd2ZSBjcmVhdGVkLlxuICAqIFtqc2xpYl0oIy9qc2xpYilcbiAgICAtIEEgY29sbGVjdGlvbiBvZiAqRnJlZVBhc2NhbCogdW5pdHMgZm9yIHVzZSB3aXRoIHRoZSB0aXR1bGFyIFtwYXMyanNdKCMvcGFzMmpzKSBjb21waWxlciB0byBidWlsZCB3ZWIgYXBwbGljYXRpb24gc3VjaCBhcyB0aGlzIG9uZS5cblxuIyMjIFNvZnR3YXJlXG5cbiAgKiBbRGV2RGVza3RvcE9TXSgjL0RldkRlc2t0b3BPUylcbiAgICAtIEEgRGViaWFuIExpdmUgQ0Qgd2l0aCBtYW55IGRldmVsb3BlciB0b29scyByaWdodCB0byB1c2UgYW5kIGNvbmZpZ3VyZWQgZnJvbSBib290IHdpdGggZGVjZW50IHNldHRpbmdzLlxuICAqIFtOZXR3b3JrIFNoYXJlZCBIZWFwIFNlcnZlcl0oIy9tY3NlcnZlcilcbiAgICAtIE90aGVyd2lzZSBrbm93biBhcyAqTWVtb3J5IENhcmQgU2VydmVyKiwgd2hpY2ggYWxsb3dzIGFwcGxpY2F0aW9ucyB0byBzdWJzY3JpYmUgdG8gYmxvY2tzIG9mIG1lbW9yeSBvbiB0aGUgbmV0d29yay5cbiAgICAtIENhbiBiZSB2ZXJ5IHVzZWZ1bCBpbiAqbG93IHJlc291cmNlKiBlbnZpcm9ubWVudHMgd2hlcmUgdGhlIHBhcnNpbmcgb2YgY29tcGxleCBkYXRhIHN0cnVjdHVyZXMgc3VjaCBhcyAqKkpTT04qKiBhbmQgKipYTUwqKiBhcmUgdG9vIHRheGluZy5cbiAgKiBbU2ltNjUwMl0oIy9TaW02NTAyKVxuICAgIC0gQSAqKk1PUyA2NTAyKiogZGlzY292ZXJ5IHRveSwgYSBmdW4gbGVhcm5pbmcgZW52aXJvbm1lbnQgZm9yIHRoZSBjaGlwLCBhbGxvd2luZyB0aGUgY3JlYXRpb24gYW5kIHNoYXJpbmcgb2YgNjUwMiBwcm9ncmFtcyBhbmQgbGVhcm5pbmcgc2NlbmFyaW9zIHRvIGJlIGVhc2lseSBzaGFyZWQgYW1vbmdzdCBpdCdzIHVzZXJzLlxuICAqIFtIYWNrZXIgTWFrZXJdKCMvSGFja2VyTWFrZXIpXG4gICAgLSBQbGVhc2UgZG9uJ3QganVkZ2UgbWUgb24gdGhlIG5hbWUsIEkgZG8gbm90IGNvbmRvbmUgc3VjaCBhY3Rpdml0aWVzLCBtdWNoIGxpa2UgaG93IHRoZSBjcmVhdG9ycyBvZiAqR1RBKiBvYnZpb3VzbHkgd291bGQgbmV2ZXIgY29uZG9uZSBtb3N0IGFjdGl2aXRpZXMgcGxheWVycyBkbyBpbiB0aGVpciBnYW1lLlxuICAgIC0gVGhpcyBpcyBnb2luZyB0byBiZSBhbiB1cGNvbWluZyBnYW1lIHByb2plY3QsIEkgYW0gY3VycmVudGx5IGluIHRoZSAqUHJvdG90eXBlKiBzdGFnZXMgb2YgZGV2ZWxvcG1lbnQgYXQgdGhlIG1vbWVudC5cblxuIyMjIERvY3VtZW50YXRpb24gSSBtYWludGFpblxuXG4gICogW2tkb2NzXShodHRwczovL2tkb2NzLnB1dGVyLnNpdGUvaW5kZXgueG1sKVxuICAgIC0gQSBzaXRlIHNpbWlsYXIgdG8gdGhpcyBwZXJoYXBzLCBidXQgd2l0aCBtdWNoIG1vcmUgZG9jdW1lbnRhdGlvbi5cblxuSWYgeW91IGFyZSBsb29raW5nIGZvciBbZmFpbGVkIHByb2plY3RzXSgjL0ZhaWx1cmVzKSwgdGhlbiBJIGhpZ2hseSByZWNvbW1lbmQgY2hlY2tpbmcgb3V0IHRoYXQgcGFnZS5cbiIgfSwgeyAiSUQiIDogMTYsICJQQVRIIiA6ICIvWmVsZGEiLCAiVElUTEUiIDogIlRoZSBMZWdlbmQgb2YgWmVsZGEiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0wNlQxMTo0NToyNi4zNDhaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTI1VDEyOjU1OjExLjI0MVoiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIlRoZSB2aWRlbyBnYW1lcyBzZXJpZXMgSSd2ZSBiZWVuIHBsYXlpbmcgc2luY2UgSSB3YXMgYSBraWQgd2l0aCB0aGUgcmVsZWFzZSBvcmlnaW5hbCByZWxlYXNlIG9uIHRoZSAqTmludGVuZG8gRW50ZXJ0YWlubWVudCBTeXN0ZW0qLCB5ZXMgSSdtIG9sZCBub3cuICBJIHN0aWxsIHBsYXkgYWxsIHRoZSBnYW1lcyBpbiB0aGUgc2VyaWVzIGF0IHZhcmlvdXMgcG9pbnRzIGlmIEkgZmVlbCBJIHdhbnQgdG8gcmV2aXNpdCBhIGdhbWUgaW4gdGhlIHNlcmllcy5cblxuRG8gbG9vayBmb3J3YXJkIHRvIG1vcmUgY29udGVudCBvbiB0aGlzIHBhZ2UgYXMgdGltZSBnb2VzIG9uLiAgRm9yIG5vdyBJIGFtIHRyeWluZyB0byBmb2N1cyBvbiBvdGhlciBjb250ZW50IGF0IHRoZSBzaXRlIGlzIGJyYW5kLW5ldy5cblxuSWYgeW91IGVuam95IHRoZSAqc2Vuc2Ugb2YgcHJvZ3Jlc3Npb24qIGluIHlvdXIgbGlmZSBsaWtlIHlvdSBtYXkgZmVlbCBpbiBhICpaZWxkYSogZ2FtZSwgdGhlbiBJIGhpZ2hseSByZWNvbW1lbmQgdGFraW5nIGEgbG9vayBhdCB0aGUgW1F1aW50ZXRdKCMvUXVpbnRldCkgZ2FtZXMuXG4iIH0sIHsgIklEIiA6IDE3LCAiUEFUSCIgOiAiL3BhczJqcyIsICJUSVRMRSIgOiAicGFzMmpzIFRyYW5zcGlsZXIiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0wNlQxMTo0OToxNy4zMzJaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTA2VDExOjUzOjI1LjExMloiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIlRoaXMgaXMgdGhlIGNvbXBpbGVyIHdoaWNoIHdhcyB1c2VkIHRvIHR1cm4gdGhpcyBbd2Vic2l0ZV0oIy9BYm91dFNpdGUpIGZyb20gW09iamVjdFBhc2NhbF0oIy9PYmplY3RQYXNjYWwpIGNvZGUgaW50byAqSmF2YVNjcmlwdCogY29kZSB3aGljaCBjYW4gcnVuIGluIHlvdXIgd2ViIGJyb3dzZXIuICBJdCBzdXBwb3J0cyBhbGwgdGhlIG1vZGVybiBmZWF0dXJlcyBvZiAqT2JqZWN0UGFzY2FsKiBzdWNoIGFzIHByb3BlciBjbGFzc2VzLCBhbmQgYSBzdGF0aWNhbGx5IHR5cGVkIGxhbmd1YWdlIG1ha2luZyBpdCBlYXNpZXIgdG8gZGVidWcgYW5kIHRyb3VibGVzaG9vdCBhcHBsaWNhdGlvbiBpc3N1ZXMuXG5cbkkgaGlnaGx5IHJlY29tbWVuZCB0YWtpbmcgYSBsb29rIGF0IHRoZSBbc291cmNlIGNvZGVdKGh0dHBzOi8vZ2l0aHViLmNvbS9rdmVyb25lYXUva3Zlcm9uZWF1LmdpdGh1Yi5pby9ibG9iL21haW4vc3JjL1dlYkFwcC5scHIpIGZvciB0aGlzIHdlYnNpdGUgdG8gbGVhcm4gbW9yZS4gIEkgZG8gcGxhbiBvbiBtYWtpbmcgc29tZSB1cGNvbWluZyB2aWRlb3MgdG8gc2hvdyBwZW9wbGUgaG93IHRvIGdldCBzdGFydGVkLlxuICIgfSwgeyAiSUQiIDogMTgsICJQQVRIIiA6ICIva2xpYiIsICJUSVRMRSIgOiAiS2V2aW4ncyBMaWJyYXJ5IG9mIHVzZWZ1bCB1bml0cyIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTA2VDExOjU0OjAwLjY5NFoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMDZUMTI6NTA6NTcuNjI0WiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiQSBwYWNrYWdlIHdoaWNoIGNhbiBiZSB1c2VkIHdpdGggdGhlIFtMYXphcnVzIElERV0oIy9MYXphcnVzKSBvciB1c2VkIGJ5IGl0c2VsZiBpZiBjb25maWd1cmVkIGNvcnJlY3RseSBpbiB5b3VyIGBmcGMuY2ZnYCBmaWxlLlxuXG5bR2l0SHViIFJlcG9dKGh0dHBzOi8vZ2l0aHViLmNvbS9rdmVyb25lYXUva2xpYilcblxuSGVyZSBpcyBhIGxpc3Qgb2YgdGhlIHVuaXRzIHByb3ZpZGVkIGluIHRoZSAqcGFja2FnZSo6XG5cbiAgKiAqKmNtZHN5cyoqIHByb3ZpZGVzIHNvbWUgYmFzaWMgbGluZSBwYXJzaW5nIGZvciBjcmVhdGluZyBxdWljayBjb21tYW5kLWxpbmUgcHJvZ3JhbXMuXG4gICogKipjcnRoZWxwZXIqKiBwcm92aWRlcyBvciB3aWxsIHNvb24gcHJvdmlkZSBzb21lIHV0aWxpdHkgYW5kIHdyYXBwZXJzIGFyb3VuZCB0aGUgYGNydGAgdW5pdC5cbiAgKiAqKmVjd2VhdGhlcioqIHByb3ZpZGVzIHdlYXRoZXIgZGF0YSBmb3IgKkNhbGdhcnkqIHVzaW5nIHRoZSAqRW52aXJvbm1lbnQgQ2FuYWRhKiB3ZWJzaXRlLlxuICAqICoqZWdhY29uc29sZSoqIGlzIGEgcG9ydCBvZiBteSAqcHl0aG9uLXZnYWNvbnNvbGUqIGJ1dCByZW5hbWVkIHRvIGJlIHByb3BlciB0byB3aGF0IGl0IGlzIGFzIHdoZW4gSSBtYWRlIHRoZSBQeXRob24gdmVyc2lvbiBJIGRpZG4ndCBrbm93IEkgd2FzIHRlY2huaWNhbGx5IHJlcGxpY2F0aW5nIGFuIEVHQSBmZWF0dXJlIHdoaWNoIGp1c3Qgc28gaGFwcGVucyB0byB3b3JrIG9uIFZHQSBhZGFwdGVycy5cbiAgKiAqKmZvcmVjYXN0KiogaG9sZHMgYSB0eXBlIGFuZCBhIHBvaW50ZXIgdG8gc2FpZCB0eXBlIHdoaWNoIGhvbGRzIGZvcmVjYXN0IGRhdGEgdXNlZCBieSBgZWN3ZWF0aGVyYCB1bml0LlxuICAqICoqaG9tZWN1KiogcHJvdmlkZXMgbXkgcHJvZ3JhbXMgd2l0aCBhY2Nlc3MgdG8gbXkgW0hvbWUgQXV0b21hdGlvbl0oIy9Ib21lQ1UpIHN5c3RlbS5cbiAgKiAqKmh1ZGJ1dHRvbioqIHByb3ZpZGVzIGEgdG91Y2ggZnJpZW5kbHkgYnV0dG9uICpMYXphcnVzIGNvbXBvbmVudCouXG4gICogKipodWR0b2dnbGUqKiBwcm92aWRlcyBhIHRvdWNoIGZyaWVuZGx5IHRvZ2dsZS1idXR0b24gKkxhemFydXMgY29tcG9uZW50Ki5cbiAgKiAqKmthcGkqKiBob2xkcyBhIHR5cGUgYW5kIGEgcG9pbnRlciB0byBzYWlkIHR5cGUgd2hpY2ggaG9sZHMgYW4gQVBJIHN0cnVjdHVyZSB1c2VkIGJ5IGBrc2VydmVyYCBhbmQgYGtjbGllbnRgLlxuICAqICoqa2J1bmRsZSoqIHdhcyBhbiBlYXJseSBhdHRlbXB0IGF0IHRyeWluZyB0byBjcmVhdGUgYSAqY29uc29saWRhdGVkIGZpbGUgZm9ybWF0Ki5cbiAgKiAqKmtjbGllbnQqKiBpcyBhIGNsaWVudCBjbGFzcyB3aGljaCBhbGxvd3MgbXVsdGlwbGUgZm9ybXMgb2Ygb3BlcmF0aW9uIGZvciBuZXR3b3JrIGNsaWVudCBhY2Nlc3Mgcm91dGluZXMuXG4gICogKiprZXZzaGVsbCoqIGlzIHRoZSB0aXR1bGFyIHNoZWxsIHByb2dyYW0gd3JpdHRlbiBieSBbS2V2aW5dKCMvQWJvdXRNZSkgdG8gY3JlYXRlIGFuZCBhdXRvbWF0ZSBtdW5kYW5lIHRhc2tzIHVzaW5nICo2NTAyKiBtYWNoaW5lIGNvZGUuXG4gICogKiprZXZ0ZWwqKiBpcyBhIGNvbm5lY3RvciB0byBLZXZpbidzIG93biAqSW50ZXJhY3RpdmUgVm9pY2UgUmVzcG9uc2UqIHN5c3RlbSBoZSBkZXZlbG9wZWQuXG4gICogKipraXBjKiogcHJvdmlkZXMgYSBsaWdodHdlaWdodCBJUEMgU2VydmVyIGFuZCBDbGllbnQgb3ZlciB0aGUgc3RhbmRhcmQgKlVOSVggZG9tYWluIHNvY2tldCouXG4gICogKiprbG9nZ2VyKiogcHJvdmlkZXMgc2VhbWxlc3MgYWNjZXNzIHRvIHRoZSBgVEV2ZW50TG9nYCBjbGFzcywgbWFraW5nIGl0IG9ubHkgYSBzaW5nbGUgbGluZSBvZiBjb2RlIHRvIGVuYWJsZSBsb2dnaW5nLlxuICAqICoqa29uc29sZSoqIGlzIG5vdCB0byBiZSBjb25mdXNlZCB3aXRoIHRoZSAqS0RFIFBsYXNtYSogcHJvZ3JhbSBvZiB0aGUgc2FtZSBuYW1lLiAgSW5zdGVhZCwgdGhpcyBpcyBhICpMYXphcnVzIGNvbXBvbmVudCogd2hpY2ggZXh0ZW5kcyB0aGUgc3RhbmRhcmQgYFRNZW1vYCB0byBjcmVhdGUgYSBiYXNpYyBjb21tYW5kIHNoZWxsIGluIGEgR1VJIHByb2dyYW0uXG4gICogKiprc2VydmVyKiogaXMgYSBzZXJ2ZXIgY2xhc3Mgd2hpY2ggYWxsb3dzIG11bHRpcGxlIGZvcm1zIG9mIG9wZXJhdGlvbiBmb3IgbmV0d29yayBzZXJ2ZXIgY3JlYXRpb24uXG4gICogKiprc2lnbmFscyoqIG1ha2VzIGl0IGVhc3kgZm9yIHlvdXIgYXBwbGljYXRpb24gdG8gcHJvcGVybHkgdGVybWluYXRlIHdoZW4gaXQgcmVjZWl2ZXMgdGhlIHByb3BlciBVTklYIHNpZ25hbHMuXG4gICAgLSBQcm92aWRlcyBldmVudCBjYWxsYmFjayBmb3Igd2hlbiBwcm9ncmFtIGdldHMgdGhlICoqU0lHVEVSTSoqIG9yIFtDdHJsLUNdKCMvQ3RybC1DKSBzaWduYWxzLlxuICAqICoqa3RocmVhZHMqKiBpcyBhIHRocmVhZGluZyBjbGFzcyB3aXRoIHN1cHBvcnQgZm9yIGNvbW1hbmQgcXVldWluZy5cbiAgKiAqKmt1dGlscyoqIGhhcyB2YXJpb3VzIHV0aWxpdHkgZnVuY3Rpb25zLlxuICAqICoqbGF6NjUwMioqIGlzIHRoZSAqTGF6YXJ1cyBjb21wb25lbnQqIGZvciBgbGliNjUwMmAsIHdoaWNoIGlzIGFsc28gdGhlIG1vc3QgcmVjb21tZW5kZWQgd2F5IHRvIHVzZSB0aGlzIGxpYnJhcnkgaW4gKk9iamVjdFBhc2NhbCouXG4gICogKipsYXprY2xpZW50KiogaXMgYSAqTGF6YXJ1cyBjb21wb25lbnQqIGZvciBga2NsaWVudGAsIGFsbG93cyB0byBjb25maWd1cmUgdGhlIHZhcmlvdXMgcHJvcGVydGllcyBhdCBkZXNpZ24tdGltZS5cbiAgKiAqKmxhem1lbWNhcmQqKiBpcyBhICpMYXphcnVzIGNvbXBvbmVudCogZm9yIGBtZW1jYXJkYCwgYW5kIGl0IGNhbiBhbHNvIGJlIHVzZWQgYXMgYSBjb25uZWN0b3IgZm9yICptZW1jYXJkLWF3YXJlKiBjb21wb25lbnRzLlxuICAqICoqbGF6bmV0Y2FyZCoqIGlzIGEgKkxhemFydXMgY29tcG9uZW50KiBmb3IgYG5ldGNhcmRgLCBhbmQgaXQgY2FuIGFsc28gYmUgdXNlZCBhcyBhIGNvbm5lY3RvciBmb3IgKm5ldGNhcmQtYXdhcmUqIGNvbXBvbmVudHMsIHN1Y2ggYXMgdGhlIGBUTmV0TWVtb2AgY29tcG9uZW50LiAgSXQgZXZlbiBzdXBwb3J0cyAqc2VydmVyIHN1YnNjcmlwdGlvbnMqLCBzbyBpdCBjYW4gYmUgdXNlZCB0byBzYXkgc3luYyBgVE5ldE1lbW9gIHdpZGdldHMgYWNyb3NzIGEgbmV0d29yay5cbiAgKiAqKmxpYjY1MDIqKiBwcm92aWRlcyBib3RoIGxvdy1sZXZlbCBhbmQgY2xhc3MtYmFzZWQgYWNjZXNzIHRvIHRoZSBgbGliNjUwMi5zb2AgbGlicmFyeSwgYWxzbyBjYWxsZWQgYDY1MDIuRExMYCBvbiBXaW5kb3dzLlxuICAqICoqbWVtY2FyZCoqIGlzIGFuIGltcGxlbWVudGF0aW9uIG9mIGEgbWVtb3J5IGNhcmQgc3RvcmFnZSBzeXN0ZW0gZm9yIHN0cnVjdHVyZWQgZGF0YSwgc2ltaWxhciB0byBob3cgZGF0YSB3YXMgc3RvcmVkIG9uIGEgKlBsYXlTdGF0aW9uIDEgTWVtb3J5IENhcmQqLlxuICAqICoqbmV0Y2FyZCoqIGlzIHRoZSBuZXR3b3JrLWF3YXJlIHZlcnNpb24gb2YgYG1lbWNhcmRgLCBhbmQgY2FuIGJlIHVzZWQgaW4gbW9zdCBjYXNlcyBhcyBhIGRyb3AtaW4gcmVwbGFjZW1lbnQgd2l0aCBvbmx5IGEgZmV3IGV4dHJhIGxpbmVzIG5lZWRlZCB0byBzdGF0ZSB0aGUgaG9zdG5hbWUsIHBvcnQsIGFuZCBjcmVkZW50aWFscy5cbiAgKiAqKm5ldG1lbW8qKiBpcyBhICpuZXRjYXJkLWF3YXJlKiBgVE1lbW9gIGNvbXBvbmVudC5cbiAgKiAqKm5vdGlmeWhlbHBlcioqIGJlY2F1c2UgcHJvZ3JhbW1pbmcgKkQtQnVzKiBpcyB0b28gY29tcGxpY2F0ZWQgZnJvbSAqT2JqZWN0UGFzY2FsKiwgb3IgcmF0aGVyIGFueSBjb21waWxlZCBsYW5ndWFnZS4uLlxuICAqICoqcGh1ZSoqIHByb3ZpZGVzIGFjY2VzcyB0byB0aGUgKlBoaWxpcHMgSHVlKiBzeXN0ZW0gb2YgbGlnaHRpbmcgdGhyb3VnaCBpdCdzIGxvY2FsIElvVCBBUEkuXG4gICogKipwaXNlcnZpY2UqKiBwcm92aWRlcyBhY2Nlc3MgdG8gYSBjdXN0b20gZGFlbW9uIHdoaWNoIHJ1bnMgb24gbXkgUGlzIHRvIGNvbnRyb2wgdGhlIGJhY2tsaWdodC5cbiAgKiAqKnBpc291bmQqKiBwcm92aWRlcyBhIHdyYXBwZXIgYXJvdW5kIHRoZSAqUHVsc2VBdWRpbyogY29tbWFuZC1saW5lIHRvb2xzIHRvIHBsYXkgdm9pY2UgYW5kIGF1ZGlvIG9uIGEgUGkuXG4gICogKipxdmZzKiogaXMgYSBRdWljayBWaXJ0dWFsIEZpbGUgU3lzdGVtIGltcGxlbWVudGF0aW9uLCBpdCdzIHZlcnkgbGltaXRpbmcsIGJ1dCB0aGF0J3MgYWxzbyBwYXJ0IG9mIGl0J3MgY2hhcm0gSSB0aGluay5cbiAgKiAqKnF2ZnNqc29uKiogaXMgYSBKU09OIHJlbmRlcmluZyBhZGFwdGVyIGZvciB0aGUgYHF2ZnNgLiAgQ2FuIGJlIHVzZWQgdG8gcHJvdmlkZSBWRlMgYWNjZXNzIGZyb20gYSB3ZWIgc2VydmVyLlxuICAqICoqU2NyaXB0U3lzdGVtKiogaXMgYSB2ZXJ5IGJhc2ljIGFuZCBwcmltaXRpdmUgc2NyaXB0aW5nIHN5c3RlbSB3aGljaCBjYW4gb25seSBtb3ZlIHRoZSBwb2ludGVyIGZvcndhcmQgaW4gdGhlIGNvZGUuICBUaGVyZSBhcmUgbm8gbG9vcHMsIHN1YnJvdXRpbmVzLCBvciBKTVAtbGlrZSBvcC1jb2Rlcy4gIEl0IHdhcyBidWlsdCB0byBiZSBhcyBzaW1wbGUgdG8gcnVuIGEgbGluZWFyIHNldCBvZiBzdGVwcyBhcyBhIGxpdGVyYWwgc2NyaXB0LiAgQSBzY3JpcHQgaW4gcmVhbC1saWZlIGRvZXNuJ3QgaGF2ZSBjb25kaXRpb25hbHMsIGxpa2UgYW4gYWN0b3IgY2FuJ3QganVzdCByZWFkIHRoZWlyIHNjcmlwdCBhbmQgYWxsIG9mIGEgc3VkZGVuIHRoZXkgYXJlIGNoYW5naW5nIGZyb20gcGFnZSAyMCBiYWNrIHRvIHBhZ2UgOCwgdGhhdCdkIGJlIHN0dXBpZCwgc28gbXkgc2NyaXB0aW5nIGVuZ2luZSBmb2xsb3dzIHRoZSB0cnVlIG1lYW5pbmcgb2YgYSBzY3JpcHQuXG4gICAgLSBJdCBhbHNvIGhhcyBmdWxsIElERSBpbnRlZ3JhdGlvbiBhbmQgY2FuIGJlIGVhc2lseSBkcm9wcGVkIG9udG8gYSBzdGFuZGFyZCBgVEZvcm1gIG9yIGBURGF0YU1vZHVsZWAgZm9yIGFkZGVkIGNvbnZlbmllbmNlIGFuZCBkZXNpZ24tdGltZSBjb25maWd1cmF0aW9uLlxuICAqICoqU2VnbWVudERpc3BsYXkqKiBpcyBvbmUgY29tcG9uZW50IEkgYW0gcHJldHR5IHByb3VkIG9mLCBhcyBpdCB3b3JrcyByZWFsbHkgd2VsbCBhcyBhIGRyYWcgYW5kIGRyb3AgKlNlZ21lbnREaXNwbGF5KiBpbiBMYXphcnVzIHdpdGggZGVzaWduLXRpbWUgY29uZmlndXJhdGlvbiB0byBzZWUgdGhlIGRpc3BsYXkgdXBkYXRlIGluIHJlYWwtdGltZSB3aGlsZSBkZXNpZ25pbmcuXG4gICogKipzdW5jYWxjKiogaXMgYSBTdW5yaXNlL1N1bnNldCBjYWxjdWF0aW9uIHdyaXR0ZW4gaW4gKk9iamVjdFBhc2NhbCouXG4gICogKip0d2lsaW9hcGkqKiBjdXJyZW50bHkgcHJvdmlkZXMgb25seSBTTVMgc2VuZGluZyBhYmlsaXRpZXMgdXNpbmcgdGhlIFR3aWxpbyBBUEkuXG4gICogKip1bml4c2lnbmFscyoqIGlzIG15IG9yaWdpbmFsIHZlcnNpb24gb2Ygc2lnbmFsIGhhbmRsaW5nIGJlZm9yZSBga3NpZ25hbHNgIGVudGVyZWQgdGhlIHNjZW5lLlxuICAqICoqdXJsbGliKiogY3VycmVudGx5IG9ubHkgcHJvdmlkZXMgb25lIHVzZWZ1bCB1dGlsaXR5IGZ1bmN0aW9uIGBVUkxHZXRgIHdoaWNoIGRvZXMgZXhhY3RseSBhcyBpdCdzIG5hbWUgaW1wbGllcy5cbiAgIiB9LCB7ICJJRCIgOiAxOSwgIlBBVEgiIDogIi9qc2xpYiIsICJUSVRMRSIgOiAiV2ViIHJlbGF0ZWQgdW5pdHMgZm9yIE9iamVjdFBhc2NhbCIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTA2VDEyOjMyOjQ1LjAyMloiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMDZUMTI6NDY6MDIuNjAzWiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiVGhpcyAqcGFja2FnZSogaXMgbWVhbnQgdG8gYmUgdXNlZCB3aXRoIHRoZSBbcGFzMmpzXSgjL3BhczJqcykgY29tcGlsZXIgdG8gYnVpbGQgYXBwbGljYXRpb25zIGZvciB0aGUgd2ViLCByYXRoZXIgdGhhbiB0byBiZSB1c2VkIHdpdGggZGVza3RvcCBkZXZlbG9wbWVudC4gIEFsdGhvdWdoIHNvbWUgb2YgdGhlc2UgdW5pdHMsIHRoZSBvbmVzIHdoaWNoIGRvIG5vdCB1c2UgdGhlIERPTSBzaG91bGQgaW4gZ2VuZXJhbCBjb21waWxlIGluIHRoZSByZWd1bGFyIGRlc2t0b3AgY29tcGlsZXIsIGJ1dCBiZSB3YXJuZWQsIHRoYXQgd2Fzbid0IHRoaXMgcGFja2FnZSdzIGludGVuZGVkIHVzZS1jYXNlLlxuXG4gW0dpdEh1YiBSZXBvXShodHRwczovL2dpdGh1Yi5jb20va3Zlcm9uZWF1L2pzbGliKVxuXG5IZXJlIGlzIGEgbGlzdCBvZiB0aGUgdW5pdHMgcHJvdmlkZWQgaW4gdGhlICpwYWNrYWdlKjpcblxuICAqICoqYWpheGxpYioqIHByb3ZpZGVzIGEgZmV3IGNsYXNzZXMgdG8gbWFrZSBpdCBlYXNpZXIgdG8gbWFuYWdlIGNvbm5lY3Rpb25zIHRvIGV4dGVybmFsIHdlYiByZXNvdXJjZXMuXG4gICogKipidWxtYSoqIHByb3ZpZGVzIG1hbnkgKk9iamVjdFBhc2NhbCogY2xhc3NlcyB0byB3b3JrIHdpdGggbWFueSAqQnVsbWEqIHdpZGdldHMgd2l0aCBlYXNlLlxuICAqICoqaXVpKiogcHJvdmlkZXMgc29tZSAqT2JqZWN0UGFzY2FsKiBjbGFzc2VzIHRvIHdvcmsgd2l0aCB0aGUgaVVJIHdlYiBmcmFtZXdvcmsuXG4gICogKipqc2Rvc2JveCoqIGlzIGEgdW5pdCB3aGljaCBwcm92aWRlcyBlYXN5IGFjY2VzcyB0byB0aGUgKkpTLURPU0JveCogbGlicmFyeSBmcm9tICpPYmplY3RQYXNjYWwqLlxuICAgIC0gSXQgZG9lcyBub3QgeWV0IHN1cHBvcnQgYWxsIHRoZSBmdW5jdGlvbmFsaXR5LCBpdCBvbmx5IHN1cHBvcnRzIHdoYXQgSSB3YXMgbmVlZGluZyBmcm9tIGl0LlxuICAgIC0gQWx0aG91Z2ggZXh0ZW5kaW5nIGl0IHRvIHN1cHBvcnQgdGhlIHJlc3Qgb2YgdGhlIEFQSSBzaG91bGQgYmUgdHJpdmlhbC5cbiAgKiAqKmpzb25saWIqKiBtYWtlcyB3b3JraW5nIHdpdGggSlNPTiBkYXRhIGluICpPYmplY3RQYXNjYWwqIG11Y2ggZWFzaWVyLlxuICAqICoqanNvbnRhYmxlKiogaXMgYSBoYW5keSAqRGF0YVNldCogd3JhcHBlciBtYWtpbmcgaXQgZWFzeSB0byBhY2Nlc3MgKkRhdGFTZXRzKiBzdG9yZWQgaW4gSlNPTiBmb3JtYXQgc3VwZXIgZWFzeSB0byBhY2Nlc3MuXG4gICogKipqc3Rlcm0qKiBpcyBhIG5pY2UgYW5kIGVhc3kgdG8gdXNlIHdyYXBwZXIgYXJvdW5kIGBqcXVlcnkudGVybWluYWxgLlxuICAqICoqbGlidmlkZW9qcyoqIGlzIGEgd3JhcHBlciBhcm91bmQgc29tZSB1c2VmdWwgZnVuY3Rpb25zIGluIHRoZSBgdmlkZW9qc2AgSmF2YVNjcmlwdCBsaWJyYXJ5LlxuICAqICoqbWFya2VkKiogYSBzaW1wbGUgd3JhcHBlciBhcm91bmQgdGhlIGBtYXJrZWQuanNgIEphdmFTY3JpcHQgbGlicmFyeS5cbiAgKiAqKm14bWwqKiBhIHdyYXBwZXIgYXJvdW5kIGBNYWdpY1hNTGAgSmF2YVNjcmlwdCBsaWJyYXJ5LlxuICAqICoqbm90aWZpY2F0aW9ucyoqIGlzIG15IGF0dGVtcHQgYXQgdHJ5aW5nIHRvIGdldCAqSFRNTDUgTm90aWZpY2F0aW9ucyogd29ya2luZy5cbiAgKiAqKnF2ZnMqKiBoYXMgc29tZSBjb25uZWN0b3JzIHRvIHRhbGsgdG8gYSBzZXJ2ZXIgdXNpbmcgdGhlIGZvcm1hdCBpbiBgcXZmc2pzb25gIGZyb20gYGtsaWJgLlxuICAqICoqdnR3aWRnZXRzKiogaXMgYSBzZXQgb2Ygd2lkZ2V0cyBpbXBsZW1lbnRlZCB1c2luZyBWVC1jb21tYW5kcyBvbnRvcCBvZiB0aGUgYHdlYnZ0MTAwYCB1bml0LlxuICAqICoqd2Vic2NyaXB0KiogaXMgdGhlIGJyb3dzZXItc2lkZSB2ZXJzaW9uIG9mIHRoZSBgU2NyaXB0U3lzdGVtYCBmb3VuZCBpbiBga2xpYmAgdG8gYWxsb3cgc2ltaWxhciBzY3JpcHRzIHRvIHJ1biBpbiB0aGUgY29udGV4dCBvZiB0aGUgYnJvd3Nlci5cbiAgKiAqKndlYnZ0MTAwKiogcHJvdmlkZXMgYm90aCBhIHdyYXBwZXIgYXJvdW5kICpTaGVsbEluQUJveGVzJyogYHZ0MTAwLmpzYCBKYXZhU2NyaXB0IGxpYnJhcnkgYW5kIGEgKk9iamVjdFBhc2NhbCogY2xhc3MgdG8gbWFrZSB3b3JraW5nIHdpdGggaXQgbXVjaCBlYXNpZXIuXG4iIH0sIHsgIklEIiA6IDIwLCAiUEFUSCIgOiAiL0N0cmwtQyIsICJUSVRMRSIgOiAiQ29udHJvbC1DIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMDZUMTI6NDc6MDQuNDA1WiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0wNlQxMjo1MDozMC41MjlaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJJZiB5b3UgYXJlIGZhaXJseSBuZXcgdG8gY29tcHV0ZXJzIGFuZCB0ZWNobm9sb2d5IHRoZW4gd2hlbiBzb21lb25lIHNheXMgKkNvbnRyb2wgQyogYWxvdWQsIHlvdSBtaWdodCBqdXN0IHRoaW5rIHRoYXQgdGhleSBhcmUgdGFsa2luZyBhYm91dCBvbmUgb2YgdGhlIG1vc3QgY29tbW9uIGFjdGl2aXRpZXMgb24gYSBtb2Rlcm4gUEMsICoqcGxhZ2lhcmlzbSoqLiAgQnV0IGJlZm9yZSB0aGUgZXJhIG9mIHRoZSAqY29weS9wYXN0ZSBwcm9ncmFtbWVyKiwgKnNlYXJjaCBTdGFja092ZXJmbG93KiwgYW5kICpjb3B5IG91dHB1dCBmcm9tIENoYXRHUFQqLCB0aGlzIGtleSBjb21iaW5hdGlvbiBoYWQgb3RoZXIgaW5mYW1vdXMgdXNlcy4uLlxuIiB9LCB7ICJJRCIgOiAyMSwgIlBBVEgiIDogIi9Ib21lQ1UiLCAiVElUTEUiIDogIktldmluJ3MgSG9tZSBDb250cm9sIFVuaXQiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0wNlQxMjo1MjowMC41MzlaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTA2VDEzOjAyOjQwLjA3MFoiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIk15IEhvbWUgQXV0b21hdGlvbiBTeXN0ZW0gd2VudCB0aHJvdWdoICBmZXcgaXRlcmF0aW9ucyB0aHJvdWdob3V0IHRoZSB5ZWFycyBmcm9tIDIwMTUgd2hlbiBJIGZpcnN0IGJlZ2FuIHRvIHdvcmsgb24gaXQuICBJdCBvcmlnaW5hbGx5IHN0YXJ0ZWQgYXMgYSBiYXNpYyBgYm90dGxlLnB5YCB3ZWIgYXBwbGljYXRpb24gdGhhdCByYW4gb24gYSBsb2NhbCBvcmlnaW5hbCBnZW5lcmF0aW9uIFJhc3BiZXJyeSBQaSBpbiBteSBob21lLiAgQWZ0ZXIgSSBwdXJjaGFzZWQgdGhlICpQaGlsaXBzIEh1ZSogbGlnaHRpbmcgc3lzdGVtLCBhIGNvLXdvcmtlciBhdCB3b3JrIG9uZSBkYXkgbWVudGlvbmVkIHRoYXQgdGhlICpJb1QqIGRldmljZSBpbiBteSBob21lIGFjdHVhbGx5IGhhcyBhIGhpZGRlbiBmZWF0dXJlLiAgSXQgZXhwb3NlcyBhbiBlYXN5IHRvIHVzZSAqKlJFU1QgQVBJKiohICBCZWZvcmUga25vd2luZyB0aGlzLCBJIHdhcyBjb250cm9sbGluZyBteSBsaWdodHMgbGlrZSBhbiBhdmVyYWdlIEpvZSwgb3BlbmluZyB0aGUgYXBwIG9uIG15IHBob25lIGEgc2V0dGluZyB0aGUgbW9vZCBJIHdhbnRlZC4gIEhvd2V2ZXIsIEkgd2FudGVkIGFuIGVhc2llciB3YXkgdG8gY29udHJvbCBteSBsaWdodHMgd2l0aG91dCBuZWVkaW5nIHRvIG9wZW4gYW4gYXBwLiAgSXQgd2FzIGFsc28gYXJvdW5kIHRoaXMgdGltZSB0aGF0IEkgd2FzIGV4cGVyaW1lbnRpbmcgd2l0aCAqKk5GQyBUYWdzKiogYW5kIGFuIGFwcCB3aGljaCBhbGxvd3MgbWUgdG8gc2F5IHRhcCBteSBwaG9uZSBvbiBhIHRhZyBhbmQgaGF2ZSBpdCBjb25uZWN0IHRvIGEgVVJMIGVuZHBvaW50LiAgSSBnb3QgdG8gd29yayBhbmQgY3JlYXRlZCB0aGUgZmlyc3QgdmVyc2lvbiBvZiB0aGUgYXV0b21hdGlvbiBzeXN0ZW0gd2hpY2ggaGFkIHNvbWUgYmFzaWMgSFRUUCBlbmRwb2ludHMgd2hpY2ggbXkgcGhvbmUgY291bGQgdGhlbiBjb25uZWN0IHRvIGJ5IHVzaW5nIHRoZSBORkMgdGFwcyB0byBjb250cm9sIG15IGxpZ2h0cyBvdmVyIHRoaXMgQVBJLlxuXG5PdmVyIHRoZSB5ZWFycyB0aGlzIHByb2plY3QgZ3JldyBtdWNoIGxhcmdlciB0aGFuIEkgY291bGQgZXZlciBpbWFnaW5lIGludG8gd2hhdCBpdCBjdXJyZW50bHkgaXMgdG9kYXkuICBUaGUgbmV4dCBmZWF0dXJlIEkgYWRkZWQgdG8gaGF2ZSBzb21lIHNvcnQgb2Ygb3V0cHV0IGZyb20gbXkgTkZDIGFjdGlvbnMgd2FzIHRvIGVuYWJsZSBhdWRpbyBvdXRwdXQgaW4gdGhlIGZvcm0gb2YgcnVubmluZyB0aGUgcG9wdWxhciBgZXNwZWFrYCBjb21tYW5kIHRvIGRpY2F0ZSBub3RpZmljYXRpb25zIG9uIHdoYXQgZWFjaCBlbmRwb2ludCB3YXMgZG9pbmcgd2hlbiB0cmlnZ2VyZWQgdG8gZW5zdXJlIHRoYXQgaXQgd2FzIHdvcmtpbmcgYW5kIEkgZ290IG1vcmUgZmVlZGJhY2sgdGhhbiB0aGUgbGlnaHRzIGNoYW5nZXMuICBUaGlzIHNvb24gZXZvbHZlZCBpbnRvIG1lIGFkZGluZyB0aHJlYWRzIGludG8gdGhlIFB5dGhvbiBwcm9ncmFtIHRvIHBlcmZvcm0gYWN0aW9ucyB3aGljaCBkaWRuJ3QgcmVseSBvbiBtZSB0YXBwaW5nIG15IHBob25lLCBidXQgY291bGQgZG8gYSB2YXJpZXR5IG9mIHRhc2tzIGVhY2ggbWludXRlLiAgVGhlc2UgdGFza3MgaW5jbHVkZWQgdGhlIGNoZWNraW5nIG9mIHRoZSBsaWdodHMgdG8gc2VlIGhvdyBsb25nIHRoZXkgaGF2ZSBiZWVuIHR1cm5lZCBvbiBmb3IsIGFuZCBpZiBpZiBhIGxpZ2h0IGluIGEgcm9vbSB3aGljaCBJIGFtIG5vdCBjdXJyZW50bHkgYWN0aXZlIGlzIG90aGVyd2lzZSBsZWZ0IG9uLCB0aGUgYXV0b21hdGlvbiBzeXN0ZW0gd291bGQgdGhlbiBraW5kbHkgdHVybiBvZmYgdGhvc2Ugb3RoZXIgbGlnaHRzIGZvciBtZS4gIEZvciBtYW55IHllYXJzIEkgY29tcGxldGVseSBmb3Jnb3Qgd2hhdCBhICpsaWdodCBzd2l0Y2gqIGV2ZW4gd2FzLCBhcyBJIG5ldmVyIG5lZWRlZCB0byBldmVyIHRvdWNoIG9uZSBmb3IgeWVhcnMuXG5cblRvZGF5IG15IGhvbWUgYXV0b21hdGlvbiBzeXN0ZW0gaXMgc3RpbGwgYWN0aXZlLCBhbHRob3VnaCB3aXRoIGxlc3Mgb3ZlcmFsbCB1cGRhdGVzLiAgSSB3YXMgcGxhbm5pbmcgYSBmdWxsIHJld3JpdGUgdGhhdCBnb3QgcHJldHR5IGZhciwgYnV0IG5ldmVyIGZ1bGx5IGRlcGxveWVkIGl0LiAgVGhlcmUgaXMgYSBodWdlIHBvdGVudGlhbCBvZiBtZSBnb2luZyBob21lbGVzcyBpbiB0aGUgbmV4dCBtb250aCBkdWUgdG8gdGhlIGxhY2sgb2YgZmluZGluZyBwcm9wZXIgZW1wbG95bWVudCwgc28gSSBoYXZlIHRha2VuIG15IGZvY3VzIG9mZiBvZiB0aGluZ3Mgd2hpY2ggbWF5IG5ldmVyIGV2ZW4gbWF0dGVyIGluIHRoZSBsb25nIHJ1bi4gIElmIHlvdSBhcmUgY3VyaW91cyBvbiB0aGUgY29kZSwgSSBkaWQgcHV0IGl0IHVwIG9uIG15IFtHaXRIdWJdKGh0dHBzOi8vZ2l0aHViLmNvbS9rdmVyb25lYXUvaG9tZWF1dG9tYXRpb24pIGF0IG9uZSBwb2ludC5cbiIgfSwgeyAiSUQiIDogMjIsICJQQVRIIiA6ICIvQWJvdXRNZSIsICJUSVRMRSIgOiAiQSBsaXR0bGUgYml0IGFib3V0IEtldmluIFZlcm9uZWF1IiwgIkNSRUFURUQiIDogIjIwMjQtMDItMDZUMTM6MDI6NTEuODQxWiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0yNVQyMzowMzo0Ni43NjBaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJNeSBuYW1lIGJ5IG5vdyBzaG91bGQgYXQgbGVhc3QgYmUga25vd24gdG8geW91LiAgSSBhbSBub3QgcmVhbGx5IHRoYXQgZ29vZCBhdCB3cml0aW5nIGFib3V0IG15c2VsZiBmb3IgYSBwdWJsaWMgY29udGV4dCBzdWNoIGFzIHRoaXMgd2Vic2l0ZS4gIFRocm91Z2hvdXQgbXkgbGlmZSBJIGhhdmUgYmVlbiB3b3JraW5nIHdpdGggdmFyaW91cyBkaWZmZXJlbnQgdGVjaG5vbG9naWVzLiAgR3Jvd2luZyB1cCBpbiB0aGUgODBzIGFuZCA5MHMgaW50cm9kdWNlZCBtZSB0byB0aGUgZWFybHkgZGF5cyBvZiB0aGUgKnBlcnNvbmFsIGNvbXB1dGVyKiwgYW5kIGJvdGggdG8gKk1pY3Jvc29mdCBXaW5kb3dzKiBhbmQgdGhlIHZhcmlvdXMgKkFwcGxlKiBkZXZpY2VzIGF0IHRoZSB0aW1lLCBzdWNoIGFzIHRoZSBldmVyIHBvcHVsYXIgKipBcHBsZSBdWyoqIHNlcmllcyBvZiBjb21wdXRlcnMsIGFuZCBvZiBjb3Vyc2UgdGhlIHRoZW4gKmZ1dHVyaXN0aWMqICoqTWFjaW50b3NoKiogd2l0aCBpdCdzIGZ1bGx5IGFuaW1hdGVkIGhpZ2ggcmVzb2x1dGlvbiBncmFwaGljcyBvbiB0aGVzZSBtdWx0aW1lZGlhIGRpc2NzIHRoZXkgY2FsbGVkICoqQ0QtUk9NcyoqLiAgSW4gY29udHJhc3QsIHRoZSAqKklCTSBQQ3MqKiBpbiBteSBzY2hvb2xzIGNvbXB1dGVyIGxhYiB3ZXJlIGFsbCAqODAyODYqIHN5c3RlbXMgd2l0aCBvbmx5IGEgbGFtZSAqMy41XCIgZmxvcHB5IGRpc2sqIHJ1bm5pbmcgdGhlICoqTVMtRE9TKiogb3BlcmF0aW5nIHN5c3RlbSB3aGljaCBib290ZWQgdG8gKipET1NTaGVsbCoqIGFzIHRoZSBtYWluIGludGVyZmFjZS4gIElmIHlvdSBsb29rIG9ubGluZSBub3cgYW5kIHNlYXJjaCBmb3IgaW1hZ2VzIG9mICoqTVMtRE9TU2hlbGwqKiBhbmQgKipTeXN0ZW0gNy41LjAqKiB3aGljaCBJIGJlbGlldmUgdGhlIG11bHRpbWVkaWEgbWFjcyByYW4sIHlvdSdsbCBzZWUgd2h5IEkgbWVudGlvbmVkIGl0IGFzIEkgZGlkLiAgSXQgd2FzIHF1aXRlIGxpdGVyYWxseSAqbmlnaHQgYW5kIGRheSogaW4gdGVybXMgb2YgdmlzdWFscyBhbmQgaG93ICpmdXR1cmlzdGljKiBvbmUgd2FzIHdoZW4gY29tcGFyZWQgdG8gdGhlIG90aGVyLlxuXG5Bbnl3YXlzLCB0aGF0IHdhcyBiYXNpY2FsbHkgbXkgaW50cm9kdWN0aW9uIHJpZ2h0IHRoZXJlIGdyb3dpbmcgdXAgdG8gd2hhdCBhICpjb21wdXRlciogZXZlbiB3YXMuICBBbmQgb2YgY291cnNlIHRoZSByZXN0IGlzIGhpc3RvcnkuICBTaW5jZSB0aGVuIEkgaGF2ZSB1c2VkIHNvIG1hbnkgZGlmZmVyZW50IG9wZXJhdGluZyBzeXN0ZW1zIGFuZCB0ZWNobm9sb2dpZXMgdGhyb3VnaG91dCB0aGUgeWVhcnMsIGV2ZW50dWFsbHkgc2V0dGxpbmcgd2l0aCAqKkRlYmlhbiBHTlUvTGludXgqKiBhcyBteSBvcGVyYXRpbmcgc3lzdGVtIG9mIGNob2ljZSBJIHByZWZlciB0byBydW4gb24gYm90aCBteSBob21lIHdvcmtzdGF0aW9uIGFuZCBteSBzZXJ2ZXJzLiAgSSBoYXZlIGJlZW4gdXNpbmcgKkxpbnV4KiBzaW5jZSBhcm91bmQgKjIwMDMqIG1heWJlLCBidXQgbm90IGZ1bGwtdGltZSwgYXMgSSBkaWQgZHVhbC1ib290IGJldHdlZW4gdXN1YWxseSAqV2luZG93cyA5OCogYXQgdGhlIHRpbWUuICBJIGFsc28gZGlkbid0IGp1c3QgdHJ5IG91dCAqTGludXgqIGVpdGhlciwgYXQgb25lIHRpbWUgSSBqdXN0IHJhbiAqKk9wZW5CU0QqKiBzeXN0ZW1zIGluIG15IGhvbWUsIGFuZCBhdCBmaXJzdCBJIGZvdW5kIHRoYXQgbXkgdGhlbiBuZXcgKkNEIEJ1cm5lciogb25seSB3b3JrZWQgb24gKipPcGVuQlNEKiogYW5kIEkgY291bGRuJ3QgZmlndXJlIG91dCBob3cgdG8gZ2V0IGl0IHRvIG9wZXJhdGUgb24gKkxpbnV4Ki4gIEkgbGF0ZXIgZm91bmQgb3V0IHRoZSB0cmljayBpcyB0byB0ZWxsIHRoZSBMaW51eCBrZXJuZWwsIGF0IHRoZSB0aW1lICoyLjQqIHRvIHVzZSAqU0NTSSBlbXVsYXRpb24qIG9uIHRoYXQgKklERSBkZXZpY2UqLCBhcyB0aGF0IGlzIHRoZSBvbmx5IHdheSBidXJuZXJzIGNhbiBvcGVyYXRlIHVuZGVyIFVOSVgtbGlrZSBvcGVyYXRpbmcgc3lzdGVtcywgYXQgbGVhc3QgYXQgdGhlIHRpbWUuICBJdCBpcyBub3cgc2VhbWxlc3MgdG8gZ2V0IGEgYnVybmVyIHRvIHdvcmsgb24gTGludXgsIGJ1dCBiYWNrIHRoZW4sIHVubGVzcyB5b3Uga25ldyB0aGlzIGxpdHRsZSBmYWN0LCB5b3UnZCBlaXRoZXIgbmVlZCB0byBzZWFyY2ggYXJvdW5kIG9yIGJlIGhlbHBsZXNzIGFuZCBub3QgdXNlIHRoZSBidXJuZXIgYXQgYWxsLiAgKipPcGVuQlNEKiogYWxzbyBoYWQgb3RoZXIgYWR2YW50YWdlcyBhdCB0aGUgdGltZSBvdmVyICpMaW51eCogYXMgd2VsbCwgbmFtZWx5IHZpZGVvIGNhcmQgYWNjZWxvcmF0aW9uIGZvciBteSAqQVRJIFJhZ2UgMTI4KiBjYXJkLCB3aGljaCBJIGNvdWxkIG5vdCBnZXQgd29ya2luZyBvbiAqKkRlYmlhbioqIGF0IHRoZSB0aW1lLCBpbiByZXRyb3NwZWN0LCBJIGJlbGlldmUgaXQgd2FzIG1vc3QgbGlrZWx5IGJlY2F1c2UgSSB3YXMgdW5hd2FyZSBvZiB3aGljaCBvZiB0aGUga2VybmVsIG1vZHVsZXMgSSBuZWVkZWQgdG8gc2VsZWN0IGR1cmluZyB0aGUgaW5zdGFsbGF0aW9uLiAgWW91IHNlZSwgdGhlc2UgcmVhbGx5IGVhcmx5IHZlcnNpb25zIG9mICpEZWJpYW4qIGRpZCBub3QgaGF2ZSBhdXRvLWRldGVjdGlvbiBvZiBoYXJkd2FyZSwgYW5kIHVubGVzcyB5b3Uga25ldyB5b3VyIGhhcmR3YXJlIHJlYWxseSB3ZWxsIGFuZCBrbmV3IHdoaWNoIG1vZHVsZXMgdG8gdXNlLCBpdCB3YXMgYSBiaXQgb2YgYSBwYWluIGZvciBtYW55IG5ldyB1c2VycywgbXlzZWxmIGluY2x1ZGVkLiAgT2RkbHksICpPcGVuQlNEKiB3YXMgbXVjaCBtb3JlIG1vZGVybiBpbiB0aGVzZSB0ZXJtcyBhdCB0aGUgdGltZSwgd2hlcmUgaXQgd2FzIGFibGUgdG8gYm90aCBlZmZvcnRsZXNzbHkgYnVybiBhbmQgY291bGQgYXV0by1kZXRlY3QgYWxsIG15IGhhcmR3YXJlIHdpdGggbm8gaXNzdWVzIHRoYXQgSSBjYW4gcmVhbGx5IG1ha2Ugbm90ZSBvZi5cblxuU28sIHRoZXJlIGlzIG15IGJyaWVmIGhpc3Rvcnkgb24gbXkgZmlyc3Qgam91cm5leSBpbnRvIHRoZSB3b3JsZCBvZiAqTGludXgqIG9yIHJhdGhlciAqVU5JWC1saWtlKiBvcGVyYXRpbmcgc3lzdGVtcy5cblxuIyMjIFBlcnNvbmFsIERldmVsb3BtZW50IEhpc3RvcnlcblxuRm9yIHRob3NlIHdob20gZG8gbm90IGtub3cgbWUsIEkgaGF2ZSBiZWVuIHByb2dyYW1taW5nIGluIFB5dGhvbiBzaW5jZSBhYm91dCAyMDEwLFxuaXQgd2FzIG15IHNvbGUgbGFuZ3VhZ2Ugb2YgY2hvaWNlIGZvciBtYW55IG1hbnkgeWVhcnMuICBQcmlvciB0byBQeXRob24sIEkgd2FzXG5kZXZlbG9waW5nIHdlYnNpdGVzIGluIFBIUCgqU28gZ2xhZCBJIG1vdmVkIG9uKikgZm9yIG1hbnkgeWVhcnMgc2luY2UgYWJvdXQgMjAwMS5cbkJlZm9yZSBQSFAsIEkgd2FzIHBsYXlpbmcgYXJvdW5kIHdpdGggUGVybCBDR0ksIEFTUCwgYW5kIG9mIGNvdXJzZSBWaXN1YWwgQmFzaWMuXG5BY3R1YWxseSwgcHJpb3IgdG8gUEhQLCBJIHdhcyBtYWlubHkgYSBCQVNJQyBkZXZlbG9wZXIgaW4gbXkgY2hpbGRob29kLCBhbmQgaGF2aW5nXG50aGUgY2hhbmNlIHRvIHBsYXkgYXJvdW5kIHdpdGggVHVyYm8gUGFzY2FsIGluIHRob3NlIGRheXMgd2FzIGEgcmVhbCBleWUtb3BlbmVyLlxuXG5JbiByZWNlbnQgeWVhcnMsIEkgaGF2ZSBiZWVuIHdhbnRpbmcgdG8gY3JlYXRlIHJlZGlzdHJpYnV0YWJsZSBwcm9ncmFtcywgd2hpbGVcbnRoaXMgY2FuIHdvcmsgaW4gUHl0aG9uLCBpdCBpcyBkZWZpbmF0ZWx5IG5vdCB0aGUgYmVzdCB0b29sIGZvciB0aGUgam9iLiAgSXQgbWF5XG5ydW4gcGVyZmVjdGx5IG9uIG15IERlYmlhbiBtYWNoaW5lLCBidXQgaWYgSSBkZWNpZGVkIHRvIGhhdmUgaXQgcnVuIG9uIGVpdGhlclxuTWFjT1Mgb3IgV2luZG93cy4uLiAgSXQgaXMgYSAqKkhVR0UqKiBwYWluLiAgUHl0aG9uIGFsc28gZG9lcyBub3QgZnVsbHkgc3VwcG9ydFxudGhlIG5hdGl2ZSBHVUkgb24gdGhlc2Ugb3BlcmF0aW5nIHN5c3RlbXMsIGFzIGEgcmVzdWx0IEkgbmVlZCB0byBlaXRoZXIgbGVhcm5cbipHVEsqIG9yICpRdCouICBQeXRob24gZG9lcyBoYXZlICpUayogaW5jbHVkZWQsIGFsb25nIHdpdGggc3VwcG9ydCBmb3IgKnd4V2luZG93cyosXG5idXQgdGhlc2UgR1VJIHRvb2xraXRzIGFyZSBmYXIgZnJvbSBpZGVhbCB3aGVuIHlvdSB3aXNoIHRvIHBvcnQgeW91ciBwcm9ncmFtIHRvXG5vdGhlciBvcGVyYXRpbmcgc3lzdGVtcy4gIFRoaXMgaXMgd2hlcmUgbXkgcmVzZWFyY2ggaW50byBhIHRvb2wgb3IgbGFuZ3VhZ2Ugd2hpY2hcbmlzIGJvdGggb3BlcmF0aW5nIHN5c3RlbSBhbmQgR1VJIHRvb2xraXQgYWdub3N0aWMgY29tZXMgaW50byBwbGF5Li4uXG5cbkJlZm9yZSBzZXR0bGluZyBvbiBPYmplY3RQYXNjYWwsIEkgZGlkIGxvb2sgaW50byBhIGZldyBvdGhlciBvcHRpb25zLiAgSSBjaGVja2VkXG5vdXQgSmF2YSwgYXMgSSB3YXMgYWxzbyBpbnRlcmVzdGVkIGluIGRldmVsb3BpbmcgZm9yIEFuZHJvaWQsIGFuZCB0aG91Z2h0IGxlYXJuaW5nXG5KYXZhIHdvdWxkIGJlIGdvb2QgZm9yIGJvdGggY3JlYXRpbmcgZGVza3RvcCBhcHBzIGFuZCBBbmRyb2lkIGFwcHMuLi4gSG93ZXZlcixcbmFzIHNvbWUgb2YgeW91IG1pZ2h0IGtub3csIEphdmEgb24gdGhlIGRlc2t0b3AgaXMgc29ydCBvZiBhIGR5aW5nIGJlYXN0LiAgVXNlcnNcbm5vdyBuZWVkIHRvIGluc3RhbGwgdGhlIEphdmEgUnVudGltZSBFbnZpcm9ubWVudCBvbiB0aGVpciBQQ3MsIG9yIHRoZSBpbnN0YWxsZXJcbm5lZWRzIHRvIGluY2x1ZGUgaXQuICBUaGlzIGxlYWRzIHRvIGEgdmVyeSBsYXJnZSBwcm9ncmFtIHNpemUsIHdpdGggYSBub3Qgc28gZ29vZFxudHJhZGUtb2ZmLiAgSXQgd29ya2VkIGZvciBNaW5lY3JhZnQsIGJ1dCBJIGRvdWJ0IGl0IHdvdWxkIHdvcmsgZm9yIHJlZ3VsYXIgZGVza3RvcFxuYXBwbGljYXRpb25zLi4uICBTbyB0aGUgaHVudCBjb250aW51ZWQuXG5cbkkgdGhlbiBsb29rZWQgaW50byBsZWFybmluZyBob3cgQyBjb2RlIGNvdWxkIGJlIHBvcnRhYmxlIGJ5IHdvcmtpbmcgd2l0aCBzb21lXG5vcGVuIHNvdXJjZSBDIHByb2dyYW1zIHdoaWNoIGhhdmUgYWxyZWFkeSBiZWVuIHBvcnRlZCB0byBtdWx0aXBsZSBvcGVyYXRpbmcgc3lzdGVtcy5cblRoaXMgaXMgd2hlbiBJIGJlY2FtZSB0aGUgdGVtcG9yYXJ5IG1haW50YWluZXIgb2YgKipzZGxCYXNpYyoqIHByb2plY3QsIGEgQkFTSUNcbmludGVycHJldGVyIGFpbWVkIGF0IG1ha2luZyBnYW1lcyB3aXRoIGEgc2ltaWxhciBkaWFsZWN0IHRvICpBTU9TIEJBU0lDKi4gIEkgaGFkXG5hIGxvdCBvZiB0cm91YmxlIHRyeWluZyB0byBnZXQgaXQgdG8gcHJvcGVybHkgY29tcGlsZSBvbiBXaW5kb3dzIGFuZCBsYXRlciBPUyBYLlxuSW4gdGhlIGVuZCwgSSBnYXZlIHVwIG9uIHRyeWluZyB0byB1c2UgQyBhcyBhIHBvcnRhYmxlIGxhbmd1YWdlLCBhcyB0cnlpbmcgdG9cbmNvbXBpbGUgTGludXggR0NDIHByb2dyYW1zIG9uIFdpbmRvd3Mgd2FzIGEgaHVnZSBwYWluLCBsZXQgYWxvbmUgdHJ5aW5nIHRvIGdldFxuU0RMIHRvIHdvcmsgcHJvcGVybHksIEknZCBpbWFnaW5lIHRyeWluZyB0byBjcm9zcy1jb21waWxlIGEgZnVsbCBHVUkgcHJvZ3JhbVxud291bGQgaGF2ZSBiZWVuIGEgbmlnaHRtYXJlIHRvIG1haW50YWluLlxuIiB9LCB7ICJJRCIgOiAyNiwgIlBBVEgiIDogIi9fX0RFQlVHX18vSFRNTCIsICJUSVRMRSIgOiAiRXhhbXBsZSBIVE1MIFBhZ2UiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0wNlQxOToyODoyOC4wNjBaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTA2VDE5OjI5OjQzLjg0NFoiLCAiQ09OVEVOVFRZUEUiIDogMCwgIkNPTlRFTlQiIDogIjxwPlxuVGhpcyBwYWdlIGlzIGVudGlyZWx5IHN0b3JlZCBhcyBwdXJlIEhUTUwgd2l0aGluIHRoZSBkYXRhYmFzZSBhbmQgaW4gdGhlIDxpPkRhdGFTZXQ8L2k+LCBhbmQgYXMgc3VjaCBpdCBjYW4gdXNlIGFueSBIVE1MIGVsZW1lbnRzLiAgVGhpcyBwYWdlIHdpbGwgY29udGFpbiBleGFtcGxlcyBvZiBzdWNoIGVsZW1lbnRzIGluIHRoZSBuZWFyIGZ1dHVyZS5cbjwvcD5cbiIgfSwgeyAiSUQiIDogMjcsICJQQVRIIiA6ICIvX19ERUJVR19fL0pTUHJvZyIsICJUSVRMRSIgOiAiRXhhbXBsZSBKYXZhU2NyaXB0IFByb2dyYW0iLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0wNlQxOTozMDoxNi40NDRaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTE4VDEzOjQ5OjUxLjIxNFoiLCAiQ09OVEVOVFRZUEUiIDogNTAsICJDT05URU5UIiA6ICJTZXRUaXRsZSgnRXhhbXBsZSBKYXZhU2NyaXB0IFByb2dyYW0nKTtcbnZhciBidWY9R2V0Q29udGVudCgnL1dlYnNpdGUvSlNBcHAnKTtcbmJ1Zj1idWYrJzxoND5FeGFtcGxlIENvZGU6PC9oND4nK0dldENvbnRlbnQoJy9XZWJzaXRlL0pTRXhhbXBsZScpO1xuU2V0Q29udGVudChidWYpO1xuIiB9LCB7ICJJRCIgOiAyOCwgIlBBVEgiIDogIi9fX0RFQlVHX18vUHlBcHAiLCAiVElUTEUiIDogIkV4YW1wbGUgQnJ5dGhvbiBQcm9ncmFtIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMDZUMTk6MzI6NDMuMTE2WiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0xOFQxMzo1Mzo1OC4wMTlaIiwgIkNPTlRFTlRUWVBFIiA6IDUxLCAiQ09OVEVOVCIgOiAiZnJvbSBicm93c2VyIGltcG9ydCBkb2N1bWVudCwgd2luZG93XG5mcm9tIHdlYnNpdGUgaW1wb3J0IFNldFRpdGxlLCBTZXRDb250ZW50LCBHZXRDb250ZW50XG5cbmJsb2NrMSA9IEdldENvbnRlbnQoJy9XZWJzaXRlL1B5QXBwJylcbmJsb2NrMiA9ICc8aDQ+RXhhbXBsZSBDb2RlOjwvaDQ+JytHZXRDb250ZW50KCcvV2Vic2l0ZS9QeUV4YW1wbGUnKVxuXG5TZXRDb250ZW50KCdUaGlzIHdhcyB3cml0dGVuIHRvIHRoZSBET00gdmlhIDxpPkJyeXRob248L2k+IGNvZGUuPGJyLz4nK2Jsb2NrMStibG9jazIpXG4iIH0sIHsgIklEIiA6IDI5LCAiUEFUSCIgOiAiL19fREVCVUdfXy9QYXNjYWwiLCAiVElUTEUiIDogIlBhc2NhbCBTb3VyY2UgRXhhbXBsZSIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTA2VDE5OjM1OjMwLjU5MloiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMDZUMTk6Mzc6NTAuNDI1WiIsICJDT05URU5UVFlQRSIgOiAxMDAsICJDT05URU5UIiA6ICJwcm9ncmFtIGNvb2xhcHA7XG57ICBUaGlzIGlzIGFuIGV4YW1wbGUgb2YgaG93IFBhc2NhbCBjb2RlIGNhbiBiZSBlYXNpbHkgaGlnaGxpZ2h0ZWQgd2l0aCB0aGlzIGZyYW1ld29yay4gfVxuXG51c2VzIGNydDtcblxucHJvY2VkdXJlIEhlbGxvKG5hbWU6IHN0cmluZyk7XG5iZWdpblxuICBXcml0ZUxuKCdIZWxsbywgJyxuYW1lLCchJyk7XG5lbmQ7XG5cbmJlZ2luXG4gIC8vIEV4cGVjdCBhIGJldHRlciBjb2RlIGV4YW1wbGUgaW4gdGhlIGZ1dHVyZS5cbiAgSGVsbG8oJ1dlYnNpdGUgVmlzaXRvciEnKTtcbmVuZC5cbiIgfSwgeyAiSUQiIDogMzAsICJQQVRIIiA6ICIvX19ERUJVR19fL0Jhc2giLCAiVElUTEUiIDogIkJhc2ggRXhhbXBsZSIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTA2VDE5OjM4OjAxLjUzOVoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMDZUMTk6Mzg6NDAuMDc2WiIsICJDT05URU5UVFlQRSIgOiAxMDEsICJDT05URU5UIiA6ICIjIS9iaW4vc2hcblxuZWNobyBcIlNvbWUgY29vbCBzY3JpcHQgc2hvdWxkIGJlIGhlcmUgc29vbiB0byByZXBsYWNlIG1lLlwiXG5cbmV4aXQgMFxuIiB9LCB7ICJJRCIgOiAzMSwgIlBBVEgiIDogIi9fX0RFQlVHX18vUHl0aG9uIiwgIlRJVExFIiA6ICJQeXRob24gQ29kZSBFeGFtcGxlIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMDZUMTk6Mzg6NDYuNjk0WiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0yNVQxNDozMDo0OS41NDVaIiwgIkNPTlRFTlRUWVBFIiA6IDEwMiwgIkNPTlRFTlQiIDogIiMgVGhpcyBpcyBhY3R1YWxseSB0aGUgY29kZSB0aGF0IHJ1bnMgdG8gZGlzcGxheSB0aGUgRW1iZWRkaW5nIEV4YW1wbGUuXG5cbmZyb20gYnJvd3NlciBpbXBvcnQgZG9jdW1lbnQsIHdpbmRvd1xuZnJvbSB3ZWJzaXRlIGltcG9ydCBTZXRUaXRsZSwgU2V0Q29udGVudFxuXG5TZXRDb250ZW50KCdUaGlzIHdhcyB3cml0dGVuIHRvIHRoZSBET00gdmlhIDxpPkJyeXRob248L2k+IGNvZGUuPGJyLz5BIGJldHRlciBleGFtcGxlIHdpbGwgc29vbiBmb2xsb3cuJyk7XG5mcm9tIGJyb3dzZXIgaW1wb3J0IHdpbmRvd1xuZnJvbSB3ZWJzaXRlIGltcG9ydCBTZXRDb250ZW50LCBHZXRDb250ZW50XG5cbmJ1ZiA9ICc8aT5UaGlzIGNvbnRlbnQgaXMgZ2VuZXJhdGVkIGJ5IGEgYnJvd3NlciBydW4gUHl0aG9uIFNjcmlwdC48L2k+PGhyLz4nO1xuXG5mb3IgbGFuZyBpbiAoJ0hUTUwnLCAnUGFzY2FsJywgJ0Jhc2gnLCAnUHl0aG9uJywgJ0MnLCAnTWFrZWZpbGUnLCAnSmF2YVNjcmlwdCcpOlxuICAgIGJ1Zis9JzxoND5FeGFtcGxlIENvZGUgZm9yICcrbGFuZysnOjwvaDQ+J1xuICAgIGJ1Zis9R2V0Q29udGVudCgnL19fREVCVUdfXy8nK2xhbmcpXG5cblNldENvbnRlbnQoYnVmKVxud2luZG93LmhsanMuaW5pdEhpZ2hsaWdodGluZygpXG4iIH0sIHsgIklEIiA6IDMyLCAiUEFUSCIgOiAiL19fREVCVUdfXy9DIiwgIlRJVExFIiA6ICJDIENvZGUgRXhhbXBsZSIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTA2VDE5OjQwOjQ1LjQ5MVoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMDZUMTk6NDE6NDkuODkyWiIsICJDT05URU5UVFlQRSIgOiAxMDQsICJDT05URU5UIiA6ICIjaW5jbHVkZSA8c3RkaW8uaD5cblxuaW50IG1haW4oKXtcbiAgICBwcmludGYoXCJUaGlzIGlzIGFuIGF3ZnVsIEMgQ29kZSBleGFtcGxlXFxuXCIpO1xuICAgIHJldHVybigwKTtcbn1cbiIgfSwgeyAiSUQiIDogMzMsICJQQVRIIiA6ICIvX19ERUJVR19fL01ha2VmaWxlIiwgIlRJVExFIiA6ICJNYWtlZmlsZSBFeGFtcGxlIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMDZUMTk6NDE6NTYuMDM2WiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0wNlQxOTo0MjoyNy4wMjdaIiwgIkNPTlRFTlRUWVBFIiA6IDEwNSwgIkNPTlRFTlQiIDogImRlYnVnOiBXZWJBcHAuanNcbiAgICAgICAgcHl0aG9uMyAtbSBodHRwLnNlcnZlclxuXG5kZXBsb3k6IFdlYkFwcC5taW4uanNcbiAgICAgICAgY3AgJF4gLi4vXG4gICAgICAgIHNlZCAncy9XZWJBcHBcXC5qcy9XZWJBcHBcXC5taW5cXC5qcy8nIGluZGV4Lmh0bWwgfCBzZWQgJ3MvYXBpXFwuanMvc3JjXFwvYXBpXFwuanMvJyA+IC4uL2luZGV4Lmh0bWxcblxuV2ViQXBwLmpzOiBXZWJBcHAubHByXG4gICAgICAgIHBhczJqcyAtVGJyb3dzZXIgLVBlY21hc2NyaXB0NSAtTU9iakZQQyAtU2MgLU8yIC1sIC12ZXduaGlicSAtRmlqcyAtRnUuLi8uLi9qc2xpYiAtRnUuIC1GVWpzIC1GRS4gLW9XZWJBcHAuanMgLWRQYXMyanMgLWRQYXMyanMgLUpldXRmLTggLUppcnRsLmpzIC1KYyAtSm0tIC1KUmpzIFdlYkFwcC5scHJcblxuV2ViQXBwLm1pbi5qczogV2ViQXBwLmpzXG4gICAgICAgIGNhdCAkXiB8IG1pbmlmeSAtLXR5cGUganMgPiAkQFxuXG5jbGVhbjpcbiAgICAgICAgcm0gLWYgV2ViQXBwLm1pbi5qcyBXZWJBcHAuanNcbiIgfSwgeyAiSUQiIDogMzQsICJQQVRIIiA6ICIvX19ERUJVR19fL0phdmFTY3JpcHQiLCAiVElUTEUiIDogIkphdmFTY3JpcHQgRXhhbXBsZSBDb2RlIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMDZUMTk6NDM6MDYuMjExWiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0wNlQxOTo0NDowOS4yOTJaIiwgIkNPTlRFTlRUWVBFIiA6IDEwNiwgIkNPTlRFTlQiIDogIi8vIFRoaXMgaXMgYWN0dWFsbHkgdGhlIGNvZGUgdGhhdCBydW5zIHdoZW4geW91IGdvIHRvIHRoZSBKYXZhU2NyaXB0IFByb2dyYW0uXG5cbndpbmRvdy5jbGlja21lID0gZnVuY3Rpb24oKXtcbiAgICB3aW5kb3cuYWxlcnQoJ1RoaXMgaXMgYWxsIGNvbnRhaW5lZCB3aXRoaW4gdGhlIGRhdGFzZXQgYXMgYSBjb250ZW50LXR5cGUhJyk7XG4gICAgU2V0VGl0bGUoJ1NjYXJ5IERPTSEhIScpO1xuICAgIFNldENvbnRlbnQoJ0FuZCBpdCBoYXMgZnVsbCBzY2FyeSBET00gYWNjZXNzIHRvbyEnKTtcbn1cblxuU2V0Q29udGVudCgnPGJ1dHRvbiBvbmNsaWNrPVwid2luZG93LmNsaWNrbWUoKTtcIj5DbGljayBtZSE8L2J1dHRvbj4nKTtcbiIgfSwgeyAiSUQiIDogMzUsICJQQVRIIiA6ICIvX19ERUJVR19fL0FsbFNvdXJjZSIsICJUSVRMRSIgOiAiRW1iZWRkZWQgVGVzdCIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTA2VDE5OjU1OjMzLjg1N1oiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMjVUMTQ6Mjk6MTkuNTAxWiIsICJDT05URU5UVFlQRSIgOiA1MSwgIkNPTlRFTlQiIDogImZyb20gYnJvd3NlciBpbXBvcnQgd2luZG93XG5mcm9tIHdlYnNpdGUgaW1wb3J0IFNldENvbnRlbnQsIEdldENvbnRlbnRcblxuYnVmID0gJzxpPlRoaXMgY29udGVudCBpcyBnZW5lcmF0ZWQgYnkgYSBicm93c2VyIHJ1biBQeXRob24gU2NyaXB0LjwvaT48aHIvPic7XG5cbmZvciBsYW5nIGluICgnSFRNTCcsICdQYXNjYWwnLCAnQmFzaCcsICdQeXRob24nLCAnQycsICdNYWtlZmlsZScsICdKYXZhU2NyaXB0Jyk6XG4gICAgYnVmKz0nPGg0PkV4YW1wbGUgQ29kZSBmb3IgJytsYW5nKyc6PC9oND4nXG4gICAgYnVmKz1HZXRDb250ZW50KCcvX19ERUJVR19fLycrbGFuZylcblxuU2V0Q29udGVudChidWYpXG53aW5kb3cuaGxqcy5pbml0SGlnaGxpZ2h0aW5nKClcbiIgfSwgeyAiSUQiIDogMzYsICJQQVRIIiA6ICIvQnVncy9BZG1pblRvb2wiLCAiVElUTEUiIDogIkRCQWRtaW4gVG9vbCBCdWcgVHJhY2tlciIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTA2VDIxOjQ2OjU4LjAxOVoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMjNUMjE6NTI6NDkuMzU4WiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiVmFyaW91cyBidWdzIEkndmUgdGFrZW4gbm90ZSBvZjpcblxuICAqIEZpbHRlcmluZyBmb3IgY29udGVudC10eXBlIGRvZXMgbm90IHdvcmssIEluZGV4IGlzc3VlLiAqKkNvbXBsZXRlZCoqXG5cbk5ldyBGZWF0dXJlcyBJJ2QgbGlrZSBhZGRlZDpcblxuICAqIEJ1dHRvbiB0byBvcGVuIENvbnRlbnQgaW4gYSBTeW5FZGl0IHNvdXJjZSBjb2RlIGVkaXRvciB3aW5kb3csIG9yIHNlZSBpZiBTeW5FZGl0IGhhcyBhIERhdGEtYXdhcmUgY29tcG9uZW50LiAqKkNvbXBsZXRlZCoqXG4iIH0sIHsgIklEIiA6IDM4LCAiUEFUSCIgOiAiL3hQcm9qZWN0LUY5IiwgIlRJVExFIiA6ICJNb2Rlcm4gV2ViIEFwcGxpY2F0aW9ucz8iLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0wOFQyMDozNTo0NS40MjRaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTA4VDIwOjQxOjEyLjMwN1oiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIlRvZGF5IGFzIEkgd2FzIG9uIHRoZSAqRnJlZVBhc2NhbCogZm9ydW1zIHRvIG1ha2UgYSBwb3N0IGFib3V0IHRoaXMgd2Vic2l0ZSBoZXJlIGFuZCBpdCdzIHNvdXJjZSBjb2RlLCBJIHJlYWQgc29tZSByZXBsaWVzIHRvIGFuIG9sZGVyIHBvc3QgYWJvdXQgY29tcGlsaW5nIGFjdHVhbCBMQ0wgYXBwbGljYXRpb25zIHRvIEhUTUw1IHVzaW5nIHRoZSBDYW52YXMsIGFuZCBndWVzcyB3aGF0PyAgU29tZSBjb21wYW55IHdlbnQgYW5kIGRpZCBpdCwgYW5kIGl0J3Mgbm90IGEgZnJlZSBub3Igb3BlbiBzb3VyY2UgcHJvZHVjdCwgYWN0dWFsbHkgY29tZSB0byB0aGluayBvZiBpdCwgbm90IG1hbnkgKk9iamVjdFBhc2NhbCogcHJvZ3JhbXMgYXJlIG9wZW4gc291cmNlZCwgYW55d2F5cy4uLlxuXG5UaGlzIGFkZC1vbiBmb3IgKkxhemFydXMqLCB3aGljaCBjYW4gYWxzbyBiZSB1c2VkIHdpdGggKlZpc3VhbCBTdHVkaW8gQ29kZSogY2FuIGNyZWF0ZSB3ZWJzaXRlcyB3aGljaCBsb29rIGVudGlyZWx5IGxpa2UgYSBydW4gb2YgdGhlIG1pbGwgZGVza3RvcCBwcm9ncmFtIHlvdSBtaWdodCBzZWUganVzdCBydW5uaW5nIG9uIHlvdXIgZGVza3RvcC4gIEl0J3MgaW5jcmVkaWJsZSB0byBzZWUgdGhpcyB0ZWNobm9sb2d5LCBoYXZlIGEgbG9vayBmb3IgeW91cnNlbGY6XG5cblt4UHJvamVjdCBGOSBEZW1vc10oaHR0cHM6Ly9ncmVlbi1oaWxsLnNybC9kZW1vcy9pbmRleC5odG1sKVxuXG5DbGljayBvbnRvIGFuIGluZGl2aWR1YWwgZGVtbyB0byBmcm9tIHRoZSBsaW5rIGFib3ZlIHRvIHNlZSB3aGF0IEkgbWVhbi4gIENhbGwgbWUgaW1wcmVzc2VkLCBhbmQgbm90IHRoYXQgbXVjaCBzZWVtcyB0byByZWFsbHkgaW1wcmVzcyBtZSB0aGVzZSBkYXlzLlxuIiB9LCB7ICJJRCIgOiAzOSwgIlBBVEgiIDogIi9EZXZEZXNrdG9wT1MiLCAiVElUTEUiIDogIkRldkRlc2t0b3BPUyIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTEwVDAwOjAxOjUyLjY1NFoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMTBUMDA6MDI6NDIuODMzWiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiIyBEZXZEZXNrdG9wT1NcblxuW0dpdEh1YiBSZXBvXShodHRwczovL2dpdGh1Yi5jb20va3Zlcm9uZWF1L0RldkRlc2t0b3BPUylcblxuQSBDdXN0b20gc3BpbiBvZiB0aGUgRGViaWFuIExpdmUgQ0QgdGFpbG9yZWQgc3BlY2lmaWNhbGx5IGZvciBkZXZlbG9wbWVudCB3aXRoIGFzIG1pbmltYWwgY29uZmlndXJhdGlvbiBuZWVkZWQgdG8gZ2V0IHVwIGFuZCBydW5uaW5nLlxuXG5UaGUgaWRlYSBiZWhpbmQgdGhpcyBwcm9qZWN0IGV2ZW50dWFsbHkgaXMgdG8gcHJvdmlkZSBwZW9wbGUgd2hvIHdhbnQgdG8gZ2V0IHVwIGFuZCBydW5uaW5nIHdpdGggYSBkZXZlbG9wbWVudCBzeXN0ZW0gYXMgcXVpY2tseSBhcyBwb3NzaWJsZSBhbmQgd2l0aCBhcyBsaXR0bGUgY29uZmlndXJhdGlvbiBhcyBwb3NzaWJsZS4gIFRoZSBpZGVhIGlzIHRvIGhhdmUgc2FuZSBkZWZhdWx0cyB0aGF0IGNhbiB0YWlsb3IgdG8gbW9zdCBkZXZlbG9wZXJzLCBhbmQgc2luY2UgaXQgaXMgYmFzZWQgb24gdGhlIERlYmlhbiBMaXZlIHByb2plY3QsIGl0IGhhcyBzdXBwb3J0IGZvciBwZXJzaXN0ZW5jZSwgYWxsb3dpbmcgZGV2ZWxvcGVycyB0byBhbHRlciB0aGUgY29uZmlndXJhdGlvbiBpbiB0aGUgZW52aXJvbm1lbnQgd2hpY2ggY2FuIHRoZW4gYmUgdXNlZCBhY3Jvc3MgcmVib290cy5cblxuW0RlYmlhbiBMaXZlIE1hbnVhbF0oaHR0cHM6Ly9saXZlLXRlYW0ucGFnZXMuZGViaWFuLm5ldC9saXZlLW1hbnVhbC9odG1sL2xpdmUtbWFudWFsL2luZGV4LmVuLmh0bWwpXG5cblRoaXMgaXMgYWxzbyBhIGdpdCBwcm9qZWN0LCBzbyBpZiB5b3UgZmVlbCB0aGF0IHlvdSdkIHByZWZlciAqKkdOT01FKiogb3ZlciAqKlBsYXNtYSoqLCBvciB3YW50IGEgbW9yZSBtaW5pbWFsIFdpbmRvdyBNYW5hZ2VyIGxpa2UgKipBd2Vzb21lKiouICBZb3UgY2FuIGZvcmsgdGhlIHJlcG8gYW5kIG1ha2UgdGhlIG5lZWRlZCBwYWNrYWdlIHVwZGF0ZXMgd2l0aGluIHRoZSBgY29uZmlnL3BhY2thZ2UtbGlzdHNgIGRpcmVjdG9yeS4gIFNpbmNlIHRoaXMgaXMganVzdCBidWlsZGluZyBhIGxpdmUgZW52aXJvbm1lbnQsIHdoaWNoIG9uIGEgZGVjZW50bHkgcG93ZXJmdWwgbWFjaGluZSwgZG9lcyBub3QgdGFrZSB2ZXJ5IGxvbmcsIHRoZXJlIGlzIGxlc3Mgcmlza3MgdG8gZXhwZXJpbWVudCB3aXRoIGRpZmZlcmVudCBwYWNrYWdlIGNvbmZpZ3VyYXRpb25zIGluIGEgZm9yay5cblxuQXQgdGhlIG1vbWVudCwgaXQgaXMgdmVyeSBiYXJlYm9uZXMsIHRoZSBtYWluIGhpZ2hsaWdodCBmZWF0dXJlcyBvZiB0aGlzIHZlcnkgZWFybHkgYWxwaGEgcmVsZWFzZSgqaWYgeW91IGNhbiBldmVuIGNhbGwgaXQgdGhhdCopIGlzIHRoZSBmb2xsb3dpbmc6XG5cbiAgKiBGdWxseSBjb25maWd1cmVkIGFuZCByZWFkeSB0byB1c2UgKipsaWJ2aXJ0KiogYW5kICoqVmlydHVhbCBNYWNoaW5lIE1hbmFnZXIqKi5cbiAgICAtIFZpcnR1YWwgTWFjaGluZSBNYW5hZ2VyIGlzIGEgR1VJIFZNIG1hbmFnZXIgd2hpY2ggY2FuIG1hbmFnZSB0aGUgZm9sbG93aW5nIHZpcnR1YWxpemF0aW9uIHRlY2g6XG4gICAgICAtIFFFTVUvS1ZNXG4gICAgICAtIExYQ1xuICAgICAgLSBYZW5cbiAgICAgIC0gSHlwZXItVlxuICAgICAgLSBBbmQgSSB0aGluayBhIGZldyBtb3JlLlxuICAgIC0gSW4gYSBmdXR1cmUgdmVyc2lvbiB0aGVyZSB3aWxsIGJlIGZ1bGwgc3VwcG9ydCBmcm9tIGJvb3QgdG8gdXNlIGB2YWdyYW50YCB0byBzcGluIHVwIGBsaWJ2aXJ0YCBjb21wYXRpYmxlIGltYWdlcyB3aXRoIGl0IGZvciBkZXZlbG9wbWVudCBhbmQgdGVzdGluZyBwdXJwb3Nlcy5cbiAgICAtIFRoZSBMaXZlIFVzZXIgaXMgcGFydCBvZiB0aGUgYGxpYnZpcnRgIGdyb3VwIHdoaWNoIHdpbGwgZ2l2ZSB5b3UgYWNjZXNzIHRvIFZpcnQtTWFuYWdlci5cbiAgKiBGdWxseSBjb25maWd1cmVkIGFuZCB3b3JraW5nIERvY2tlciBmb3IgTGludXguXG4gICAgLSBUaGUgTGl2ZSB1c2VyIHdpbGwgYmUgYSBwYXJ0IG9mIHRoZSBgZG9ja2VyYCBncm91cCwgYWxsb3dpbmcgbm9ybWFsIGRvY2tlciBjb21tYW5kcyB0byBiZSBwZXJmb3JtZWQgZnJvbSBJREVzIGFuZCBzdWNoLlxuICAqIE9CUyBTdHVkaW8gYW5kIEtERW5MaXZlXG4gICAgLSBBbGxvd3MgZm9yIHRoZSBlYXN5IHJlY29yZGluZyBhbmQgc3RyZWFtaW5nIG9mIGNvZGluZyBzZXNzaW9ucyBpZiBuZWVkZWQuICBUaGlzIGNhbiBiZSBlYXNpbHkgcmVtb3ZlZCBieSByZW1vdmluZyB0aGUgcGFja2FnZXMgZnJvbSB0aGUgcGFja2FnZXMtbGlzdCBiZWZvcmUgYnVpbGRpbmcuXG4gICogVmVyeSBiYXNpYyBzZXQgb2YgZGV2IHRvb2xzIGZvciBub3csIHN0aWxsIGRlY2lkaW5nIG9uIGhvdyBtdWNoIEkgd2FudCB0byBpbmNsdWRlLiAgSSBhbSBndWVzc2luZyBtYW55IHdpbGwgZXhwZWN0IHRoZSBDaHJvbWUgYnJvd3NlciwgYnV0IEkgZG9uJ3QgdGhpbmsgSSBjYW4gZGlyZWN0bHkgaW5jbHVkZSBpdCwgYnV0IEkgY2FuIGV4cGxhaW4gaG93IHRvIGJ1aWxkIGl0IGludG8geW91ciBvd24gbGl2ZSBpbWFnZSBvbiB5b3VyIG93biwgaXQncyByZWFsbHkgZWFzeSB0byBhZGQuXG5cbiMjIFdoYXQgYXJlIHRoZSBvdGhlciBiZW5lZml0cyBvZiB0aGlzIG92ZXIgYSByZWd1bGFyIHN5c3RlbT9cblxuV2VsbCwgaXQgaXMgbXVjaCBtb3JlIGRpZmZpY3VsdCB0byBicmVhayBhIHN5c3RlbSB3aGljaCBib290cyBmcm9tIGEgTGl2ZSBtZWRpYSwgb3IgcmF0aGVyIGEgcmVhZC1vbmx5IGZpbGUgc3lzdGVtLiAgVGhpcyBpbWFnZSBjb3VsZCBmb3IgZXhhbXBsZSBiZSB1c2VkIGFzIGEgYmFzZSBmb3IgYSBjb21wYW55LXdpZGUgZGV2ZWxvcGVyIGltYWdlLCB3aGljaCBjYW4gY29udGFpbiBhbGwgdGhlIG5lZWRlZCB0b29scyB0aGUgZGV2ZWxvcGVyIHdvdWxkIG5lZWQsIGFuZCB0aGUgTGludXggYWRtaW5pc3RyYXRvcnMgY2FuIHRoZW4gaGFuZGxlIHRoZSB1cGRhdGVzIHZpYSB0aGUgdXBkYXRlIGFuZCBkaXN0cmlidXRpb24gb2YgYSBuZXcgbGl2ZSBpbWFnZS4gIEl0IGNhbiBhbHNvIGJlIGJvb3RlZCB1cCB3aXRoaW4gYSB2aXJ0dWFsIG1hY2hpbmUgb24gYSBXaW5kb3dzIGRlc2t0b3AgdG8gaGF2ZSBhIGZ1bGwgTGludXggZGVza3RvcCBmb3IgZGV2ZWxvcG1lbnQgcmVhZHkgdG8gZ28uICBJdCBhbHNvIG1ha2VzIGl0IGVhc2llciB0byBib3RoIG9uYm9hcmQgYW5kIGdldCBhIGRldmVsb3BlciB3aG9tIG1pZ2h0IGhhdmUgYSBkb3duIHN5c3RlbSBiYWNrIHVwIGFuZCBkZXZlbG9waW5nLCBzYXZpbmcgdGhlIGNvbXBhbnkgbW9uZXkuXG5cbiMjIElkZWFzIGZvciB0aGUgZnV0dXJlOlxuXG5JJ2QgcGVyc29uYWxseSBsb3ZlIHRvIGdyb3cgdGhpcyBpbnRvIGEgc3BlY2lhbGl6ZWQgRGViaWFuLWJhc2VkIExpbnV4IGRpc3RybyBtYWRlIGJ5IGRldmVsb3BlcnMgZm9yIGRldmVsb3BlcnMuICBJZiB0aGVyZSBpcyBlbm91Z2ggaW50ZXJlc3QgaW4gc3VjaCBhIExpdmUgU3lzdGVtLCBhbmQgaWYgdGhlcmUgaXMgYSBwbGFjZSB3aGVyZSBJIGNhbiBmcmVlbHkgaG9zdCBJU09zLCBJIGNhbiBkbyBhbGwgdGhlIGltYWdlIGJ1aWxkaW5nLiAgQXMgaXQgc3RhbmRzLCB3aXRob3V0IGEgYXVkaWVuY2UsIGJ1aWxkaW5nIGFuZCBob3N0aW5nIGFuIElTTyBpc24ndCB3b3J0aCBhcyBtdWNoIGVmZm9ydCBhcyBpdCB3b3VsZCBiZSB0byBhZGQgbmV3IGZlYXR1cmVzIHRvIHRoaXMgbGl2ZSBpbWFnZSBmb3Igd2hlbiBwZW9wbGUgZG8gc3R1bWJsZSBhY3Jvc3MgaXQuXG5cbkhlcmUgaXMgYW4gb3V0bGluZSBvZiBvdGhlciBwb3NzaWJsZSBpZGVhczpcblxuICAqIFZhcmlvdXMgRGV2RGVza3RvcE9TICpzcGlucypcbiAgICAtIFN1Y2ggYXMgb25lIHdoaWNoIGlzIGZvciB3ZWIgZGV2ZWxvcG1lbnQsIGNvbnRhaW5pbmcgKm5vZGUuanMqLCAqbnBtKiwgZXRjLi4uXG4gICAgLSBPbmUgZm9yIG11bHRpbWVkaWEgZGV2ZWxvcG1lbnQsIHdpdGggdG9vbHMgbGlrZSBCbGVuZGVyIGFuZCBzdWNoIHByZWxvYWRlZCBhbmQgY29uZmlndXJlZC5cbiAgICAtIERpZmZlcmVudCB0ZWNobmljYWwgcHJvZmVzc2lvbnMsIHN1Y2ggYXMgRGV2T3BzIHdpdGggcmVsYXRlZCBkZXBsb3ltZW50IHRvb2xzLlxuXG5UaGUgbWFpbiBpZGVhIGlzIGZvciB0aGUgZW52aXJvbm1lbnQgdG8gYmUgZnVsbHkgZnVuY3Rpb25hbCBmb3IgYWxtb3N0IGFueSB1c2VyIHJpZ2h0IGZyb20gYm9vdC4gIE11Y2ggbGlrZSB0aGUgc3Bpcml0IG9mIG9sZCBTbGFja3dhcmUgYW5kIG90aGVyIHNwZWNpYWxpemVkIExpdmUgZGlzdHJvcyBsaWtlICpEeW5lOkJvbGljKiwgd2hpY2ggd2VyZSBib3RoIGEgY2VsZWJyYXRpb24gYW5kIGEgc2hvd2Nhc2Ugb2YgbWFueSBvcGVuIHNvdXJjZSBwcm9qZWN0cyBpbiBhIHN1cGVyIGVhc3kgdG8gY29uc3VtZSBmb3JtYXQsIGEgTGl2ZUNELiAgSSBhbHdheXMgZm91bmQgaXQgcmVhbGx5IGNvb2wgdG8gYm9vdCB1cCBhIHNwZWNpYWxpemVkIExpdmVDRCBsaWtlICpEeW5lOkJvbGljKiBhbmQgd2FzIGFibGUgdG8gZXhwbG9yZSBhIHdvcmxkIG9mIGZ1biBvcGVuIHNvdXJjZSBtdWx0aW1lZGlhIHNvZnR3YXJlIEkndmUgbmV2ZXIgc2VlbiBhbmQgc29tZXRpbWVzIG5ldmVyIGhlYXJkIG9mIGJlZm9yZS4gIEkgbWlzcyB0aG9zZSBkYXlzIHdoZW4gTGludXggTGl2ZUNEcyBoYWQgYW4gYW1hemluZyBwdXJwb3NlLCB0byBub3QganVzdCBpbnRyb2R1Y2UgcGVvcGxlIHRvIExpbnV4LCBidXQgdG8gaW50cm9kdWNlIHBlb3BsZSB0byB0ZWNobm9sb2d5IGluIGEgcmVhbGx5IGVhc3ksIHJpc2sgZnJlZSB3YXkuICBUaGVyZSB3YXMgbm8gZHJpdmVycyB0byBpbnN0YWxsLCBubyBzb2Z0d2FyZSB0byBpbnN0YWxsLCBubyBjb21wbGV4IGNvbmZpZ3VyYXRpb25zIHRvIG1hbmFnZSwgbm8gbmVlZGluZyB0byBob3Agb24gbXVsdGlwbGUgZm9ydW1zIHRvIGZpbmQgYSBzcGVjaWZpYyBjb25maWd1cmF0aW9uLCBpbiBtb3N0IGNhc2VzIGEgbG90IG9mIHRoZXNlIExpdmVDRHMgZGlkIHdvcmsgZm9yIHRoZSBtYWpvcml0eSBvZiBwZW9wbGUgd2l0aCBubyBhZGRpdGlvbmFsIGVmZm9ydC4gIFRoaXMgaXMgdGhlIHNwaXJpdCBJIHdhbnQgdG8gdHJ5IGFuZCBicmluZyBiYWNrIHdpdGggKkRldkRlc2t0b3BPUyosIGEgTGl2ZSBDRCB0byBhbGxvdyB0aGF0IGZ1biBzZW5zZSBvZiBleHBsb3JhdGlvbiBhZ2FpbiwgcGVyaGFwcyBmaW5kaW5nIG9yIHVzaW5nIHNvbWUgb3BlbiBzb3VyY2Ugc29mdHdhcmUgeW91IG1heSBuZXZlciBoYXZlIG90aGVyd2lzZSB0cmllZC5cblxuIyMgQ3VycmVudCBwcm9qZWN0IHBsYW5zXG5cbkVzc2VudGlhbGx5IHNpbmNlIEkgYW0gY3VycmVudGx5IG9ubHkgYnVpbGRpbmcgdGhpcyBmb3IgbXlzZWxmIGF0IHRoZSBtb21lbnQsIGFuZCBpdCBpc24ndCByZWFsbHkgZGlmZmljdWx0IHRvIGNoYW5nZSBpZiBpdCBnYWlucyBhdHRlbnRpb24uICBJIHdpbGwgYmUgZm9jdXNpbmcgb24gdHJ5aW5nIHRvIHJlcGxpY2F0ZSBteSBjdXJyZW50IGBidXN0ZXJgIExpbnV4IHdvcmtzdGF0aW9uIGFzIGEgZnVsbCBgYm9va3dvcm1gIExpdmVDRCwgd2hpY2ggd2lsbCBpbmNsdWRlIG1vc3Qgb2YgdGhlIHNvZnR3YXJlIHBhY2thZ2VzIEkgaGF2ZSBpbnN0YWxsZWQgb24gbXkgbm9ybWFsIGRldmVsb3BtZW50IHN5c3RlbSwgc29tZSBwcmUtY29uZmlndXJlZCB3aXRoIHNvbWUgb2YgbXkgcHJlc2V0cyBvZiBjb3Vyc2UuICBUaGlzIHByb2plY3QgY2FuIG90aGVyd2lzZSBiZSBhIGdvb2Qgc3RhcnRpbmcgcG9pbnQgZm9yIGFueW9uZSB3YW50aW5nIHRvIGJ1aWxkIGEgRGViaWFuIExpdmUgaW1hZ2Ugb2YgdGhlaXIgb3duLiAgQXMgdGhlIG9mZmljaWFsIGRvY3VtZW50YXRpb24gY2FuIGJlIGEgYml0IG11Y2ggdG8gZ28gdGhyb3VnaC5cbiIgfSwgeyAiSUQiIDogNDAsICJQQVRIIiA6ICIvRG9ja2VyIiwgIlRJVExFIiA6ICJEb2NrZXIgQ29udGFpbmVycyIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTE4VDEzOjExOjA4LjcyMFoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMThUMTM6MjA6NDkuNDIxWiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiRG9ja2VyIGlzIGEgY29udGFpbmVyIHRlY2hub2xvZ3kgSSBmaXJzdCBiZWdhbiB0byBsZWFybiBiYWNrIGluIDIwMTYgb3Igc28gYWZ0ZXIgSSBmaXJzdCBoZWFyZCBhYm91dC4gIEF0IGZpcnN0IEkgdHJpZWQgbGVhcm5pbmcgaXQgYXMgSSB3b3VsZCBzb21lIG90aGVyIHZpcnR1YWxpemF0aW9uIHRlY2hub2xvZ3ksIGFzIEkgZGlkbid0IHF1aXRlIGtub3cgd2hhdCBhICpjb250YWluZXIqIGV2ZW4gd2FzLCBhbmQgd2hhdCBhbGwgdGhlIGNvbmNlcHRzIG1lYW50IGF0IGZpcnN0LiAgT2YgY291cnNlIG5vdywgSSBhbSB2ZXJ5IGZhbWlsYXIgd2l0aCBob3cgRG9ja2VyIHdvcmtzIGFuZCBmdW5jdGlvbnMuICBJIGhhdmUgaW5zdGFsbGVkIHRoZSBEb2NrZXIgZW5naW5lIG9uIHZhcmlvdXMgRGViaWFuIHNlcnZlcnMgYW5kIGNvbmZpZ3VyZWQgYSBjb21wbGV0ZSBzdGFjayBmcm9tIHRoZXJlLiAgSGVyZSBhcmUgc29tZSBvZiBteSBmYXZvcml0ZSBkb2NrZXIgaW1hZ2VzLCBlaXRoZXIgZm9yIGFzc2lzdGluZyB3aXRoIHNpbmdsZSBzZXJ2ZXIgaG9zdGluZywgb3IganVzdCBhIHJlYWxseSBuaWNlIERvY2tlciBpbWFnZSB0aGF0IEkganVzdCB1c2UgcGVyc29uYWxseTpcblxuICAqIFtQb3J0YWluZXJdKCMvUG9ydGFpbmVyKSAgLSBBIHJlYWxseSBuaWNlIERvY2tlciBtYW5hZ2VtZW50IFVJIGZvciB0aGUgd2ViLlxuICAqIFtGb2NhbEJvYXJkXSgjL0ZvY2FsQm9hcmQpIC0gQSBzaW1wbGUsIGJ1dCBzdGlsbCBwb3dlcmZ1bCBlbm91Z2ggS2FuYmFuIGJvYXJkLlxuXG5Ob3QgcmVhbGx5IHN1cmUgd2hhdCBvdGhlciBpbWFnZXMgdG8gcmVhbGx5IHBsYWNlIGhlcmUsIGFzIGltYWdlcyBzdWNoIGFzICpHaXRMYWIqIGNhbiBjbGVhcmx5IGJlIHJ1biBzdGFuZC1hbG9uZSwgYW5kIEknbSBzdXJlIEZvY2FsQm9hcmQgY2FuIGFsc28gcnVuIHN0YW5kLWFsb25lLiAgV2hpY2ggYnJpbmdzIG1lIHRvIGEgZmVhdHVyZSBJIHJlYWxseSBkbyBsaWtlIGFib3V0IERvY2tlciwgc2luY2UgSSBtYWlubHkgcnVuIHRoZSBzdGFibGUgdmVyc2lvbiBvZiBEZWJpYW4gb24gbXkgcGVyc29uYWwgc3lzdGVtcywgdXNpbmcgZG9ja2VyIGFsbG93cyBtZSB0byBlYXNpbHkgcnVuIG1hbnkgdmVyc2lvbnMgb2YgcHJvZ3JhbXMgd2hpY2ggYXJlbid0IHlldCBpbmNsdWRlZCB3aXRoIERlYmlhbiBzdGFibGUuICBJIGFsc28gZG8gbGlrZSB0aGUgc29mdHdhcmUgZGlzY292ZXJ5IHdpdGggRG9ja2VyLiAgSSBvbmx5IGZvdW5kIG91dCBhYm91dCBzb21lIG5pY2hlIHdlYiBhcHAgYmVjYXVzZSBJIHNhdyBpdCBpbiBhIERvY2tlciB3ZWIgYWRtaW5pc3RyYXRpb24gaW50ZXJmYWNlIGxpa2UgKlBvcnRhaW5lciogYXMgYW4gYXBwbGljYXRpb24gd2hpY2ggaGFzIGFuIGVhc3kgaW5zdGFsbCBwcm9jZXNzLlxuXG5NeSBsYXRlc3Qgd2ViIHNlcnZlciByZWxhdW5jaCBpcyBnb2luZyB0byBiZSB1c2luZyBzb2xlbHkgZG9ja2VyIGZvciBhbGwgdGhlIGFwcGxpY2F0aW9ucyBhbmQgY29tcG9zZSBmaWxlcyB0byBkZXBsb3kgYW5kIG9yY2hlc3RyYXRlIG15IHZhcmlvdXMgcGVyc29uYWwgYXBwcyBhcyBzdGFja3MuICBJIGFtIHJlYWxseSBleGNpdGVkIHRvIGhhdmUgc3RhcnRlZCB0aGlzIHByb2Nlc3MsIGFuZCBjYW4ndCB3YWl0IHRvIHNlZSBpdCB0byBjb21wbGV0aW9uLlxuIiB9LCB7ICJJRCIgOiA0MSwgIlBBVEgiIDogIi9Qb3J0YWluZXIiLCAiVElUTEUiIDogIlBvcnRhaW5lciIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTE4VDEzOjIxOjE2LjYxM1oiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMThUMTM6MjM6MzMuOTEwWiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiVGhpcyBhIHNpbXBsZSwgYnV0IHZlcnkgcG93ZXJmdWwgZG9ja2VyIG1hbmFnZW1lbnQgd2ViIGNvbnNvbGUsIHdoaWNoIGlzIHdlbGwgc3VpdGVkIGZvciBzdGFuZC1hbG9uZSBkb2NrZXIgaW5zdGFsbHMuICBJdCBoYXMgYSBsb3Qgb2YgZmVhdHVyZXMsIGFuZCBldmVuIGhhcyBhICpwcm8qIHBhaWQgdmVyc2lvbiB3aGljaCBvZmZlcnMgZXZlbiBtb3JlLlxuXG5bUG9ydGFpbmVyIEhvbWUgUGFnZV0oaHR0cHM6Ly93d3cucG9ydGFpbmVyLmlvLylcblxuVGhpcyB3ZWIgYXBwIGlzIGdyZWF0IGZvciBhbmQgZHVyaW5nIGRldmVsb3BtZW50IGFzIGl0IGRvZXMgc2hvdyBhbiBhcHAncyB0b3RhbCBtZW1vcnksIENQVSwgYW5kIG5ldHdvcmsgdXNhZ2UuICBUaGlzIGNhbiBhbGxvdyBzY2FsaW5nIHRvIHBvdGVudGlhbGx5IGJlIGNhbGN1YXRlZCB0byBkZXRlcm1pbmUgdGhlIHNlcnZlciBsYXlvdXQgYW5kIGNvbmZpZ3VyYXRpb24gdG8gZW5zdXJlIG9wdGltYWwgcmVzdWx0cy5cbiIgfSwgeyAiSUQiIDogNDIsICJQQVRIIiA6ICIvRm9jYWxCb2FyZCIsICJUSVRMRSIgOiAiRm9jYWxCb2FyZCIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTE4VDEzOjIzOjQ3LjY3NloiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMThUMTM6MjU6NTUuNTYxWiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiQSBzaW1wbGUsIGJ1dCBzdGlsbCBwb3dlcmZ1bCBlbm91Z2ggS2FuYmFuIGJvYXJkIGZvciBwZXJzb25hbCBhbmQgc21hbGwgdGVhbXMuICBJdCB1c2VzIGEgdmVyeSBmYW1pbGFyIGxheW91dCBtb3N0IHNjcnVtIG1hc3RlcnMgYXJlIGZhbWlsaWFyIHdpdGgsIGFuZCBpcyBlYXN5IGZvciBhbnkgZGV2ZWxvcG1lbnQsIGV2ZW4gdGhvc2Ugbm90IGZhbWlsYXIgd2l0aCBhIGthbmJhbiBib2FyZCB0byBlYXNpbHkgcGljayBpdCB1cC5cblxuW0ZvY2FsQm9hcmQgV2Vic2l0ZV0oaHR0cHM6Ly93d3cuZm9jYWxib2FyZC5jb20vKVxuXG5Gb3IgbWFuYWdpbmcgYSBwZXJzb25hbCBwcm9qZWN0LCBvciBhIHNtYWxsIHRlYW0gcHJvamVjdCwgKkZvY2FsQm9hcmQqIGNhbiBiZSB0aGVyZSBmb3IgeW91LlxuIiB9LCB7ICJJRCIgOiA0MywgIlBBVEgiIDogIi9XZWJzaXRlL0pTQXBwIiwgIlRJVExFIiA6ICJKYXZhU2NyaXB0IEFwcGxpY2F0aW9uIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMThUMTM6Mjk6MzUuMjYwWiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0xOFQxMzozNToxNS4wNjhaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJUaGlzICpjb250ZW50LXR5cGUqIHdpbGwgcnVuIGEgSmF2YVNjcmlwdCBwcm9ncmFtIGluIHRoZSBjbGllbnQgYnJvd3Nlci4gIFRoaXMgY2FuIGJlIHVzZWQgZm9yIGFuIGFzb3J0bWVudCBvZiBwdXJwb3Nlcywgc3VjaCBhcyBtaXhpbmcgbXVsdGlwbGUgY29udGVudC10eXBlcyB0b2dldGhlciBpbnRvIGEgc2luZ2xlIHVuaWZpZWQgZG9jdW1lbnQsIGFuZCB0byBwcm92aWRlIGEgaW50ZXJhY3RpdmUgZXhwZXJpZW5jZSB0byBhIHVzZXIsIHN1Y2ggYXMgYSBxdWl6IG9yIHNvbWV0aGluZyBlbHNlLlxuXG5UaGUgKkFQSSogZm9yIHRoaXMgaXMgc3RpbGwgaW4gZGV2ZWxvcG1lbnQsIGJ1dCBvdGhlcndpc2UsIGV2ZXJ5IG5vcm1hbCBKYXZhU2NyaXB0IGZ1bmN0aW9uL2NhbGwgc2hvdWxkIHdvcmsgaWYgaXQgd29ya3MgaW4gYW55IG90aGVyIHdlYiBwYWdlLiAgSGF2ZSBhIHBlZWsgaW4gdGhlIGBhcGkuanNgIGZpbGUgd2l0aGluIHRoZSBzb3VyY2UgY29kZSB0byBzZWUgd2hhdCBbT2JqZWN0UGFzY2FsXSgjL09iamVjdFBhc2NhbCkgQVBJcyBhcmUgYWxzbyBleHBvcnRlZCB0byBKYXZhU2NyaXB0IGNvbXBvbmVudHMuXG5cbltTb3VyY2UgRXhhbXBsZV0oIy9XZWJzaXRlL0pTRXhhbXBsZSlcblxuW1J1biBFeGFtcGxlXSgjL19fREVCVUdfXy9KU1Byb2cpXG4iIH0sIHsgIklEIiA6IDQ0LCAiUEFUSCIgOiAiL1dlYnNpdGUvSlNFeGFtcGxlIiwgIlRJVExFIiA6ICJFeGFtcGxlIEphdmFTY3JpcHQgUHJvZ3JhbSIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTE4VDEzOjMzOjMwLjM2MloiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMThUMTM6NTA6MTAuODQwWiIsICJDT05URU5UVFlQRSIgOiAxMDYsICJDT05URU5UIiA6ICJTZXRUaXRsZSgnRXhhbXBsZSBKYXZhU2NyaXB0IFByb2dyYW0nKTtcbnZhciBidWY9R2V0Q29udGVudCgnL1dlYnNpdGUvSlNBcHAnKTtcbmJ1Zj1idWYrJzxoND5FeGFtcGxlIENvZGU6PC9oND4nK0dldENvbnRlbnQoJy9XZWJzaXRlL0pTRXhhbXBsZScpO1xuU2V0Q29udGVudChidWYpOyIgfSwgeyAiSUQiIDogNDUsICJQQVRIIiA6ICIvV2Vic2l0ZS9QeUFwcCIsICJUSVRMRSIgOiAiUHl0aG9uIFdlYiBBcHBsaWNhdGlvbiIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTE4VDEzOjM1OjU4LjEwMFoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMThUMTM6Mzk6MjAuMjEzWiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiVGhpcyAqY29udGVudC10eXBlKiB3aWxsIGFsbG93IHRoZSB3ZWJzaXRlIGF1dGhvciB0byBydW4gKipQeXRob24qKiBjb2RlIGRpcmVjdGx5IHdpdGhpbiB0aGUgYnJvd3NlciB0byBpbnRlcmFjdCB3aXRoIHRoZSB1c2VyLCBhbW9uZyBvdGhlciB0aGluZ3MuICBUaGUgKkFQSSogZm9yIHRoaXMgbGl2ZXMgaW5zaWRlIHRoZSBgcHlhcGkvYCBkaXJlY3RvcnkuICBJdCBpcyBhZHZpc2VkIHRvIGxvb2sgYXQgdGhlIG1vZHVsZXMgaW4gdGhlcmUgZm9yIGN1cnJlbnRseSBhdmFpbGFibGUgKkFQSSBDYWxscyouICBUaGUgQVBJIGlzIGZhciBmcm9tIGNvbXBsZXRlLCBidXQgdGhlIERPTSByb3V0aW5lcyBmcm9tIFtCcnl0aG9uXSgjL0JyeXRob24pIGNhbiBhbHNvIGJlIHVzZWQuXG5cbltFeGFtcGxlIFB5dGhvbiBTb3VyY2VdKCMvV2Vic2l0ZS9QeUV4YW1wbGUpXG5cbltSdW4gRXhhbXBsZV0oIy9fX0RFQlVHX18vUHlBcHApXG4iIH0sIHsgIklEIiA6IDQ2LCAiUEFUSCIgOiAiL1dlYnNpdGUvUHlFeGFtcGxlIiwgIlRJVExFIiA6ICJQeXRob24gV2ViIEFwcGxpY2F0aW9uIEV4YW1wbGUiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0xOFQxMzozOTo1My42MjVaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTE4VDEzOjUzOjE0LjQ3NVoiLCAiQ09OVEVOVFRZUEUiIDogMTAyLCAiQ09OVEVOVCIgOiAiZnJvbSBicm93c2VyIGltcG9ydCBkb2N1bWVudCwgd2luZG93XG5mcm9tIHdlYnNpdGUgaW1wb3J0IFNldFRpdGxlLCBTZXRDb250ZW50LCBHZXRDb250ZW50XG5cbmJsb2NrMSA9IEdldENvbnRlbnQoJy9XZWJzaXRlL1B5QXBwJylcbmJsb2NrMiA9ICc8aDQ+RXhhbXBsZSBDb2RlOjwvaDQ+JytHZXRDb250ZW50KCcvV2Vic2l0ZS9QeUV4YW1wbGUnKVxuXG5TZXRDb250ZW50KCdUaGlzIHdhcyB3cml0dGVuIHRvIHRoZSBET00gdmlhIDxpPkJyeXRob248L2k+IGNvZGUuPGJyLz4nK2Jsb2NrMStibG9jazIpXG4iIH0sIHsgIklEIiA6IDQ3LCAiUEFUSCIgOiAiL0JyeXRob24iLCAiVElUTEUiIDogIkJyeXRob246IFB5dGhvbiBmb3IgdGhlIGJyb3dzZXI/IiwgIkNSRUFURUQiIDogIjIwMjQtMDItMThUMTM6NDI6NTMuMTExWiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0xOFQxMzo0NDowMy4wMDZaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJZZXMhICBQeXRob24gY2FuIG5vdyBydW4gKmFsbW9zdCogbmF0aXZlbHkgd2l0aGluIHRoZSB3ZWIgYnJvd3NlciB3aXRoIHRoZSBwb3dlciBvZiBbQnJ5dGhvbl0oaHR0cHM6Ly9icnl0aG9uLmluZm8vKSFcbiIgfSwgeyAiSUQiIDogNDgsICJQQVRIIiA6ICIvbWNzZXJ2ZXIiLCAiVElUTEUiIDogIk5ldHdvcmsgU2hhcmVkIEhlYXAgU2VydmVyIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMThUMTQ6MDY6MTguMjM2WiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0xOFQxNDoxODoyMC4xMjRaIiwgIkNPTlRFTlRUWVBFIiA6IDAsICJDT05URU5UIiA6ICI8cD5cblRoaXMgaXMgYSBzZXJ2ZXIgcHJvZ3JhbSBJIHdyb3RlIGluIDxhIGhyZWY9XCIjL09iamVjdFBhc2NhbFwiPk9iamVjdFBhc2NhbDwvYT5cbmFib3V0IDIgeWVhcnMgYWdvLiAgSXQgaXMgdmVyeSBzaW1wbGUgaW4gY29uY2VwdCwgYSBzZXJ2ZXIgd2hpY2ggY2FuIHNlbmQgYW5kXG5yZWNlaXZlIGJsb2NrcyBvZiBtZW1vcnksIGFuZCBhbHNvIDxpPnN1YnNjcmliZTwvaT4gdG8gc2FpZCBibG9ja3Mgb2YgbWVtb3J5IGFuZFxucmVjZWl2ZSBhIGxpdmUgbm90aWZpY2F0aW9uIHdoZW4gYW5vdGhlciBjbGllbnQgY2hhbmdlcyB0aGF0IGJsb2NrIG9uIHRoZSBzZXJ2ZXIsXG5hbGxvd2luZyBtdWx0aXBsZSBhcHBsaWNhdGlvbnMgb3ZlciBhIG5ldHdvcmsgdG8gZWFzaWx5IHNoYXJlIGEgc3RhdGUgYW5kIGtlZXBcbmluIHN5bmMuICBUaGluayBvZiA8Yj5Jb1Q8L2I+IGFwcGxpY2F0aW9ucyBmb3IgZXhhbXBsZSwgd2hlcmUgYSA8aT5jZW50cmFsIHVuaXQ8L2k+XG5vZiBzb3J0cyBydW5zIHRoaXMgc2VydmVyIGFuZCBzdWJzY3JpYmVzIHRvIGNoYW5nZXMgZnJvbSBhbm90aGVyIHByb2dyYW0gdG8gY2hhbmdlXG50aGUgdmFyaW91cyBob21lIGF1dG9tYXRpb24gZmVhdHVyZXMuICBUaGVzZSBibG9ja3MgY2FuIHRoZW4gYmUgcmVhZCBieSBvdGhlclxuZGV2aWNlcyB0byBrZWVwIGEgc2ltaWxhciBzdGF0ZSBzaGFyZWQgYmV0d2VlbiBlYWNoIGRldmljZS4gIFRoZSB0cmFuc2ZlciBpc1xuaW5jcmVkaWJseSBzaW1wbGUgZm9yIDxiPlNvQ3M8L2I+IHRvIHVzZSwgYXMgaXQgY2FuIGxvYWQgdGhlIGJsb2NrIGZyb20gdGhlXG5uZXR3b3JrIGRpcmVjdGx5IGludG8gbWVtb3J5IHdpdGhvdXQgbmVlZGluZyB0byBwYXJzZS4gIEN1cnJlbnRseSwgaXQgaXMgbm90XG53ZWxsIHN1aXRlZCBmb3IgdXNlIG92ZXIgcHVibGljIGludGVybmV0cywgYXMgdGhlIHNlY3VyaXR5IG9mIHRoZSBwcm90b2NvbCBpc1xuY3VycmVudGx5IHZlcnkgbG93LiAgSG93ZXZlciwgSSBkaWQgcmVjZW50bHkgb3BlbiBzb3VyY2UgdGhlIHNlcnZlciBvbiBteSBHaXRIdWIsXG5zbyBJIGhvcGUgdGhhdCBwZW9wbGUgaW50ZXJlc3RlZCBpbiBzdWNoIGEgY29uY2VwdCBjYW4gY29udHJpYnV0ZSBhbmQgYWR2YW5jZVxudGhlIGlkZWEgZm9yd2FyZC5cbjwvcD5cblxuPGlmcmFtZSB3aWR0aD1cIjQyMFwiIGhlaWdodD1cIjMxNVwiIHNyYz1cImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkL2l0ekRKbEVsTVprXCI+PC9pZnJhbWU+XG5cbjxwPlxuPGEgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9rdmVyb25lYXUvbWNzZXJ2ZXJcIj5Tb3VyY2UgQ29kZSBSZWxlYXNlPC9hPlxuPC9wPlxuXG4iIH0sIHsgIklEIiA6IDQ5LCAiUEFUSCIgOiAiL1NpbTY1MDIiLCAiVElUTEUiIDogIlNpbTY1MDIiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0xOFQxNDoxODo0NS45NDlaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTE4VDE0OjIzOjI5LjQyN1oiLCAiQ09OVEVOVFRZUEUiIDogMCwgIkNPTlRFTlQiIDogIjxwPlxuVGhpcyBwcm9qZWN0IHdhcyBzdGFydGVkIGluIGVhcmx5IDIwMjMgYWZ0ZXIgSSBsZWZ0IG15IGxhc3Qgam9iIGFzIGEgcG90ZW50aWFsXG48aT5mb3ItcHJvZml0PC9pPiBwcm9qZWN0LiAgSXQgd2FzIHRvIGJlIGFuIDxpPmVkdXRhaW5tZW50IGdhbWUvcHJvZHVjdDwvaT4sXG53aGljaCB3b3VsZCBhbHNvIGhhdmUgYW4gYXBwZWFsIHRvIHZhcmlvdXMgPGI+TU9TIDY1MDI8L2I+IGhvYmJpc3RzLiAgSWYgeW91IGV2ZXJcbmVuam95ZWQgd29ya2luZyB3aXRoIHRoZSA8aT42NTAyPC9pPiwgdGhlbiBJIGhpZ2hseSByZWNvbW1lbmQgY2hlY2tpbmcgaXQgb3V0LlxuPC9wPlxuXG48aWZyYW1lIHdpZHRoPVwiNDIwXCIgaGVpZ2h0PVwiMzE1XCIgc3JjPVwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvSGtGYmxvazlVeGdcIj48L2lmcmFtZT5cblxuPHA+XG5UaGlzIHByb2plY3QgcmVtYWlucyBjbG9zZWQgc291cmNlLCBhcyBJIHN0aWxsIGZpcm1seSBiZWxpZXZlIHRoYXQgb25lIGRheSBJXG5taWdodCB0dXJuIHRoaXMgaW50byBhIGZ1biA8aT5jb21wdXRlciBzY2llbmNlPC9pPiBsZWFybmluZyBhaWQuICBBbmQgb25jZSBBSVxudGFrZXMgb3ZlciBjb2RpbmcsIHRoZW4gYSBmdW4gaG9iYnkgdG95IGZvciBwZW9wbGUgdGhhdCBqdXN0IGVuam95IHByb2dyYW1taW5nXG5hcyBib3RoIGEgaG9iYnkgYW5kIGFzIGEgcGFzc2lvbiwgYmVjYXVzZSBBLkkuIGNhbiBuZXZlciB0YWtlIHRob3NlIGF3YXkgZnJvbVxudXMuXG48L3A+XG5cbiIgfSwgeyAiSUQiIDogNTAsICJQQVRIIiA6ICIvWW91VHViZUxpa2VzIiwgIlRJVExFIiA6ICJZb3VUdWJlIFNtYXJ0VFYgYXBwIGlzIGFubm95aW5nIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMjNUMTU6NDU6NDcuNjg2WiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMy0wNVQxOTo0MjozNS43MDJaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJJZiB5b3UgaGF2ZSBldmVyIHVzZWQgdGhlICpZb3VUdWJlKiBhcHAgb24geW91ciBBbmRyb2lkIFRWLCB5b3UgbWF5IGFscmVhZHkga25vdyB3aGVyZSBJIGFtIGNvbWluZyBmcm9tIHdpdGggdGhpcyB0aXRsZS4gIEFmdGVyIGEgWW91VHViZSB2aWRlbyBlbmRzIG9uIEFuZHJvaWQgVFYsIGlmIHlvdSB0aGUgdmlld2VyIGNvbXBsZXRlbHkgZm9yZ2V0IHRvIHB1dCBhICpMaWtlKiBvbiB0aGF0IHZpZGVvIGJlZm9yZSBpdCBlbmRzLCB5b3UgY2FuIHRoZW4gbWFrZSBvbmUgb2YgdGhlIGZvbGxvd2luZyBjaG9pY2VzOlxuXG4gICogTm90IGNhcmUgYW5kIG1vdmUgb24gd2l0aCBubyBsaWtlLlxuICAqIEdvIGJhY2sgdG8gdGhlIHZpZGVvLCBlaXRoZXIgdGhyb3VnaCB0aGUgbGlzdCB5b3UgZm91bmQgaXQgb24sIG9yIGlmIGl0J3MgcmVmcmVzaGVkLCBhbGwgdGhlIHdheSBpbiB5b3VyICpIaXN0b3J5Kiwgd2F0Y2ggaXQgYWdhaW4sIG9yIGp1c3Qgb3BlbiBpdCBxdWlja2x5IHRvIGxlYXZlIHRoYXQgKkxpa2UqLlxuXG5JbiBtb3N0IGNhc2VzIEkgdXN1YWxseSBncmF2aXRhdGUgdG93YXJkcyB0aGUgZm9ybWVyLCBhcyBpbiBtb3N0IGNhc2VzIG15IHNpbmdsZSAqbGlrZSogaXNuJ3QgZ29pbmcgdG8gcmVhbGx5IGFmZmVjdCBhbnl0aGluZywgYXMgaXQganVzdCBhZGRzIGl0IHRvIG15IHBlcnNvbmFsICpMaWtlcyBwbGF5bGlzdCosIHdoaWNoIEkgbmV2ZXIgcmVhbGx5IHVzdWFsbHkgcmVmZXIgdG8gYW55d2F5cy4gIFNvbWUgWW91VHViZXJzIEkgZmluZCBhcmUgcmVhbGx5IGJhZCB3aXRoIHRoZWlyIHZpZGVvIGVuZGluZ3MsIHVucHJlcGFyaW5nIHRoZSB2aWV3ZXIgZm9yIHdoZW4gdGhhdCB2aWRlbyBlbmRzLCBtYWtpbmcgaXQgZGlmZmljdWx0IHRvIHByb3Blcmx5IHVzZSB0aGUgc29tZXdoYXQgY2x1bmt5IFVJIHRvIGNsaWNrIG9uIHRoZSAqdGh1bWJzIHVwKiBpY29uLiAgT25lIFlvdVR1YmVyIEkgd2lsbCBjYWxsIGl0IGFzIGEgZ3JlYXQgZXhhbXBsZSBpcyAqU2F0Y2hPblNpbXMqLCB3aGlsZSBhbiBhYnNvbHV0ZWx5IGFtYXppbmcgY2hhbm5lbCB3aXRoIHNvbWUgZ3JlYXQgY29tbWVudGFyaWVzIG9uIHRoZSAqU2ltcyBzZXJpZXMqIGFzIHdlbGwgYXMgc29tZSBjb21tZW50YXJpZXMgb24gKnNleHVhbGl0eSogYXMgaGUgZG9lcyBpZGVudGlmeSBhcyAqZ2F5KiwgYXMgZG8gSS4gIFRoZSBlbmQgb2YgaGlzIHZpZGVvIGVuZHMgcmVhbGx5IHF1aWNrbHksIGFuZCB0aGVyZSB3ZXJlIG1hbnkgdGltZXMgd2hlcmUgSSBjb21wbGV0ZWx5IGZhaWxlZCB0byBsZWF2ZSBhIGxpa2UgSSB3YW50ZWQgdG8gbGVhdmUgaGltLCBidXQgSSBqdXN0IGxlZnQgaXQgYW5kIG1vdmVkIG9uLlxuXG5JJ20gbm90IHN1cmUgaWYgaXQncyBqdXN0IHRoZSBhc3N1bXB0aW9uIHRoYXQgbW9zdCB2aWV3ZXJzIHdpbGwgYmUgd2F0Y2hpbmcgWW91VHViZSBpbiB0aGVpciBicm93c2VyLCBvciBhIG1vYmlsZSBhcHAsIGJ1dCB0aHJvdWdoIEFuZHJvaWQgVFYsIGl0IGNhbiBiZSBhIGJpdCB0cmlja3kgc29tZXRpbWVzIHRvIGxlYXZlIGEgbGlrZSwgZXNwZWNpYWxseSBpZiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBiZWdpbnMgdG8gbGFnLCB3aGljaCBoYXMgaGFwcGVuZWQgb24gbXVsdGlwbGUgb2NjYXRpb25zLCBzbyB3aGVuIEkgZGlkIGhhdmUgc29tZSB0aW1lIHRvIHNheSBsZWF2ZSBhIGxpa2UsIGl0IHdhcyBzdGlsbCBkaWZmaWN1bHQgYXMgdGhlIFVJIGxhZ2dlZCB0b28gbXVjaCBiZWhpbmQgbXkgY29udHJvbGxlciBjbGlja3MsIGp1c3QgbWFraW5nIHRoZSBlbnRpcmUgcHJvY2VzcyBhIGJpdCBmcnVzdHVyYXRpbmcgdG8gc2F5IHRoZSBsZWFzdC5cblxuQSByZWNlbnQgZXhhbXBsZSBvZiB0aGlzIGhhcHBlbmluZywgd2hpY2ggbWF5IGhhdmUgYW4gZWZmZWN0IG9uIHRoZSBhbGdvcml0aG0gZm9yIG15IFlvdVR1YmUgcHJvZmlsZSwgaXMgdGhhdCB0aGUgKlByZW1pZXIqIG9mIG15IHJlc2lkaW5nIHByb3ZpbmNlIGxlZnQgYSBzaG9ydCBZb3VUdWJlIHZpZGVvIG9mIHRoZSBjdXJyZW50IHN0YXRlIG9mIGVjb25vbWljcyBpbiBteSBwcm92aW5jZS4gIFdoaWxlIEkgZGlkbid0IGFncmVlIHdpdGggYWJzb2x1dGVseSBldmVyeXRoaW5nIHNoZSBicm91Z2h0IHVwLCBJIGRpZCBhZ3JlZSB3aXRoIG1vc3Qgb2YgaGVyIHN0YXRlbWVudHMuICBVbmZvcnR1bmF0ZWx5LCBJIHdhcyB1bnByZXBhcmVkIGZvciB0aGUgdmlkZW8gZW5kaW5nLCBhbmQgYXMgYSByZXN1bHQsIGZhaWxlZCB0byBsZWF2ZSBhIGxpa2UuICBQZXJzb25hbGx5LCBJIGFtIHBvbGl0aWNhbGx5IGFsaWduZWQgYXMgKmNlbnRlciBsZWZ0KiBpbiBtb3N0IFtwb2xpdGljYWwgaXNzdWVzXSgjL1BvbGl0aWNzKSwgYnV0IEkgc3RpbGwgaGVhciB0aGUgcGxhdGZvcm0gb2YgdGhlIG9wcG9zaW5nIHBhcnRpZXMsIGFuZCBiYXNlIG15IHZvdGUgb24gd2hhdCB0aGV5IGNhbiBwcm92aWRlIGZvciB0aGUgZnV0dXJlLiAgSW4gdGhlIGN1cnJlbnQgZWNvbm9taWMgY2xpbWF0ZSwgSSBhbSBtb3JlIGxpa2VseSB0byBsZWFuIGEgYml0IG1vcmUgdG8gdGhlIHJpZ2h0LCBhcyBzb21lIG9mIHRoZWlyIHNvbHV0aW9ucyBJIGZlZWwgaXMgdGhlIHJpZ2h0IGRpcmVjdGlvbiBmb3IgdGhlIGxvbmcgdGVybSBhbmQgaW50byB0aGUgZnV0dXJlLiAgSSBkb24ndCBhbGlnbiB0byBhIHNwZWNpZmljIHBhcnR5IG9yIHBvbGl0aWNpYW4uXG5cbiMjIyBCZXR0ZXIgc29sdXRpb24gdG8gYSBsaWtlL2Rpc2xpa2Ugc3lzdGVtXG5cblBlcnNvbmFsbHksIEkgd291bGQgcHJlZmVyIGl0IGlmIHZpZGVvIHNoYXJpbmcgd2Vic2l0ZSB1c2VkICplbW90aW9ucyogaW5zdGVhZCBvZiBhIHNpbXBsZSAqbGlrZSogYW5kICpkaXNsaWtlKiBzeXN0ZW0uICBGb3IgZXhhbXBsZSwgdGhlIHZpZGVvIGNvdWxkIGhhdmUgdGhlIHNhbWUgZW1vdGlvbnMgd2hpY2ggcGVvcGxlIHVzZSB0byByZXNwb25kIHRvIHZhcmlvdXMgcG9zdHMgb24gaW5zdGFudCBtZXNzYWdpbmcgcGxhdGZvcm1zLiAgRW1vdGlvbnMgc3VjaCBhcywgKnRoaXMgdmlkZW8gbWFkZSBtZSBmZWVsIGhhcHB5Kiwgb3IgKnRoaXMgdmlkZW8gbWFrZXMgbWUgZmVlbCBzYWQqLCBvciBldmVuIGJldHRlciAqdGhpcyB2aWRlbyBtYWtlcyBtZSBhbmdyeSosIGFzIGEgbG90IG9mIHBlb3BsZSB3b3VsZCBwcm9iYWJseSB1c2UgdGhhdCBlbW90aW9uIG9uIHRvcGljcyB0aGV5IGFyZSB2ZXJ5IGVtb3Rpb25seSBzdHJvbmcgb24sIHN1Y2ggYXMgcG9saXRpY3MgdGhleSBhcmUgYWdhaW5zdC4gIEkgdGhpbmsgdXNpbmcgZW1vdGlvbnMgb3ZlciBsaWtlcyBhbmQgZGlzbGlrZXMgd291bGQgYmUgYSBtdWNoIGJldHRlciB3YXkgZm9yIGEgdmlld2VyIHRvIGNvbnZleSBob3cgdGhleSBhY3R1YWxseSAqZmVsdCogYWJvdXQgc2FpZCB2aWRlby4gIFRoZSBjdXJyZW50IHN5c3RlbSByZWFsbHkgZmVlbHMgdG8gbGltaXRlZCBpbiBtb3N0IHNjZW5hcmlvcy5cbiIgfSwgeyAiSUQiIDogNTEsICJQQVRIIiA6ICIvUG9saXRpY3MiLCAiVElUTEUiIDogIk15IHBlcnNvbmFsIHBvbGl0aWNhbCB2aWV3cyIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTIzVDE1OjU5OjQyLjMzOVoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMjNUMjE6NDc6NTcuOTkzWiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiKlBvbGl0aWNzKiBpcyBhbHdheXMgdGhlIG1vc3QgdG91Y2hpZXN0IHN1YmplY3QgdG8gdGFsayBhYm91dCwgYXMgYSByZXN1bHQsIEkgdHJ5IHRvIG5ldmVyIGJyaW5nIGl0IHVwIGluIHdvcmtwbGFjZXMgYW5kIHdpdGggZnJpZW5kcyB3aG9tIG1heSBzaGFyZSBkaWZmZXJpbmcgdmlld3MuXG5cbkkgdXN1YWxseSBhbGlnbiB3aXRoICpjZW50ZXIgbGVmdCosIGJ1dCBpbiByZWNlbnQgdGltZXMgd2l0aCBhIHBvdGVudGlhbCAqbG9vbWluZyB3YXIqLCBJIGFtIG5vdyBsZWFuaW5nIG1vcmUgdG93YXJkcyBhICpjZW50ZXIgcmlnaHQqIHBvaW50IG9mIHZpZXcuICBJIGZlZWwgdGhhdCBkdXJpbmcgKnBlYWNlIHRpbWVzKiwgdGhlIGxlZnQgY2FuIGhhdmUgc29tZSBwcm9ncmVzcyB3aGljaCBJIGNhbiBnZXQgYmVoaW5kLiAgVGhlIHJpZ2h0IGhhcyBzb21lIHZpZXdzLCBidXQgdGhlc2UgYXJlIHVzdWFsbHkgdGFyZ2V0dGVkIHRvd2FyZHMgKmJpZyBidXNpbmVzcyosICpyZWxpZ2lvdXMgdm90ZXJzKiwgYW5kICptaWRkbGUgY2xhc3MqLiAgSSBrbm93IHRoZXJlIGlzIG11Y2ggbW9yZSwgYW5kIEkgYW0gbm90IHNheWluZyB0aGF0IEkgZG9uJ3QgYWdyZWUgd2l0aCBhbnl0aGluZyB0aGUgKnJpZ2h0IHBhcnR5KiBzYXlzLCBkb2VzLCBvciBwYXNzZXMsIGFzIHRoZXkgb2J2aW91c2x5IGhhdmUgZ29vZCBpZGVhcyB0byBwdXNoIHNvY2lldHkgZm9yd2FyZCwgYXMgZG9lcyB0aGUgKmxlZnQgcGFydHkqLiAgSSBqdXN0IHNlZSB0aGUgKmxlZnQgcGFydHkqIGFzIGJlaW5nIG1vcmUgZm9yIHRoZSAqcGVvcGxlKiBpbiBtb3JlIHdheXMsIGFuZCBJIGRvIGZpcm1seSBiZWxpZXZlIHRoYXQgcGVvcGxlLCB1cyBodW1hbiBiZWluZ3MsIHNob3VsZCBiZSB0aGUgcHJpb3JpdHkgaW4gbW9zdCBjYXNlcywgcmF0aGVyIHRoYW4gdGhlIGNvcnBvcmF0aW9ucyBob2xkaW5nIGEgbWFqb3JpdHkuXG5cbkFzIGEgcG90ZW50aWFsIHdhciBpcyBsb29taW5nIGluIHRoZSBtb2Rlcm4gZXJhLCBJIGFtIGxlYW5pbmcgbW9yZSAqcmlnaHQqIGZvciB0aGUgZm9sbG93aW5nIHJlYXNvbnM6XG5cbiAgKiBUaGUgcmlnaHQgY2FuIGJlIG1vcmUgKnByb2FjdGl2ZSogYXQgdGltZXMgdGhhbiB0aGUgbGVmdCwgYXMgVHJ1bXAgZGlkIHN0YXRlIHJlY2VudGx5LCBpZiBoZSB3YXMgZWxlY3RlZCwgaGUnZCBwdXQgYW4gZW5kIHRvIHRoZSB3YXIsIGhlbmNlICptb3JlIHByb2FjdGl2ZSouXG4gICogVGhlIHJpZ2h0IGlzIG1vcmUgcHJvLWVjb21vbnksIHdoaWNoIGR1cmluZyB3YXIgdGltZXMgaXMgbmVlZGVkIG1vcmUgdGhhbiBwcm8tcGVvcGxlIGFzIHRoZSBsZWZ0IHVzdWFsbHkgdG91dHMuXG4gICAgLSBUaGUgcmlnaHQgY2FuIHNwaW4gdXAgdGhlICp3YXIgbWFjaGluZSogYXMgdGhleSBjYWxsIGl0LCBmYXN0ZXIsIGFuZCBiZS1hYmxlIHRvIGZhc3RlciByYW1wIHVwIHByb2R1Y3Rpb24gb2Ygd2FyLXJlbGF0ZWQgY29tcG9uZW50cyBuZWVkZWQgdG8gd2luIGEgd2FyLlxuXG5JIGd1ZXNzIG9uZSBjb3VsZCBzYXkgdGhhdCBteSAqcG9saXRpY2FsIHZpZXdzKiBhcmUgdmVyeSAqKmNvbnRleHQtc2Vuc2l0aXZlKiwgd2hlcmUgSSB0YWtlIGJvdGggY29udGV4dCBvZiBjdXJyZW50IGV2ZW50cywgYW5kIGEgcG90ZW50aWFsIGZ1dHVyZSB0byBkZXRlcm1pbmUgd2hpY2ggcGFydHkgc2VlbXMgbGlrZSB0aGUgcmlnaHQgZml0IHRvIGhvcGVmdWxseSBtYWtlIHRoZSB3b3JsZCBhIGJldHRlciBwbGFjZSBmb3IgZXZlcnlvbmUuXG5cbkFueXdheXMsIEkganVzdCB0aG91Z2h0IEknZCB3cml0ZSB0aGlzLCBhcyBJIGFtIGdlbmVyYWxseSBwcmV0dHkgYWxvb2Ygd2hlbiBpdCBjb21lcyB0byB0YWxraW5nIGFib3V0IG15IHBlcnNvbmFsIHBvbGl0aWNhbCB2aWV3cywgYXMgSSBqdXN0IHRlbmQgdG8ga2VlcCB0aG9zZSB0byBteXNlbGYuICBJdCBpcyBhIHZlcnkgcmlza3kgc29jaWFsIHRvcGljIHRvIG9ubHkgaGF2ZSB3aXRoIHNwZWNpZmljIHBlb3BsZSB0aGF0IG1vc3RseSBhbGlnbiB3aXRoIG9uZSdzIHZpZXdzLiAgUG9saXRpY2FsIHZpZXdzIHJlY2VudGx5IGhhdmUgYmVjb21lIHJhdGhlciBleHRyZW1lIGF0IHRpbWVzLCBhbmQgSSdkIHBlcnNvbmFsbHkganVzdCByYXRoZXIgc2l0IG9uIHRoZSBzaWRlbGluZXMgYW5kIHdhdGNoLCBidXQgc3RpbGwgdGFrZSBwYXJ0IGluIGVsZWN0aW9ucyBvZiBjb3Vyc2UsIGFzIGFueSBjaXRpemVuIGluIGEgZGVtb2NyYWN5IHNob3VsZC5cblxuIyMjIFBvbGl0aWNzIG9mIEFsYmVydGFcblxuSSBoYXZlIHZlcnkgcmVjZW50bHkgb2J0YWluZWQgYSBuZXcgcGVyc3BlY3RpdmUgb24gdGhlIEFsYmVydGEgZWNvbm9teSBhbmQgd2h5IGl0J3MgcG9saXRpY3MgYXJlIHRoZSB3YXkgdGhleSBhcmUuICBBIHZpZGVvIEkgd2F0Y2hlZCBtZW50aW9uZWQgdGhhdCBkdXJpbmcgdGhlICpvaWwgYm9vbSogdGhlIGVjb25vbXkgd2FzIGFic29sdXRlbHkgZmx1cmlzaGluZyBhcyBpdCdzIG1hbnkgY2l0aXplbnMgd2VyZSBtYWtpbmcgdXBtb3N0IHRvICQxMDAvaHIsIHdoaWNoIGlzIGFuIGFic29sdXRlbHkgY3JhenkgYW1vdW50IHdoZW4geW91IHRoaW5rIG9mIGFsbW9zdCBldmVyeSBvdGhlciBpbmR1c3RyeS4gIEkgaGFkIG5vIGlkZWEgdGhlIHBheSB3YXMgdGhpcyBoaWdoLiAgVGhlIG1vc3QgSSd2ZSBldmVyIG1hZGUgcGVyIHllYXIgaW4gbXkgbGlmZSBpcyBqdXN0IGEgbGl0dGxlIHVuZGVyICQxMDBrL3llYXIgc2FsYXJ5LiAgSSBnZW5lcmFsbHkgZG9uJ3QgYXNrIGZvciBtb3JlIHRoYW4gSSBiZWxpZXZlIEkgbmVlZCwgdGhhdCBpcyBqdXN0IGEgcGVyc29uYWwgb3Bpb25pb24sIGFuZCBldmVyeW9uZSdzIGxpZmUgaXMgdmVyeSBkaWZmZXJlbnQuICBIb3dldmVyLCBpZiBJIHdhcyBtYWtpbmcgbW9yZSwgSSB3b3VsZCBtb3N0IGxpa2VseSBiZSBlbmpveWluZyBteXNlbGYgYSBsb3QgbW9yZSBpbiBsaWZlIG92ZXJhbGwsIGdvaW5nIG91dCB0byBtYW55IGV2ZW50cywgYW5kIEkgY2FuIHNlZSB3aHkgYW4gZWNvbm9teSB3b3VsZCBmbHVyaXNoIHVuZGVyIHRoZXNlIGhpZ2ggcGF5IGNvbmRpdGlvbnMuICBJIGNhbiBzZWUgd2h5IHRoZSBwb3B1bGF0aW9uIGhlcmUgcmVhbGx5IHdhbnRzIGFub3RoZXIgKm9pbCBib29tKiBvbmNlIGFnYWluLCBpdCBkb2VzIG1ha2UgY29tcGxldGUgc2Vuc2UgdG8gbWUsIGFzIGEgYmV0dGVyIGFuZCBoZWFsdGhpZXIgZWNvbm9teSBpcyBiZXR0ZXIgZm9yIGV2ZXJ5b25lLiAgV2hpbGUgbW9zdCBvZiBteSBwZXJzb25hbCBiZWxpZWZzIGRvIGxlYW4gbW9yZSB0b3dhcmRzIGEgYmV0dGVyIGZ1dHVyZSBmb3Igb3VyIHBsYW5ldCBvdmVyYWxsLCBJIGJlbGlldmUgdGhhdCBJIGNvdWxkIHN0YW5kIGJlaGluZCBvaWwgcHJvamVjdHMgd2hpY2ggb3RoZXJ3aXNlIGRvIG5vdCBmdXJ0aGVyIGV4aXN0aW5nIGlzc3Vlcy4gIFRoaXMgaXMgcmVhbGx5IGEgdG91Y2h5IHN1YmplY3QgaW4gYm90aCB0aGlzIHByb3ZpbmNlIGFuZCBhY3Jvc3MgQ2FuYWRhLiAgT25lIGFzcGVjdCB3aGljaCBzaG91bGQgYWxsb3cgb2lsIHRvIGJlY29tZSBtb3JlIGFjY2VwdGVkIG1pZ2h0IGJlIHRoZSB1cGNvbWluZyB3YXIsIGFzIG9pbCB3aWxsIGJlIG5lZWRlZCwgYW5kIGlmIENhbmFkYSBjYW4gcHJvZHVjZSB0aGVuIHdlIGNhbiBvbmNlIGFnYWluIGhhdmUgYW4gKm9pbCBib29tKiBpbiBBbGJlcnRhIGFuZCBhIGdyZWF0IHBvc3Qtd2FyIGVjb25vbXkuXG4iIH0sIHsgIklEIiA6IDUyLCAiUEFUSCIgOiAiL1F1aW50ZXQiLCAiVElUTEUiIDogIlRoZSBRdWludGV0IEdhbWVzIiwgIkNSRUFURUQiIDogIjIwMjQtMDItMjVUMTI6MTk6MzIuMzkyWiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMi0yNVQxNDowMDoyNC4wMjFaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJBIGNvbXBhbnkgZnJvbSBKYXBhbiB3aG9tIGhhcywgd2hhdCBzZWVtcywgdG8gaGF2ZSBjb21wbGV0ZWx5IGRpc2FwcGVhcmVkIGFmdGVyIHRoZSBTdXBlciBOaW50ZW5kbywgY3JlYXRlZCBzb21lIG9mIG15IGZhdm91cml0ZSBnYW1lcyBvbiB0aGF0IHN5c3RlbS4gIEkgd2lsbCBnbyB0aHJvdWdoIGVhY2ggdmVyeSBicmllZmx5IGJlbG93IHRvIGV4cGxhaW4gbXkgdGhvdWdodHMgb24gZWFjaCBvZiB0aGVtLlxuXG4jIyBBY3RyYWlzZXIgZ2FtZXNcblxuTW9zdCBmYW5zIG9mIHRoaXMgZ2FtZSBtYXkgaGF0ZSBtZSBmb3IgdGhpcywgYnV0IEkgYmFyZWx5IHBsYXllZCB0aGlzIGdhbWUuICBJIHRyaWVkIHRvIGdldCBpbnRvIGl0IGEgZmV3IHRpbWVzLCBib3RoIGluIHRoZSBlcmEgaXQgd2FzIHJlbGVhc2VkIGFuZCB0aHJvdWdoIGVtdWxhdGlvbiBpbiBteSAyMHMsIGJ1dCBJIGp1c3QgZGlkbid0IGZpbmQgbXlzZWxmIGVuam95aW5nIGl0IGFzIG11Y2ggYXMgdGhlIGZvbGxvd2luZyBnYW1lcyBiZWxvdy5cblxuIyMgU291bCBCbGF6ZXJcblxuVGhpcyBpcyBjb25zaWRlcmVkIHRoZSBmaXJzdCBnYW1lIGluIHdoYXQgc29tZSBmYW5zIGNhbGwgdGhlICpRdWludGV0IFRyaWxvZ3kqIG9yIHRoZSAqR2FpYSBnYW1lcyogSSBiZWxpZXZlIGl0IHdhcyBhbHNvIHJlZmVycmVkIHRvIGFzIGF0IG9uZSBwb2ludCwgYXMgdGhpcyBnYW1lLCBhbG9uZyB3aXRoIHRoZSBuZXh0IGZlYXR1cmUgYSBwcm9taW5hdGUgc3RvcnkgYWJvdXQgbmF0dXJlIGFuZCB0aGUgd29ybGQuICBUaGUgc3Rvcnkgb2YgKlNvdWwgQmxhemVyKiBpcyBpbmNyZWRpYmx5IHNpbXBsZSwgYW5kIGl0J3MgZ2FtZSBtZWNoYW5pY3MgYXJlIGV4dHJlbWVseSBhZGRpY3RpdmUsIHdoaWNoIEkgd2lsbCBnZXQgaW50byBsYXRlci4gIFRoZSBzdG9yeSBpcyBhcyBiYXNpYyBhcyB5b3UgY2FuIGdldCBhdCBpdCdzIHN1cmZhY2UgbGV2ZWwsIGEgKmdyZWVkeSBraW5nKiB3aG9tIHdhbnRzIHRvIGhhdmUgYWxsIHRoZSBnb2xkIGFuZCBhbGwgdGhlIHdlYWx0aCBhc2tzIGEgcHJvbm91bmNlZCBzY2llbnRpc3Qgb2YgdGhlIGdhbWUncyB3b3JsZCB0byBjcmVhdGUgaGltIGEgbWFjaGluZSB3aGljaCBjb3VsZCBjYWxsIHVwb24gKkRlYXRodG9sbCosIGVzc2VudGlhbGx5IHRoaXMgd29ybGQncyB2ZXJzaW9uIG9mIGEgU2F0YW4gb3IgZGV2aWwuICBUaGUga2luZyBjYWxscyB1cG9uIHRoaXMgZW50aXR5IGFuZCBpbiBleGNoYW5nZSBmb3IgYWxsIHRoZSBzb3VscyBpbiBoaXMga2luZ2RvbSwgaGUgY291bGQgaGF2ZSBoaXMgd2lzaCBncmFudGVkLCB1bmtub3dpbmdseSBoaXMgb3duIHNvdWwgd2FzIGFsc28gb24gdGhlIGxpbmUuICBUaHVzLCB0aGUgYWR2ZW50dXJlIHN0YXJ0cyB0byBmcmVlIHRoZSB3b3JsZCBmcm9tIHRoaXMgZXZpbCBhcyB3aGF0IGlzIGVzc2VudGlhbGx5IHRoZSBwbGF5ZXIgaW4gdGhlIHJvbGUgb2YgKkplc3VzKiB3aGVuIHlvdSB0aGluayBvZiBpdCwgYXMgdGhlIHBsYXllciBpcyBndWlkZWQgYnkgd2hhdCBpcyBwcmVzdW1hYmx5ICpHb2QqLCB3aGljaCBpbiB0aGUgZ2FtZSBpcyByZWZlcnJlZCB0byBhcyAqTWFzdGVyKi4gIFRoZSBwbGF5ZXIgdGhlbiB0cmF2ZWxzIGZyb20gYXJlYSB0byBhcmVhLCBnb2luZyB0byBkZXN0cm95IGV2aWwgaW4gdGhlIGR1bmdlb25zIG5lYXIgdGhlc2UgYXJlYXMgdG8gZnJlZSB0aGUgdmFyaW91cyB0cmFwcGVkIHNvdWxzLCBhbmQgdWx0aW1hdGVseSByZWJ1aWxkaW5nIHRoZSB0b3ducy4gIFRoZSBzZW5zZSBvZiBwcm9ncmVzcyBpbiB0aGUgdGl0bGUgaXMgYWJzb2x1dGVseSBpbmNyZWRpYmxlLiAgQXMgeW91IG1vdmUgdGhyb3VnaG91dCB0aGUgZHVuZ2VvbnMgZGVzdHJveWluZyBtb25zdGVycywgdGhlaXIgbGFpcnMgYmVjb21lIHNwb3RzIHdoaWNoIHRoZSBwbGF5ZXIgY2FuIHN0YW5kIHVwb24gdG8gZnJlZSB0aGUgc291bHMgd2hpY2ggd2VyZSB0cmFwcGVkIGJ5IHRob3NlIG1vbnN0ZXJzLiAgVGhpcyBjYW4gZWl0aGVyIGxlZCB0byBhIHBhdGggb3BlbmluZyB1cCBuZWFyIHRoZSBwbGF5ZXIsIG9yIGEgbmV3IGJ1aWxkaW5nIGFuZCBjaGFyYWN0ZXIgYmVpbmcgcmVsZWFzZWQgb250byB0aGUgbWFpbiBhcmVhIGZvciB0aGUgcGxheWVyIHRvIGxhdGVyIGludGVyYWN0IHdpdGguICBUaGUgZ2VuaXVzIGhlcmUgaXMgdGhhdCB3aGVuIHRoZSBwbGF5ZXIgZmlyc3QgYXJyaXZlcyBpbiBhIG5ldyBhcmVhLCBpdCBpcyBjb21wbGV0ZWx5IGVtcHR5LCBhbmQgZGV2b2lkIG9mIGFueSBsaWZlLiAgQXMgdGhlIHBsYXllciBwbGF5cyB0aHJvdWdoIHRoZSBhcmVhLCB0aGV5IGdldCBhIGltbWVkaWF0ZSBzZW5zZSBvZiBwcm9ncmVzc2lvbiBhcyB0aGUgYXJlYSBhYm92ZSBiZWdpbnMgdG8gYmVjb21lIG1vcmUgYW5kIG1vcmUgcG9wdWxhdGVkIGFuZCBmdWxsIG9mIGxpZmUuICBUaGUgbWFpbiBob29rIGZvciB0aGUgZ2FtZSBoZXJlIGlzIHRoZSAqd2hhdCB3aWxsIEkgYmUgcmVsZWFzaW5nIG5leHQ/KiBnYW1lcGxheSBsb29wLCB3aGljaCBpcyBhYnNvbHV0ZWx5IGluY3JlZGlibGUuXG5cbiMjIElsbGlzaW9uIG9mIEdhaWFcblxuVGhpcyBnYW1lIGlzIHdoYXQgdGhlIHNlbGYtY2FsbGVkIHRyaWxvZ3kgaXMgbmFtZWQgYWZ0ZXIuICBMaWtlIGluIHRoZSBwcmV2aW91cyBnYW1lLCB0aGVyZSBpcyB0aGlzIGdvZC1saWtlIGNoYXJhY3RlciB3aG9tIGd1aWRlcyB0aGUgcGxheWVyIHRocm91Z2ggdGhlIGdhbWUuICBUaGUgY2hhcmFjdGVyIGluIHRoaXMgZ2FtZSBpcyBuYW1lZCAqR2FpYSosIHJhdGhlciB0aGFuIHNlZW1pbmcgbW9yZSBnb2QtbGlrZSwgKkdhaWEqIGhhcyBhIGRpZmZlcmVudCBmZWVsIHRvIGhlciwgbXVjaCBtb3JlIG15c3RlcnkuICBUaGUgc3Rvcnkgb2YgdGhpcyBnYW1lIGF0IGl0J3MgY29yZSBpcyByYXRoZXIgc2ltcGxlIGFzIHdlbGwsIGJ1dCBpcyBodWdlbHkgYnVpbHQgdXBvbiBhcyB0aGUgcGxheWVyIGJlZ2lucyB0byBleHBsb3JlIHRoZSB3b3JsZCBhcm91bmQgdGhlbS4gIFRoZSBnYW1lIHN0YXJ0cyBvZmYgd2l0aCB0aGlzIGNoYXJhY3RlciBuYW1lZCAqV2lsbCogd2hvbSBpcyB0aGUgY2hhcmFjdGVyIHRoZSBwbGF5ZXIgd2lsbCBiZSBjb250cm9sbGluZyB0aHJvdWdob3V0IHRoZSBnYW1lLCBhIGZldyB5ZWFycyBhZ28gaGUgd2FzIGF0IHRoZSAqVG93ZXIgb2YgQmFiZWwqIHdpdGggaGlzIGZhdGhlciB3aGVuIHNvbWV0aGluZyBoYXBwZW5lZC4gIEkgY2Fubm90IHJlY2FsbCBpZiB0aGUgZ2FtZSdzIHN0b3J5IHRvdWNoZXMgbXVjaCBvbiB3aGF0IGhhcHBlbmVkLCBidXQgSSBkbyByZWNhbGwgdGhhdCBXaWxsIGRpZCBub3QgcmVjYWxsIGhvdyBoZSBlc2NhcGVkIHRoZSB0b3dlciBhbmQgZ290IGJhY2sgdG8gQ2FwZSBUb3duLCBidXQgd2l0aG91dCBoaXMgZmF0aGVyLiAgSW4gdGhlIGdhbWUsIHRoZSBtYWluIGNoYXJhY3RlciBpcyBsaXZpbmcgd2l0aCBoaXMgYXVudCBhbmQgdW5jbGUgaW4gQ2FwZSBUb3duLCB3aGljaCBpcyBhY3R1YWxseSBhIHJlYWwtd29ybGQgcGxhY2UuICBJJ20gbm90IHN1cmUgaWYgSSBrbmV3IGl0IGF0IHRoaXMgdGltZSBpbiBteSBsaWZlLCBidXQgSSBtdXN0IGhhdmUsIGJ1dCBkaWRuJ3QgdGhpbmsgaXQgd2FzIGJhc2VkIG9uIHRoZSByZWFsLXdvcmxkIGxvY2F0aW9uLCBhcyB0aGUgd29ybGQgb2YgdGhpcyBnYW1lIGlzIG9kZCwgdG8gc2F5IHRoZSBsZWFzdC4gIFNvLCB0aGlzIHdvcmxkIHNlZW1zIHRvIHNoYXJlIGEgbG90IG9mIHJlYWwtd29ybGQgcGxhY2VzIG9mIGVhcnRoLCBob3dldmVyLCB0aGUgZW50aXJlIG1hcCBpcyBub3QgZWFydGggd2hhdHNvZXZlciwgaWYgdGhhdCBtYWtlcyBhbnkgc2Vuc2UuICBJdCdzIGxpa2UgcGxheWluZyAqQ2l2aWxpemF0aW9uKiwgYW5kIGhvdyB0aGF0IHdvcmxkIHR1cm5zIG91dCBpcyB0aGUgd29ybGQgdXNlZCBpbiBhIGZhbnRhc3kgd29ybGQsIHNvIHlvdSBhcmUgbGVmdCB3aXRoIGNvbXBsZXRlbHkgdW5rbm93biBnZW9ncmFwaHksIGJ1dCB3aXRoIHBsYWNlcyB3aGljaCBzb3VuZCBhbmQgbG9vayBpbmNyZWRpYmx5IHNpbWlsYXIgdG8gdGhlIHJlYWwtd29ybGQuICBBbnl3YXlzLi4uICBUaGF0IGlzIG9uZSBodWdlIHBhcnQgdGhhdCByZWFsbHkgbWFrZXMgdGhpcyBnYW1lIHN0YW5kIG91dCwgYXMgbm90IG1hbnkgZ2FtZXMgdGFrZSB0aGlzIGFwcHJvYWNoIHRvIHdvcmxkIGJ1aWxkaW5nLiAgQW55d2F5cywgYmFjayB0byB0aGUgc3RvcnkuICBUaGUgbWFpbiBjaGFyYWN0ZXIgbWVldHMgKkdhaWEqIHJlYWxseSBlYXJseSBvbiwgYW5kIHRoZSBvdmVyYWxsIGludGVyYWN0aW9uIGlzIGtpbmQgb2YgKm1laCogYXQgYmVzdCwgYXMgdGhlcmUgaXNuJ3QgcmVhbGx5IGFueSBjaGFyYWN0ZXIgYnVpbGRpbmcgaW4gdGhlIHNjZW5lIG9yIGFueXRoaW5nIHRoYXQgcmVhbGx5IG1ha2VzIGl0IHN0YW5kIG91dC4gIFdpbGwgZW50ZXJzIHRoZSAqRGFyayBTcGFjZSosIGFuZCBlc3NlbnRpYWxseSBhY3RzIGxpa2UgaGUncyBiZWVuIHRoZXJlIG1hbnkgdGltZXMgcHJpb3IsIHRoZSBzY2VuZSBkb2Vzbid0IHJlYWxseSBjb252ZXkgdGhhdCBtdWNoIGV4Y2l0ZW1lbnQgSSBndWVzcyBmb3Igd2hhdCBpdCB3YXMgdHJ5aW5nIHRvIGRvLiAgQWZ0ZXIgYSBmZXcgc2NlbmVzIHRoZSBhY3R1YWwgc3RvcnkgYmVnaW5zLCBJIGJlbGlldmUgdGhlIGZvbGxvd2luZyBtb3JuaW5nLCBXaWxsIGlzIHNvbW1vbmVkIHRvIGdvIHNlZSB0aGUgS2luZyB3aXRoIGEgaXRlbSB0aGUgS2luZyB0aGlua3MgaGUgaGFzIGZyb20gaGlzIGZhdGhlci4gIFdoZW4gdGhlIEtpbmcgcmVhbGl6ZWQgdGhhdCBXaWxsIGRvZXMgbm90IGhhdmUgdGhlIGl0ZW0sIGhlIGlzIHNlbnQgdG8gcHJpc2lvbiB0byByb3QuICBUaGlzIGlzIHdoZW4gaGlzIGZhdGhlciBjb21tdW5pY2F0ZXMgdG8gaGltIHRocm91Z2ggaGlzIGZsdXRlIG91dCBvZiBhbGwgdGhpbmdzIHRlbGxpbmcgaGltIGhpcyBtYWluIHF1ZXN0LiAgR28gdG8gZWFjaCBvZiB0aGUgYXJlYXMgb2YgdGhlIHdvcmxkIHRvIGNvbGxlY3QgdGhlc2UgYXJ0aWZhY3RzIGFuZCB0byBldmVudHVhbGx5IHJldHVybiB0byB3aGVyZSBpdCBhbGwgc3RhcnRlZCwgKlRoZSBUb3dlciBvZiBCYWJlbCouICBJIGRpZCBub3QgZXZlciBiZWF0IHRoaXMgZ2FtZSwgYnV0IGRpZCByZW50IGl0IG11bHRpcGxlIHRpbWVzIGFuZCBnb3QgZGVjZW50bHkgZmFyLiAgVGhlIHN0b3J5IGhhcyBtYW55IHJlYWxseSB0b3VjaGluZyBtb21lbnRzIGJldHdlZW4gdGhlIHZhcmlvdXMgY2hhcmFjdGVycyBpbnZvbHZlZCwgYW5kIGRvZXMgYnJpbmcgdXAgc29tZSB2ZXJ5IHNlcmlvdXMgc3ViamVjdHMgd2hpY2ggYXJlbid0IGV2ZW4gc2VlbiBpbiBtb2Rlcm4gZ2FtZXMuICBJIGRvIG5vdCB3aXNoIHRvIHNwb2lsIHRoZXNlIHJhdGhlciBkYXJrIHRvcGljcywgYXMgZm9yIGJlaW5nIGEgTmludGVuZG8gbGljZW5zZWQgZ2FtZSBvZiB0aGUgZXJhLCBJJ2QgcmF0aGVyIHlvdSBnbyBpbiBibGluZCB1bmRlcnN0YW5kIGhvdyBOaW50ZW5kbyB3YXMgYmFjayB0aGVuLCBhbmQgeW91IHdpbGwgbW9zdCBpbmRlZWQgaGF2ZSB0aGUgc3VycHJpc2Ugb2YgYSBsaWZlIHRpbWUuICBJZiB5b3UnZCByYXRoZXIgbm90IHBsYXkgdGhyb3VnaCB0aGlzIGluY3JlZGlibGUgZ2FtZSwgdGhlbiBJIGhpZ2hseSByZWNvbW1lbmQganVzdCB3YXRjaGluZyBzb21lIFlvdVR1YmUgdmlkZW9zIG9uIHRoZSBzdWJqZWN0IGFuZCBiZSBzcG9pbGVkIHRoZXJlLlxuXG4jIyBUZXJyYW5pZ21hXG5cblRoZSBsYXN0IGdhbWUgaW4gdGhpcyB0cmlsb2d5LCB3aGljaCB3YXMgbmV2ZXIgcmVsZWFzZWQgaW4gdGhlIHdlc3QsIGFsdGhvdWdoIGl0IHdhcyBmdWxseSB0cmFuc2xhdGVkIHRvIEVuZ2xpc2ggYW5kIHJlbGVhc2VkIGluIEV1cm9wZS4gIEkgaGF2ZSBvbmx5IHBsYXllZCB0aGlzIG9uZSB2ZXJ5IGJyaWVmbHkgdGhyb3VnaCBlbXVsYXRpb24sIGJ1dCBJJ2QgaG9uZXN0bHkgcmF0aGVyIGp1c3QgcGF5IHRoZSBvcmlnaW5hbCBkZXZlbG9wZXJzIHRvIGZ1bGx5IHBsYXkgdGhpcyBnYW1lIGFzIGEgZnVsbHkgcmVtYXN0ZXJlZCBnYW1lLiAgRnJvbSBhbGwgdGhlIHZpZGVvcyBJJ3ZlIHdhdGNoZWQgb24gdGhpcywgSSBoYXZlIGhlYXJkIHRoYXQgaXQgdGFrZXMgYWxsIHRoZSBnb29kIGFzcGVjdHMgb2YgKlNvdWwgQmxhemVyKiBhbmQgKklsbGlzaW9uIG9mIEdhaWEqIHRvIGNyZWF0ZSBvbmUgb2YgdGhlIGJlc3QgZ2FtZXMgb2YgdGhpcyBnZW5yZSBldmVyLiAgSXQgaGFzIHRoZSB0b3duIGJ1aWxkaW5nL3Jlc3RvcmluZyBhc3BlY3RzIG9mICpTb3VsIEJsYXplciogd2l0aCB0aGUgbW9yZSByZWZpbmVkIHN0b3J5IGFuZCBnYW1lcGxheSBvZiAqSWxsaXNpb24gb2YgR2FpYSouICBUaGlzIGdhbWUgZGVzZXJ2ZXMgYSBsb3QgbW9yZSB0aGFuIGl0IGN1cnJlbnRseSBoYXMuICBJdCBuZWVkcyB0byBiZSByZW1hZGUgb3IgcmVtYXN0ZXJlZC4gIEkgaGF2ZSBvbmx5IGhlYXJkIGdvb2QgdGhpbmdzIGFib3V0IGJvdGggdGhlIHN0b3J5IGFuZCBnYW1lcGxheSwgYW5kIEkgZmVlbCBpdCBiZWNhbWUgc28gdW5kZXIgcmVsYXRlZCBhcyB0aGUgd2VzdGVybiB3b3JsZCBuZXZlciBnb3QgYW4gb2ZmaWNpYWwgcmVsZWFzZS5cblxuIyMgUm9ib3RyZWtcblxuUG9rZW1vbiBiZWZvcmUgUG9rZW1vbiwgbm8gcmVhbGx5LCBpdCdzIGxpa2UgaWYgYSAqTWFkIFNjaWVudGlzdCogd2hvbSBrbmV3IGhvdyB0byBidWlsZCByb2JvdHMgdHVybmVkIHRoZW1zZWxmIGludG8gYSAqc2VsZi1wcm9jbGFpbWVkKiBQb2tlbW9uIG1hc3Rlci4gIFNvLCBJIGhhdmVuJ3QgZ290IHRlcnJpYmxlIGZhciBpbiB0aGlzIGdhbWUgZWl0aGVyLCBhcyBpdCB3YXMgdXN1YWxseSBqdXN0IGEgcmVudGFsIGdyb3dpbmcgdXAsIGFuZCBJIGRpZG4ndCBwbGF5IHRocm91Z2ggbXVjaCBvZiBpdCB0aHJvdWdoIGVtdWxhdGlvbiB3aGVuIEkgZGlkIHBsYXkgaXQuICBPdmVyYWxsLCBpdCBpcyBhIHJhdGhlciBhbWJpdG91cyBnYW1lIGZvciBpdCdzIHRpbWUuICBZb3UgcGxheSB0aGUgc29uIG9mIHRoaXMgc2NpZW50aXN0IHdob20ga25vd3MgaG93IHRvIGJ1aWxkIHJvYm90cyBhbW9uZyBvdGhlciB0aGluZ3MuICBZb3UgZ28gdGhyb3VnaCBidWlsZGluZyB5b3VyIG93biBhcm15IG9mIHRoZXNlIHJvYm90cyBhcyB5b3UgcHJvY2VlZCB0aHJvdWdoIHRoZSBnYW1lLiAgRWFjaCByb2JvdCBpcyBhY3R1YWxseSBidWlsdCBhbmQgZnVsbHkgY3VzdG9taXplZCBieSB0aGUgcGxheWVyLiAgQXNwZWN0cyBsaWtlIHN0cmVuZ3RoIGFuZCBvdGhlciBhdHRyaWJ1dGVzIGNhbiBiZSBkaXN0cmlidXRlZCB3aXRoIG1vcmUgcG9pbnRzIGJlaW5nIGF2YWlsYWJsZSBhcyB5b3UgbGV2ZWwgdXAuICBSb2JvdHMgY2FuIGNvbG91cmVkIHdpdGggYW55IGNvbG91cnMgdGhlIHBsYXllciB3aXNoZXMsIGFuZCBjdXN0b20gbW92ZXMgY2FuIGV2ZW4gYmUgY3JlYXRlZCBhbmQgbmFtZWQgYnkgdGhlIHBsYXllci4gIEVhY2ggb2YgdGhlc2Ugcm9ib3RzIGFyZSBhbHNvIHN0b3JlZCBpbiBhIGNpcmN1bGFyIGNvbnRhaW5lciwgd2hpY2ggaXMgdW5saWtlIGEgUG9rZWJhbGwgZnJvbSBQb2tlbW9uLiAgSSBoaWdobHkgcmVjb21tZW5kIGF0IGxlYXN0IGNoZWNraW5nIG91dCB0aGUgZmlyc3QgcGFydCBvZiBpdCBhcyBkaWQgSSwganVzdCBmb3IgdGhlIGV4cGVyaWVuY2Ugb2Ygc2VlaW5nIGp1c3QgaG93IGlubm92YXRpdmUgKlF1aW50ZXQqIHdhcyByZWFsbHkgdHJ5aW5nIHRvIGJlLCBub3Qgd2l0aCBqdXN0IHRoZWlyIHN0b3J5IHRlbGxpbmcsIGJ1dCBhbHNvIHdpdGggZ2FtZXBsYXkgbWVjaGFuaWNzIGxpa2UgdGhpcyBnYW1lIHByb3ZpZGVkLlxuIiB9LCB7ICJJRCIgOiA1MywgIlBBVEgiIDogIi9IYWNrZXJNYWtlciIsICJUSVRMRSIgOiAiSGFja2VyIE1ha2VyOiBNYXJpbyBNYWtlciBmb3IgSGFja2VycyIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTI1VDEyOjU3OjIxLjM2OVoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMjVUMTQ6MTY6MDQuMzg3WiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiSSBoYWQgdGhpcyBpZGVhIG9uIG15IG1pbmQgZm9yIHNldmVyYWwgeWVhcnMsIGFzIEkgd2FzIHdvcmtpbmcgb24gbXkgKkhhY2tlcidzIEVkZ2UqIHByb2plY3QsIHdoaWNoIHdhcyB0byBiZSB0aGUgd29ybGQncyBmaXJzdCBldmVyIEhhY2tpbmcgU2ltdWxhdG9yIE11bHRpLVVzZXIgT25saW5lIFJvbGUgUGxheWluZyBHYW1lLCB0aGluayBJIGhhZCBhbm90aGVyIHBocmFzZSBmb3IgaXQgYXQgb25lIHBvaW50LiAgQW55d2F5cywgdGhhdCBwcm9qZWN0IHdhcyBmdWxseSBvbmxpbmUgYW5kIHdhcyBwbGF5ZWQgZWl0aGVyIHRocm91Z2ggdGhlIGJyb3dzZXIgb3IgdmlhIHRlbG5ldCBmb3IgdGhvc2Ugd2hvbSB3YW50IGEgbW9yZSByZWFsaXN0aWMgZXhwZXJpZW5jZS4gIEkgd2FzIHBsYW5uaW5nIG9uIGJ1aWxkaW5nIG91dCBhIGRlc2t0b3AgY2xpZW50IGFuZCBzdWNoLCBhbmQgaXQgd2FzIHByZXR0eSBmYXIgYWxvbmcuICBUaGUgaW4tZ2FtZSB1bml2ZXJzZSByYW4gZXNzZW50aWFsbHkgYSBidW5jaCBvZiAqTU9TIDY1MDIqIHN5c3RlbXMgd2hpY2ggcGxheWVycyBjb3VsZCB0aGVuIGNvbm5lY3QgdG8sIGFuZCBwZXJmb3JtIHZhcmlvdXMgYWN0aXZpdGllcywgb25lIG9mIHdoaWNoIHdhcyB0byBoYWNrIGl0LiAgU2luY2UgaXQgYWxsIHJhbiBhY3R1YWwgY29tcHV0ZXIgY29kZSwgaXQgbWFkZSB0aGUgaW4tZ2FtZSB1bml2ZXJzZSBhbmQgZ2FtZXBsYXkgZmVlbCBtdWNoIG1vcmUgcmVhbGlzdGljIHRoYW4gc2F5ICpXYXRjaCBEb2dzKiB3aGljaCB3YXMgZ2FpbmluZyBpbiBzb21lIHBvcHVsYXJpdHkgYXQgdGhlIHRpbWUuICBUaGlzIG9ubGluZSBnYW1lIHdhcyBzdXBwb3NlZCB0byBiZSBhICpHVEEgT25saW5lKiwgYnV0IGZvciBoYWNrZXJzLiAgU28gcmF0aGVyIHRoYW4gdXNpbmcgZ3VucyB0byByb2IgYSBiYW5rLCB0aGUgcGxheWVyIHdvdWxkIGluc3RlYWQgdXNlIGN5YmVyLWF0dGFja3MgYW5kIHRoZWlyIGJyYWlucyB0byBpbnN0ZWFkIGhhY2sgYSBiYW5rIHRvIHJvYiBpdC4gIEF0IGxlYXN0IHRoYXQgd2FzIHRoZSBkcmVhbSBJIGhhZCBmb3IgKkhhY2tlcidzIEVkZ2UqLiAgQXMgZGV2ZWxvcG1lbnQgb2YgaXQgd2VudCBvbiwgaXQgZ290IG1vcmUgYW5kIG1vcmUgY29tcGxpY2F0ZWQgdG8gYSBwb2ludCB3aGVyZSBzb21lIGJldGEgdGVzdGVycyB3ZXJlIHJlYWxseSBkcmFpbmluZyBteSBhYmlsaXRpZXMgd2l0aCBhbiBvdmVybG9hZCBvZiBmZWF0dXJlcyB3aGljaCBJIGp1c3QgY291bGRuJ3Qga2VlcCB1cCB3aXRoLiAgQW5kIHRodXMsIEkgYnVybnQgb3V0IGFuZCBub3cgaXQncyBqdXN0IGEgcmVsaWMuXG5cbkhhY2tlciBNYWtlciBpcyBhIGNvbXBsZXRlbHkgb2ZmbGluZSBzaW5nbGUtcGxheWVyIGV4cGVyaWVuY2UuICBUaGUgaWRlYSBiZWhpbmQgdGhpcyBnYW1lIGNhbWUgdG8gbWUgYWZ0ZXIgSSBwbGF5ZWQgdGhpcyBsaXR0bGUga25vd24gaGFja2luZyBzaW11bGF0b3IgZ2FtZSBvbiBteSBBbmRyb2lkIHBob25lIGNhbGxlZCAqKkhhY2tSVU4qKi4gIEkgb25seSBwbGF5ZWQgdGhlIGRlbW8sIGFuZCBoYXZlIGF0dGVtcHRlZCB0byByZWNyZWF0ZSB0aGlzIGRlbW8gaW4gbXVsdGlwbGUgbGFuZ3VhZ2VzIG9uIG11bHRpcGxlIHBsYXRmb3JtcyBhcyBhIHdheSB0byB0ZXN0IG15IGNvZGluZyBza2lsbHMgaW4gZGlmZmVyZW50IGVudmlyb25tZW50cy4gIFRoZSBmaXJzdCB2ZXJzaW9uIEkgY3JlYXRlZCBvZiB0aGlzIHdhcyBhbiBIVE1MNSBXZWJTb2NrZXQgdmVyc2lvbiwgd2hlcmUgaXQgd2FzIHN0aWxsIGEgZnVsbCB0ZXJtaW5hbCBnYW1lLCBhcyBpdCB3YXMgb24gQW5kcm9pZCwgYnV0IHdyaXR0ZW4gaW4gSFRNTDUgV2ViU29ja2V0cyBhbmQgUHl0aG9uLiAgSXQgd2FzIHRoaXMgdGhhdCBnYXZlIG1lIHRoZSBpZGVhIG9mICpIYWNrZXIgTWFrZXIqLCBhcyBJIGp1c3QgY3JlYXRlZCB3aGF0IHdhcyBlc3NlbnRpYWxseSBqdXN0IGEgKmdhbWUgZW5naW5lKiBmb3IgbWFraW5nICpIYWNrUlVOLWxpa2UqIGdhbWVzLCByaWdodD8gIFNvIGZvciBhd2hpbGUgSSB3YXMgbG9va2luZyBpbnRvIHRoaXMgYXMgc29tZXRoaW5nIEkgY291bGQgbWFrZSwgYnV0IGl0IG5ldmVyIHJlYWxseSBnYWluZWQgYW55IHRyYWN0aW9uIGFnYWluIHVudGlsIHJlY2VudGx5LlxuXG5JZiB0aGVyZSBpcyBvbmUgZ2VucmUgb3V0IHRoZXJlIHRoYXQgZG9lc24ndCByZWFsbHkgaGF2ZSB3aGF0IEkgd291bGQgY2FsbCBpdCdzICpraWxsZXIgYXBwKiwgaXQncyB0aGUgKmhhY2tpbmcgc2ltdWxhdGlvbiogZ2VucmUsIHdoaWNoIGFjdHVhbGx5IGRhdGVzIGJhY2sgc28gbWFueSB5ZWFycy4gIFdpdGggaGFja2luZyBzaW11bGF0aW9ucyByZWxlYXNlZCBmb3IgTVMtRE9TIGFuZCBJIHdvdWxkIGltYWdpbmUgZXZlbiBvbGRlciBtaWNyby1jb21wdXRlcnMuICBNeSBmaXJzdCBpbnRlcmFjdGlvbiB3aXRoIHRoZSBnZW5yZSB3YXMgd2l0aCB0aGUgYW1hemluZyBnYW1lICpVcGxpbmsqLCB3aGljaCByZWFsbHkgbWFkZSB5b3UgZmVlbCBsaWtlIHlvdSB3ZXJlIGEgcmVhbC13b3JsZCBoYWNrZXIuICBJdCBkaWQgYSBkZWNlbnQgam9iIGF0IHRyeWluZyB0byBzaW11bGF0ZSBhIGZ1bGwgaW4tZ2FtZSB3b3JsZC4gIEZ1bGwgd2l0aCB0b25zIG9mIHN5c3RlbXMgdG8gYWNjZXNzLCBlYWNoIHdpdGggdGhlaXIgb3duIElQIGFkZHJlc3MsIGJhY2tzdG9yaWVzLCBhbmQgZmlsZXMgdG8gc3RlYWwuICBJdCB3YXMgYSBiaXQgb3BlbiB3b3JsZCBpZiB0aGUgcGxheWVyIGp1c3Qgd2FudGVkIHRvIG1lc3MgYXJvdW5kLCBidXQgdGhlcmUgd2FzIGEgZnVsbCBxdWVzdCBzeXN0ZW0gdGhlIHBsYXllciBzaG91bGQgZm9sbG93LCBhcyB0aGUgcGxheWVyIGRvZXMgbmVlZCB0byBtYWtlIG1vbmV5IGluIHRoZSBnYW1lIHRvIHB1cmNoYXNlIHVwZ3JhZGVzIGFuZCBzdWNoLCBidXQgdGhlIHBsYXllciBpcyBmcmVlIHRvIGNob29zZSB3aGljaCBtaXNzaW9ucyB0aGV5IHdhbnQgaW4gc29tZSBjYXNlcy4gIFRoZXJlIGlzIG9idmlvdXNseSB0aGUgaW5pdGlhbCB0dXRvcmlhbCB0byBnZXQgdGhlIHBsYXllciB1c2VkIHRvIHRoZSBnZW5yZS4gIEl0IHdhcyBhbiBhbWF6aW5nIGV4YW1wbGUgb2YgYSBoYWNraW5nIHNpbXVsYXRpb24gZG9uZSByZWFsbHkgd2VsbCwgYW5kIGl0IHN0aWxsIGhvbGRzIHVwIHRvZGF5LCBhbmQgSSBiZWxpZXZlIGl0IHdhcyBwb3J0ZWQgdG8gQW5kcm9pZCwgd2hlcmUgSSBwdXJjaGFzZWQgYSBjb3B5IGZvciBteSB0YWJsZXQsIGFzIGl0IHdvdWxkIG5vdCB3b3JrIG9uIGEgdGlueSBzY3JlZW4gd2l0aG91dCBzb21lIG1ham9yIG1vZGlmaWNhdGlvbnMuXG5cbk15IGlkZWEgd2l0aCBIYWNrZXIgTWFrZXIgaXMgdG8gY3JlYXRlIGJvdGggYSBzaW11bGF0aW9uIGVudmlyb25tZW50L3BsYXRmb3JtIGFuZCBhbHNvIGEgaGFja2luZyBzaW11bGF0aW9uIGdhbWUuICBDdXJyZW50bHkgbXkgdGhvdWdodHMgb24gaG93IHRvIGltcGxlbWVudCBpdCBhcmUgYXMgZm9sbG93czpcblxuICAqIFNlbWktcmVhbGlzdGljIGdhbWVwbGF5XG4gICAgLSBJbi1nYW1lIGNvbXB1dGVycyB3aWxsIGJlIGFsbCBydW5uaW5nIHJlYWwgKk1PUyA2NTAyKiBtYWNoaW5lIGNvZGUsIGFsbG93aW5nIGNyZWF0aXZlIGhhY2tzIHRvIGJlIGRvbmUuXG4gICAgLSBOZXR3b3JrcyBhcmUgbW9yZSBsaW1pdGVkLCBlYWNoIG5ldHdvcmsgY2FyZCBjYW4gb25seSBsaXN0ZW4gb24gYSBzaW5nbGUgcG9ydCBmcm9tIDEtMjU1LlxuICAgICAgLSBXaXRoIHRoYXQgc2FpZCwgSSBhbSBjdXJyZW50bHkgd29ya2luZyBvbiB2aXJ0dWFsIGh1YnMgYW5kIHN3aXRjaGVzLCBzbyBpdCB3aWxsIHN0aWxsIGJlIGEgYml0IHJlYWxpc3RpYyBpbiB0aG9zZSB0ZXJtcy5cbiAgICAgIC0gTmV0d29yayBjb21tdW5pY2F0aW9uIHdvcmtzIG1vcmUgbGlrZSBhIGJpLWRpcmVjdGlvbmFsIHNlcmlhbCBjb25uZWN0aW9uLCBidXQgY2FuIGNvbm5lY3QgdG8gbW9yZSB0aGFuIDEgbWFjaGluZSBpZiB0aGF0IG1ha2Ugc2Vuc2UuXG4gICAgICAgIC0gVGhpcyBtZWFucyBpdCBpcyBvdmVybHkgc2ltcGxpZmllZCwgbm8gc3BlY2lhbGl6ZWQgcGFja2V0cyB0byBrZWVwIGV2ZXJ5dGhpbmcgc2ltcGxlIGVub3VnaCBmb3IgZXZlcnlvbmUgdG8gdW5kZXJzdGFuZC5cbiAgICAtIFJlbW90ZSBjb25uZWN0aW9ucyBpbiB0aGUgb2ZmaWNpYWwgcmVsZWFzZWQgd29ybGRzIGFuZCBzY2VuYXJpb3Mgd2lsbCBlc3NlbnRpYWxseSBiZSAqZmFrZWQqLlxuICAgICAgLSBXaGF0IHRoaXMgbWVhbnMgaXMgdGhhdCB3aGVuIHRoZSBwbGF5ZXIgbWFrZXMgYSByZW1vdGUgY29ubmVjdGlvbiwgZmlyc3QgYSBjaGVjayB0byBzZWUgaWYgYSBjb25uZWN0aW9uIGNhbiBiZSBtYWRlIGlzIGZpcnN0IGRvbmUsIHRoZW4gdGhlIGNvbnNvbGUgZGlzcGxheSBpbiB0aGUgZ2FtZSBVSSBpcyBsaXRlcmFsbHkgc3dhcHBlZCB0byBub3cgZGlzcGxheWluZyB0aGUgcmVtb3RlIHN5c3RlbSByYXRoZXIgdGhhbiB0aGUgcGxheWVyJ3MgbG9jYWxob3N0LlxuICAgICAgLSBJdCB3aWxsIGJlIHBvc3NpYmxlIGZvciB3aGVuIHBsYXllcnMgc3RhcnQgY3JlYXRpbmcgdGhlaXIgb3duIHdvcmxkcyBhbmQgc2NlbmFyaW9zIHRoYXQgdGhleSBjYW4gaW5zdGVhZCB1c2UgbW9yZSByZWFsaXN0aWMgKnRlbG5ldC9zc2gqIGxpa2UgY29ubmVjdGlvbnMgb3ZlciB0aGUgdmlydHVhbCBuZXR3b3JrLlxuICAqIFRoZSB3b3JsZCBjYW4gYmUgcG9wdWxhdGVkIHdpdGggb3RoZXIgY2hhcmFjdGVycyB3aGljaCB3aWxsIGJlIHJlZmVycmVkIHRvIGFzICpBZ2VudHMqIGluIHRoZSBjcmVhdG9yIHRvb2wuICBUaGVzZSBhcmUgZXNzZW50aWFsbHkgYWtpbiB0byBhbiBOUEMgaW4gYW4gUlBHIGdhbWUuXG4gICAgLSBUaGVzZSAqYWdlbnRzKiBjYW4gYmUgcHJvZ3JhbW1lZCB3aXRoIHZhcmlvdXMgc2NoZWR1bGVzIGFuZCBhdHRyaWJ1dGVzIHRvIGdpdmUgdGhlbSBhIGJpdCBvZiBwZXJzb25hbGl0eS5cbiAgICAtIFRoZXkgY2FuIGJlIGNvbm5lY3RlZCB0byBpbi1nYW1lIGV2ZW50cyBnZW5lcmF0ZWQgYnkgdGhlIHNjZW5hcmlvIGJlaW5nIHBsYXllZC4gIFN1Y2ggYXMgYSBwbGF5ZXIgY29ubmVjdGlvbiB0byBhIHNwZWNpZmljIHNlcnZlciBjYW4gdHJpZ2dlciBhICpOZXR3b3JrIEFkbWluaXN0cmF0b3IqIGFnZW50IHRvIGJlZ2luIG1vbml0b3Jpbmcgd2hpY2ggY291bGQgYWZmZWN0IHRoZSBwbGF5ZXIgaW4gc29tZSB3YXkuXG4gICAgLSBUaGlzIGFsbG93cyB2YXJvdXMgcmVhbC13b3JsZCBwcm9ncmFtcyBsaWtlIGB3aG9gIGFuZCBgd2AgdG8gd29yayBpbi1nYW1lLCBhcyB0aGUgcGxheWVyIGNhbiBub3cgc2VlIHdoYXQgYXBwZWFycyBhcyBvdGhlciBwZW9wbGUgdXNpbmcgdGhlc2Ugc3lzdGVtcy4gIEFzIG1lbnRpb25lZCBhYm92ZSwgdGhlIHJlc3VsdCBvZiB0aGVzZSBjb21tYW5kcyBjYW4gYmUgY29udHJvbGxlZCBieSB0aGUgY3JlYXRvciB1c2luZyBhIHNjaGVkdWxlIHRvIGRldGVybWluZSB3aGF0IGFuICphZ2VudCogaXMgZG9pbmcgYXQgYW55IGdpdmVuIHRpbWUuICBUaGlzIGNhbiBhbGxvdyB2ZXJ5IGNyZWF0aXZlIHBsYXllcnMgdG8gbWFwIG91dCB0aGUgc2NoZWR1bGUgb2YgYW4gKmFnZW50KiB0byBiZXR0ZXIgcGxhbiB0aGVpciBhdHRhY2tzIGFyb3VuZCB0aGVpciBzY2hlZHVsZS5cbiAgKiBTZXBhcmF0aW9uIG9mICpXb3JsZCogYW5kICpTY2VuYXJpbypcbiAgICAtIFRoZSBpZGVhIGhlcmUgaXMgdG8gYWxsb3cgdGhvc2Ugd2l0aCBzYXkgYmV0dGVyIHN0b3J5IGJ1dCBub3QgZ29vZCB3b3JsZCBidWlsZGluZyB0byB1c2UgYSBwcmUtZXhpc3Rpbmcgd29ybGQgbWFkZSBieSBzb21lb25lIGVsc2UuXG4gICAgICAtIFRoZXNlIHdvcmxkcyBjYW4gYmUgZGlzdHJpYnV0ZWQgYXMgYmFycmVuIG9yIGFzIHBvcHVsYXRlZCBhcyB0aGUgKndvcmxkIGNyZWF0b3IqIHBsZWFzZXMuICBTbyBpZiBzb21lb25lIGlzIG1lcmVseSBqdXN0IGxvb2tpbmcgZm9yIGEgd29ybGQgd2l0aCBjb21wYW5pZXMgdGhhdCBzYXkgbWlycm9yIHRoZSByZWFsLXdvcmxkIGFzIGEgYmFzaXMgZm9yIHRoZWlyIHN0b3J5LCBjYW4gZWFzaWx5IGRvIHRoYXQuXG4gICAgLSBJdCBjYW4gYWxzbyBhbGxvdyBmb3IgYmV0dGVyIGxheWVyaW5nLCBhcyBub3cgcGxheWVycyBkb24ndCBuZWVkIHRvIGRvd25sb2FkIGFzIG11Y2ggZGF0YSBpZiB0aGV5IGFscmVhZHkgaGF2ZSB0aGF0IHNwZWNpZmljIG5lZWRlZCB3b3JsZCBhbHJlYWR5IGluc3RhbGxlZC5cbiAgKiBUaGVyZSB3aWxsIGV4aXN0IGEgc2VwZXJhdGUgKkdhbWUgUGxheWVyKiB3aXRoIG5vIGFiaWxpdHkgdG8gY3JlYXRlIHdvcmxkcyBvciBzY2VuYXJpb3MuXG4gICAgLSBUaGlzIGNhbiBhbGxvdyB0aG9zZSB3aG9tIGFyZSBzb2xlbHkgd2FudGluZyB0byB1c2UgdGhlIGVuZ2luZSB0byBidWlsZCB0aGVpciBvd24gaGFja2luZyBzaW11bGF0aW9ucyB3aXRoIHRoZSBhYmlsaXR5IHRvIGVhc2lseSBzaG93IGZyaWVuZHMgYW5kIGZhbWlseSB3aGF0IHRoZXkgY3JlYXRlZCB3aXRob3V0IG5lZWRpbmcgdG8gcHJvdmlkZSB0aGUgZnVsbC1nYW1lIHRvIHRoZW0uXG4gICogV2lsbCBiZSBleHRyZW1lbHkgbW9kZGFibGUgYW5kIGN1c3RvbWl6YWJsZS5cbiAgICAtIFRoZSBnYW1lIGl0c2VsZiB3aWxsIGhvbGQgYSBkYXRhYmFzZSBvZiBhbGwgdGhlIGF2YWlsYWJsZSAqaW4tZ2FtZSBwcm9ncmFtcyogd2hpY2ggY2FuIGJlIHBsYWNlZCBvbnRvIGFueSBvZiB0aGUgY3JlYXRlZCBzeXN0ZW1zLiAgVGhpcyBkYXRhYmFzZSBjYW4gYmUgdXBkYXRlZCBieSB0aGUgcGxheWVyIHRvIGFkZCBhZGRpdGlvbmFsIHByb2dyYW1zIGZvciB1c2Ugd2l0aGluIHRoZWlyIG93biBjcmVhdGVkIGdhbWUgd29ybGRzLlxuICAgIC0gSW4gYWRkaXRpb24gdG8gY3JlYXRpbmcgY3VzdG9tICpNT1MgNjUwMiogcHJvZ3JhbXMgZm9yIHRoZWlyIG93biBzY2VuYXJpb3MsIEkgYW0gaGlnaGx5IGNvbnNpZGVyaW5nIGFkZGluZyBzdXBwb3J0IGZvciBleHRlcm5hbCBtb2RzIGluIHRoZSBmb3JtIG9mIHNoYXJlZCBsaWJyYXJpZXMsICouc28qIGZvciBVTklYLCBhbmQgKi5kbGwqIGZvciBXaW5kb3dzLiAgVGhlIG1ham9yIHByb2JsZW0gd2l0aCB0aGlzLCBpcyB0aGF0IGl0IGh1cnRzIHRoZSBnYW1lJ3MgY3Jvc3MtcGxhdGZvcm0gZWRnZSwgYXMgbm93IGEgcGxheWVyIHRoYXQgd2FudHMgdG8gbWFrZSB0aGVpciBnYW1lIGFuZCB0aGVpciBtb2QgYXZhaWxhYmxlIHRvIGV2ZXJ5b25lLCBub3cgaGFzIHRvIGNyb3NzLWNvbXBpbGUgdGhlaXIgc2hhcmVkIGxpYnJhcnkgZm9yIGFsbCBzdXBwb3J0ZWQgcGxhdGZvcm1zLiAgSSBhbSBzdGlsbCBvbiB0aGUgZmVuY2Ugd2l0aCB0aGlzIGZlYXR1cmUuICBUaGUgbWFpbiBpZGVhIHdpdGggdGhpcyBpcyB0byBhbGxvdyBjdXN0b20gKmNhcmRzKiB0byBiZSBjcmVhdGVkIGJ5IHRoZSBwbGF5ZXJzIHRvIGRvIGFsbCBzb3J0cyBvZiB0aGluZ3Mgd2hpY2ggdGhlIGdhbWUgbmV2ZXIgb3JpZ2luYWxseSBpbnRlbmRlZC4gIEl0IGNvdWxkIGFsbG93IGluLWdhbWUgc3lzdGVtcyB0byBzYXkgY29udHJvbCByZWFsLXdvcmxkIGNvbXBvbmVudHMgbGlrZSBhbiBMRUQgb24gYSBQaSBmb3IgZXhhbXBsZS4gIE9yIHNvbWVvbmUgY291bGQgY3JlYXRlIGEgdmlydHVhbCAqWi04MCogY2FyZCBsaWtlIHNvbWUgb2YgdGhlICo2NTAyKiBtaWNyb2NvbXB1dGVycyBoYWQgaW4gdGhlIDgwcy5cblxuIyMjIFRoZSBpbi1nYW1lIHN5c3RlbXNcblxuT25lIHRoaW5nIEkgc2hvdWxkIGdvIG92ZXIgaXMgdGhlIGN1cnJlbnQgZmVhdHVyZSBzZXQgZm9yIGluLWdhbWUgc3lzdGVtcywgd2hpY2ggaXMgY3VycmVudGx5IGJlaW5nIGV4cGxvcmVkIGFuZCBkZXZlbG9wZWQgZHVyaW5nIHRoZSBwcm90b3R5cGUgc3RhZ2UgSSBhbSBjdXJyZW50IGluLlxuXG5TbywgZWFjaCBzeXN0ZW0gd2lsbCBoYXZlIHRoZSBmb2xsb3dpbmcgaGFyZHdhcmU6XG5cbiAgKiBBICpNT1MgNjUwMiogbWljcm9wcm9jZXNzb3Igd2l0aCBhIHdob3BwaW5nICo2NGsqIG9mIFJBTS5cbiAgKiBWaXJ0dWFsIFJPTSBjaGlwcyBhcmUgbWVtb3J5IG1hcHBlZCB0byB0aGUgYWJvdmUgbWVtb3J5IHVwb24gc3lzdGVtIGJvb3QuXG4gICogU3RvcmFnZSBpcyBzdGlsbCB1bmRlY2lkZWQuXG4gICAgLSBDdXJyZW50IHByb3RvdHlwZSB1c2VzIGEgKnN0YXRpYyBSQU0qIGFwcHJvYWNoLlxuICAqIFRoZXJlIGNhbiBvbmx5IGJlIGEgc2luZ2xlIGRldmljZSBjb25uZWN0ZWQgZGlyZWN0bHkgdG8gdGhlIENQVS5cbiAgICAtIEhvd2V2ZXIsIHRoZXJlIGlzIG5vdGhpbmcgc2F5aW5nIHRoYXQgdGhpcyBzaW5nbGUgZGV2aWNlIGlzbid0IGEgaHViIG9yIGJyaWRnZSB0byBhbGxvdyB0aGUgY29ubmVjdGlvbiBvZiBtb3JlIGRldmljZXMuXG4gICAgLSBBIERldmljZSBIdWIgYWxyZWFkeSBleGlzdHMgaW4gdGhlIHByb3RvdHlwZS5cbiAgKiBBIGJhc2ljIGNhcmRzbG90LWJ1cyBzaW1pbGFyIHRvIGhvdyBpdCB3b3JrcyBpbiB0aGUgKkFwcGxlIF1bKiBmYW1pbHkgb2YgY29tcHV0ZXJzLlxuICAgIC0gVGhlIGNhcmRzbG90IGJ1cyBpcyBlaXRoZXIgZGlyZWN0bHkgY29ubmVjdGVkIHRvIHRoZSBzaW5nbGUgZGV2aWNlIG9mIHRoZSBDUFUgb3IgdGhyb3VnaCBhIERldmljZSBIdWIuXG4gICAgLSBNdWx0aXBsZSBjYXJkcyBmb3IgdGhpcyBidXMgYWxyZWFkeSBleGlzdCwgYW5kIGl0IGNhbiBzdXBwb3J0IHVwIHRvIDggY2FyZHMgY29ubmVjdGVkIHRvIGl0LlxuICAgIC0gQ3VycmVudCBjYXJkcyBhcmUgKipUZXJtaW5hbCBDYXJkKiosICoqU2VnbWVudCBEaXNwbGF5IENhcmQqKiwgKipTZXJpYWwgQ2FyZCoqLCBhbmQgYSAqKk5ldHdvcmsgQ2FyZCoqLiAgTW9yZSBjYXJkcyB3aWxsIGJlIGNyZWF0ZWQuXG4gICAgLSBUaGUgY2FyZHMgYXJlIGN1cnJlbnRseSBpdGVyYXRlZCBpbiB0aGUgUk9NIHRvIGRldGVybWluZSB3aGljaCBjYXJkcyBhcmUgaW5zdGFsbGVkIGFuZCBpbiB3aGljaCBzbG90cy5cbiAgICAtIEVhY2ggY2FyZCBoYXMgYSBzaW5nbGUgYnl0ZSB0byBzdG9yZSBpdCdzICpDYXJkIFR5cGUqIGluZm9ybWF0aW9uIHdoaWNoIGNhbiB0aGVuIGJlIHBhcnNlZCBieSBhIFJPTSBvciBrZXJuZWwgdG8gbG9hZCBkcml2ZXJzLlxuICAqIFRoZXJlIGFsc28gZXhpc3RzIGFuICpFR0EtY29tcGF0aWJsZSogdGV4dCBmcmFtZWJ1ZmZlciB3aGljaCBjYW4gYmUgdXBkYXRlZCBpbiBtZW1vcnkgaW4gdGhlIHNhbWUgd2F5IGEgcmVhbCBvbmUgaXMuXG4gICAgLSBDdXJyZW50bHkgaXQgaXMgYW4gZXhhY3QgY29weSBvZiB0aGUgRUdBIHRleHQgbWVtb3J5IGZyb20geDg2IHBsYXRmb3JtIHdoaWNoIGJlZ2lucyB0aGVyZSBhdCBhZGRyZXNzICoqMHhCODAwKiosIGFuZCBpcyBibG9hZC9ic2F2ZSBjb21wYXRpYmxlIGFzIGEgcmVzdWx0LlxuICAgIC0gVGhpcyBtYXkgY2hhbmdlIHRvIGluc3RlYWQgYmVpbmcgYSB0b3RhbCBvZiAqNGsqIG5lZWRlZCBmb3IgdGhpcyB2aWRlbyBtZW1vcnkgdG8gb25seSAqMmsqIGluc3RlYWQgdG8gcHJvdmlkZSBhIG1vbm9jaHJvbWUgZGlzcGxheSB3aXRoIG5vIHNwZWNpYWwgYXR0cmlidXRlcy5cbiAgKiBEdXJpbmcgZ2FtZXBsYXksIHRoZSBwbGF5ZXIgd2lsbCBiZS1hYmxlIHRvIHVwZ3JhZGUgdGhlaXIgb3duIGBsb2NhbGhvc3RgIFBDIHdpdGggZGlmZmVyZW50IGhhcmR3YXJlLlxuICAqIER1cmluZyB0aGUgd29ybGQgYnVpbGRpbmcsIHN5c3RlbXMgY2FuIGJlIGZ1bGx5IGN1c3RvbWl6ZWQgd2l0aCBkaWZmZXJlbnQgaGFyZHdhcmUgY29uZmlndXJhdGlvbnMuXG4iIH0sIHsgIklEIiA6IDU0LCAiUEFUSCIgOiAiL0ZhaWx1cmVzIiwgIlRJVExFIiA6ICJQZXJzb25hbCBGYWlsdXJlcyIsICJDUkVBVEVEIiA6ICIyMDI0LTAyLTI1VDIxOjMxOjUwLjMzM1oiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDItMjVUMjI6NDU6MDkuOTE3WiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiTm90IGV2ZXJ5dGhpbmcgaW4gbGlmZSBpcyBnb2luZyB0byBiZSBhIHJ1bmF3YXkgc3VjY2VzcywgaWYgaXQgd2VyZSwgdGhlbiBldmVyeW9uZSBpbiB0aGlzIHdvcmxkIHdvdWxkIGJlIHN1Y2Nlc3NmdWwgYW5kIHJpY2guICBIZXJlIGlzIGEgbGlzdCBvZiBteSBtYW55IGF0dGVtcHRzIGF0IGJlaW5nIG5vdGljZWQgdGhyb3VnaCBhIHByb2plY3Qgb2YgbWluZSwgYnV0IHVuZm9ydHVuYXRlbHkgaXQgZW5kZWQgdXAganVzdCBiZWluZyBhIGZhaWx1cmUuICBCdWNrbGUgdXAgZm9yIHRoZSBtb3N0IGRlcHJlc3NpbmcgYXJ0aWNsZSBvbiB0aGlzIHdlYnNpdGUuLi5cblxuIyMjIENocm9ub2JveSBBZHZlbnR1cmVzXG5cbkEgSlJQRy1saWtlIGdhbWUsIGJ1aWx0IGluIGEgSlJQRyBjZW50cmljIGVuZ2luZSwgYm9ycm93aW5nIHNvbWUgY29uY2VwdHMgZnJvbSB3ZXN0ZXJuIGdhbWVzIHdpdGggbXkgb3duIGZsYWlyLiAgVGhpcyB3YXMgYW4gUlBHIHByb2plY3QgSSB3YXMgd29ya2luZyBvbiBpbiBteSBsYXRlIDIwcywgYW5kIGhhcyBiZWVuIGdvbmUgYWJhbmRvbmVkIGFmdGVyIHRoZSBjcml0aWNhbCByZXZpZXdzIGZyb20gdGhlIGdhbWUgZGV2ZWxvcG1lbnQgY29tbXVuaXR5IEkgd2FzIGEgcGFydCBvZiBvbmx5IHByb3ZpZGVkIGZlZWRiYWNrIG9uIHRoZSB2aXN1YWxzIGFuZCBncmFwaGljcyBvZiB3aGF0IEkgd2FzIHRyeWluZyB0byBjcmVhdGUsIHJhdGhlciB0aGFuIHRoZSBzdG9yeSwgY29uY2VwdCwgYW5kIGNvbnRlbnQuICBBIGdyZWF0IGV4YW1wbGUgb24gaG93IG1vc3QgcGVvcGxlIGRvIHNlZW0gdG8gcHJlZmVyIGxvb2tzIG92ZXIgZnVuY3Rpb24uICBBbnl3YXlzLi4uXG5cbkkgYnVpbHQgdGhlIGdhbWUgaW4gYSB2ZXJ5IHVuaXF1ZSB3YXksIHRoZSBpbnRyb2R1Y3Rpb24gc2VxdWVuY2Ugb2YgdGhlIGdhbWUgd2FzIGVudGlyZWx5IGNyZWF0ZWQgdXNpbmcgZ3JhcGhpYyB0aWxlcyB3aGljaCBJIHBlcnNvbmFsbHkgaGFuZCBkcmV3LCBhZnRlciByZWFsaXppbmcgdGhhdCBJIGFtIG5vdCB0aGF0IGdyZWF0IGF0IGRyYXdpbmcsIEkgZGVjaWRlZCB0byBjb3B5IGEgc2V0IG9mIGdyYXBoaWNzIGZyb20gb25lIG9mIG15IGZhdm91cml0ZSBnYW1lcywgKlVsdGltYSBWSSouICBJdCB0b29rIG1lIHNldmVyYWwgZGF5cyB0byBleHRyYWN0IHRoZSBncmFwaGljcyBhbmQgbWFrZSB0aGVtIGZpdCB0byBhIGNvbXBsZXRlbHkgZGlmZmVyZW50IHRpbGUgc2l6ZSwgYWxsIHRoZSB3aGlsZSBtYWtpbmcgc3VyZSBpdCBkaWRuJ3QgbG9vayB0b28gb2ZmLiAgVGhlIHJlc3VsdCBpc24ndCBhbiBleGFjdCByZXBsaWNhIG9mIHRoZSBzb3VyY2UgbWF0ZXJpYWwsIGJ1dCBhIG1peC4gIEkgZGlkIHNvbWUgb2YgbXkgb3duIHRpbGVzIHdoaWNoIHdlcmUgbmVlZGVkIGZvciB0aGUgZ2FtZSBpbiB0aGF0IHN0eWxlIG15c2VsZiwgc3VjaCBhcyB3aGF0IEkgY2FsbGVkIGluIGdhbWUgYXMgdGhlICpXYXRlciBHYXRlcyosIGEgY29uY2VwdCBzaW1pbGFyIHRvICpNb29uZ2F0ZXMqIGluIFVsdGltYS4gIFRoZSBnYXRlcyB3ZXJlIHN1cHBvc2UgdG8gYWxsb3cgdGhlIHBsYXllciB0byB1bmRlcnN0YW5kIGhvdyBzdWNoIGEgcG9ydGFsIHdvdWxkIGZlZWwgd2hlbiBvbmUncyBib2R5IG1pZ2h0IGdvIHRocm91Z2ggb25lLCBsaWtlIGdvaW5nIHRocm91Z2ggYSB3YWxsIG9mIHN0YW5kaW5nIHdhdGVyLlxuXG5UaGUgZ2FtZSBzdGFydHMgb2ZmIGluIHRoZSBtYWluIGNoYXJhY3RlcidzIGhvbWUgd29ybGQsIHdoaWNoIG1heSBvciBtYXkgbm90IGJlIGVhcnRoLCB0aGF0IGlzIG5ldmVyIG1lbnRpb25lZCBpbi1nYW1lLCBhbmQgaXMgbWVhbnQgZm9yIHRoZSBwbGF5ZXIgdG8gZGlzY2VybiB0aGVtc2VsdmVzLiAgSXQgYmVnaW5zIHdpdGggYSBtZXRlb3IgZmFsbGluZyB0byB0aGUgcGxhbmV0IHdoaWNoIHRoZSBvcGVuaW5nIGN1dCBzY2VuZSBJIGNyZWF0ZWQgY2xlYXJseSBjb252ZXlzLiAgSSBtYWRlIGl0IHNvbWV3aGF0IHNpbWlsYXIgdG8gdGhlIG9wZW5pbmcgb2YgKkVhcnRoYm91bmQqIGluIGEgd2F5LCBidXQgeW91IGNhbiBhY3R1YWxseSBzZWUgaXQgZmFsbGluZyBhbmQgdGhlIGFmdGVyIG1hdGggYSBiaXQgbW9yZSBicm9hZGx5LiAgSW4gdGhlIGdhbWUsIHRoZSBwbGF5ZXIgaXMgYXdha2VuZWQgYnkgaGlzIGZyaWVuZCBvbiB0aGUgcGhvbmUsIHdoaWNoIHRoZSBnYW1lIGRldiBjb21tdW5pdHkgYWxzbyBjcml0aXplZCBhcyBub3QgYmVpbmcgd3JpdHRlbiBwcm9wZXJseSB0byBzb3VuZCBsaWtlIGEgcmVhbCBwZXJzb24uICBUaGUgbW9zdCB3ZWlyZGVzdCBwYXJ0IGFib3V0IHRoaXMgb25lIGlzIHRoYXQgdGhlIGNoYXJhY3RlciB3aG9tIGNhbGxzIHRoZSBwbGF5ZXIgb24gdGhlIHBob25lIHdhcyBteSB0aGVuIHJlYWwtd29ybGQgZnJpZW5kICpKYXNvbiogYW5kIHRoYXQgaXMgZXhhY3RseSBob3cgaGUgc3BlYWtzIHRvIG1lIGFsbCB0aGUgdGltZSwgYW5kIEkganVzdCBjb3BpZWQgaGlzIGV4YWN0IHRvbmUgb2Ygdm9pY2UgZm9yIHRoZSBnYW1lLiAgVGhpcyBpcyB3aHkgSSBmb3VuZCB3aGF0IHRoZSBjb21tdW5pdHkgc2FpZCBiZWluZyBtb3JlIGZyb20gc29tZXdoZXJlIGVsc2UgdGhhbiBhY3R1YWxseSBjYXJpbmcgYWJvdXQgbWUgaW1wcm92aW5nIG9yIGFueXRoaW5nIGVsc2Ugb2YgbXkgZ2FtZS4gIEFueXdheXMuLi4gIFRoZSBwbGF5ZXIgdGhlbiBnb2VzIG91dCB0byBleHBsb3JlIHRoaXMgbWV0ZW9yLCBldmVudHVhbGx5IGZpbmRpbmcgdGhlbXNlbGYgYXQgdGhlIHNpdGUgd2hlcmUgaXQgaGl0LiAgSW5zaWRlIHRoZSBob2xlIGl0IGxlZnQgdGhlIHBsYXllciBmaW5kcyBhIGhhcnAsIGFuZCB1cG9uIHBsYXlpbmcgaXQsIGEgKldhdGVyIEdhdGUqIGFwcGVhcnMgYmVmb3JlIHRoZW0uICBJIGRvIGFncmVlIGluIHJldHJvc3BlY3QgdGhhdCB0aGlzIHN0b3J5IGVsZW1lbnQgbWlnaHQgYmUgYSBiaXQgb2ZmLCBidXQgbm9ib2R5IG1lbnRpb25lZCB0aGlzIHBhcnQgb2RkbHkuICBJIGRpZCB0aGlzIGFzIEkgd2FudGVkIHRoZSBwbGF5ZXIgdG8gZmluZCB0aGUgaW4tZ2FtZSBwbGF5YWJsZSBpbnN0cnVtZW50IGFuZCBiZS1hYmxlIHRvIHVzZSBpdCBhcyBzb29uIGFzIHBvc3NpYmxlLiAgVGhlIGdhbWUgaGFkIGEgZnVsbHkgaW50ZXJhY3RpdmUgaGFycCwgbXVjaCBsaWtlIGhvdyAqT2NhcmluYSBvZiBUaW1lKiBoYWQgYSBmdWxseSBpbnRlcmFjdGFibGUgb2NhcmluYS4gIFRoZXJlIHdlcmUgNCBkaWZmZXJlbnQgbm90ZXMgdGhlIHBsYXllciBjb3VsZCBwbGF5LCBhbmQgSSBjcmVhdGVkIHNldmVyYWwgYmFzaWMgc29uZ3MgZm9yIHRoZSBnYW1lIHdoaWNoIHdvdWxkIHBlcmZvcm0gdmFyaW91cyBhY3Rpb25zIGRlcGVuZGluZyBvbiB3aGVyZSB0aGUgcGxheWVyIHdhcywgYW5kIHRoZSB0aW1lIG9mIGRheS4gIE9uY2UgdGhlIHBsYXllciBlbnRlcnMgdGhpcyBwb3J0YWwsIHRoZXkgYXJlIHNlbnQgb2ZmIHRvIGEgZmFyIGF3YXkgd29ybGQsIGFuZCB0aGlzIGlzIHdoZXJlIGFsbCB0aGUgaW4tZ2FtZSBncmFwaGljcyB0YWtlIGEgaHVnZSBjaGFuZ2UgdG8gbm93IHJlc2VtYmxlIHRoYXQgb2YgKlVsdGltYSBWSSouICBBdCBvbmUgcG9pbnQgSSB3YXMgZ29pbmcgdG8gc3dhcCBhbGwgdGhlc2UgbGlmdGVkIHRpbGVzIGZvciBub24tY29weXJpZ2h0ZWQgb25lcy4gIEkgdGhvdWdodCBkdXJpbmcgZGV2ZWxvcG1lbnQgYW5kIHRvIGp1c3QgZ2V0IHRoZSBzdG9yeSBhbmQgZ2FtZSBtZWNoYW5pY3MgZ29pbmcsIEkganVzdCBuZWVkZWQgc29tZXRoaW5nLCBhbmQgc28gYSBmZXcgZGF5cyBvZiBjb3B5aW5nIGFuZCBJIGhhZCBhIGJhc2ljIHRpbGVzZXQgdG8gZ2V0IG15c2VsZiBzdGFydGVkLlxuXG5JbiB0aGlzIG90aGVyIHdvcmxkLCB0aGUgcGxheWVyIGNhbiBleHBsb3JlIGFuZCBjaGFuZ2UgdGhlIGV2ZW50cyB0aHJvdWdob3V0IGJhc2VkIG9uIHZhcmlvdXMgY2hvaWNlcyB0aGV5IG1hZGUgdGhyb3VnaCB0aGVpciBqb3VybmV5LiAgSSBoYWQgYSBzcHJlYWRzaGVldCBvZiB0aGUgbWFwIGNyZWF0ZWQsIGFsb25nIHdpdGggaG93IHRoZSB2YXJpb3VzIGNob2ljZXMgdGhlIHBsYXllciBtYWRlIGNoYW5nZWQgdGhlIHdvcmxkIGFyb3VuZCB0aGVtLiAgU2luY2UgdGhlIHBsYXllciBpcyBub3Qgb2YgdGhpcyB3b3JsZCwgYW5kIGRvZXMgbm90IGtub3cgdGhlIHBlb3BsZSBub3IgdGhlIGN1c3RvbXMsIGl0IGFsbG93cyB0aGUgcGxheWVyIHRvIG1ha2UgYW55IG1vcmFsIGNob2ljZXMgYmFzZWQgb24gd2hhdCB0aGUgcGxheWVyIHRoaW5rcyBpcyB0aGUgcmlnaHQgdGhpbmcgdG8gZG8sIG5vdCB3aGF0IHRoaXMgd29ybGQgYmVsaWV2ZXMgaXMgdGhlIHJpZ2h0IHRoaW5nIHRvIGRvLiAgSW4gdGhlIGZpcnN0IHBhcnQgb2YgdGhlIGdhbWUsIHRoZSBmaXJzdCBjaG9pY2UgdGhlIHBsYXllciBzZWVzLCB3aGljaCBpcyBvcmdhbmljYWxseSBjaG9vc2VuIGJhc2VkIG9uIHRoZSBhY3Rpb25zIG9mIHRoZSBwbGF5ZXIsIHJhdGhlciB0aGFuIGEgdGV4dCBib3ggcG9wcGluZyB1cCBhc2tpbmcgdGhlIHBsYXllciB3aGF0IHRoZXkgd2FudCB0byBkby4gIFRoZSBzY2VuZSBwbGF5cyBvdXQgbGlrZSB0aGlzIGFzIEkgcmVjYWxsOiAgUGxheWVyIHZpc2l0cyBhIG5lYXJieSBjYXZlIHdoZXJlIGEgYnVuY2ggb2YgcmViZWxzIG9mIHRoZSBsYW5kIGFyZSBzaXR1YXRlZCwgdGhlIHBsYXllciBlbnRlcnMgdGhlIGNhdmUgYW5kIGF0IGEgY2VydGFpbiBwb2ludCwgdGhlIHBsYXllciBjYW4gZWFzZWRyb3Agb24gdGhpcyBncm91cCBvZiBwZW9wbGUgdG8gaGVhciB0aGVpciBzdG9yeS4gIEFmdGVyIHRoaXMgc2NlbmUgcGxheXMgb3V0LCB0aGUgcGxheWVyIGNhbiBlaXRoZXIgZW1lcmdlIGZyb20gdGhlIHNoYWRvd3MgYW5kIG9mZmVyIHRoZWlyIGFzc2lzdGFuY2UsIG9yIGZsZWUgYmFjayB0byB0aGUgdmlsbGFnZSB0byB0ZWxsIHRoZSBsZWFkZXIsIG9mIHdoaWNoIEkgbmFtZWQgdGhlICpHdWFyZGlhbnMqIGluIHRoaXMgZ2FtZS4gIEluIG1vc3QgY2FzZXMsIG1vc3QgcGxheWVycyBtYXkgbm90IGV2ZW4ga25vdyB0aGV5IGFyZSBtYWtpbmcgYSBjaG9pY2UgdGhhdCB3aWxsIGVmZmVjdCB0aGUgd29ybGQgYXJvdW5kIHRoZW0sIGJ1dCBpc24ndCB0aGF0IGhvdyByZWFsLWxpZmUgY2hvaWNlIGFyZSBtYWRlPyAgSW4gcmVhbC1saWZlLCB3ZSBhcmVuJ3QganVzdCBnaXZlbiB0aGUgbGl0ZXJhbCBjaG9pY2UgbGlrZSBpbiBtb3N0IGdhbWVzIHdoaWNoIHByb3ZpZGUgdGhlc2UgdHlwZSBvZiB3b3JsZCBjaGFuZ2luZyBjaG9pY2VzLCBpbnN0ZWFkLCB3ZSBqdXN0IGFjdCwgdGhlbiB3ZSBzZWUgdGhlIG91dGNvbWUgb2Ygb3VyIGFjdGlvbnMgYXJvdW5kIHVzIGluIHRoZSB3b3JsZC4gIFRoaXMgaXMgaG93IEkgd2FzIGNyZWF0aW5nIHRoaXMgZ2FtZS4gIEl0IHdvdWxkIGFsbG93IGZvciBhIGxvdCBvZiBwbGF5ZXIgZXhwbG9yYXRpb24gb25jZSBwbGF5ZXJzIGJlY29tZSBhd2FyZSBvZiB3aGF0IGlzIGdvaW5nIG9uLiAgT25jZSBvbmUgcGxheWVyIHNheXMsIFwiQnV0IHRoaXMgaGFwcGVuZWQgdG8gbWUsIG5vdCB3aGF0IHlvdSBzYWlkP1wiIHdpbGwgZ2V0IHBlb3BsZSBpbnRlcmVzdGVkIG9uIHRyeWluZyBvdGhlciBjb25jZXB0cyBhbmQgY2hvaWNlcyBvdXQgaW4gdGhlIGdhbWUgdG8gc2VlIGl0J3Mgb3V0Y29tZS4gIFRoZXJlIHdlcmUgZ29pbmcgdG8gYmUgYSBsb3Qgb2YgdmFyaWFibGVzIHRvIGRyaXZlIHRoZSBlbnRpcmUgc3RvcnkgYmFzZWQgb24gcGxheWVyIGFjdGlvbi4gIEkgd2FzIGFpbWluZyBhdCBjcmVhdGluZyBhIGxpdmluZywgYnJlYXRoaW5nIHdvcmxkIHdoaWNoIHdvdWxkIGhhdmUgbWFueSBkcmFzdGljIGNoYW5nZXMgbWFueSBnYW1lcyB0aGVzZSBkYXlzIGRvbid0IGV2ZW4gdHJ5LiAgQW5vdGhlciBleGFtcGxlIGlzIGluIHRoZSBmb2xsb3dpbmcgY2l0eSB0aGUgcGxheWVyIHZpc2l0cy4gIE9uIHRoZSBpbnNpZGUgb2YgdGhlIGNpdHkgd2FsbHMsIGxpdmVzIHRoZSB3ZWF0aHkgYW5kIGVsaXRlLiAgT24gdGhlIG91dHNpZGUgb2YgdGhlIGNpdHkgd2FsbHMsIGxpdmVzIHRoZSBwb29yIGFuZCBpbXBvdmVyaXNoZWQuICBUaGUgcGxheWVyIHdvdWxkIGhhdmUgdGhlIGFiaWxpdHkgdG8gY2hhbmdlIHRoZSBvdXRjb21lIG9mIGJvdGggb2YgdGhlc2UgcGVvcGxlIHRvIGFsbG93IGVhY2ggb2YgdGhlbSB0byBzZWUgd2hlcmUgdGhleSBtaWdodCBoYXZlIHdlbnQgd3JvbmcgdG8gY3JlYXRlIHN1Y2ggYSBsb2Itc2lkZWQgc29jaWV0eSB0aGV5IGN1cnJlbnRseSBsaXZlIGluLiAgQWxsIHRoZXNlIHN0b3JpZXMgd2VyZSBiZWluZyB3cml0dGVuIGJ5IG1lIGluIG15IGxhdGUgMjBzIGFyb3VuZCAyMDA4aXNoIHdoZW4gdGhlIG1haW4gY2hvaWNlLWJhc2VkIGdhbWVzIG9mIHRoZSBlcmEgd2VyZSB0aGUgKkZhYmxlIHNlcmllcyogd2hpY2ggd2FzIHN0aWxsIGluY3JlZGlibHkgcG9wdWxhciBhdCB0aGUgdGltZS4gIEkgZGlkIGxpa2UgdGhlIGNvbmNlcHQgb2YgdGhhdCBnYW1lIHdoZXJlIHBsYXllciBhY3Rpb25zIGNhbiByZWFsbHkgY2hhbmdlIHRoZSB3b3JsZCBhcm91bmQgdGhlbS5cblxuSWYgeW91IGRpZCB3YW50IHRvIHNlZSB3aGF0IEkgZGlkIGNyZWF0ZSBiYWNrIHRoZW4sIEkgd2lsbCBub3QgYmUgcHJvdmlkaW5nIGEgZG93bmxvYWQgaGVyZSwgYnV0IGlmIHlvdSBzZWFyY2ggb25saW5lLCB0aGVyZSBzaG91bGQgYmUgYSBsaW5rIHNvbWV3aGVyZSB3aGVyZSB5b3UgY2FuIHN0aWxsIGRvd25sb2FkIGl0IGFuZCBjaGVjayBpdCBvdXQgZm9yIHlvdXJzZWxmLlxuXG4jIyMgQmFjayB0byBCYXNpY3M6IFNhdmUgdGhlIFByaW5jZXNzXG5cblRoaXMgZ2FtZSB3YXMgZXNzZW50aWFsbHkgYW4gYW5zd2VyIHRvIHRoZSBub24tZmVlZGJhY2sgZnJvbSB0aGUgcHJldmlvdXMgZ2FtZSwgKkNocm9ub2JveSBBZHZlbnR1cmVzKi4gIFRoZSBhYm92ZSBnYW1lIG1hZGUgaGVhdnkgdXNlIG9mIHdoYXQgdGhlIGVuZ2luZSBjYWxsZWQgKlBsb3RTY3JpcHRpbmcqLCBhbmQgSSBzcGVudCBhIGxvdCBvZiB0aW1lIHdvcmtpbmcgb24gdGhhdCwgaW4gb3JkZXIgdG8gbWFrZSBhbGwgdGhlIHBsYXllciBjaG9pY2Ugd29yayBjb3JyZWN0bHkgYW5kIHRvIG1vcnBoIHRoZSB3b3JsZCwgZXZlcnkgYXJlYSB3YXMgbW9zdGx5IGF1dG8tZ2VuZXJhdGVkIHdoZW4gdGhlIHBsYXllciBlbnRlcmVkIGl0LiAgSSBvbmx5IHVzZWQgdGhlIG1hcCBlZGl0b3IgdG8gcGxhY2UgdGhlIG1haW4gc2NlbmVzLCBidXQgSSBuZXZlciBwbGFjZWQgTlBDcyBvciBldmVudHMsIHRob3NlIHdlcmUgYWxsIGhhbmRsZWQgaW4gKlBsb3RTY3JpcHQqLiAgV2VsbCwgdGhpcyBnYW1lIHdhcyB0aGUgcG9sYXIgb3Bwb3NpdGUsIGl0IGRpZCBub3QgdXNlIGFueSAqUGxvdFNjcmlwdCogYW5kIG9ubHkgdXNlZCB3aGF0IHRoZSBlbmdpbmUgcHJvdmlkZWQsIGhlbmNlIHRoZSBuYW1lIG9mIHRoaXMgbmV3IHNlcmllcywgKkJhY2sgdG8gQmFzaWNzKiwgSSB3YXMgZ29pbmcgdG8gdGFrZSBtb3N0IG9mIHRoZSBKUlBHIGNsaWNoZXMsIHN1Y2ggYXMgc2F2aW5nIGEgcHJpbmNlc3MsIGFuZCBtYWtpbmcgYXdob2xlIGdhbWUgYXJvdW5kIGEgc2ltcGxlIHN0b3J5LCByYXRoZXIgdGhhbiBnb2luZyBhbGwgb3V0IGFzIEkgZGlkIHdpdGggKkNocm9ub2JveSBBZHZlbnR1cmVzKi4gIFRoZSByZXN1bHRzIHJlYWxseSBpbXByZXNzZWQgbWUgb3ZlcmFsbC5cblxuVGhpcyBnYW1lLCBkZXNwaXRlIGhhdmluZyBubyBjb2RpbmcsIGhhcyBhIGZ1bGx5IHdvcmtpbmcgcXVlc3Qgc3lzdGVtLCBhbG9uZyB3aXRoIGEgc2NyZWVuIGRldGFpbGluZyB0aGUgcXVlc3RzIHRoZSBwbGF5ZXIgYWdyZWVkIHRvIHRha2Ugb24sIGFsb25nIHdpdGggZWFjaCBvZiB0aGVpciByZXNwZWN0aXZlIHByb2dyZXNzZXMuICBPdGhlciB0aGFuIHRoYXQsIGl0IGRvZXNuJ3QgaGF2ZSB0b28gbXVjaCBlbHNlIHRvIG9mZmVyLiAgSSBkaWQgZW5qb3kgdGhlIHdvcmxkIGJ1aWxkaW5nIGFuZCBtYXAgYnVpbGRpbmcsIGFzIEkgZmlsbGVkIHRoZSB3b3JsZCBmdWxsIG9mIGludGVyZXN0aW5nIGNoYXJhY3RlcnMgYW5kIHF1ZXN0cyB0aGUgcGxheWVyIGNhbiB1bmRlcnRha2Ugd2hpbGUgc3RpbGwgaGF2aW5nIGFuIG92ZXJhcmNoaW5nIHF1ZXN0IG9mIHNhdmluZyB0aGUgcHJpbmNlc3MuICBUaGlzIHdhcyBidWlsdCBhIGJpdCBhZnRlciAqQ2hyb25vYm95IEFkdmVudHVyZXMqLCBhbmQgc3RpbGwgcmVtYWlucyB1bmZpbmlzaGVkLlxuXG4jIyMgSGFja2VyJ3MgRWRnZVxuXG5Zb3UgY2FuIGFjdHVhbGx5IHJlYWQgbW9yZSBhYm91dCB0aGlzIGZhaWx1cmUgb24gbXkgW0hhY2tlciBNYWtlcl0oIy9IYWNrZXJNYWtlcikgcGFnZSwgYWxvbmcgd2l0aCBpdCdzIHBvdGVudGlhbCByZXBsYWNlbWVudCBpZiBpdCBkb2Vzbid0IGFwcGVhciBoZXJlIG9uZSBkYXkuXG5cbiMjIyBVYXJpY2FcblxuQW4gaWRlYSBzaGFyaW5nIHdlYnNpdGUgc2ltaWxhciB0byAqR2l0KiB3aGVyZSBpZGVhcyBjYW4gbGl0ZXJhbGx5IGJlICpmb3JrZWQqIGludG8gYSBuZXcgaWRlYSBhbmQgYmUgZGlzY3Vzc2VkLiAgSSBidWlsdCB0aGlzIGJhY2sgaW4gMjAxNCwgYnV0IHNpbmNlIEkgbGFjayBhbnkgbWFya2V0aW5nIHNraWxscywgbm9ib2R5IGV2ZW4ga25ldyBpdCBleGlzdGVkLiAgSXQgd2FzIGVudGlyZWx5IGJ1aWx0IGluIFB5dGhvbiBhbmQgRGphbmdvLiAgSSBoYWQgaXQgZnVsbHkgb25saW5lIGFuZCBhdmFpbGFibGUgdG8gYW55b25lIHRvIHVzZSwgYnV0IEkgZmFpbGVkIHRvIGdldCBpdCBub3RpY2VkIGFuZCBub3cgaXQganVzdCBzaXRzIGFzIGEgcHJpdmF0ZSByZXBvIG9uIG15IGNsb3VkIHNlcnZlciwgZm9yZXZlciBmb3Jnb3R0ZW4uXG5cbiMjIyBEZWJpYW4gRGlhcnlcblxuQW4gb2ZmLXNob290IHNpdGUgdG8gbXkgdGhlbiBjdXJyZW50bHkgcG9wdWxhcmlzaCAqUHl0aG9uIERpYXJ5KiB3aGljaCB3b3VsZCBoYXZlIGFydGljbGVzIG9uIERlYmlhbiBhbmQgZ2VuZXJhbCBMaW51eCBBZG1pbmlzdHJhdGlvbiBhcnRpY2xlcy4gIEkganVzdCBkaWRuJ3QgcHV0IGluIGFzIG11Y2ggZWZmb3J0IGludG8gdGhpcyBzaXRlIGFzIEkgZGlkICpQeXRob24gRGlhcnkqLCBzbyBpdCBkaWVkIHNvbGV5IGJlY2F1c2Ugb2YgbXkgbGFjayBvZiBlZmZvcnQuXG4iIH0sIHsgIklEIiA6IDU1LCAiUEFUSCIgOiAiL092ZXJkb3NlcyIsICJUSVRMRSIgOiAiT3ZlcmRvZXMiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMi0yNVQyMjo0NTo0My40NzVaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAyLTI1VDIyOjUyOjQ2LjU5MloiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIlRoaXMgYXJ0aWNsZSBpc24ndCBsaW5rZWQgZnJvbSBhbnl3aGVyZSBvbiB0aGUgd2Vic2l0ZSBiZWNhdXNlIG9mIGl0J3MgcmF0aGVyIGRhcmsgY29udGVudC4gIEl0IGNhbiBob3dldmVyIGJlIHZpZXdlZCBpZiB0aGUgcGF0aCBpcyBwcm92aWRlZCBkaXJlY3RseSwgZXh0cmFjdGVkIGZyb20gdGhlIERhdGFiYXNlIEpTT04gbWFudWFsbHksIGV4dHJhY3RlZCBmcm9tIHRoZSBSQVcgZGF0YWJhc2UgZmlsZXMsIG9yIGlmIG15IFtEYXRhYmFzZSBBZG1pbl0oIy9BZG1pblRvb2wpIGlzIGFjdHVhbGx5IHVzZWQgYnkgc29tZW9uZSBvdGhlciB0aGFuIG15c2VsZiwgd2hpY2ggbm9ib2R5IHdpbGwgZXZlciB1c2UgaXQsIGxldCdzIGJlIHJlYWwgaGVyZS5cblxuT3ZlcmRvZXMgaW4gbXkgb3Bpb25pb24gaXMgd2hhdCBoYXBwZW5zIHdoZW4gc29tZW9uZSBiZWdpbnMgdG8gbm90aWNlIHRoYXQgdGhlIGRydWcgdGhleSBhcmUgY29uc3VtaW5nIGlzIG5vIGxvbmdlciB3b3JraW5nIGFzIGl0IHNob3VsZC4gIExldCBpdCBiZSBhIHN0cmVldCBkcnVnLCBvciBldmVuIGFuIGFudGktZGVwcmVzc2FudC4gIElmIHRoZSBkcnVnIHVzZXIgaXMgbm90IHJlbGlldmVkIG9mIHRoZWlyIGRlcHJlc3Npb24gb3IgdGhlIGRydWcgZG9lcyBub3QgbWFrZSB0aGVtIGZlZWwgYmV0dGVyLCBpdCB3b3VsZCBiZSBuYXR1cmFsIHRvIGFzc3VtZSB0aGF0IHRoZXkgbWlnaHQgdHJ5IHRha2luZyBzb21lIG1vcmUgaW4gYXR0ZW1wdHMgdG8gb2J0YWluIHRoZSBmZWVsaW5nIHRoZXkgc2Vlay4gIFRoaXMgbWFrZXMgbWUgYmVsaWV2ZSB0aGF0IGEgbG90IG9mIE92ZXJkb2VzIGFyZSBtb3N0IGxpa2VseSBub3QgYXR0ZW1wdGVkIHN1Y2lkZXMsIGJ1dCByYXRoZXIsIHRoZXkgcmVhbGx5IG5lZWRlZCBoZWxwLiAgSnVkeSBHYXJsYW5kIGFuZCBSb2JpbiBXaWxsaWFtcyBtb3N0IGxpa2VseSBkaWQgbm90IGF0dGVtcHQgc3VjaWRlLCBub3Igd2FudGVkIHRvIGRpZS4gIEl0IHdhcyBqdXN0IGFuIGhvbmVzdCBtaXN0YWtlIG9uIHRoZWlyIHBhcnQgd2hpY2ggbGVkIHRvIHRoZWlyIHVsdGltYXRlIGRlbWlzZS4gIEknbSBub3Qgc3VyZSBpZiB0aGlzIGlzIHRoZSB3YXkgbW9zdCBwZW9wbGUgdGhpbmsgb2YgT3ZlcmRvZXMsIG9yIGlmIGl0IGlzIGp1c3QgbWUuICBPdmVyZG9zZXMgYW5kIHN1Y2lkZSBhcmUgdmVyeSB0YWJib28gc3ViamVjdHMgaW4gb3VyIHNvY2lldHkgdGhhdCBtb3N0bHkgZXZlcnlvbmUgYXZvaWRzIHRhbGtpbmcgYWJvdXQgd2hhdHNvZXZlci4gIEFzIGEgcmVzdWx0LCBJIGRvIG5vdCBoYXZlIGFueSB3YXlzIHRvIHByb3Blcmx5IHJlZmxlY3Qgb24gdGhlc2Ugc3ViamVjdHMsIG90aGVyIHRoYW4gd2l0aCBteXNlbGYsIGxlYWRpbmcgdG8gYSBtb3N0bHkgdHVubmVsIHZpc2lvbiBsaWtlIGlkZWFsIG9mIGJvdGguXG4iIH0sIHsgIklEIiA6IDU2LCAiUEFUSCIgOiAiL1doeUlMb3ZlWCIsICJUSVRMRSIgOiAiV2h5IEkgbG92ZSB0aGUgWCBXaW5kb3cgU3lzdGVtIiwgIkNSRUFURUQiIDogIjIwMjQtMDMtMDdUMTE6MzY6MjIuMDczWiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMy0wN1QxOToyNzowMS43NTJaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJJbiB0aGUgbGFzdCBmZXcgeWVhcnMgYSBuZXcgZ3JhcGhpY2FsIHN5c3RlbSBoYXMgc3RhcnRlZCB0byBlbWVyZ2UgZm9yIHRoZSBMaW51eCBwbGF0Zm9ybSwgKldheWxhbmQqLiAgV2hpbGUgSSBjYW4gc2VlIHRoZSBiZW5lZml0cyBvZiB0aGlzIG5ldyBzeXN0ZW0sIEkgc3RpbGwgdmVyeSBtdWNoIGxvdmUgdGhlICoqbmV0d29yayB0cmFuc3BhcmVuY3kqKiBvZiB0aGUgKlggV2luZG93IFN5c3RlbSosIGhlcmUncyB3aGF0IHdlIHdpbGwgYWxsIGxvc2Ugb3V0IG9uLCBpZiBhIG5ldyBncmFwaGljYWwgc3lzdGVtIGRvZXMgbm90IGltcGxlbWVudCB0aGVtLlxuXG4jIyMgeDJ4IGFuZCB4MnZuY1xuXG5Cb3RoIG9mIHRoZXNlIGluY3JlZGlibHksIGJ1dCBtb3N0IGxpa2VseSwgbGVzc2VyIGtub3duIHByb2dyYW1zIGZvciBVTklYLWxpa2Ugc3lzdGVtcyBpcyBtb3N0IGxpa2VseSBpbmNvbXBhdGlibGUgd2l0aCAqV2F5bGFuZCouICBXaXRoIGB4MnhgLCBpdCBpcyBlbnRpcmVseSBwb3NzaWJsZSB0byBleHRlbmQgb25lcyBkZXNrdG9wIHdpdGhvdXQgbmVlZGluZyBhIHNlY29uZCBtb25pdG9yIG9uIHlvdXIgbWFpbiBtYWNoaW5lLCBhbmQgdGhpcyBpcyBieSB1c2luZyBhbiBleHRlcm5hbCAqWCBTZXJ2ZXIqLCBlaXRoZXIgcnVubmluZyBvbiBhIHNlY29uZGFyeSBsYXB0b3AsIG9yIG9uIGFuIEFuZHJvaWQgVGFibGV0LiAgV2l0aCBgeDJ2bmNgLCBpdCBhbGxvd3MgeW91ciBtYWluIExpbnV4IGRlc2t0b3AgdG8gYmUgZXh0ZW5kZWQgdG8gYW55IE9TIGNhcGFibGUgb2YgcnVubmluZyBhIGJhc2ljICpWTkMgU2VydmVyKi4gIEJvdGggb2YgdGhlc2UgcHJvZ3JhbXMgb25seSB0cmFuc2ZlcnMgbW91c2UgYW5kIGtleWJvYXJkIG1vdmVtZW50cyBvdmVyIHRvIHRoZSBvdGhlciBzeXN0ZW0uICBUaGUgbmV0d29yayBiYW5kd2lkdGggZm9yIGp1c3QgdXNpbmcgdGhpcyBpcyB2ZXJ5IG1pbmltYWwsIGFuZCBoYXMgemVybyBsYXRlbmN5IGlmIHlvdSBjb25uZWN0IGJvdGggc3lzdGVtcyB0byB0aGUgc2FtZSBuZXR3b3JrIHN3aXRjaCBvciBvdmVyIGEgbG9vcGJhY2sgY2FibGUuICBPbmUgaW50ZXJlc3RpbmcgYWR2YW50YWdlIG9mIHRoaXMgc29ydCBvZiBzZXQtdXAgaXMgYmV0dGVyIHNoYXJpbmcgb2YgbG9jYWwgY29tcHV0aW5nIHJlc291cmNlcywgYXMgbm93IHlvdSBjYW4gZWZmb3J0bGVzc2x5IGxhdW5jaCBwcm9ncmFtcyBib3RoIG9uIHlvdXIgbWFpbiBtYWNoaW5lLCBhbmQgYnkgbW92aW5nIHlvdXIgbW91c2UgdG8gdGhlIG90aGVyIG1hY2hpbmUsIHlvdSBjYW4gbGF1bmNoIHZhcmlvdXMgcHJvZ3JhbXMgZWFzaWx5IG9uIHRoYXQgaGFyZHdhcmUgYXMgd2VsbC4gIEhvd2V2ZXIsIHdpdGggKipuZXR3b3JrIHRyYW5zcGFyZW5jeSoqLCB5b3UgY2FuIGFsc28gcnVuICpYIGNsaWVudHMqIGZyb20geW91ciBtYWluIG1vcmUgcG93ZXJmdWwgbWFjaGluZSBvbiB0aGUgb3RoZXIgc2NyZWVuIHdpdGggbm8gcmVhbCBlZmZvcnQuICBMZXQncyBnbyB0aHJvdWdoIHNvbWUgYmFzaWMgY29tbWFuZC1saW5lcyB0byBnZXQgeW91IHN0YXJ0ZWQgb24gYSBkdWFsLXNjcmVlbiBhZHZlbnR1cmUgd2l0aCB1c2luZyB0d28gaW5kZXBlbmRlbnQgY29tcHV0ZXJzOlxuXG5IZXJlJ3MgdGhlIG1vc3QgYmFzaWMgZXhhbXBsZSBpZiB5b3VyIHNlY29uZGFyeSBtYWNoaW5lIHdpdGggdGhlIGRpc3BsYXkgaXMgdG8gdGhlIHJpZ2h0IG9mIHlvdXIgbWFpbiBtb25pdG9yOlxuXG5geDJ4IC10byAxOTIuMTY4LjAuMzA6MCAtZWFzdGBcblxuRm9yIHNlY3VyaXR5IHJlYXNvbnMsIG1vc3QgTGludXggZGlzdHJvcyB1c2UgdGhlIGAtbm9saXN0ZW4gdGNwYCBieSBkZWZhdWx0LCBhbmQgdGhlc2UgZGF5cyB0aGUgbW9kZXJuICoqWG9yZyoqIGhhcyB0aGlzIG9wdGlvbiBhcyBhIGRlZmF1bHQsIHNvIHNvbWUgYWRqdXN0bWVudHMgbmVlZCB0byBiZSBtYWRlIG9uIHRoZSBzZWNvbmRhcnkgbWFjaGluZS4gIElmIHlvdSBhcmUgZG9pbmcgdGhpcyB3aXRoIGFuICpYIFNlcnZlciogcnVubmluZyBvbiBhbiBBbmRyb2lkIFRhYmxldCwgdGhlbiB5b3UgY2FuIGlnbm9yZSB0aGUgZm9sbG93aW5nIGNvbmZpZ3VyYXRpb24uXG5cbkZpcnN0bHksIGlmIHRoaXMgaXMgYSBsYXB0b3AgeW91IHdpc2ggdG8gc3RpbGwgbHVnIGFyb3VuZCBpbnRvIHB1YmxpYyBwbGFjZXMsIHRoZW4gSSBoaWdobHkgcmVjb21tZW5kIHJ1bm5pbmcgYSBuZXcgWCBzZXJ2ZXIgZnJvbSB0aGUgY29tbWFuZC1saW5lIGFuZCBzdGFydGluZyBhIG5ldyBzZXJ2ZXIgcmF0aGVyIHRoYW4gYWx0ZXJpbmcgdGhlIGNvbmZpZ3VyYXRpb24gb2YgeW91ciBkaXNwbGF5IG1hbmFnZXIuICBJIGNhbm5vdCBzdHJlc3MgdGhpcyBlbm91Z2gsIGlmIHlvdSBoYXZlIHlvdXIgWCBzZXJ2ZXIgbGlzdGVuaW5nIG9uIFRDUCBpbiBhbiBvdGhlcndpc2UgdW50cnVzdGVkIG5ldHdvcmssIGl0IHdpbGwgbm90IGJlIGEgc2FmZSBleHBlcmllbmNlLiAgWW91IGNvdWxkIGFsc28gb3B0IHRvIHVzaW5nIGVpdGhlciBgWG5lc3RgIG9yIGBYZXBoeXJgLCB3aGljaCBzaG91bGQgYWxzbyBiZSBydW5uYWJsZSB3aXRoaW4gYSBXYXlsYW5kIHNlc3Npb24sIGFuZCBib3RoIEkgZG8gYmVsaWV2ZSBldmVuIHN1cHBvcnQgYSBmdWxsLXNjcmVlbiBvcHRpb24uICBJIGRvIG5vdCB1c2UgdGhpcyBtZXRob2QsIGJ1dCBzaG91bGQgYmUgc2ltcGxlIHRvIGNvbmZpZ3VyZSBJJ2QgaW1hZ2luZS4gIEhlcmUgaXMgaG93IHRvIGNvbmZpZ3VyZSBpdCBmcm9tIHRoZSBjb25zb2xlLCBub3QgYSB0ZXJtaW5hbCBlbXVsYXRvci4gIEZpcnN0LCBsb2cgb3V0IG9mIHlvdXIgc2Vzc2lvbiBhbmQgcmV0dXJuIHRvIHlvdXIgZGlzcGxheSBtYW5hZ2VyLiAgVGhlbiBoaXQgKkN0cmwtQWx0LUYyKiwgaW4gcmVjZW50IExpbnV4IHZlcnNpb25zLCBUVFkxIGlzIHVuYXZhaWxhYmxlIGFzIGEgY29uc29sZSwgYXQgbGVhc3QgZm9yIERlYmlhbi4gIEluIHRoaXMgY29uc29sZSwgbG9naW4gYXMgeW91ciByZWd1bGFyIHVzZXIgYWNjb3VudC4gIENyZWF0ZSBhIGJhc2ljICoueGluaXRyYyogZmlsZSBpbiB5b3VyIGhvbWUgZGlyZWN0b3J5IHdpdGggdGhlIGZvbGxvd2luZzpcblxuYGBgXG54aG9zdCArMTkyLjE2OC4wLjIwICMgUGxhY2UgeW91ciBtYWluIG1hY2hpbmUgSVAgaGVyZS5cbmV4ZWMgYXdlc29tZSAjIHN3YXAgb3V0IHdpdGggeW91ciBmYXZlIHdpbmRvdyBtYW5hZ2VyLlxuYGBgXG5cbllvdSBjYW4gZWl0aGVyIHN0b3AgeW91ciBleGlzdGluZyBkaXNwbGF5IG1hbmFnZXIgd2l0aCBgc3lzdGVtY3RsIHN0b3Agc2RkbWAgZm9yIGV4YW1wbGUsIG9yIGJ5IGFsdGVyaW5nIHRoZSBgc3RhcnR4YCBjb21tYW5kIHRvIGluY2x1ZGUgYDoxYCwgYnV0IHlvdSB3aWxsIGFsc28gbmVlZCB0byBjaGFuZ2UgYWxsIHRoZSBvdGhlciBjb21tYW5kcyBpbiB0aGlzIHdhbGt0aHJvdWdoIGZyb20gYDowYCB0byBgOjFgLiAgUGVyc29uYWxseSwgaWYgSSBhbSBwbGFubmluZyBvbiB1c2luZyBteSBsYXB0b3AgYXMgYW4gZXh0ZW5kZWQgbW9uaXRvciBmb3IgbXkgbWFpbiBtYWNoaW5lLCB0aGVuIEknZCBwcmVmZXIgdG8ganVzdCBzdG9wIHRoZSBkaXNwbGF5IG1hbmFnZXIgYmVmb3JlIGhhbmQuXG5cblRoZW4gc3RhcnQgWCB1c2luZyB0aGUgZm9sbG93aW5nIGNvbW1hbmQ6ICBgc3RhcnR4IC0tIC1saXN0ZW4gdGNwYFxuXG5CZSBzdXJlIHlvdSBhcmUgb24gYSB0cnVzdGVkIG5ldHdvcmssIG9yIGhhdmUgYSBwcm9wZXIgZmlyZXdhbGwgY29uZmlndXJlZCwgYXMgdGhpcyBjYW4gZXhwb3NlIHlvdXIgWCBzZXJ2ZXIgdG8gYW55b25lIHNub29waW5nIGluLlxuXG5UaGlzIHdpbGwgbGF1bmNoIHRoZSBYIHNlcnZlciwgYWRkIHlvdXIgbWFpbiBtYWNoaW5lIHRvIHRoZSBhY2Nlc3MgY29udHJvbCBsaXN0IG9mIHRoZSBYIHNlcnZlciwgYW5kIHN0YXJ0IGEgYmFzaWMgd2luZG93IG1hbmFnZXIuXG5cbkZyb20geW91ciBtYWluIG1hY2hpbmUsIHlvdSBjYW4gbm93IHJ1biB0aGUgYHgyeGAgY29tbWFuZCBJIG91dGxpbmVkIGFib3ZlIHRvIGNvbm5lY3QgeW91ciBtYWluIG1hY2hpbmUgdG8gdGhpcyBzZWNvbmRhcnkgbWFjaGluZSB0byB1c2UgYXMgYSBzZWNvbmQgbW9uaXRvciwgYW5kIGEgZnVsbHkgaW5kZXBlbmRlbnQgUEMgd2hpbGUgc3RpbGwgdXNpbmcgeW91ciBjdXJyZW50IGtleWJvYXJkIGFuZCBtb3VzZSwgbXVjaCBsaWtlIGEgbmV0d29ya2VkIEtWTS4gIEhlcmUgaXMgaG93IHlvdSBjYW4gc2F5IGxhdW5jaCBGaXJlZm94IGZyb20geW91ciBtYWluIG1hY2hpbmUgYW5kIGhhdmUgaXQgZGlzcGxheSBvbiB0aGUgb3RoZXIgbWFjaGluZSdzIHNjcmVlbjpcblxuYERJU1BMQVk9MTkyLjE2OC4wLjMwOjAgZmlyZWZveGBcblxuRmlyZWZveCB3aWxsIG5vdyBhcHBlYXIgb24geW91ciBzZWNvbmRhcnkgZGlzcGxheSwgYW5kIGlmIGB4MnhgIGlzIHN0aWxsIHJ1bm5pbmcsIHlvdSB3aWxsIGJlLWFibGUgdG8gYWxzbyBmdWxseSBjb250cm9sIGl0IHZpYSB5b3VyIG1haW4gbWFjaGluZSdzIGtleWJvYXJkIGFuZCBtb3VzZS5cblxuVGhlIGB4MnZuY2AgcHJvZ3JhbSB3b3JrcyBpbiBhIHZlcnkgc2ltaWxhciB3YXksIGJ1dCBjYW4gYWxsb3cgeW91IHRvIHVzZSBlaXRoZXIgYSAqV2luZG93cyogb3IgKm1hY09TKiBzeXN0ZW0gYXMgeW91ciBzZWNvbmRhcnkgZGlzcGxheSBhbmQgY29udHJvbCBwcm9ncmFtcyBvbiB0aG9zZSByZXNwZWN0aXZlIG9wZXJhdGluZyBzeXN0ZW1zLiAgSG93ZXZlciwgdW5sZXNzIHlvdSBzcGVjaWZpY2FsbHkgcnVuIGFuICpYIFNlcnZlciogb24gZWl0aGVyIG9mIHRob3NlIG9wZXJhdGluZyBzeXN0ZW1zLCB5b3Ugd2lsbCBvbmx5IGJlLWFibGUgdG8gcnVuIGFuZCB1c2UgcmVzb3VyY2VzIGZyb20gdGhvc2Ugb3BlcmF0aW5nIHN5c3RlbXMuXG5cbkhlcmUgaXMgaG93IHRvIHJ1biBpdDogIGB4MnZuYyAtZWFzdCAxOTIuMTY4LjAuMzE6MGBcblxuU2xpZ2h0bHkgZGlmZmVyZW50IHN5bnRheCwgYnV0IGVzc2VudGlhbGx5IHRoZSBzYW1lIHJlc3VsdCB0byBleHRlbmQgeW91ciBkZXNrdG9wIHRvIGEgdG90YWxseSBkaWZmZXJlbnQgb3BlcmF0aW5nIHN5c3RlbS5cblxuVGhlICpYIFNlcnZlciogZm9yIEFuZHJvaWQgY2FuIGJlIGRvd25sb2FkZWQgZWFzaWx5IGZyb20gdGhlIG9mZmljaWFsIFtQbGF5IFN0b3JlXShodHRwczovL3BsYXkuZ29vZ2xlLmNvbS9zdG9yZS9hcHBzL2RldGFpbHM/aWQ9YXUuY29tLmRhcmtzaWRlLlhTZXJ2ZXIpXG4iIH0sIHsgIklEIiA6IDU3LCAiUEFUSCIgOiAiL0hvcGUiLCAiVElUTEUiIDogIkhvcGUgb25seSBsZWFkcyB0byBkaXNhcHBvaW50bWVudCIsICJDUkVBVEVEIiA6ICIyMDI0LTAzLTA4VDEyOjI1OjE4LjczNloiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDMtMDhUMjE6MTY6NTMuMjUyWiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiSWYgdGhlcmUgaXMgb25lIHRoaW5nIEkndmUgbGVhcm5lZCBpbiBsaWZlLCBpcyB0aGF0IGhvcGUgaXMgbGl0ZXJhbGx5IGhvcGVsZXNzLCBpdCBvbmx5IGxlYWRzIHRvIHRoZSBmZWVsaW5nIG9mIGh1Z2UgZGlzYXBwb2ludG1lbnRzIGluIGxpZmUuXG5cbkkndmUgYmVlbiBzdHJ1Z2dsaW5nIHRvIHNlY3VyZSBteXNlbGYgYSBuZXcgam9iLCBhbmQgYWxsIEkndmUgYmVlbiBsZWQgYnkgaXMgKmhvcGUqLCBvbmx5IHRvIG5vdCBmaW5kIGFueXRoaW5nIGFuZCBiZSBtb3JlIGRpc2FwcG9pbnRlZCB0aGVuIHdoZW4gSSBmaXJzdCBzdGFydGVkLiAgSSBmZWVsIHRoYXQgaWYgSSBqdXN0IGRpZG4ndCBldmVuIHRyeSwgSSB3b3VsZG4ndCBiZSBmZWVsaW5nIGFzICpkaXNhcHBvaW50ZWQqIGFzIEkgYW0gbm93IGJlY2F1c2UgSSB3YXMgaG9wZWZ1bCBpbiB0aGUgZmlyc3QgcGxhY2UuXG5cblxuXG5UaGlzIGlzIHBhcnQgb2YgYSBsYXJnZXIgc2VyaWVzIG9mIFtEZXByZXNzaW5nIEFydGljbGVzXSgjL0RlcHJlc3NpbmdBcnRpY2xlcykuIiB9LCB7ICJJRCIgOiA1OCwgIlBBVEgiIDogIi9QYXJhZG94T2ZNb25leSIsICJUSVRMRSIgOiAiVGhlIFBhcmFkb3ggb2YgTW9uZXkiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMy0wOFQxMjoyNzoyOC40MjJaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAzLTA4VDIxOjE0OjE0LjY4NloiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIk1vbmV5IGlzIGludGVyZXN0aW5nIGluIHRoYXQgaXQgZmVlbHMgbGlrZSBhIHBhcmFkb3ggYW5kIGF0IGxlYXN0IGZvciBtZSwgY2hhbmdlcyBpdCdzIHZhbHVlIGJhc2VkIG9uIGhvdyBtdWNoIEkgaGF2ZS4gIFRoZSBsZXNzIG1vbmV5IEkgaGF2ZSwgdGhlIG1vcmUgdmFsdWUgaXQgaGFzIHRvIG1lLCBhbmQgdGhlIG1vcmUgbW9uZXkgSSBoYXZlLCB0aGUgbGVzcyB2YWx1ZSBpdCBoYXMgdG8gbWUuICBUYWtlIHRoZXNlIGFzIGV4YW1wbGVzIGZvciBob3cgSSB1c2UgbW9uZXkgYmFzZWQgb24gaG93IG11Y2ggSSBoYXZlOlxuXG5XaGVuIEkgaGFkIGEgcmVhbGx5IGFtYXppbmcgam9iIGFuZCBoYWQgYSB2ZXJ5IGNvbnNpc3RlbnQgaGlnaCBpbmNvbWUsIEkgd2FzIGFibGUgdG8gZ28gb3V0IHRvIGhpZ2ggZW5kIHB1YnMgYW5kIHJlc3R1cmFudHMsIGFuZCB0aGUgYmlsbCBhbG1vc3QgZmVsdCBtZWFuaW5nbGVzcyBvbiBob3cgbXVjaCBpdCB3YXMuICBJbiB0aGVzZSBtb21lbnRzLCBpdCB3YXMgbW9yZSBhYm91dCB0aGUgc2VydmljZSBhbmQgaG93IEkgd2FzIHRyZWF0ZWQsIGFuZCB0aHVzIEkgdGVuZGVkIHRvIGdpdmUgcmF0aGVyIGFtYXppbmcgdGlwcywgKjMwJSogYmVmb3JlIHRoaXMgd2FzIGV2ZW4gYSB0aGluZyBpbiB0aGUgbW9kZXJuIGRheS4gIEkgdGlwcGVkIHdlbGwsIGFzIGluIG15IG1pbmQsIEkga25ldyBJIHN0aWxsIGhhZCBhIGxvdCB0byBzcGVuZCBhbmQgb3RoZXJ3aXNlIGdpdmUuXG5cbkluIG15IGN1cnJlbnQgc2l0dWF0aW9uLCB3aGVyZSBJIGhhdmUgYWxtb3N0IG5vIG1vbmV5LCBJIGJyb2tlIGEgKiQyMCogYmlsbCB0aGUgb3RoZXIgZGF5IGFuZCBmZWx0IGJhZCBkb2luZyBpdCwgYXMgSSB3b3VsZG4ndCBldmVuIGtub3cgd2hlbiBJJ2QgZXZlbiBoYXZlIHRoYXQgbXVjaCBtb25leSB0byBzcGVuZCBvbiBmb29kIGFnYWluLiAgTm93IHdoZW4gSSBhbSB0cnlpbmcgdG8gbWFrZSBtb25leSwgSSBob2xkIGl0IGF0IGEgaGlnaGVyIHZhbHVlLCBzbyB3aGVuIHNheSB0cnlpbmcgdG8gc2VsbCBzb21ldGhpbmcsIEkgd2FudCB0byBtYWtlIHN1cmUgdGhhdCBJIGFtIGdldHRpbmcgdGhlIHByb3BlciB2YWx1ZSBvZiB3aGF0IEkgYW0gdHJ5aW5nIHRvIHNlbGwsIGFuZCB3aWxsIGFic29sdXRlbHkgbm90IHNldHRsZSBmb3IgYW55dGhpbmcgbGVzcyB0aGFuIHRoZSB2YWx1ZSBJIGJlbGlldmUgaXMgdGhlIHJpZ2h0IHZhbHVlIGZvciBpdC5cblxuSSBoYXZlIGxpdmVkIG9uIGJvdGggc2lkZXMgb2YgdGhpcyBmZW5jZS4gIEkgc3RhcnRlZCBvZmYgaW4gcG92ZXJ0eSBpbiBteSB5b3V0aCwgYmFyZWx5IG1ha2luZyBhbnl0aGluZyB0byBnZXQgYnkgaW4gbXkgaG9tZXRvd24sIHRvIG1ha2luZyBhbG1vc3QgNi1maWd1cmVzIHdpdGggYW1hemluZyBib251c2VzIGVhY2ggeWVhciBpbiB0aGUgY2l0eSBJIG5vdyBmaW5kIG15c2VsZiBpbi4gIER1ZSB0byBzb21lIHVuZm9yZXNlZW4gaXNzdWVzLCBJIGFtIG5vdyBiYWNrIGluIHBvdmVydHkgd2l0aCBubyBtb25leSB0byBteSBuYW1lIGFueW1vcmUsIGFuZCBhZnRlciBzb21lIHJlZmxlY3Rpb24sIHRoaXMgKnBhcmFkb3gqIGhlcmUgY2FtZSB0byBtZS5cblxuIyMgQSB0aG91Z2h0XG5cbk9uZSB0aG91Z2h0IEkgaGFkIGF3aGlsZSBiYWNrIGFib3V0IGEgcG90ZW50aWFsIHNvbHV0aW9uLCB3aGljaCBpcyBpbmNvcnBvcmF0ZWQgaW4gKm1vZGVybiB2aWRlbyBnYW1lcyogaXMgdGhlIGNvbmNlcHQgb2YgYSAqKmxldmVsIGNhcCoqLCB3aGljaCBvdGhlcndpc2VzIHByZXZlbnRzIHNvbWUgcGxheWVycyBmcm9tIGJlY29taW5nICoqT1AqKigqb3ZlciBwb3dlcmVkKikgYXMgd2UgY2FuIGN1cnJlbnRseSBzZWUgd2l0aCBob3cgbW9uZXkgaXMgZGlzdHJpYnV0ZWQsIHdoaWNoIGlzIGxpdGVyYWxseSBjcmVhdGluZyAqcmVhbCB3b3JsZCBvdmVyIHBvd2VyZWQqIGFzIHRoZXNlIG5vdywgdHJpbGxpb25haXJlcyBjbGVhcmx5IGRvIG5vdCBoYXZlIGEgKmxldmVsIGNhcCogb2YgdGhlaXIgb3duLCBiZXNpZGVzIHRoZSBza3ksIGFuZCBhcyBhIHJlc3VsdCB0byBrZWVwIHJhaXNpbmcgdG8gdGhlIHRvcCBvZiB0aGlzICpzby1jYWxsZWQgbGVhZGVyYm9hcmQqLCBhbmQgbW9zdCBvZiB1cyBqdXN0IGZhbGxpbmcgY29tcGxldGVseSBkb3duIGl0LiAgSSBiZWxpZXZlIHRoZSBiZXN0IHNvbHV0aW9uIGZvciB0aGUgY3VycmVudCB3b3JsZCBlY29ub21pYyBpc3N1ZXMgaXMgdG8gcHV0IGEgbGl0ZXJhbCAqbW9uZXkgY2FwKiBpbiBvdXIgcmVhbC13b3JsZCwgb3IgdGhpcyB3aWxsIG9ubHkganVzdCBrZWVwIGdldHRpbmcgd29yc2UsIHdpdGggbm93IHNvbWUgb2YgdGhlIG9ubHkgd2F5cyB0byBrZWVwIG1ha2luZyBtb25leSBpcyB0byBlaXRoZXIgcGF5IHlvdXIgZW1wbG95ZWVzIGFzIGxpdHRsZSBhcyB5b3UgY2FuIGdldCBhd2F5IHdpdGgsIG9yIGZpcmUgdGhlbSBvdXQgcmlnaHQgdG8gc2F2ZSBvbiB0aGVpciB3YWdlL3NhbGFyeSBlbnRpcmVseS4gIFRoaXMgaXMgdGhlIHdvcmxkIHdlIGN1cnJlbnRseSBzZWUgdW5mb2xkaW5nIGFyb3VuZCB1cywgYnV0IG1vc3Qgb2YgdXMgYXJlIGNvbXBsZXRlbHkgYmxpbmQgdG8gc2VlIGl0LCBqdXN0IGFzIGl0IGdvZXMgd2l0aCB0aG9zZSBsb3N0IGNhciBrZXlzIEkgZ3Vlc3MuICBUaGUgcHJvYmxlbSBoZXJlLCBpcyB0aGF0IGl0IG1pZ2h0IG5vdCBiZSB0b28gbGF0ZSB0byBmaWd1cmUgdGhpcyBwcm9ibGVtIG91dCwgb3Igd2UgYXJlIGRlc3RpbmVkIGZvciBhIHRvdGFsIGVjb25vbWljIGNvbGxhcHNlLiAgQXNrICoqUmljaGFyZCBHYXJyZXQqKiBob3cgcGxheWVycyBjb21wbGV0ZWx5IGRlc3Ryb3llZCB0aGUgaW4tZ2FtZSBlY28tc3lzdGVtIGJ5IGh1bnRpbmcgYWxsIHRoZSBhbmltYWxzLCBhbmQgc2luY2UgdGhlIHN5c3RlbSBzaW11bGF0ZWQgYXQgdGhlIHRpbWUsIGEgcmVhbGlzdGljIGVjby1zeXN0ZW0sIHBsYXllcnMgd2VyZSBraWxsaW5nIGJlZm9yZSB0aGVzZSBhbmltYWxzIGhhZCBlbm91Z2ggdGltZSB0byByZXByb2R1Y2UsIGNhdXNpbmcgKk9yaWdpbiBTeXN0ZW0qIHRvIHJldGhpbmsgdGhlIGVudGlyZSBzeXN0ZW0sIGFzIHBsYXllcnMgd2lsbCBiZSBwbGF5ZXJzLCBhcyB3ZSBzZWUgd2l0aCBodWdlIGJ1c2luZXNzIGV4ZWN1dGl2ZXMgaW4gb3VyIHJlYWwtd29ybGQgcGxheWluZyBhIGdhbWUgd2l0aG91dCBhIGNhcC4gIFBlb3BsZSBqdXN0IG5lZWQgdG8gb3BlbiB0aGVpciBleWVzIGFuZCBqdXN0IHNlZSB3aGF0IGlzIHF1aXRlIGxpdGVyYWxseSByaWdodCBpbiBmcm9udCwgYW5kIGFuIG9idmlvdXMgc29sdXRpb24gd2hpY2ggY2FuIGFjdHVhbGx5IG1ha2UgKmNhcGl0YWxpc20qIHdvcmsgYW5kIHRocml2ZS4gIFRoaXMgY291bGQgcG90ZW50aWFsbHkgYmUgdGhlIG5leHQgZXZvbHV0aW9uIG9mICpjYXBpdGFsaXNtKiBpcyB0byBoYXZlIGEgKmNhcCogdG8gdGhpcyAqY2FwaXRhbGlzbSouICBMZXQncyBtYWtlIHRoaXMgZ2FtZSB3ZSBhbGwgY2FsbCByZWFsLWxpZmUgYSBtb3JlIGZhaXIgcGxheWluZyBmaWVsZCBmb3IgZXZlcnlvbmUuXG5cbkkga25vdyBzb21lb25lIHdpbGwgYnJpbmcgdXAsICp3ZWxsIHRoYXQgaXMgd2hhdCB0YXhlcyBhcmUgZm9yKiBhcmd1bWVudCwgd2VsbCwgdGhhdCBkb2Vzbid0IHNlZW0gdG8gYmUgd29ya2luZyB0aGF0IHdlbGwgYXMgYSB3YXkgdG8gaGF2ZSB0aGlzICp2aXJ0dWFsIGNhcCogc28gdGhhdCBzb21lIGZ1bmRzIGFyZSBwdXQgYmFjayBpbnRvIHRoZSBlY29ub215LiAgSSBhbSBub3Qgc2F5aW5nIHRoYXQgdGhpcyBjYW4gYmUgc29tZXRoaW5nIHRoYXQgY2FuIGJlIGRvbmUgb3Zlcm5pZ2h0LCBidXQgaXQgaXMgc29tZXRoaW5nIHRoYXQgbWF5IGV2ZW50dWFsbHkgbmVlZCB0byBiZSByZXNlYXJjaGVkIGFuZCBkZWNpZGVkIHVwb24gYXMgYSBzb2NpZXR5IGFuZCBncmFkdWFsbHkgYnVpbGQgdG93YXJkcy5cblxuVGhlIG5leHQgb2J2aW91cyBpc3N1ZSwgd2hpY2ggaXMgc3RpbGwgYmVpbmcgdGFja2xlZCBldmVuIHdpdGhvdXQgYSAqY2FwKiBhcmUgc28tY2FsbGVkICp0YXggaGVhdmVucyogd2hlcmUgdGhlIHVsdHJhLXJpY2ggcGxhY2Ugc29tZSBvZiB0aGVpciBtb25leSB0byBsb29wIG91dCBvZiBwYXlpbmcgc29tZSB0YXhlcy4gIEFzIHdpdGggYW55dGhpbmcsIHBlb3BsZSB3aWxsIGFsd2F5cyB0cnkgYW5kIGZpbmQgYSB3YXkgdG8gY2hlYXQgdGhlIHN5c3RlbS4gIFBsYXllcnMgaGF2ZSBhbHdheXMgdHJpZWQgdG8gZmluZCB3YXlzIGFyb3VuZCAqbGV2ZWwgY2FwcyogYW5kIG90aGVyIGdhbWUgcmVzdHJpY3Rpb25zIGFzIHdlbGwsIHRoZSBzYW1lIHRoaW5nIG9idmlvdXNseSBoYXBwZW5zIGluIHRoZSByZWFsLXdvcmxkIHRvby4gIEkgYW0ganVzdCBhcyBzdHVtcGVkIGFzIHRoZSBwb2xpdGljaWFucyB3aGljaCBhcmUgYWxzbyB0cnlpbmcgdG8gZW5zdXJlIHRoYXQgYWxsIHRoZSB0YXhlcyBhcmUgcGFpZCBmcm9tIHRoZW0gYXMgd2VsbC4gIEl0IGlzIG11Y2ggZWFzaWVyIHdpdGhpbiBhIHZpZGVvIGdhbWUgd29ybGQsIHRyeWluZyB0byBlbmZvcmNlIHNvbWV0aGluZyBsaWtlIHRoaXMgaW4gdGhlIHJlYWwtd29ybGQgaXMgbm90IGVhc3ksIHRvIHNheSB0aGUgbGVhc3QuICBBbHNvLCB3aXRoIHRoZSByZWNlbnQgbW92ZSB0byBjcnlwdG8tY3VycmVuY3ksIHRoaXMganVzdCBjb21wbGljYXRlcyBldmVyeXRoaW5nLiAgSW4gZmFjdCwgdHJ5aW5nIHRvIGVuZm9yY2UgYSBsaXRlcmFsICpjYXAqIGluIHRoZSBtb2Rlcm4gd29ybGQgd291bGQgYmUgZnV0aWxlLCBhbmQgdGh1cyBpbGxvZ2ljYWxseSB0byBldmVuIGF0dGVtcHQgdG8gaW1wbGVtZW50LiAgUHJheSBmb3IgYSBzb2Z0IGxhbmRpbmcgd2l0aCB0aGUgZWNvbm9taWMgY29sbGFwc2UuXG5cblRoaXMgaXMgcGFydCBvZiBhIGxhcmdlciBzZXJpZXMgb2YgW0RlcHJlc3NpbmcgQXJ0aWNsZXNdKCMvRGVwcmVzc2luZ0FydGljbGVzKS5cbiIgfSwgeyAiSUQiIDogNTksICJQQVRIIiA6ICIvRGVwcmVzc2luZ0FydGljbGVzIiwgIlRJVExFIiA6ICJEZXByZXNzaW5nIEFydGljbGVzIiwgIkNSRUFURUQiIDogIjIwMjQtMDMtMDhUMjE6MDk6NTUuNDQ2WiIsICJNT0RJRklFRCIgOiAiMjAyNC0wMy0xNlQxNzowMToxOC4wOTlaIiwgIkNPTlRFTlRUWVBFIiA6IDEsICJDT05URU5UIiA6ICJUaGUgZm9sbG93aW5nIGFydGljbGVzIHdpbGwgbW9zdCBsaWtlbHkgY29udGFpbiBzb21lIHZlcnkgZGVwcmVzc2luZyBjb250ZW50LCBzbyByZWFkZXIgYmV3YXJlLiAgSG93ZXZlciwgc29tZSBhcnRpY2xlcyBtYXkgb2ZmZXIganVzdCBhIHNtYWxsIGdsaW1tZXIgb2YgaG9wZSwgdGhhdCBxdWlja2x5IGZhZGVzIGJ5IHRoZSBhcnRpY2xlJ3MgY29uY2x1c2lvbi5cblxuSSB0ZW5kIHRvIHdyaXRlIGEgbG90IG9mIGludGVyZXN0aW5nIHRob3VnaHQgcHJvdm9raW5nIGFydGljbGVzIHdoZW4gSSBhbSAqZGVwcmVzc2VkKiwgYW5kIHRoaXMgcGFnZSBoZXJlIHdpbGwgdHJ5IGFuZCBwcm92aWRlIGEgbGluayB0byBlYWNoIG9mIHRoZW0uICBJIHdyaXRlIHRoaXMgKmRpc2NsYWltZXIqIGhlcmUsIGlzIGJlY2F1c2UgYWZ0ZXIgSSBjb25zdW1lIHNvbWV0aGluZyB0aGF0IG90aGVyd2lzZSBtYWtlcyBtZSBsZXNzIGRlcHJlc3NlZCwgYW5kIHdoZW4gSSByZWFkIHNvbWUgb2YgdGhlc2UgYXJ0aWNsZXMgYmFjayBpbiBhIGxlc3MgZGVwcmVzc2VkIHN0YXRlIG9mIG1pbmQsIEkgaGF2ZSBhIGRpZmZlcmluZyBvcGlvbmlvbiBvZiB0aGVtLCBhbmQgYmVjb21pbmcgbW9yZSBhd2FyZSBvZiBqdXN0IGhvdyBJIGFtIHdoZW4gSSBhbSBkZXByZXNzZWQuICBJIHdhcyBnb2luZyB0byBjb250aW51ZSBhbm90aGVyIGFydGljbGUgdGhpcyBldmVuaW5nLCBidXQgd2FzIHVuYWJsZSB0bywgYXMgSSBqdXN0IGNvbnN1bWVkIHNvbWV0aGluZyB0aGF0IGhhcyByZWxpZXZlZCBtZSBvZiB0aGF0IG1pbmRzZXQuXG5cbiAgKiBbUGFyYWRveCBvZiBNb25leV0oIy9QYXJhZG94T2ZNb25leSlcbiAgKiBbRGVwcmVzc2lvbl0oIy9EZXByZXNzaW9uKVxuIiB9LCB7ICJJRCIgOiA2MCwgIlBBVEgiIDogIi9JbnRyYVdlYiIsICJUSVRMRSIgOiAiSW50cmFXZWIiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMy0xNVQyMjoyODozMi4xMDJaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAzLTE1VDIyOjMyOjM2LjY1MloiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIlNpbWlsYXIgdG8gW3hQcm9qZWN0LUY5XSgjL3hQcm9qZWN0LUY5KSBpbiB0aGF0IGl0IGNhbiBidWlsZCBkZXNrdG9wLWxpa2UgYXBwbGljYXRpb25zIGZvciB0aGUgd2ViLCBidXQgaGFzIGJlZW4gYXJvdW5kIGZvciBhIGxvdCBsb25nZXIgYW5kIGFsc28gaGFzIGFuIGV2YWx1YXRpb24gZWRpdGlvbiB0aGF0IHRoZSB3ZWJzaXRlIHNheXMgZG9lcyBub3QgZXhwaXJlLiAgT25lIGRheSBJIG1heSBjaGVjayBpdCBvdXQgYW5kIHNlZSB3aGF0IEkgY2FuIGJ1aWxkIHdpdGggaXQuICBZb3UgY2FuIGZpbmQgdGhlIHByb2plY3Qgd2Vic2l0ZSBoZXJlOiBbaHR0cHM6Ly93d3cuYXRvemVkLmNvbS9pbnRyYXdlYi9dKGh0dHBzOi8vd3d3LmF0b3plZC5jb20vaW50cmF3ZWIvKVxuXG5JdCB3YXMgZmlyc3QgYW5kIGZvcmVtb3N0IGRldmVsb3BlZCB3aXRoICpEZWxwaGkqIGluIG1pbmQsIGJ1dCBJIHJlYWQgaW4gYSByZWNlbnQgcG9zdCB0aGF0IHRoZSBkZXZlbG9wZXJzIGFyZSBzb29uIG1ha2luZyBpdCBhdmFpbGFibGUgdG8gdXNlIHdpdGggRnJlZVBhc2NhbC9MYXphcnVzLlxuIiB9LCB7ICJJRCIgOiA2MSwgIlBBVEgiIDogIi9QYXNjYWxBSSIsICJUSVRMRSIgOiAiTmV1cmFsIE5ldHdvcmtzIGluIE9iamVjdFBhc2NhbCIsICJDUkVBVEVEIiA6ICIyMDI0LTAzLTE1VDIyOjMyOjUyLjM5OFoiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDMtMTVUMjI6Mzc6MjUuMzM5WiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiQXMgbW9zdCBkZXZlbG9wZXJzIHNlZSAqUGFzY2FsKiBhcyBhbiBvdXRkYXRlZCBwcm9ncmFtbWluZyBsYW5ndWFnZSBhbmQgbW9zdCBkb24ndCBldmVuIGxvb2sgaXQncyBkaXJlY3Rpb24sIG1vc3QgZGV2ZWxvcGVycyB3aWxsIG5vdCBldmVuIGtub3cgdGhhdCBhICpQaEQgaW4gQUkqIGhhcyBiZWVuIHdvcmtpbmcgdGlyZWxlc3NseSBvbiBhIHBvd2VyZnVsIEFJIGxpYnJhcnkgZm9yIE9iamVjdFBhc2NhbCBzaW5jZSBhcm91bmQgMjAxNywgYnV0IEkgYmVsaWV2ZSB0aGUgZGV2ZWxvcGVyIGRpZCBtZW50aW9uIHNvbWV3aGVyZSB0aGF0IHRoaXMgd29yayBvcmlnaW5hbGx5IGJlZ2FuIGluIDIwMDEuICBJIGhpZ2hseSByZWNvbW1lbmQgY2hlY2tpbmcgaXQgb3V0IGlmIHlvdSBhcmUgaW50byBBSSBhbmQgbmV1cmFsIG5ldHdvcmtzLCBhcyBpdCB3aWxsIG9ubHkgc3RhcnQgZ2V0dGluZyBiZXR0ZXIgZnJvbSB0aGlzIHBvaW50IGZvcndhcmQuXG5cbltHaXRIdWIgUmVwb10oaHR0cHM6Ly9naXRodWIuY29tL2pvYW9wYXVsb3NjaHVsZXIvbmV1cmFsLWFwaSlcblxuW0ZvcnVtIHBvc3RdKGh0dHBzOi8vZm9ydW0ubGF6YXJ1cy5mcmVlcGFzY2FsLm9yZy9pbmRleC5waHAvdG9waWMsMzkwNDkuMC5odG1sKVxuIiB9LCB7ICJJRCIgOiA2MiwgIlBBVEgiIDogIi9EZXByZXNzaW9uIiwgIlRJVExFIiA6ICJVbmRlcnN0YW5kaW5nIG15IERlcHJlc3Npb24iLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMy0xNlQxNzowMToxOS41MzVaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAzLTE2VDE4OjA3OjI0LjI4MloiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIkkgYW0gc3RhcnRpbmcgdG8gYmVsaWV2ZSB0aGF0IEkgbWF5IGhhdmUgd2hhdCBpcyBjYWxsZWQgKnNpdHVhdGlvbmFsIGRlcHJlc3Npb24qIHJhdGhlciB0aGFuICpjbGluaWNhbCBkZXByZXNzaW9uKiwgYXMgaW4gbW9zdCBjYXNlcywgSSBkbyBub3QgbmVlZCBtZWRpY2F0aW9ucyB0byBoYW5kbGUgaXQsIGlmIG15IGxpZmUgaXMgZ29pbmcgd2VsbCBhbmQgSSBhbSBub3QgdW5kZXIgYSBsYXJnZSBhbW91bnQgb2Ygb3ZlcndoZWxtaW5nIHN0cmVzcy4gIEkgaGF2ZSBiZWVuIHdvcmtpbmcgd2l0aCB2YXJpb3VzIHBlb3BsZSB0aHJvdWdob3V0IG15IGxpZmUgb24gZGVwcmVzc2lvbiwgYW5kIGdpdmVuIHNldmVyYWwgdGFjdGljcyB0byBoZWxwIGFsbGV2aWF0ZSBpdC4gIFRoZSBtb3N0IHVzZWZ1bCBtZXRob2RzIGFyZSB1c3VhbGx5IGEgc2ltcGxlIGRpZXRhcnkgY2hhbmdlLiAgT25lIGZvb2QgdGhhdCByZWFsbHkgc3RhbmRzIG91dCBpcyAqKnN1bmZsb3dlciBzZWVkcyoqLCB3aGljaCBJIGFtIG5vdCBzdXJlIGhvdyBtdWNoIG9mIHRoZSBnZW5lcmFsIHBvcHVsYXRpb24gcmVhbGx5IGtub3dzIGhvdyBtdWNoIGl0IGFjdHVhbGx5IGhlbHBzLiAgSSBhbHNvIGZpbmQgaGVhbHRoeSBmaXNoZXMsIHN1Y2ggYXMgKipTYWxtb24qKiB0byBiZSBleHRyZW1lbHkgaGVscGZ1bCB3aXRoIG15IGRlcHJlc3NpdmUgZXBpc29kZXMsIG9yIHRvIGtlZXAgdGhlbSBhdCBiYXkgZW50aXJlbHkuICBUaGVyZSB3YXMgYSB0aW1lIHdoZXJlIGFsbW9zdCBldmVyeSBkYXkgSSB1c2VkIHRvIGVhdCB0aGlzIHJlYWxseSBhbWF6aW5nIGRpc2ggSSBjcmVhdGVkIG15c2VsZi4gIEl0IGNvbnNpc3RzIG9mICoqYmFrZWQgbWVkaXRlcnJhbmVhbiBzYWxtb24qKiBjaG9wcGVkIHVwIGludG8gcGllY2VzIGluIGEgc2FsYWQgd2l0aCBhIGxpZ2h0IHZpbmFpZ3JldHRlLiAgSXQgd2FzIGV4dHJlbWVseSBkZWxpY291cyBhbmQgcmVsYXRpdmVseSBlYXN5IHRvIHByZXBhcmUuXG5cblwiKlN1bmZsb3dlciBzZWVkcyBwcm92aWRlIHRyeXB0b3BoYW4tcmljaCBwcm90ZWlucyB3aXRoIHRoZSBwb3RlbnRpYWwgdG8gcHJvdGVjdCBhZ2FpbnN0IGRlcHJlc3Npb24uIFRyeXB0b3BoYW4gaXMgYSBwcmVjdXJzb3Igb2Ygc2Vyb3RvbmluIGFuZCBhIHN1YnN0cmF0ZSBmb3IgdGhlIHByb2R1Y3Rpb24gb2YgaW5kb2xlIGRlcml2YXRpdmVzIGJ5IGd1dCBtaWNyb2Jpb3RhLiBUaGlzIHN0dWR5IGFpbWVkIHRvIGludmVzdGlnYXRlIHRoZSBhc3NvY2lhdGlvbiBiZXR3ZWVuIHRoZSBkZXByZXNzaW9uLWFsbGV2aWF0aW5nIGVmZmVjdHMgb2YgZGVvaWxlZCBhbmQgZGVjaGxvcm9nZW5pYyBzdW5mbG93ZXIgc2VlZHMgKERTRlMpIGFuZCByZWd1bGF0aW9uIG9mIGd1dCBtaWNyb2Jpb3RhLipcIlxuXG5bTmF0aW9uYWwgTGlicmFyeSBvZiBNZWRpY2luZSBTdHVkeV0oaHR0cHM6Ly93d3cubmNiaS5ubG0ubmloLmdvdi9wbWMvYXJ0aWNsZXMvUE1DOTI4OTc0MS8pXG5cblRoZXJlIGhhcyBhbHNvIGJlZW4gc29tZSBpbmNyZWFzaW5nIHN0dWRpZXMgb24gKipTU1JJcyoqIGFuZCBob3cgdGhleSBkb24ndCBhY3R1YWxseSBzb2x2ZSB0aGUgcHJvYmxlbSwgYW5kIHRoYXQgdGhlIG1lZGljYWwgY29tbXVuaXR5IGlzIG5vdyBxdWVzdGlvbmluZyBpZiBkZXByZXNzaW9uIGlzIGFjdHVhbGx5IGV2ZW4gcmVsYXRlZCB0byBhICpjaGVtaWNhbCBpbWJhbGFuY2UqIGluIHRoZSBicmFpbi5cblxuW0xpdHRsZSBldmlkZW5jZSB0aGF0IGNoZW1pY2FsIGltYmFsYW5jZSBjYXVzZXMgZGVwcmVzc2lvbiwgVUNMIHNjaWVudGlzdHMgZmluZF0oaHR0cHM6Ly93d3cudGhlZ3VhcmRpYW4uY29tL3NvY2lldHkvMjAyMi9qdWwvMjAvc2NpZW50aXN0cy1xdWVzdGlvbi13aWRlc3ByZWFkLXVzZS1vZi1hbnRpZGVwcmVzc2FudHMtYWZ0ZXItc3VydmV5LW9uLXNlcm90b25pbilcblxuW1Nlcm90b25pbiBhbmQgRGVwcmVzc2lvbjogQSBEaXNjb25uZWN0IGJldHdlZW4gdGhlIEFkdmVydGlzZW1lbnRzIGFuZCB0aGUgU2NpZW50aWZpYyBMaXRlcmF0dXJlXShodHRwczovL3d3dy5uY2JpLm5sbS5uaWguZ292L3BtYy9hcnRpY2xlcy9QTUMxMjc3OTMxLylcblxuSW4gbXkgcGVyc29uYWwgbGlmZSwgdW5kZXIgbW9zdCBjaXJjdW1zdGFuY2VzIHdoZXJlIEkgZmVlbCBsaWtlIEkgYW0gaW4gY29udHJvbCBvZiBteSBvd24gbGlmZSBhbmQgY2FuIGFmZm9yZCB0byBwdXJjaGFzZSB3aGF0IG15IGJvZHkgbmVlZHMgdG8gcHJvcGVybHkgZnVuY3Rpb24sIEkgYW0gbm90IGRlcHJlc3NlZC4gIEluIHRoZSByZWNlbnQgeWVhcnMgYWZ0ZXIgQ09WSUQtMTksIEkgZG8gYWRtaXQsIHRoYXQgaXQgaGFzIGJlZW4gbXVjaCBtb3JlIGRpZmZpY3VsdCB0byBtYW5hZ2UgbXkgZGVwcmVzc2lvbiBhcyBtdWNoIGFzIEkgd2FzIGFibGUgdG8gcHJlLXBhbmRlbWljLiAgU2luY2UgdGhlIHBhbmRlbWljLCBJIGhhdmVuJ3Qgd29ya2VkIGJhY2sgaW4gYW4gb2ZmaWNlIGpvYiwgYW5kIGhhdmUgaW5zdGVhZCBiZWVuIG1vc3RseSBpc29sYXRlZCBpbiBteSBob21lIG1vc3QgZGF5cywgd2hpY2ggaXMgYWxzbyBub3QgdmVyeSBoZWFsdGh5IGZvciBkZXByZXNzaW9uLCBhbmQgaW4gZmFjdCBjYW4gbWFrZSBpdCB3b3JzZS4gIFRvIG1ha2UgcmVjZW50IG1hdHRlcnMgd29yc2UsIEkgYW0gbm93IG5vIGxvbmdlciBhYmxlIHRvIGZpbmFuY2lhbGx5IHRha2UgY2FyZSBvZiBteSBuZWVkcywgc3VjaCBhcyBwdXJjaGFzaW5nIHRoZSBmb29kIGl0ZW1zIHdoaWNoIEkga25vdyBkb2VzIHJlbGlldmUgbXkgZGVwcmVzc2lvbiBhbmQgYWxsb3cgbWUgdG8gY29udGludWUgbGl2aW5nIGEgbW9yZSBwcm9kdWN0aXZlIGxpZmUuICBOb3csIGluIG9yZGVyIHRvIGJlIGFibGUgdG8gY29wZSB3aXRoIG15IGRlcHJlc3Npb24sIEkgbmVlZCB0byBmaW5kIGZpcnN0IHRoZSBtb3RpdmF0aW9uIGluIG1lIHRvIGRvIHNvbWV0aGluZyBvdGhlciB0aGFuIGR3ZWxsIG9uIG15IGN1cnJlbnQgbGlmZSBzaXR1YXRpb24sIGFuZCB0byBrZWVwIG15IG1pbmQgb3RoZXJ3aXNlIG9jY3VwaWVkIHdpdGggc29tZXRoaW5nLiAgT25lIHRoaW5nIEkgY2FuIG5vcm1hbGx5IGRvIHRoZXNlIGRheXMgc3RpbGwgaXMgc2l0IGF0IG15IGNvbXB1dGVyIGFuZCBwZXJmb3JtIHJlc2VhcmNoIG9uIHZhcmlvdXMgdG9waWNzLCBzdWNoIGFzIG1lbnRhbCBoZWFsdGgsIGFuZCBjb21wdXRlciBzY2llbmNlLiAgSSBjYW4gYWxzbyBmdWxseSBkaXN0cmFjdCBhbmQgaW1tZXJzZSBteXNlbGYgaW4gc29mdHdhcmUgZGV2ZWxvcG1lbnQsIHdoaWNoIHVzdWFsbHkgcXVlbGxzIHRoZSBmZWVsaW5ncyBvZiBodW5nZXIsIGFzIGl0IGRpZCBwcmlvciB0byBub3QgaGF2aW5nIGFueSBmb29kLiAgQXMgYSBjaGlsZCwgbXkgZm9zdGVyIHBhcmVudHMgYXQgdGltZXMgbmVlZGVkIHRvIGZvcmNlIG1lIG9mZiBteSBjb21wdXRlciBpbiBvcmRlciB0byBwZXJmb3JtIHJlZ3VsYXIgYWN0aXZpdGllcyBzdWNoIGFzIGVhdGluZywgc2hvd2VyaW5nLCBhbmQgZXZlbiBnb2luZyB0byB0aGUgYmF0aHJvb20uICBIb3dldmVyLCB3aGVuIGluIHN1Y2ggYSBmaW5hbmNpYWwgc3RhdGUgd2hpY2ggSSBjdXJyZW50bHkgZmluZCBteXNlbGYgaW4sIGl0IGlzIG11Y2ggZWFzaWVyIHRvIHJlZ3Jlc3MgYmFjayB0byBqdXN0IG1lcmVseSBzaXR0aW5nIGF0IG15IGNvbXB1dGVyIGFuZCBkb2luZyBib3RoIHJlc2VhcmNoIGFuZCBzb2Z0d2FyZSBkZXZlbG9wbWVudCBhcyBhIHdheSB0byB0YWtlIG15IG1pbmQgb2ZmIG9mIHRoZSBzdHJlc3MgaW4gbXkgbGlmZSwgYW5kIHVsdGltYXRlbHkgdGFrZSBteSBtaW5kIG9mZiBvZiBteSBpbW1lZGlhdGUgbmVlZHMsIHN1Y2ggYXMgZWF0aW5nLCBvZiB3aGljaCBJIGNhbiBiYXJlbHkgZG8sIGFuZCBub3cgSSBhbSBuZWVkaW5nIHRvIHJhdGlvbiBhbGwgb2YgdGhlIGZvb2QgSSBkbyBwcm9jdXJlLiAgQXQgbGVhc3QgSSBjYW4gZmluZCBzb21lIHNvbGFjZSBpbiBteSBvdGhlcndpc2UgaG9ycmlibGUgbGlmZSB1bnRpbCBJIGNhbiBwcm9wZXJseSB0YWtlIGNhcmUgb2YgbXlzZWxmIGFuZCBteSBuZWVkcyBvbmNlIGFnYWluLlxuIiB9LCB7ICJJRCIgOiA2MywgIlBBVEgiIDogIi9EaWdpdGFsSUQiLCAiVElUTEUiIDogIkRpZ2l0YWwgSURzIGluIENhbmFkYSIsICJDUkVBVEVEIiA6ICIyMDI0LTAzLTIwVDEwOjA5OjM3LjAzMloiLCAiTU9ESUZJRUQiIDogIjIwMjQtMDMtMjBUMTA6Mjk6NTMuNDM1WiIsICJDT05URU5UVFlQRSIgOiAxLCAiQ09OVEVOVCIgOiAiVGhpcyBtb3JuaW5nIEkganVzdCBiZWNhbWUgYXdhcmUgdGhyb3VnaCBhICpSZWRkaXQqIG5vdGlmaWNhdGlvbiBvZiBhIHBvc3QgbWFkZSAyNyBkYXlzIGFnby4gIFRoZSBSZWRkaXQgcG9zdCBoYXMgbWFueSBDYW5hZGlhbnMgdmVyeSB2b2NhbCBhYm91dCB0aGlzIG5ldyBwb3RlbnRpYWwgKkRpZ2l0YWwgSUQqIGJlaW5nIGltcGxlbWVudGVkIHdpdGhpbiBDYW5hZGEuICBNeSBvcmlnaW5hbCByZXBseSB3YXMgZ29pbmcgdG8gYmUgYmx1bnQgYW5kIGNvY2t5LCBcIipXZWxsIHdlIGRvIG5lZWQgSUQgdG8gd2FsayBpbnRvIGFkdWx0LW9ubHkgc3RvcmVzIGluIENhbmFkYSpcIiwgYnV0IHRoZW4gYWZ0ZXIgcmVhZGluZyBtYW55IG9mIHRoZSBjb21tZW50cyBwb3N0ZWQgYnkgZnJpZ2h0ZW5lZCBDYW5hZGlhbnMgY3J5aW5nIGxpa2UgbGl0dGxlIGJhYmllcywgYW5kIG5vdGljaW5nIHNvbWUgbW9yZSBjb21tZW50cyBhYm91dCB0aGUgcG90ZW50aWFsIG9mIHRoZXNlIGJlaW5nICpoYWNrZWQqLCBhcyBpbiB0aGUgcG9ybiB3ZWJzaXRlIGdldHRpbmcgaGFja2VkLCBhbmQgYSBiYWQgYWN0b3Igc3RlYWxpbmcgc2FpZCBEaWdpdGFsIElEcywgSSB3cm90ZSBhIHZhc3RseSBkaWZmZXJlbnQgY29tbWVudCBvbiB0aGUgc3ViamVjdC5cblxuVGhlcmUgaXMgYSB2ZXJ5IHNpbXBsZSBzb2x1dGlvbiBmb3IgdGhpcywgd2hpY2ggaXMgYWxyZWFkeSBpbiBwcmFjdGljYWwgdXNlIGluICpFdXJvcGUqLCAqKkNsaWVudC1zaWRlIFNTTCBjZXJ0aWZpY2F0ZXMqKi4gIFRoaXMgd291bGQgYmUgdGhlIGlkZWFsIHNvbHV0aW9uIGZvciB1c2UgaW4gQ2FuYWRhIGFzIHdlbGwsIHNvIENhbmFkaWFucyBjYW4gYmUgcmVzdCBhc3N1cmVkIHRoYXQgb25seSB0aGV5IGhhdmUgYWNjZXNzIHRvIHRoZWlyIG93biBnb3Zlcm5tZW50IGZpbGVzLCB0YXhlcywgYW5kIHllcywgYmUgdmVyaWZpZWQgZm9yIHBvcm4gc2l0ZXMuXG5cbltDbGllbnQtc2lkZSBTU0wgY2VydGlmaWNhdGVzXShodHRwczovL3d3dy5kaWdpY2VydC5jb20vZmFxL3B1YmxpYy10cnVzdC1hbmQtY2VydGlmaWNhdGVzL3doYXRzLXRoZS1kaWZmZXJlbmNlLWJldHdlZW4tY2xpZW50LWNlcnRpZmljYXRlcy12cy1zZXJ2ZXItY2VydGlmaWNhdGVzKVxuXG5JdCdzIGFuIGVhc3kgc29sdXRpb24sIGFuZCBpbiBldmVyeSBicm93c2VyIGFuZCBpbiBldmVyeSBvcGVyYXRpbmcgc3lzdGVtLCBqdXN0IGRvdWJsZS1jbGlja2luZyBvbiB0aGUgY2VydGlmaWNhdGUgZG93bmxvYWQsIGFzIHRoZSBmaWxlIGV4dGVuc2lvbiBpcyBub3JtYWxseSByZWdpc3RlcmVkIHdpdGggdGhlIGRlZmF1bHQgYnJvd3NlciwgYW5kIGl0IGp1c3QgaW5zdGFsbHMsIGFmdGVyIHRoZSBlbnRlcmluZyBvZiBhIHR5cGljYWwgKnBhc3NwaHJhc2UqIG9mIGNvdXJzZS4gIEl0J3MgZWFzeSB0byBpbXBsZW1lbnQsIGVhc3kgdG8gaW5zdGFsbCwgYW5kIGp1c3QgYXMgZWFzeSB0byB1c2UuICBJbiBmYWN0IHVzaW5nIHRoZSBjZXJ0IGlzIGFzIGVhc3kgYXMgbmF2aWdhdGluZyB0byB0aGUgd2Vic2l0ZSwgY2xpY2tpbmcgb24gdGhlIFNpZ24tSW4sIGFuZCBzZWxlY3RpbmcgdGhlIGNsaWVudC1zaWRlIGNlcnQgeW91IHdpc2ggdG8gc2lnbi1pbiB3aXRoLCB2YWxpZGF0aW5nIHlvdXIgaWRlbnRpZmljYXRpb24uICBUaGUgY2VydGlmaWNhdGUgaXRzZWxmIGlzIG5ldmVyIHNlbnQgdG8gdGhlIHJlbW90ZSBzZXJ2ZXIsIGFuZCBpbnN0ZWFkIGl0IGlzIHVzZWQgZm9yIHRoZSBlbmNyeXB0aW9uL2RlY3J5cHRpb24gZXhjaGFuZ2UgYmV0d2VlbiB0aGUgYnJvd3NlciBhbmQgdGhlIHNlcnZlciwgaXQncyByZWFsbHkgYSB2ZXJ5IHVudXNlZCBwb3dlcmZ1bCB0ZWNobm9sb2d5IHRoYXQgYSBtYWpvcml0eSBvZiB0aGUgd2VzdGVybiBwb3B1bGF0aW9uIGlzIGNvbXBsZXRlbHkgdW53YXJlIG9mLlxuXG5Gb3IgaW5mb3JtYXRpb24gb24gdGhlIHN1Y2Nlc3NmdWwgaW1wbGVtZW50YXRpb24gd2l0aGluIHRoZSBFdXJvcGVhbiBVbmlvbiwgc2VlIHRoZWlyIG9mZmljaWFsIHdlYnNpdGUgb24gKkRpZ2l0YWwgSURzKjpcblxuW0VVIERpZ2l0YWwgSURzXShodHRwczovL2NvbW1pc3Npb24uZXVyb3BhLmV1L3N0cmF0ZWd5LWFuZC1wb2xpY3kvcHJpb3JpdGllcy0yMDE5LTIwMjQvZXVyb3BlLWZpdC1kaWdpdGFsLWFnZS9ldXJvcGVhbi1kaWdpdGFsLWlkZW50aXR5X2VuKVxuIiB9LCB7ICJJRCIgOiA2NCwgIlBBVEgiIDogIi9QdXRlciIsICJUSVRMRSIgOiAiUHV0ZXI6IENsb3VkIERlc2t0b3AgUEMiLCAiQ1JFQVRFRCIgOiAiMjAyNC0wMy0yNVQyMDo1MTozNy4yMzBaIiwgIk1PRElGSUVEIiA6ICIyMDI0LTAzLTI1VDIwOjU2OjU2LjE2MVoiLCAiQ09OVEVOVFRZUEUiIDogMSwgIkNPTlRFTlQiIDogIltQdXRlcl0oaHR0cHM6Ly9wdXRlci5jb20pIGlzIGEgZmFpcmx5IG5ldyBwcm9kdWN0LCBhbmQgYXMgb2YgdGhpcyB3cml0aW5nLCBpdCBoYXMgYmVlbiB1bmRlciBoZWF2eSBkZXZlbG9wbWVudCBmb3IgdGhlIHBhc3Qgd2hpbGUuICBJdCBicmluZ3MgYm90aCBjbG91ZCBzdG9yYWdlLCBhbmQgYSBjbG91ZCBkZXNrdG9wIGFzIGEgd2F5IHRvIG1hbmFnZSB0aGlzIGNsb3VkIHN0b3JhZ2UsIGFzIHdlbGwgYXMgYSB3YXkgdG8gYnVpbGQgYXBwcyBmb3IgaXQuICBCZWxvdyBpcyBhIGxpc3Qgb2YgYWxsIHRoZSBjdXJyZW50IGFwcHMgSSBoYXZlIGF2YWlsYWJsZSBvbiBQdXRlciwgaW4gb3JkZXIgb2YgdGhlaXIgY3JlYXRpb246XG5cbiAgKiBbUHV0ZXIgVGVzdCBBcHBdKGh0dHBzOi8vcHV0ZXIuY29tL2FwcC9wdXRlci10ZXN0LWFwcC1jM2VsYjY1djVsdilcbiAgKiBbUHV0ZXJIYWNrXShodHRwczovL3B1dGVyLmNvbS9hcHAvcHV0ZXJoYWNrLXB2MHdoMHIzbDMpXG4gICogW1B1dGVyVGVybV0oaHR0cHM6Ly9wdXRlci5jb20vYXBwL3B1dGVydGVybS12NzZlbWw4NjlsKVxuICAqIFtQdXRlclBhY10oaHR0cHM6Ly9wdXRlci5jb20vYXBwL3B1dGVycGFjKVxuICAqIFtQdXRlcnRpc10oaHR0cHM6Ly9wdXRlci5jb20vYXBwL3B1dGVydGV0cmlzKVxuICAqIFtQdXRlcnRob25dKGh0dHBzOi8vcHV0ZXIuY29tL2FwcC9wdXRlcnRob24pIHNvb24gdG8gYmUgcmVuYW1lZCAqKlB1dGhvbioqXG4gICogW1B1dGVyQmxvZ2dlcl0oaHR0cHM6Ly9wdXRlci5jb20vYXBwL3B1dGVyYmxvZ2dlcilcbiIgfV0gfQ=="}),rtl.module("System",[],function(){"use strict";var e=this,t=e.$impl,s=null,o=null,n=null,i=null,a=null;this.LineEnding=`
`,this.sLineBreak=this.LineEnding,this.MaxLongint=2147483647,this.Maxint=2147483647,s=this.TTextLineBreakStyle={0:"tlbsLF",tlbsLF:0,1:"tlbsCRLF",tlbsCRLF:1,2:"tlbsCR",tlbsCR:2},rtl.createClass(this,"TObject",null,function(){o=this,this.$init=function(){},this.$final=function(){},this.Create=function(){return this},this.Destroy=function(){},this.Free=function(){this.$destroy("Destroy")},this.ClassType=function(){return this},this.InheritsFrom=function(e){return e!=null&&(this==e||e.isPrototypeOf(this))},this.FieldAddress=function(e){if(n=null,n=null,e==="")return n;for(t=this.$class,s=null,a=e.toLowerCase(),o=null;t!==null;){s=t.$rtti;for(var t,n,s,o,a,i=0,r=s.fields.length-1;i<=r;i++)if(o=s.getField(i),o.name.toLowerCase()===a)return o;t=t.$ancestor?t.$ancestor:null}return n},this.AfterConstruction=function(){},this.BeforeDestruction=function(){}}),this.vtInteger=0,this.vtExtended=3,this.vtWideChar=9,this.vtCurrency=12,this.vtUnicodeString=18,this.vtNativeInt=19,rtl.recNewT(this,"TVarRec",function(){n=this,this.VType=0,this.VJSValue=void 0,this.$eq=function(e){return this.VType===e.VType&&this.VJSValue===e.VJSValue&&this.VJSValue===e.VJSValue&&this.VJSValue===e.VJSValue&&this.VJSValue===e.VJSValue&&this.VJSValue===e.VJSValue&&this.VJSValue===e.VJSValue&&this.VJSValue===e.VJSValue},this.$assign=function(e){return this.VType=e.VType,this.VJSValue=e.VJSValue,this.VJSValue=e.VJSValue,this.VJSValue=e.VJSValue,this.VJSValue=e.VJSValue,this.VJSValue=e.VJSValue,this.VJSValue=e.VJSValue,this.VJSValue=e.VJSValue,this}}),this.VarRecs=function(){for(var s=[],e=0,t=null,s=[];e<arguments.length;)t=n.$new(),t.VType=rtl.trunc(arguments[e]),e+=1,t.VJSValue=arguments[e],e+=1,s.push(n.$clone(t));return s},this.IsConsole=!1,this.OnParamCount=null,this.OnParamStr=null,this.Frac=function(e){return e%1},this.Odd=function(e){return e&1!=0},this.Sqr$1=function(e){return e*e},this.Trunc=function(t){return Math.trunc||(Math.trunc=function(e){return e=+e,isFinite(e)?e-e%1||(e<0?-0:e===0?e:0):e}),e.Trunc=Math.trunc,Math.trunc(t)},this.DefaultTextLineBreakStyle=0,this.Int=function(t){var n=0,n=e.Trunc(t);return n},this.Copy=function(e,t,n){return t<1&&(t=1),n>0?e.substring(t-1,t+n-1):""},this.Copy$1=function(e,t){return t<1&&(t=1),e.substr(t-1)},this.Delete=function(t,n,s){var o="";if(n<1||n>t.get().length||s<=0)return;o=t.get(),t.set(e.Copy(o,1,n-1)+e.Copy$1(o,n+s))},this.Pos=function(e,t){return t.indexOf(e)+1},this.Insert=function(t,n,s){var o="";if(t==="")return;o=n.get(),s<1?n.set(t+o):s>o.length?n.set(o+t):n.set(e.Copy(o,1,s-1)+t+e.Copy(o,s,o.length))},this.upcase=function(e){return e.toUpperCase()},this.val=function(e,n,s){n.set(t.valint(e,-9007199254740991,9007199254740991,s))},this.val$6=function(e,n,s){n.set(t.valint(e,-2147483648,2147483647,s))},this.val$8=function(e,t,n){var s=0;if(e===""){n.set(1);return}s=Number(e),isNaN(s)?n.set(1):(n.set(0),t.set(s))},this.StringOfChar=function(e,t){if(n="",o=0,t>0&&e.repeat)return e.repeat(t);n="";for(var n,o,s=1,i=t;s<=i;s++)o=s,n=n+e;return n},this.Writeln=function(){if(e=0,n=0,s="",n=arguments.length-1,t.WriteCallBack!=null)for(var e,n,s,o,a,i=0,r=n;i<=r;i++)e=i,t.WriteCallBack(arguments[e],e===n);else{s=t.WriteBuf;for(o=0,a=n;o<=a;o++)e=o,s=s+(""+arguments[e]);console.log(s),t.WriteBuf=""}},this.SetWriteCallBack=function(e){var n=null,n=t.WriteCallBack;return t.WriteCallBack=e,n},this.Assigned=function(e){return e!=null&&e!=null&&(!rtl.isArray(e)||e.length>0)},e.$implcode=function(){t.WriteBuf="",t.WriteCallBack=null,t.valint=function(t,n,s,o){var r,a=0,i=0;if(t==="")return o.set(1),a;if(i=Number(t),isNaN(i))if(r=e.Copy(t,1,1),r==="$")i=Number("0x"+e.Copy$1(t,2));else if(r==="&")i=Number("0o"+e.Copy$1(t,2));else if(r==="%")i=Number("0b"+e.Copy$1(t,2));else return o.set(1),a;return isNaN(i)||i!==e.Int(i)?o.set(1):i<n||i>s?o.set(2):(a=e.Trunc(i),o.set(0)),a}},e.$init=function(){rtl.exitcode=0}},[]),rtl.module("Types",["System"],function(){"use strict";var n=this,e=null,t=null,e=this.TDirection={0:"FromBeginning",FromBeginning:0,1:"FromEnd",FromEnd:1},t=this.TDuplicates={0:"dupIgnore",dupIgnore:0,1:"dupAccept",dupAccept:1,2:"dupError",dupError:2}}),rtl.module("JS",["System","Types"],function(){"use strict";var s=this,e=null,o=null,i=null,a=null,r=null,c=null,l=null,d=null,n=pas.System,t=n.TObject;rtl.createClass(this,"EJS",t,function(){e=this,this.$init=function(){t.$init.call(this),this.FMessage=""},this.Create$1=function(e){return this.FMessage=e,this}}),this.New=function(t){var i=null,s=0,n=0,o="",s=rtl.length(t);if(s%2===1)throw e.$create("Create$1",["Number of arguments must be even"]);for(n=0;n<s;){if(!rtl.isString(t[n]))throw o=String(n),e.$create("Create$1",["Argument "+o+" must be a string."]);n+=2}for(n=0,i=new Object;n<s;)o=""+t[n],i[o]=t[n+1],n+=2;return i},this.JSDelete=function(e,t){return delete e[t]},this.isBoolean=function(e){return typeof e=="boolean"},this.isDate=function(e){return e instanceof Date},this.isInteger=function(e){return Math.floor(e)===e},this.isNull=function(e){return e===null},this.isUndefined=function(e){return e==null},this.isDefined=function(e){return e!=null},this.toNumber=function(e){return e-0}}),rtl.module("Web",["System","Types","JS"],function(){"use strict";var e=this,t=null,n=null,s=null,o=null,i=null,a=null,r=null,c=null,l=null,d=null,u=null,h=null,m=null,f=null,p=null}),rtl.module("RTLConsts",["System"],function(){"use strict";var e=this;e.$resourcestrings={SArgumentMissing:{org:'Missing argument in format "%s"'},SInvalidFormat:{org:'Invalid format specifier : "%s"'},SInvalidArgIndex:{org:'Invalid argument index in format: "%s"'},SListCapacityError:{org:"List capacity (%s) exceeded."},SListCountError:{org:"List count (%s) out of bounds."},SListIndexError:{org:"List index (%s) out of bounds"},SSortedListError:{org:"Operation not allowed on sorted list"},SDuplicateString:{org:"String list does not allow duplicates"},SErrFindNeedsSortedList:{org:"Cannot use find on unsorted list"},SInvalidName:{org:'Invalid component name: "%s"'},SInvalidBoolean:{org:'"%s" is not a valid boolean.'},SDuplicateName:{org:'Duplicate component name: "%s"'},SErrInvalidDate:{org:'Invalid date: "%s"'},SErrInvalidTimeFormat:{org:'Invalid time format: "%s"'},SInvalidDateFormat:{org:'Invalid date format: "%s"'},SErrInvalidInteger:{org:'Invalid integer value: "%s"'},SErrInvalidFloat:{org:'Invalid floating-point value: "%s"'},SInvalidCurrency:{org:"Invalid currency value: %s"}}}),rtl.module("SysUtils",["System","RTLConsts","JS"],function(){"use strict";var f,v,y,w,F,e=this,t=e.$impl,g=null,o=null,m=null,O=null,i=null,M=null,x=null,S=null,j=null,a=pas.System,b=a.TObject,A=a.Writeln,k=a.val,n=a.Copy,E=a.upcase,u=a.StringOfChar,h=a.Insert,d=pas.RTLConsts,r=a.VarRecs,p=a.val$6,C=a.val$8,l=a.Trunc,_=a.Frac,s=a.Pos,c=a.Delete;this.FreeAndNil=function(e){var t=null,t=e.get();if(t===null)return;e.set(null),t.$destroy("Destroy")},this.FloatRecDigits=19,rtl.recNewT(this,"TFloatRec",function(){g=this,this.Exponent=0,this.Negative=!1,this.$new=function(){var e=Object.create(this);return e.Digits=rtl.arraySetLength(null,"",19),e},this.$eq=function(e){return this.Exponent===e.Exponent&&this.Negative===e.Negative&&rtl.arrayEq(this.Digits,e.Digits)},this.$assign=function(e){return this.Exponent=e.Exponent,this.Negative=e.Negative,this.Digits=e.Digits.slice(0),this}}),rtl.recNewT(this,"TFormatSettings",function(){o=this,this.CurrencyDecimals=0,this.CurrencyFormat=0,this.CurrencyString="",this.DateSeparator="",this.DecimalSeparator="",this.LongDateFormat="",this.LongTimeFormat="",this.NegCurrFormat=0,this.ShortDateFormat="",this.ShortTimeFormat="",this.ThousandSeparator="",this.TimeAMString="",this.TimePMString="",this.TimeSeparator="",this.TwoDigitYearCenturyWindow=0,this.InitLocaleHandler=null,this.$new=function(){var e=Object.create(this);return e.DateTimeToStrFormat=rtl.arraySetLength(null,"",2),e.LongDayNames=rtl.arraySetLength(null,"",7),e.LongMonthNames=rtl.arraySetLength(null,"",12),e.ShortDayNames=rtl.arraySetLength(null,"",7),e.ShortMonthNames=rtl.arraySetLength(null,"",12),e},this.$eq=function(e){return this.CurrencyDecimals===e.CurrencyDecimals&&this.CurrencyFormat===e.CurrencyFormat&&this.CurrencyString===e.CurrencyString&&this.DateSeparator===e.DateSeparator&&rtl.arrayEq(this.DateTimeToStrFormat,e.DateTimeToStrFormat)&&this.DecimalSeparator===e.DecimalSeparator&&this.LongDateFormat===e.LongDateFormat&&rtl.arrayEq(this.LongDayNames,e.LongDayNames)&&rtl.arrayEq(this.LongMonthNames,e.LongMonthNames)&&this.LongTimeFormat===e.LongTimeFormat&&this.NegCurrFormat===e.NegCurrFormat&&this.ShortDateFormat===e.ShortDateFormat&&rtl.arrayEq(this.ShortDayNames,e.ShortDayNames)&&rtl.arrayEq(this.ShortMonthNames,e.ShortMonthNames)&&this.ShortTimeFormat===e.ShortTimeFormat&&this.ThousandSeparator===e.ThousandSeparator&&this.TimeAMString===e.TimeAMString&&this.TimePMString===e.TimePMString&&this.TimeSeparator===e.TimeSeparator&&this.TwoDigitYearCenturyWindow===e.TwoDigitYearCenturyWindow},this.$assign=function(e){return this.CurrencyDecimals=e.CurrencyDecimals,this.CurrencyFormat=e.CurrencyFormat,this.CurrencyString=e.CurrencyString,this.DateSeparator=e.DateSeparator,this.DateTimeToStrFormat=e.DateTimeToStrFormat.slice(0),this.DecimalSeparator=e.DecimalSeparator,this.LongDateFormat=e.LongDateFormat,this.LongDayNames=e.LongDayNames.slice(0),this.LongMonthNames=e.LongMonthNames.slice(0),this.LongTimeFormat=e.LongTimeFormat,this.NegCurrFormat=e.NegCurrFormat,this.ShortDateFormat=e.ShortDateFormat,this.ShortDayNames=e.ShortDayNames.slice(0),this.ShortMonthNames=e.ShortMonthNames.slice(0),this.ShortTimeFormat=e.ShortTimeFormat,this.ThousandSeparator=e.ThousandSeparator,this.TimeAMString=e.TimeAMString,this.TimePMString=e.TimePMString,this.TimeSeparator=e.TimeSeparator,this.TwoDigitYearCenturyWindow=e.TwoDigitYearCenturyWindow,this},this.GetJSLocale=function(){return Intl.DateTimeFormat().resolvedOptions().locale},this.Create=function(){var e=o.$new();return e.$assign(o.Create$1(o.GetJSLocale())),e},this.Create$1=function(n){var s=o.$new();return s.LongDayNames=t.DefaultLongDayNames.slice(0),s.ShortDayNames=t.DefaultShortDayNames.slice(0),s.ShortMonthNames=t.DefaultShortMonthNames.slice(0),s.LongMonthNames=t.DefaultLongMonthNames.slice(0),s.DateTimeToStrFormat[0]="c",s.DateTimeToStrFormat[1]="f",s.DateSeparator="-",s.TimeSeparator=":",s.ShortDateFormat="yyyy-mm-dd",s.LongDateFormat="ddd, yyyy-mm-dd",s.ShortTimeFormat="hh:nn",s.LongTimeFormat="hh:nn:ss",s.DecimalSeparator=".",s.ThousandSeparator=",",s.TimeAMString="AM",s.TimePMString="PM",s.TwoDigitYearCenturyWindow=50,s.CurrencyFormat=0,s.NegCurrFormat=0,s.CurrencyDecimals=2,s.CurrencyString="$",o.InitLocaleHandler!=null&&o.InitLocaleHandler(e.UpperCase(n),o.$clone(s)),s}},!0),rtl.createClass(this,"Exception",b,function(){m=this,this.LogMessageOnCreate=!1,this.$init=function(){b.$init.call(this),this.fMessage=""},this.Create$1=function(e){return this.fMessage=e,this.LogMessageOnCreate&&A("Created exception ",this.$classname," with message: ",e),this},this.CreateFmt=function(t,n){return this.Create$1(e.Format(t,n)),this}}),rtl.createClass(this,"EAbort",m,function(){O=this}),rtl.createClass(this,"EConvertError",m,function(){i=this}),rtl.createClass(this,"EVariantError",m,function(){M=this}),this.Trim=function(e){return e.replace(/^[\s\uFEFF\xA0\x00-\x1f]+/,"").replace(/[\s\uFEFF\xA0\x00-\x1f]+$/,"")},this.TrimLeft=function(e){return e.replace(/^[\s\uFEFF\xA0\x00-\x1f]+/,"")},this.UpperCase=function(e){return e.toUpperCase()},this.LowerCase=function(e){return e.toLowerCase()},this.CompareStr=function(e,t){var n,s=e.length,o=t.length;return s<=o?(n=t.substr(0,s),e<n?-1:e>n?1:s<o?-1:0):(n=e.substr(0,o),n<t?-1:1)},this.CompareText=function(e,t){var n=e.toLowerCase(),s=t.toLowerCase();return n>s?1:n<s?-1:0},this.SameText=function(e,t){return e.toLowerCase()==t.toLowerCase()},this.AnsiSameText=function(e,t){return e.toLowerCase()==t.toLowerCase()},this.Format=function(t,n){var s="",s=e.Format$1(t,n,e.FormatSettings);return s},this.Format$1=function(s,o,i){var f,b="",r=0,g=0,v=0,l=0,j=0,_="",a="",c=0,p=0,d=0,w=!1,O="",y=0;function x(){var i="",e=0;function a(){var l,a=0,i=0;if(e!==-1)return;for(g=r;r<=j&&s.charAt(r-1)<="9"&&s.charAt(r-1)>="0";)r+=1;r>j&&t.DoFormatError(1,s),s.charAt(r-1)==="*"?(c===255?i=v:(i=c,c+=1),(r>g||i>rtl.length(o)-1)&&t.DoFormatError(1,s),v=i+1,l=o[i].VType,l===0?e=o[i].VJSValue:l===19?e=o[i].VJSValue:t.DoFormatError(1,s),r+=1):g<r?(k(n(s,g,r-g),{get:function(){return e},set:function(t){e=t}},{get:function(){return a},set:function(e){a=e}}),a>0&&t.DoFormatError(1,s)):e=-1}function l(){s.charAt(r-1)!==":"?a():e=0,s.charAt(r-1)===":"&&(e===-1&&t.DoFormatError(2,s),c=e,e=-1,r+=1)}function u(){s.charAt(r-1)==="-"?(w=!0,r+=1):w=!1}function h(){a(),e!==-1&&(p=e,e=-1)}function m(){s.charAt(r-1)==="."&&(r+=1,a(),e===-1&&(e=0),d=e)}return c=255,p=-1,d=-1,e=-1,r+=1,s.charAt(r-1)==="%"?(i="%",i):(l(),u(),h(),m(),i=E(s.charAt(r-1)),i)}function m(e,n){var i=!1,i=!1;return c===255?l=v:l=c,v=l+1,l>rtl.length(o)-1||o[l].VType!==e?(n&&t.DoFormatError(3,s),v-=1,i):(i=!0,i)}for(b="",j=s.length,r=1,g=1,v=0;r<=j;){for(;r<=j&&s.charAt(r-1)!=="%";)r+=1;if(r>g&&(b=b+n(s,g,r-g)),r<j){if(O=x(),f=O,f==="D")m(0,!1)?a=e.IntToStr(o[l].VJSValue):m(19,!0)&&(a=e.IntToStr(o[l].VJSValue)),p=Math.abs(p),c=d-a.length,a.charAt(0)!=="-"?a=u("0",c)+a:h(u("0",c+1),{get:function(){return a},set:function(e){a=e}},2);else if(f==="U")m(0,!1)?a=e.IntToStr(o[l].VJSValue>>>0):m(19,!0)&&(a=e.IntToStr(o[l].VJSValue)),p=Math.abs(p),c=d-a.length,a=u("0",c)+a;else if(f==="E")m(12,!1)?a=e.FloatToStrF$1(o[l].VJSValue/1e4,2,3,d,i):m(3,!0)&&(a=e.FloatToStrF$1(o[l].VJSValue,2,3,d,i));else if(f==="F")m(12,!1)?a=e.FloatToStrF$1(o[l].VJSValue/1e4,0,9999,d,i):m(3,!0)&&(a=e.FloatToStrF$1(o[l].VJSValue,0,9999,d,i));else if(f==="G")m(12,!1)?a=e.FloatToStrF$1(o[l].VJSValue/1e4,1,d,3,i):m(3,!0)&&(a=e.FloatToStrF$1(o[l].VJSValue,1,d,3,i));else if(f==="N")m(12,!1)?a=e.FloatToStrF$1(o[l].VJSValue/1e4,3,9999,d,i):m(3,!0)&&(a=e.FloatToStrF$1(o[l].VJSValue,3,9999,d,i));else if(f==="M")m(12,!1)?a=e.FloatToStrF$1(o[l].VJSValue/1e4,4,9999,d,i):m(3,!0)&&(a=e.FloatToStrF$1(o[l].VJSValue,4,9999,d,i));else if(f==="S")m(18,!1)?_=o[l].VJSValue:m(9,!0)&&(_=o[l].VJSValue),c=_.length,d!==-1&&c>d&&(c=d),a=n(_,1,c);else if(f==="P")m(0,!1)?a=e.IntToHex(o[l].VJSValue,8):m(0,!0)&&(a=e.IntToHex(o[l].VJSValue,16));else if(f==="X")if(m(0,!1)?(y=o[l].VJSValue,c=16):m(19,!0)&&(y=o[l].VJSValue,c=31),d>c)a=e.IntToHex(y,c);else{for(c=1;rtl.shl(1,c*4)<=y&&c<16;)c+=1;c>d&&(d=c),a=e.IntToHex(y,d)}else f==="%"&&(a="%");p!==-1&&a.length<p&&(w?a=a+u(" ",p-a.length):a=u(" ",p-a.length)+a),b=b+a}r+=1,g=r}return b},f=rtl.createSet(null,65,90,null,97,122,95),v=rtl.unionSet(f,rtl.createSet(null,48,57)),y=".",this.IsValidIdent=function(e,t,n){var o=!1,i=!1,s=0,a=0,a=e.length;if(a<1)return!1;for(i=!0,o=!1,s=1;s<=a;){if(i){if(!(e.charCodeAt(s-1)in f))return o;i=!1}else if(t&&e.charAt(s-1)===y){if(n){if(s>=a)return o;i=!0}}else if(!(e.charCodeAt(s-1)in v))return o;s=s+1}return o=!0,o},x=this.TStringReplaceFlag={0:"rfReplaceAll",rfReplaceAll:0,1:"rfIgnoreCase",rfIgnoreCase:1},this.StringReplace=function(e,n,s,o){var a="",i="",r="",i="";return 0 in o&&(i="g"),1 in o&&(i=i+"i"),r=n.replace(new RegExp(t.RESpecials,"g"),"\\$1"),a=e.replace(new RegExp(r,i),s),a},this.QuoteString=function(t,n){var s="",s=n+e.StringReplace(t,n,n+n,rtl.createSet(0))+n;return s},this.QuotedStr=function(t,n){var s="",s=e.QuoteString(t,n);return s},this.IntToStr=function(e){var t="",t=""+e;return t},this.TryStrToInt$1=function(n,s){var o=!1,o=t.IntTryStrToInt(n,s,e.FormatSettings.DecimalSeparator);return o},this.StrToIntDef=function(t,n){var s=0,o=0;return e.TryStrToInt$1(t,{get:function(){return o},set:function(e){o=e}})?s=o:s=n,s},this.StrToIntDef$1=function(t,n){var s=0,o=0;return e.TryStrToInt$1(t,{get:function(){return o},set:function(e){o=e}})?s=o:s=n,s},this.StrToInt=function(t){var s=0,n=0;if(!e.TryStrToInt$1(t,{get:function(){return n},set:function(e){n=e}}))throw i.$create("CreateFmt",[rtl.getResStr(d,"SErrInvalidInteger"),r(18,t)]);return s=n,s},this.StrToInt64=function(t){var s=0,n=0;if(!e.TryStrToInt$1(t,{get:function(){return n},set:function(e){n=e}}))throw i.$create("CreateFmt",[rtl.getResStr(d,"SErrInvalidInteger"),r(18,t)]);return s=n,s},this.TryStrToInt64=function(t,n){var s=!1,o=0,s=e.TryStrToInt$1(t,{get:function(){return o},set:function(e){o=e}});return s&&n.set(o),s},this.IntToHex=function(t,n){var s="",s="";for(t<0&&t<0&&(t=4294967295+t+1),s=t.toString(16),s=e.UpperCase(s);s.length<n;)s="0"+s;return s},S=this.TFloatFormat={0:"ffFixed",ffFixed:0,1:"ffGeneral",ffGeneral:1,2:"ffExponent",ffExponent:2,3:"ffNumber",ffNumber:3,4:"ffCurrency",ffCurrency:4},w="123456789:",this.FloatToDecimal=function(t,s,o){var a=g.$new(),r="",u="",d=0,f=0,i=0,c=0,l=0,h=!1,m=!1;a.Negative=!1,a.Exponent=0;for(l=0;l<=19;l++)a.Digits[l]="0";if(t===0)return a;for(r=rtl.floatToStr(t,24),i=1,c=r.length;r.charAt(i-1)===" ";)i+=1;if(a.Negative=r.charAt(i-1)==="-",a.Negative?i+=1:r.charAt(i-1)==="+"&&(i+=1),c>=i+2){if(u=n(r,i,3),u==="Inf")return a.Digits[0]="\0",a.Exponent=32767,a;if(u==="Nan")return a.Digits[0]="\0",a.Exponent=-32768,a}for(d=0,a.Exponent=0,m=!0,h=!1;c>=i&&r.charAt(i-1)!=="E";)r.charAt(i-1)==="."?m=!1:(m?(a.Exponent+=1,a.Digits[d]=r.charAt(i-1),r.charAt(i-1)!=="0"&&(h=!0)):a.Digits[d-1]=r.charAt(i-1),d+=1),i+=1;for(i+=1,i<=c&&(p(n(r,i,c-i+1),{get:function(){return l},set:function(e){l=e}},{get:function(){return f},set:function(e){f=e}}),a.Exponent+=l),i=d,c=19;i<c;)a.Digits[i]="0",i+=1;if(o+a.Exponent<s?i=o+a.Exponent:i=s,i>=c&&(i=c-1),i===0)a.Digits[0]>="5"?(a.Digits[0]="1",a.Digits[1]="\0",a.Exponent+=1):a.Digits[0]="\0";else if(i>0)if(a.Digits[i]>="5"){do a.Digits[i]="\0",i-=1,a.Digits[i]=w.charAt(e.StrToInt(a.Digits[i])+1-1);while(!(i===0||a.Digits[i]<":"))a.Digits[0]===":"&&(a.Digits[0]="1",a.Exponent+=1)}else for(a.Digits[i]="0";i>-1&&a.Digits[i]==="0";)a.Digits[i]="\0",i-=1;else a.Digits[0]="\0";return a.Digits[0]==="\0"&&!h&&(a.Exponent=0,a.Negative=!1),a},this.FloatToStr=function(t){var n="",n=e.FloatToStr$1(t,e.FormatSettings);return n},this.FloatToStr$1=function(t,n){var s="",s=e.FloatToStrF$1(t,1,15,0,n);return s},this.FloatToStrF$1=function(e,n,s,o,i){var a="",l="",r="",r=i.DecimalSeparator,l=i.ThousandSeparator,c=n;return c===1?a=t.FormatGeneralFloat(e,s,r):c===2?a=t.FormatExponentFloat(e,s,o,r):c===0?a=t.FormatFixedFloat(e,o,r):c===3?a=t.FormatNumberFloat(e,o,r,l):c===4&&(a=t.FormatNumberCurrency(e*1e4,o,i)),n!==4&&a.length>1&&a.charAt(0)==="-"&&t.RemoveLeadingNegativeSign({get:function(){return a},set:function(e){a=e}},r,l),a},this.TryStrToFloat$3=function(t,n,s){var i=!1,a=void 0,o="",o=t;return s.ThousandSeparator!==""&&(o=e.StringReplace(o,s.ThousandSeparator,"",rtl.createSet(0))),s.DecimalSeparator!=="."&&(o=e.StringReplace(o,s.DecimalSeparator,".",{})),a=parseFloat(o),i=!isNaN(a),i&&n.set(rtl.getNumber(a)),i},this.StrToFloatDef=function(t,n){var s=0;return e.TryStrToFloat$3(t,{get:function(){return s},set:function(e){s=e}},e.FormatSettings)||(s=n),s},this.StrToFloat=function(t){var n=0,n=e.StrToFloat$1(t,e.FormatSettings);return n},this.StrToFloat$1=function(t,n){var s=0;if(!e.TryStrToFloat$3(t,{get:function(){return s},set:function(e){s=e}},n))throw i.$create("CreateFmt",[rtl.getResStr(d,"SErrInvalidFloat"),r(18,t)]);return s},this.FormatFloat=function(t,n){var s="",s=e.FormatFloat$1(t,n,o.$clone(e.FormatSettings));return s},F=18,this.FormatFloat$1=function(t,s,o){var a,r,c,l,_,C,M,w="",F=0,p=g.$new(),i="",j=0,D=!1,E=!1,d=0,v=0,y=0,f=0,k=0,O=0,A=0,b=0,h=0;function N(){F=s,i="",j=0,D=!1,E=!1,d=0,v=2147483647,y=0,f=0,k=0,O=-1}function x(e){w=w+e}function T(e){w=w+e}function S(e){if(e==="\0")return;h-=1,h===-1?(T(o.DecimalSeparator),x(e)):(x(e),D&&h%3===0&&h>1&&T(o.ThousandSeparator))}function z(){var e="",e="\0";return A<=O?(e=p.Digits[A],A+=1):h<=y?h-=1:e="0",e}function B(){if(b===0)S(z());else if(b<0)b+=1,h<=v?S("0"):h-=1;else{for(;b>0;)S(z()),b-=1;S(z())}}function I(e){var a,n=0,r=0,s=0,i="",c="",o=!1,n=1;for(e.get()[1]=-1,e.get()[2]=-1,e.get()[3]=-1,o=!1,c="\0",s=1,r=t.length;s<=r;){if(i=t.charAt(s-1),a=i,a===";"){if(!o){if(n>3)throw m.$create("Create$1",["Invalid float format"]);e.get()[n]=s,n+=1}}else(a==='"'||a==="'")&&(o?o=i!==c:(o=!0,c=i));s+=1}return e.get()[n]===-1&&(e.get()[n]=r+1),n}function H(){for(var n,e=0,a=0,r="",t="",s=!1,a=i.length,e=1,s=!1,r="\0";e<=a;){if(t=i.charAt(e-1),t.charCodeAt()in rtl.createSet(34,39))s?s=t!==r:(s=!0,r=t);else if(!s)if(n=t,n===".")d===0&&(d=f+1);else if(n===",")D=o.ThousandSeparator!=="\0";else if(n==="e"||n==="E"){if(e+=1,e<a){if(t=i.charAt(e-1),E=t.charCodeAt()in rtl.createSet(45,43),E)for(;e<a&&i.charAt(e+1-1)==="0";)k+=1,e+=1;k>4&&(k=4)}}else n==="#"?f+=1:n==="0"&&(f<v&&(v=f+1),f+=1,y=f+1);e+=1}d===0&&(d=f+1),y=d-y,y>0&&(y=0),v=d-v,v<0&&(v=0)}function P(){var e=!1,e=p.Exponent>=18&&!E||p.Exponent===2047||p.Exponent===2048;return e}function R(){var t=0,n=0;for(E?(n=f,t=9999):(n=18,t=f-d+1),p.$assign(e.FloatToDecimal(s,n,t)),h=d-1,E?b=0:(b=p.Exponent-(d-1),b>=0&&(h=p.Exponent)),O=-1;O<18&&p.Digits[O+1]!=="\0";)O+=1}function L(t,n){var s="",s=e.IntToStr(n),s=u("0",k-s.length)+s;return n<0?s="-"+s:n>0&&t==="+"&&(s=t+s),s}for(a=0,c=0,r="",M="",l=[],C=!1,l=rtl.arraySetLength(l,0,4),w="",N(),F>0?c=1:F<0?c=2:c=3,l[0]=0,a=I({get:function(){return l},set:function(e){l=e}}),(a<c||l[c]-l[c-1]===0)&&(c=1),j=l[c]-l[c-1]-1,i=n(t,l[c-1]+1,j),i=rtl.strSetLength(i,j),H(),R(),(j===0||P())&&(i=F.toPrecision(15),w=i),a=1,A=0,M=" ",C=!1,p.Negative&&c===1&&x("-");a<=j;){if(r=i.charAt(a-1),r.charCodeAt()in rtl.createSet(34,39))C?C=r!==M:(C=!0,M=r);else if(C)x(r);else if(_=r,_==="0"||_==="#")B();else if(_==="."||_===",");else if(_==="e"||_==="E"){if(x(r),a+=1,a<=i.length&&(r=i.charAt(a-1),r.charCodeAt()in rtl.createSet(43,45)))for(T(L(r,p.Exponent-d+1));a<j&&i.charAt(a+1-1)==="0";)a+=1}else x(r);a+=1}return w},this.TrueBoolStrs=[],this.FalseBoolStrs=[],this.StrToBool=function(t){var n=!1;if(!e.TryStrToBool(t,{get:function(){return n},set:function(e){n=e}}))throw i.$create("CreateFmt",[rtl.getResStr(d,"SInvalidBoolean"),r(18,t)]);return n},this.BoolToStr=function(n,s){var o="";return s?(t.CheckBoolStrs(),n?o=e.TrueBoolStrs[0]:o=e.FalseBoolStrs[0]):n?o="-1":o="0",o},this.StrToBoolDef=function(t,n){var s=!1;return e.TryStrToBool(t,{get:function(){return s},set:function(e){s=e}})||(s=n),s},this.TryStrToBool=function(n,s){if(o=!1,i="",a=0,r=0,c=0,i=e.UpperCase(n),C(i,{get:function(){return r},set:function(e){r=e}},{get:function(){return c},set:function(e){c=e}}),o=!0,c===0)s.set(r!==0);else{t.CheckBoolStrs();for(var o,i,a,r,c,l,u,d=0,h=rtl.length(e.TrueBoolStrs)-1;d<=h;d++)if(a=d,i===e.UpperCase(e.TrueBoolStrs[a]))return s.set(!0),o;for(l=0,u=rtl.length(e.FalseBoolStrs)-1;l<=u;l++)if(a=l,i===e.UpperCase(e.FalseBoolStrs[a]))return s.set(!1),o;o=!1}return o},this.OnGetEnvironmentVariable=null,this.OnGetEnvironmentString=null,this.OnGetEnvironmentVariableCount=null,this.Abort=function(){throw O.$create("Create$1",[rtl.getResStr(e,"SAbortError")])},rtl.recNewT(this,"TTimeStamp",function(){j=this,this.Time=0,this.Date=0,this.$eq=function(e){return this.Time===e.Time&&this.Date===e.Date},this.$assign=function(e){return this.Time=e.Time,this.Date=e.Date,this}}),this.TimeSeparator="",this.DateSeparator="",this.ShortDateFormat="",this.LongDateFormat="",this.ShortTimeFormat="",this.LongTimeFormat="",this.DecimalSeparator="",this.ThousandSeparator="",this.TimeAMString="",this.TimePMString="",this.HoursPerDay=24,this.MinsPerHour=60,this.SecsPerMin=60,this.MSecsPerSec=1e3,this.MinsPerDay=24*60,this.SecsPerDay=1440*60,this.MSecsPerDay=86400*1e3,this.MaxDateTime=2958465.99999999,this.DateDelta=693594,this.MonthDays$a$clone=function(e){var t,n=[];n.length=2;for(t=0;t<2;t++)n[t]=e[t].slice(0);return n},this.MonthDays=[[31,28,31,30,31,30,31,31,30,31,30,31],[31,29,31,30,31,30,31,31,30,31,30,31]],this.ShortMonthNames=rtl.arraySetLength(null,"",12),this.LongMonthNames=rtl.arraySetLength(null,"",12),this.ShortDayNames=rtl.arraySetLength(null,"",7),this.LongDayNames=rtl.arraySetLength(null,"",7),this.FormatSettings=o.$new(),this.TwoDigitYearCenturyWindow=50,this.JSDateToDateTime=function(t){var n=0,n=e.EncodeDate(t.getFullYear(),t.getMonth()+1,t.getDate())+e.EncodeTime(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());return n},this.DateTimeToTimeStamp=function(e){var n=j.$new(),t=0,t=e*864e5;return t<0?t=t-.5:t=t+.5,n.Time=l(Math.abs(l(t))%864e5),n.Date=693594+rtl.trunc(l(t)/864e5),n},this.TryEncodeDate=function(t,n,s,o){var i=!1,a=0,r=0,i=t>0&&t<1e4&&n>=1&&n<=12&&s>0&&s<=e.MonthDays[+e.IsLeapYear(t)][n-1];return i&&(n>2?n-=3:(n+=9,t-=1),a=rtl.trunc(t/100),r=t-100*a,o.set((146097*a>>>2)+(1461*r>>>2)+rtl.trunc((153*n+2)/5)+s),o.set(o.get()-693900)),i},this.TryEncodeTime=function(e,t,n,s,o){var i=!1,i=e<24&&t<60&&n<60&&s<1e3;return i&&o.set((e*36e5+t*6e4+n*1e3+s)/864e5),i},this.EncodeDate=function(t,n,s){var o=0;if(!e.TryEncodeDate(t,n,s,{get:function(){return o},set:function(e){o=e}}))throw i.$create("CreateFmt",["%s-%s-%s is not a valid date specification",r(18,e.IntToStr(t),18,e.IntToStr(n),18,e.IntToStr(s))]);return o},this.EncodeTime=function(t,n,s,o){var a=0;if(!e.TryEncodeTime(t,n,s,o,{get:function(){return a},set:function(e){a=e}}))throw i.$create("CreateFmt",["%s:%s:%s.%s is not a valid time specification",r(18,e.IntToStr(t),18,e.IntToStr(n),18,e.IntToStr(s),18,e.IntToStr(o))]);return a},this.DecodeDate=function(t,n,s,o){var r=0,i=0,c=0,a=0;t<=-693594?(n.set(0),s.set(0),o.set(0)):(t>0?t=t+1/(864e5*2):t=t-1/(864e5*2),t>e.MaxDateTime&&(t=e.MaxDateTime),a=rtl.shl(l(t)+693900,2)-1,r=rtl.trunc(a/146097),a=a-146097*r,i=rtl.lw(a>>>2),a=rtl.trunc((rtl.lw(i<<2)+3)/1461),i=rtl.lw(rtl.lw(i<<2)+7-1461*a>>>2),c=rtl.trunc((5*i-3)/153),i=rtl.trunc((5*i+2-153*c)/5),r=100*r+a,c<10?c+=3:(c-=9,r+=1),n.set(r),s.set(c),o.set(i))},this.DecodeTime=function(t,n,s,o,i){var a=0,a=e.DateTimeToTimeStamp(t).Time;n.set(rtl.trunc(a/36e5)),a=a%36e5,s.set(rtl.trunc(a/6e4)),a=a%6e4,o.set(rtl.trunc(a/1e3)),a=a%1e3,i.set(a)},this.DecodeDateFully=function(t,n,s,o,i){var a=!1;return e.DecodeDate(t,n,s,o),i.set(e.DayOfWeek(t)),a=e.IsLeapYear(n.get()),a},this.ComposeDateTime=function(e,t){var n=0;return e<0?n=l(e)-Math.abs(_(t)):n=l(e)+Math.abs(_(t)),n},this.Date=function(){var t=0,t=l(e.Now());return t},this.Time=function(){var t=0,t=e.Now()-e.Date();return t},this.Now=function(){var t=0,t=e.JSDateToDateTime(new Date);return t},this.DayOfWeek=function(e){var t=0,t=1+(l(e)-1)%7;return t<=0&&(t+=7),t},this.IsLeapYear=function(e){var t=!1,t=e%4===0&&(e%100!==0||e%400===0);return t},this.DateToStr=function(t){var n="",n=e.DateToStr$1(t,e.FormatSettings);return n},this.DateToStr$1=function(t,n){var s="",s=e.FormatDateTime$1("ddddd",t,n);return s},this.StrToDate=function(t){var n=0,n=e.StrToDate$3(t,e.FormatSettings);return n},this.StrToDate$2=function(e,n,s){var a=0,o="",a=t.IntStrToDate({get:function(){return o},set:function(e){o=e}},e,n,s);if(o!=="")throw i.$create("Create$1",[o]);return a},this.StrToDate$3=function(t,n){var s=0,s=e.StrToDate$2(t,n.ShortDateFormat,n.DateSeparator);return s},this.TryStrToDate=function(t,n){var s=!1,s=e.TryStrToDate$1(t,n,e.FormatSettings);return s},this.TryStrToDate$1=function(t,n,s){var o=!1,o=e.TryStrToDate$3(t,n,s.ShortDateFormat,s.DateSeparator);return o},this.TryStrToDate$2=function(t,n,s){var o=!1,o=e.TryStrToDate$3(t,n,e.FormatSettings.ShortDateFormat,s);return o},this.TryStrToDate$3=function(e,n,s,o){var i=!1,a="",i=e.length!==0;return i&&(n.set(t.IntStrToDate({get:function(){return a},set:function(e){a=e}},e,s,o)),i=a===""),i},this.StrToDateDef=function(t,n){var s=0,s=e.StrToDateDef$1(t,n,"\0");return s},this.StrToDateDef$1=function(t,n,s){var o=0;return e.TryStrToDate$2(t,{get:function(){return o},set:function(e){o=e}},s)||(o=n),o},this.TimeToStr=function(t){var n="",n=e.TimeToStr$1(t,e.FormatSettings);return n},this.TimeToStr$1=function(t,n){var s="",s=e.FormatDateTime$1("tt",t,n);return s},this.StrToTime=function(t){var n=0,n=e.StrToTime$2(t,e.FormatSettings);return n},this.StrToTime$2=function(e,n){var o=0,s="",o=t.IntStrToTime({get:function(){return s},set:function(e){s=e}},e,e.length,n);if(s!=="")throw i.$create("Create$1",[s]);return o},this.TryStrToTime=function(t,n){var s=!1,s=e.TryStrToTime$1(t,n,o.$clone(e.FormatSettings));return s},this.TryStrToTime$1=function(e,n,s){var o=!1,i="",o=e.length!==0;return o&&(n.set(t.IntStrToTime({get:function(){return i},set:function(e){i=e}},e,e.length,s)),o=i===""),o},this.TryStrToTime$2=function(t,n,s){var a=!1,i=o.$new();return i.$assign(o.Create()),i.TimeSeparator=s,a=e.TryStrToTime$1(t,n,o.$clone(i)),a},this.StrToTimeDef=function(t,n){var s=0,s=e.StrToTimeDef$1(t,n,"\0");return s},this.StrToTimeDef$1=function(t,n,s){var o=0;return e.TryStrToTime$2(t,{get:function(){return o},set:function(e){o=e}},s)||(o=n),o},this.StrToDateTime=function(t){var n=0,n=e.StrToDateTime$1(t,e.FormatSettings);return n},this.StrToDateTime$1=function(n,s){var o=0,a="",i="",c=0,c=t.SplitDateTimeStr(n,{get:function(){return i},set:function(e){i=e}},{get:function(){return a},set:function(e){a=e}},s),r=c;return r===0?o=e.StrToDate(""):r===1?i.length>0?o=e.StrToDate$2(i,s.ShortDateFormat,s.DateSeparator):o=e.StrToTime(a):r===2&&(o=e.ComposeDateTime(e.StrToDate$2(i,s.ShortDateFormat,s.DateSeparator),e.StrToTime(a))),o},this.TryStrToDateTime$1=function(t,o,i){var r=!1,a=0,c=0,l=0,r=!1,a=s(i.TimeSeparator,t);if(a>0){for(;a>0&&t.charAt(a-1)!==" ";)a-=1;if(a>0){if(!e.TryStrToDate(n(t,1,a-1),{get:function(){return c},set:function(e){c=e}}))return r;if(!e.TryStrToTime(n(t,a+1,t.length-a),{get:function(){return l},set:function(e){l=e}}))return r;o.set(e.ComposeDateTime(c,l)),r=!0}else r=e.TryStrToTime(t,o)}else r=e.TryStrToDate(t,o);return r},this.StrToDateTimeDef=function(t,n){var s=0,s=e.StrToDateTimeDef$1(t,n,o.$clone(e.FormatSettings));return s},this.StrToDateTimeDef$1=function(t,n,s){var o=0;return e.TryStrToDateTime$1(t,{get:function(){return o},set:function(e){o=e}},s)||(o=n),o},this.FormatDateTime=function(t,n){var s="",s=e.FormatDateTime$1(t,n,e.FormatSettings);return s},this.FormatDateTime$1=function(t,s,o){var r,d,h,m,p,g,v,j,b="";function f(e,s){b=b+n(t,e,s)}function c(e){b=b+e}function a(t,n){for(var s="",s=e.IntToStr(t);s.length<n;)s="0"+s;c(s)}p=0,h=0,g=0,v=0,r=0,d=0,m=0,j=0;function u(t,b,y){var O,C,A,F,z,E="",T="",N="",w=0,D=!1,M=0,S=!1,_=0,x=0,k=0;if(b>1)return;for(x=1,k=t.length,D=!1,S=!1,_=1;_<=k;){if(E=t.charAt(_-1),F=E,F==="'"||F==='"')for(_+=1;_<k&&t.charAt(_-1)!==E;)_+=1;else if((F==="A"||F==="a")&&(e.CompareText(n(t,_,3),"A/P")===0||e.CompareText(n(t,_,4),"AMPM")===0||e.CompareText(n(t,_,5),"AM/PM")===0)){D=!0;break}_+=1}for(E="ÿ",T=" ",N="H";x<=k;){if(E=e.UpperCase(t.charAt(x-1)).charAt(0),w=1,_=x+1,O=E,O==="'"||O==='"'){for(;_<k&&t.charAt(_-1)!==E;)_+=1;_+=1,w=_-x,f(x+1,w-2)}else if(O==="A")if(e.CompareText(n(t,x,4),"AMPM")===0)w=4,c(r<12?o.TimeAMString:o.TimePMString);else if(e.CompareText(n(t,x,5),"AM/PM")===0)w=5,r<12?f(x,2):f(x+3,2);else if(e.CompareText(n(t,x,3),"A/P")===0)w=3,r<12?f(x,1):f(x+2,1);else throw i.$create("Create$1",["Illegal character in format string"]);else if(O==="/")c(o.DateSeparator);else if(O===":")c(o.TimeSeparator);else if(O===" "||O==="C"||O==="D"||O==="H"||O==="M"||O==="N"||O==="S"||O==="T"||O==="Y"||O==="Z"||O==="F"){for(;_<=k&&e.UpperCase(t.charAt(_-1))===E;)_+=1;w=_-x,C=E,C===" "?f(x,w):C==="Y"?w>2?a(p,4):a(p%100,2):C==="M"?S&&(N==="H"||y)?a(d+(r+l(Math.abs(s))*24)*60,0):T==="H"||y?w===1?a(d,0):a(d,2):(z=w,z===1?a(h,0):z===2?a(h,2):c(z===3?o.ShortMonthNames[h-1]:o.LongMonthNames[h-1])):C==="D"?(A=w,A===1?a(g,0):A===2?a(g,2):A===3?c(o.ShortDayNames[v-1]):A===4?c(o.LongDayNames[v-1]):A===5?u(o.ShortDateFormat,b+1,!1):u(o.LongDateFormat,b+1,!1)):C==="H"?S?a(r+l(Math.abs(s))*24,0):D?(M=r%12,M===0&&(M=12),w===1?a(M,0):a(M,2)):w===1?a(r,0):a(r,2):C==="N"?S?a(d+(r+l(Math.abs(s))*24)*60,0):w===1?a(d,0):a(d,2):C==="S"?S?a(m+(d+(r+l(Math.abs(s))*24)*60)*60,0):w===1?a(m,0):a(m,2):C==="Z"?w===1?a(j,0):a(j,3):C==="T"?w===1?u(o.ShortTimeFormat,b+1,!0):u(o.LongTimeFormat,b+1,!0):C==="C"?(u(o.ShortDateFormat,b+1,!1),(r!==0||d!==0||m!==0)&&(c(" "),u(o.LongTimeFormat,b+1,!0))):C==="F"&&(u(o.ShortDateFormat,b+1,!1),c(" "),u(o.LongTimeFormat,b+1,!0)),N=T,T=E}else c(E);x+=w}}return e.DecodeDateFully(s,{get:function(){return p},set:function(e){p=e}},{get:function(){return h},set:function(e){h=e}},{get:function(){return g},set:function(e){g=e}},{get:function(){return v},set:function(e){v=e}}),e.DecodeTime(s,{get:function(){return r},set:function(e){r=e}},{get:function(){return d},set:function(e){d=e}},{get:function(){return m},set:function(e){m=e}},{get:function(){return j},set:function(e){j=e}}),t!==""?u(t,0,!1):u("C",0,!1),b},this.CurrencyFormat=0,this.NegCurrFormat=0,this.CurrencyDecimals=0,this.CurrencyString="",this.CurrToStr=function(t){var n="",n=e.FloatToStrF$1(t/1e4,1,-1,0,e.FormatSettings);return n},this.StrToCurr=function(t){var n=0;if(!e.TryStrToCurr(t,{get:function(){return n},set:function(e){n=e}}))throw i.$create("CreateFmt",[rtl.getResStr(d,"SInvalidCurrency"),r(18,t)]);return n},this.TryStrToCurr=function(t,n){var s=!1,o=0,s=e.TryStrToFloat$3(t,{get:function(){return o},set:function(e){o=e}},e.FormatSettings);return s&&n.set(rtl.trunc(o*1e4)),s},e.$implcode=function(){t.DefaultShortMonthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t.DefaultLongMonthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],t.DefaultShortDayNames=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t.DefaultLongDayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t.CheckBoolStrs=function(){rtl.length(e.TrueBoolStrs)===0&&(e.TrueBoolStrs=rtl.arraySetLength(e.TrueBoolStrs,"",1),e.TrueBoolStrs[0]="True"),rtl.length(e.FalseBoolStrs)===0&&(e.FalseBoolStrs=rtl.arraySetLength(e.FalseBoolStrs,"",1),e.FalseBoolStrs[0]="False")},t.feInvalidFormat=1,t.feMissingArgument=2,t.feInvalidArgIndex=3,t.DoFormatError=function(e,t){var n=e;if(n===1)throw i.$create("CreateFmt",[rtl.getResStr(d,"SInvalidFormat"),r(18,t)]);if(n===2)throw i.$create("CreateFmt",[rtl.getResStr(d,"SArgumentMissing"),r(18,t)]);if(n===3)throw i.$create("CreateFmt",[rtl.getResStr(d,"SInvalidArgIndex"),r(18,t)])},t.maxdigits=15,t.ReplaceDecimalSep=function(e,t){var i="",o=0,o=s(".",e);return o>0?i=n(e,1,o-1)+t+n(e,o+1,e.length-o):i=e,i},t.FormatGeneralFloat=function(o,i,a){if(r="",l=0,d=0,u=0,m=0,(i===-1||i>15)&&(i=15),r=rtl.floatToStr(o,i+7),r=e.TrimLeft(r),l=s(".",r),l===0)return r;if(d=s("E",r),d===0)return r=t.ReplaceDecimalSep(r,a),r;for(u=d+2,m=0;u<=r.length;)m=m*10+r.charCodeAt(u-1)-48,u+=1;if(r.charAt(d+1-1)==="-"&&(m=-m),l+m<d&&m>-6){if(r=rtl.strSetLength(r,d-1),m>=0){for(var r,l,d,u,m,f=0,p=m-1;f<=p;f++)u=f,r=rtl.setCharAt(r,l-1,r.charAt(l+1-1)),l+=1;for(r=rtl.setCharAt(r,l-1,"."),l=1,r.charAt(l-1)==="-"&&(l+=1);r.charAt(l-1)==="0"&&l<r.length&&n(r,l+1,a.length)!==a;)c({get:function(){return r},set:function(e){r=e}},l,1)}else h(n("00000",1,-m),{get:function(){return r},set:function(e){r=e}},l-1),r=rtl.setCharAt(r,l-m-1,r.charAt(l-m-1-1)),r=rtl.setCharAt(r,l-1,"."),m!==-1&&(r=rtl.setCharAt(r,l-m-1-1,"0"));for(u=r.length;u>0&&r.charAt(u-1)==="0";)u-=1;r.charAt(u-1)==="."&&(u-=1),u===0||u===1&&r.charAt(0)==="-"?r="0":r=rtl.strSetLength(r,u)}else{for(;r.charAt(d-1-1)==="0";)c({get:function(){return r},set:function(e){r=e}},d-1,1),d-=1;for(r.charAt(d-1-1)===a&&(c({get:function(){return r},set:function(e){r=e}},d-1,1),d-=1),r.charAt(d+1-1)==="+"?c({get:function(){return r},set:function(e){r=e}},d+1,1):d+=1;r.charAt(d+1-1)==="0";)c({get:function(){return r},set:function(e){r=e}},d+1,1)}return r=t.ReplaceDecimalSep(r,a),r},t.FormatExponentFloat=function(o,i,a,r){var l="",d=0;for(r=e.FormatSettings.DecimalSeparator,(i===-1||i>15)&&(i=15),l=rtl.floatToStr(o,i+7);l.charAt(0)===" ";)c({get:function(){return l},set:function(e){l=e}},1,1);if(d=s("E",l),d===0)return l=t.ReplaceDecimalSep(l,r),l;if(d+=2,a>4&&(a=4),a=l.length-d-a+1,a<0)h(n("0000",1,-a),{get:function(){return l},set:function(e){l=e}},d);else for(;a>0&&l.charAt(d-1)==="0";){if(c({get:function(){return l},set:function(e){l=e}},d,1),d>l.length){c({get:function(){return l},set:function(e){l=e}},d-2,2);break}a-=1}return l=t.ReplaceDecimalSep(l,r),l},t.FormatFixedFloat=function(e,n,s){var o="";return n===-1?n=2:n>18&&(n=18),o=rtl.floatToStr(e,0,n),o!==""&&o.charAt(0)===" "&&c({get:function(){return o},set:function(e){o=e}},1,1),o=t.ReplaceDecimalSep(o,s),o},t.FormatNumberFloat=function(e,n,o,i){var a="",r=0;if(n===-1?n=2:n>15&&(n=15),a=rtl.floatToStr(e,0,n),a!==""&&a.charAt(0)===" "&&c({get:function(){return a},set:function(e){a=e}},1,1),r=s(".",a),r<=0&&(r=a.length+1),a=t.ReplaceDecimalSep(a,o),r-=3,i!==""&&i!=="\0")for(;r>1;)a.charAt(r-1-1)!=="-"&&h(i,{get:function(){return a},set:function(e){a=e}},r),r-=3;return a},t.RemoveLeadingNegativeSign=function(e,t,n){s=!1,o=0,i="",a=0,s=!1,a=2,i=n;for(var s,o,i,a,r=a,l=e.get().length;r<=l;r++)if(o=r,s=e.get().charCodeAt(o-1)in rtl.createSet(48,t.charCodeAt(),69,43)||e.get().charAt(o-1)===i,!s)break;return s&&e.get().charAt(0)==="-"&&c(e,1,1),s},t.FormatNumberCurrency=function(e,n,o){var r,d,i="",u=!1,l=0,a="",f="",m="",f=o.DecimalSeparator,m=o.ThousandSeparator,a=o.CurrencyString;if(n===-1?n=o.CurrencyDecimals:n>18&&(n=18),i=rtl.floatToStr(e/1e4,0,n),u=i.charAt(0)==="-",u&&c({get:function(){return i},set:function(e){i=e}},1,1),l=s(".",i),m!=="")for(l!==0?i=t.ReplaceDecimalSep(i,f):l=i.length+1,l-=3;l>1;)h(m,{get:function(){return i},set:function(e){i=e}},l),l-=3;return u&&t.RemoveLeadingNegativeSign({get:function(){return i},set:function(e){i=e}},f,m),u?(r=o.NegCurrFormat,r===0?i="("+a+i+")":r===1?i="-"+a+i:r===2?i=a+"-"+i:r===3?i=a+i+"-":r===4?i="("+i+a+")":r===5?i="-"+i+a:r===6?i=i+"-"+a:r===7?i=i+a+"-":r===8?i="-"+i+" "+a:r===9?i="-"+a+" "+i:r===10?i=i+" "+a+"-":r===11?i=a+" "+i+"-":r===12?i=a+" -"+i:r===13?i=i+"- "+a:r===14?i="("+a+" "+i+")":r===15&&(i="("+i+" "+a+")")):(d=o.CurrencyFormat,d===0?i=a+i:d===1?i=i+a:d===2?i=a+" "+i:d===3&&(i=i+" "+a)),i},t.RESpecials="([\\$\\+\\[\\]\\(\\)\\\\\\.\\*\\^\\?\\|])";var o,l,m,f,g,v,b,j,y,u=` 	
`,a="0123456789";t.IntStrToDate=function(t,n,o,i){m=0;function C(n){t.set(e.Format(rtl.getResStr(d,"SInvalidDateFormat"),r(18,n)))}for(k="",_=0,w=0,f=0,v=0,F=0,A=0,g=0,c=0,b=0,E=0,x=0,y=0,O=0,h=0,j="",l=[],S=!1,l=rtl.arraySetLength(l,0,4),m=0,b=n.length,t.set("");b>0&&s(n.charAt(b-1),u)>0;)b-=1;if(b===0)return C(n),m;for(S=!1,i==="\0"&&(e.FormatSettings.DateSeparator!=="\0"?i=e.FormatSettings.DateSeparator:i="-"),k=e.UpperCase(o),O=0,y=0,x=0,h=0,c=0;c<k.length&&h<3;)c+=1,M=k.charAt(c-1),M==="Y"?O===0&&(h+=1,O=h):M==="M"?y===0&&(h+=1,y=h):M==="D"&&x===0&&(h+=1,x=h);for(c=1;c<=3;c++)l[c]=0;j="",g=0;for(var c,l,h,m,f,g,v,b,j,y,_,w,O,x,E,k,A,S,M,F,T=1,z=b;T<=z;T++){if(c=T,s(n.charAt(c-1),a)>0&&(j=j+n.charAt(c-1)),i!==" "&&n.charAt(c-1)===" ")continue;if(n.charAt(c-1)===i||c===b&&s(n.charAt(c-1),a)>0){if(g+=1,g>3)return C(n),m;if(g===O&&j.length>2&&(S=!0),p(j,{a:g,p:l,get:function(){return this.p[this.a]},set:function(e){this.p[this.a]=e}},{get:function(){return E},set:function(e){E=e}}),E!==0)return C(n),m;j=""}else if(s(n.charAt(c-1),a)===0)return C(n),m}return h<3&&g>h?(C(n),m):(e.DecodeDate(e.Date(),{get:function(){return v},set:function(e){v=e}},{get:function(){return A},set:function(e){A=e}},{get:function(){return F},set:function(e){F=e}}),g===3?(f=l[O],w=l[y],_=l[x]):(f=v,g<2?(_=l[1],w=A):x<y?(_=l[1],w=l[2]):(_=l[2],w=l[1])),f>=0&&f<100&&!S&&(v=v-e.TwoDigitYearCenturyWindow,f+=rtl.trunc(v/100)*100,e.TwoDigitYearCenturyWindow>0&&f<v&&(f+=100)),e.TryEncodeDate(f,w,_,{get:function(){return m},set:function(e){m=e}})||t.set(rtl.getResStr(d,"SErrInvalidDate")),m)},m=0,f=1,g=2,v=0,b=1,j=2,y=3,o="0123456789",t.IntStrToTime=function(t,i,a,c){var h=0,u=0,l=[];function m(t,r){var u=!1,l=0,g=0,f=0,O=0,h=0,m=0,w=0,d=!1,j=!1,b="",v="",y=0,_="",u=!1;r.set(0),j=!1,h=0;for(y=0;y<=3;y++)t.get()[y]=0;for(l=1;l<a&&i.charAt(l-1)===" ";)l+=1;if(g=l,l>a-1||i.charAt(l-1)===c.TimeSeparator||i.charAt(l-1)===c.DecimalSeparator)return u;for(d=s(i.charAt(l-1),o)>0;l<=a;){if(v=i.charAt(l-1),s(v,o)>0){if(!d||h>3)return u;for(g=l,v!=="0"?m=g:m=-1;l<a&&s(i.charAt(l+1-1),o)>0;)m===-1&&i.charAt(l-1)!=="0"&&(m=l),l+=1;if(m===-1&&(m=l),f=1+l-m,f<=2||f<=3&&h===3)p(n(i,m,f),{get:function(){return w},set:function(e){w=e}},{get:function(){return O},set:function(e){O=e}}),t.get()[h]=w,h+=1,d=!1;else return u}else if(v===" ");else if(v===c.TimeSeparator){if(d||h>2)return u;d=!0,j=!1}else if(v===c.DecimalSeparator){if(d||j||h!==3)return u;d=!0,j=!0}else{if(r.get()!==0||d)return u;for(g=l,_=c.DecimalSeparator+" ",c.TimeSeparator!=="\0"&&(_=_+c.TimeSeparator);l<a&&s(i.charAt(l+1-1),_)===0&&s(i.charAt(l+1-1),o)===0;)l+=1;if(f=1+l-g,b=n(i,g,f),e.CompareText(b,c.TimeAMString)===0)r.set(1);else if(e.CompareText(b,c.TimePMString)===0)r.set(2);else if(e.CompareText(b,"AM")===0)r.set(1);else if(e.CompareText(b,"PM")===0)r.set(2);else return u;h===0?d=!0:(h=3+1,d=!1)}l+=1}return h===0||r.get()!==0&&(t.get()[0]>12||t.get()[0]===0)||d?u:(u=!0,u)}return l=rtl.arraySetLength(l,0,4),u=0,m({get:function(){return l},set:function(e){l=e}},{get:function(){return u},set:function(e){u=e}})?(u===2&&l[0]!==12?l[0]+=12:u===1&&l[0]===12&&(l[0]=0),e.TryEncodeTime(l[0],l[1],l[2],l[3],{get:function(){return h},set:function(e){h=e}})||t.set(e.Format(rtl.getResStr(d,"SErrInvalidTimeFormat"),r(18,i))),h):(t.set(e.Format(rtl.getResStr(d,"SErrInvalidTimeFormat"),r(18,i))),h)},l=`	
 `,t.SplitDateTimeStr=function(t,o,i,a){var c=0,r=0,d=0,c=0;if(o.set(""),i.set(""),t=e.Trim(t),t.length===0)return c;if(a.DateSeparator===" "&&a.TimeSeparator===" "&&s(" ",t)>0)return o.set(t),1;if(r=1,a.DateSeparator!==" ")for(;r<t.length&&!(s(t.charAt(r+1-1),l)>0);)r+=1;else if(r=s(a.TimeSeparator,t),r!==0)do r-=1;while(!(r===0||s(t.charAt(r-1),l)>0))return r===0&&(r=t.length),o.set(n(t,1,r)),i.set(e.Trim(n(t,r+1,100))),i.get().length!==0?c=2:(c=1,(a.DateSeparator!==a.TimeSeparator&&s(a.TimeSeparator,o.get())>0||a.DateSeparator===a.TimeSeparator&&!e.TryStrToDate(o.get(),{get:function(){return d},set:function(e){d=e}}))&&(i.set(o.get()),o.set(""))),c},t.IntTryStrToInt=function(t,o,i){var l,d=!1,r=10,a="",u=void 0,a=t;return!(s(i,a)!==0||s(".",a)!==0)&&(l=n(a,1,1),l==="$"?r=16:l==="&"?r=8:l==="%"&&(r=2),!(r!==16&&s("e",e.LowerCase(a))!==0)&&(r!==10&&c({get:function(){return a},set:function(e){a=e}},1,1),u=parseInt(a,r),d=!isNaN(u),d&&o.set(rtl.trunc(u)),d))},e.$resourcestrings={SAbortError:{org:"Operation aborted"}}},e.$init=function(){e.ShortMonthNames=t.DefaultShortMonthNames.slice(0),e.LongMonthNames=t.DefaultLongMonthNames.slice(0),e.ShortDayNames=t.DefaultShortDayNames.slice(0),e.LongDayNames=t.DefaultLongDayNames.slice(0),e.FormatSettings.$assign(o.Create()),e.TimeSeparator=e.FormatSettings.TimeSeparator,e.DateSeparator=e.FormatSettings.DateSeparator,e.ShortDateFormat=e.FormatSettings.ShortDateFormat,e.LongDateFormat=e.FormatSettings.LongDateFormat,e.ShortTimeFormat=e.FormatSettings.ShortTimeFormat,e.LongTimeFormat=e.FormatSettings.LongTimeFormat,e.DecimalSeparator=e.FormatSettings.DecimalSeparator,e.ThousandSeparator=e.FormatSettings.ThousandSeparator,e.TimeAMString=e.FormatSettings.TimeAMString,e.TimePMString=e.FormatSettings.TimePMString,e.CurrencyFormat=e.FormatSettings.CurrencyFormat,e.NegCurrFormat=e.FormatSettings.NegCurrFormat,e.CurrencyDecimals=e.FormatSettings.CurrencyDecimals,e.CurrencyString=e.FormatSettings.CurrencyString}},[]),rtl.module("TypInfo",["System","SysUtils","Types","RTLConsts","JS"],function(){"use strict";var e=this,t=null,n=null,s=null,o=null;this.GetEnumName=function(e,t){var n="",n=e.enumtype[t];return n}}),rtl.module("Classes",["System","RTLConsts","Types","SysUtils","JS","TypInfo"],function(){"use strict";var g=this,c=g.$impl,u=null,j=null,v=null,S=null,r=null,A=null,_=null,n=null,a=null,f=null,O=null,D=null,E=null,N=null,i=null,z=null,k=null,w=null,L=null,M=null,x=null,s=pas.System,o=pas.SysUtils,y=o.Exception,e=s.TObject,t=pas.RTLConsts,h=s.VarRecs,m=s.Assigned,d=o.FreeAndNil,F=o.EConvertError,T=o.IntToStr,l=o.CompareText,b=s.Pos,p=s.Copy,C=o.CompareStr,R=o.IsValidIdent;this.$rtti.$MethodVar("TNotifyEvent",{procsig:rtl.newTIProcSig([["Sender",s.$rtti.TObject]]),methodkind:0}),rtl.createClass(this,"EListError",y,function(){u=this}),rtl.createClass(this,"EStringListError",u,function(){j=this}),rtl.createClass(this,"EComponentError",y,function(){v=this}),S=this.TAlignment={0:"taLeftJustify",taLeftJustify:0,1:"taRightJustify",taRightJustify:1,2:"taCenter",taCenter:2},this.$rtti.$Enum("TAlignment",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TAlignment}),rtl.createClass(this,"TFPList",e,function(){r=this,this.$init=function(){e.$init.call(this),this.FList=[],this.FCount=0,this.FCapacity=0},this.$final=function(){this.FList=void 0,e.$final.call(this)},this.Get=function(e){var t=void 0;return(e<0||e>=this.FCount)&&this.RaiseIndexError(e),t=this.FList[e],t},this.Put=function(e,t){(e<0||e>=this.FCount)&&this.RaiseIndexError(e),this.FList[e]=t},this.SetCapacity=function(e){if(e<this.FCount&&this.$class.Error(rtl.getResStr(t,"SListCapacityError"),""+e),e===this.FCapacity)return;this.FList=rtl.arraySetLength(this.FList,void 0,e),this.FCapacity=e},this.SetCount=function(e){e<0&&this.$class.Error(rtl.getResStr(t,"SListCountError"),""+e),e>this.FCount&&e>this.FCapacity&&this.SetCapacity(e),this.FCount=e},this.RaiseIndexError=function(e){this.$class.Error(rtl.getResStr(t,"SListIndexError"),""+e)},this.Destroy=function(){this.Clear(),e.Destroy.call(this)},this.Add=function(e){var t=0;return this.FCount===this.FCapacity&&this.Expand(),this.FList[this.FCount]=e,t=this.FCount,this.FCount+=1,t},this.Clear=function(){rtl.length(this.FList)>0&&(this.SetCount(0),this.SetCapacity(0))},this.Delete=function(e){(e<0||e>=this.FCount)&&this.$class.Error(rtl.getResStr(t,"SListIndexError"),""+e),this.FCount=this.FCount-1,this.FList.splice(e,1),this.FCapacity-=1},this.Error=function(e,t){throw u.$create("CreateFmt",[e,h(18,t)])},this.Expand=function(){var t=null,e=0;return this.FCount<this.FCapacity?this:(e=4,this.FCapacity>3&&(e=e+4),this.FCapacity>8&&(e=e+8),this.FCapacity>127&&(e+=this.FCapacity>>>2),this.SetCapacity(this.FCapacity+e),t=this,t)},this.IndexOf=function(e){for(var t=0,n=0,t=0,n=this.FCount;t<n&&this.FList[t]!=e;)t+=1;return t>=n&&(t=-1),t},this.IndexOfItem=function(e,t){var n=0;if(t===0)n=this.IndexOf(e);else for(n=this.FCount-1;n>=0&&this.FList[n]!=e;)n=n-1;return n},this.Insert=function(e,n){(e<0||e>this.FCount)&&this.$class.Error(rtl.getResStr(t,"SListIndexError"),""+e),this.FList.splice(e,0,n),this.FCapacity+=1,this.FCount+=1},this.Last=function(){var e=void 0;return this.FCount===0?e=null:e=this.Get(this.FCount-1),e},this.Remove=function(e){var t=0,t=this.IndexOf(e);return t!==-1&&this.Delete(t),t}}),A=this.TListNotification={0:"lnAdded",lnAdded:0,1:"lnExtracted",lnExtracted:1,2:"lnDeleted",lnDeleted:2},rtl.createClass(this,"TList",e,function(){_=this,this.$init=function(){e.$init.call(this),this.FList=null},this.$final=function(){this.FList=void 0,e.$final.call(this)},this.Get=function(e){var t=void 0,t=this.FList.Get(e);return t},this.Notify=function(e,t){m(e),t===1},this.GetCount=function(){var e=0,e=this.FList.FCount;return e},this.Create$1=function(){return e.Create.call(this),this.FList=r.$create("Create"),this},this.Destroy=function(){this.FList!=null&&this.Clear(),d({p:this,get:function(){return this.p.FList},set:function(e){this.p.FList=e}})},this.Add=function(e){var t=0,t=this.FList.Add(e);return m(e)&&this.Notify(e,0),t},this.Clear=function(){for(;this.FList.FCount>0;)this.Delete(this.GetCount()-1)},this.Delete=function(e){var t=void 0,t=this.FList.Get(e);this.FList.Delete(e),m(t)&&this.Notify(t,2)},this.IndexOf=function(e){var t=0,t=this.FList.IndexOf(e);return t},this.Remove=function(e){var t=0,t=this.IndexOf(e);return t!==-1&&this.Delete(t),t}}),rtl.createClass(this,"TPersistent",e,function(){n=this,this.AssignError=function(e){var t="";throw e!==null?t=e.$classname:t="Nil",F.$create("Create$1",["Cannot assign a "+t+" to a "+this.$classname+"."])},this.AssignTo=function(e){e.AssignError(this)},this.GetOwner=function(){var e=null,e=null;return e},this.Assign=function(e){e!==null?e.AssignTo(this):this.AssignError(null)}}),rtl.createClass(this,"TStrings",n,function(){a=this,this.$init=function(){n.$init.call(this),this.FSpecialCharsInited=!1,this.FAlwaysQuote=!1,this.FQuoteChar="",this.FDelimiter="",this.FNameValueSeparator="",this.FUpdateCount=0,this.FLBS=0,this.FLineBreak=""},this.GetName=function(e){var t="",n="";return this.GetNameValue(e,{get:function(){return t},set:function(e){t=e}},{get:function(){return n},set:function(e){n=e}}),t},this.SetValue=function(e,t){var n=0;this.CheckSpecialChars(),n=this.IndexOfName(e),n===-1?this.Add(e+this.FNameValueSeparator+t):this.Put(n,e+this.FNameValueSeparator+t)},this.Error=function(e,t){throw j.$create("CreateFmt",[e,h(18,T(t))])},this.GetCapacity=function(){var e=0,e=this.GetCount();return e},this.GetObject=function(e){var t=null;return e===0,t=null,t},this.Put=function(e,t){var n=null,n=this.GetObject(e);this.Delete(e),this.InsertObject(e,t,n)},this.PutObject=function(e,t){if(e===0)return;if(t===null)return},this.SetUpdateState=function(e){e},this.DoCompareText=function(e,t){var n=0,n=l(e,t);return n},this.GetValueFromIndex=function(e){var t="",n="";return this.GetNameValue(e,{get:function(){return n},set:function(e){n=e}},{get:function(){return t},set:function(e){t=e}}),t},this.CheckSpecialChars=function(){this.FSpecialCharsInited||(this.FQuoteChar='"',this.FDelimiter=",",this.FNameValueSeparator="=",this.FLBS=s.DefaultTextLineBreakStyle,this.FSpecialCharsInited=!0,this.FLineBreak=s.sLineBreak)},this.Create$1=function(){return e.Create.call(this),this.FAlwaysQuote=!1,this},this.Destroy=function(){e.Destroy.call(this)},this.Add=function(e){var t=0,t=this.GetCount();return this.Insert(this.GetCount(),e),t},this.AddObject=function(e,t){var n=0,n=this.Add(e);return this.PutObject(n,t),n},this.AddStrings=function(e){t=0;for(var t,n=0,s=e.GetCount()-1;n<=s;n++)t=n,this.AddObject(e.Get(t),e.GetObject(t))},this.Assign=function(e){var t=null;if(a.isPrototypeOf(e)){t=e,this.BeginUpdate();try{this.Clear(),this.FSpecialCharsInited=t.FSpecialCharsInited,this.FQuoteChar=t.FQuoteChar,this.FDelimiter=t.FDelimiter,this.FNameValueSeparator=t.FNameValueSeparator,this.FLBS=t.FLBS,this.FLineBreak=t.FLineBreak,this.AddStrings(t)}finally{this.EndUpdate()}}else n.Assign.call(this,e)},this.BeginUpdate=function(){this.FUpdateCount===0&&this.SetUpdateState(!0),this.FUpdateCount+=1},this.EndUpdate=function(){this.FUpdateCount>0&&(this.FUpdateCount-=1),this.FUpdateCount===0&&this.SetUpdateState(!1)},this.IndexOfName=function(e){var t=0,n=0,s="";for(this.CheckSpecialChars(),t=0;t<this.GetCount();){if(s=this.Get(t),n=b(this.FNameValueSeparator,s)-1,n>=0&&this.DoCompareText(e,p(s,1,n))===0)return t;t+=1}return t=-1,t},this.InsertObject=function(e,t,n){this.Insert(e,t),this.PutObject(e,n)},this.GetNameValue=function(e,t,n){var s=0;this.CheckSpecialChars(),n.set(this.Get(e)),s=b(this.FNameValueSeparator,n.get()),s!==0?(t.set(p(n.get(),1,s-1)),n.set(p(n.get(),s+1,n.get().length-s))):t.set("")}}),rtl.recNewT(this,"TStringItem",function(){f=this,this.FString="",this.FObject=null,this.$eq=function(e){return this.FString===e.FString&&this.FObject===e.FObject},this.$assign=function(e){return this.FString=e.FString,this.FObject=e.FObject,this}}),O=this.TStringsSortStyle={0:"sslNone",sslNone:0,1:"sslUser",sslUser:1,2:"sslAuto",sslAuto:2},rtl.createClass(this,"TStringList",a,function(){D=this,this.$init=function(){a.$init.call(this),this.FList=[],this.FCount=0,this.FOnChange=null,this.FOnChanging=null,this.FDuplicates=0,this.FCaseSensitive=!1,this.FOwnsObjects=!1,this.FSortStyle=0},this.$final=function(){this.FList=void 0,this.FOnChange=void 0,this.FOnChanging=void 0,a.$final.call(this)},this.GetSorted=function(){var e=!1,e=this.FSortStyle in rtl.createSet(1,2);return e},this.Grow=function(){var e=0,e=this.GetCapacity();e>=256?e=e+rtl.trunc(e/4):e===0?e=4:e=e*4,this.SetCapacity(e)},this.InternalClear=function(e,t){if(n=0,e<this.FCount){if(this.FOwnsObjects)for(var n,s,i,o=e,a=this.FCount-1;o<=a;o++)n=o,this.FList[n].FString="",d({p:this.FList[n],get:function(){return this.p.FObject},set:function(e){this.p.FObject=e}});else for(s=e,i=this.FCount-1;s<=i;s++)n=s,this.FList[n].FString="";this.FCount=e}t||this.SetCapacity(0)},this.CheckIndex=function(e){(e<0||e>=this.FCount)&&this.Error(rtl.getResStr(t,"SListIndexError"),e)},this.Changed=function(){this.FUpdateCount===0&&this.FOnChange!=null&&this.FOnChange(this)},this.Changing=function(){this.FUpdateCount===0&&this.FOnChanging!=null&&this.FOnChanging(this)},this.Get=function(e){var t="";return this.CheckIndex(e),t=this.FList[e].FString,t},this.GetCapacity=function(){var e=0,e=rtl.length(this.FList);return e},this.GetCount=function(){var e=0,e=this.FCount;return e},this.GetObject=function(e){var t=null;return this.CheckIndex(e),t=this.FList[e].FObject,t},this.Put=function(e,n){this.GetSorted()&&this.Error(rtl.getResStr(t,"SSortedListError"),0),this.CheckIndex(e),this.Changing(),this.FList[e].FString=n,this.Changed()},this.PutObject=function(e,t){this.CheckIndex(e),this.Changing(),this.FList[e].FObject=t,this.Changed()},this.SetCapacity=function(e){e<0&&this.Error(rtl.getResStr(t,"SListCapacityError"),e),e!==this.GetCapacity()&&(this.FList=rtl.arraySetLength(this.FList,f,e))},this.SetUpdateState=function(e){e?this.Changing():this.Changed()},this.InsertItem=function(e,t){this.InsertItem$1(e,t,null)},this.InsertItem$1=function(e,t,n){var s=f.$new();this.Changing(),this.FCount===this.GetCapacity()&&this.Grow(),s.FString=t,s.FObject=n,this.FList.splice(e,0,s),this.FCount+=1,this.Changed()},this.DoCompareText=function(e,t){var n=0;return this.FCaseSensitive?n=C(e,t):n=l(e,t),n},this.Destroy=function(){this.InternalClear(0,!1),a.Destroy.call(this)},this.Add=function(e){var s,n=0;if(this.FSortStyle===2){if(this.Find(e,{get:function(){return n},set:function(e){n=e}})){if(s=this.FDuplicates,s===0)return n;s===2&&this.Error(rtl.getResStr(t,"SDuplicateString"),0)}}else n=this.FCount;return this.InsertItem(n,e),n},this.Clear=function(){if(this.FCount===0)return;this.Changing(),this.InternalClear(0,!1),this.Changed()},this.Delete=function(e){this.CheckIndex(e),this.Changing(),this.FOwnsObjects&&d({p:this.FList[e],get:function(){return this.p.FObject},set:function(e){this.p.FObject=e}}),this.FList.splice(e,1),this.FList[this.GetCount()-1].FString="",this.FList[this.GetCount()-1].FObject=null,this.FCount-=1,this.Changed()},this.Find=function(e,n){var a=!1,s=0,i=0,o=0,r=0,a=!1;if(n.set(-1),!this.GetSorted())throw u.$create("Create$1",[rtl.getResStr(t,"SErrFindNeedsSortedList")]);for(s=0,i=this.GetCount()-1;s<=i;)o=s+rtl.trunc((i-s)/2),r=this.DoCompareText(e,this.FList[o].FString),r>0?s=o+1:(i=o-1,r===0&&(a=!0,this.FDuplicates!==1&&(s=o)));return n.set(s),a},this.Insert=function(e,n){this.FSortStyle===2?this.Error(rtl.getResStr(t,"SSortedListError"),0):((e<0||e>this.FCount)&&this.Error(rtl.getResStr(t,"SListIndexError"),e),this.InsertItem(e,n))}}),rtl.createClass(this,"TCollectionItem",n,function(){E=this,this.$init=function(){n.$init.call(this),this.FCollection=null,this.FID=0},this.$final=function(){this.FCollection=void 0,n.$final.call(this)},this.GetIndex=function(){var e=0;return this.FCollection!=null?e=this.FCollection.FItems.IndexOf(this):e=-1,e},this.SetCollection=function(e){e!==this.FCollection&&(this.FCollection!=null&&this.FCollection.RemoveItem(this),e!=null&&e.InsertItem(this))},this.Changed=function(e){this.FCollection!==null&&this.FCollection.FUpdateCount===0&&(e?this.FCollection.Update(null):this.FCollection.Update(this))},this.GetOwner=function(){var e=null,e=this.FCollection;return e},this.SetDisplayName=function(e){this.Changed(!1),e===""},this.Create$1=function(t){return e.Create.call(this),this.SetCollection(t),this},this.Destroy=function(){this.SetCollection(null),e.Destroy.call(this)}}),N=this.TCollectionNotification={0:"cnAdded",cnAdded:0,1:"cnExtracting",cnExtracting:1,2:"cnDeleting",cnDeleting:2},rtl.createClass(this,"TCollection",n,function(){i=this,this.$init=function(){n.$init.call(this),this.FItemClass=null,this.FItems=null,this.FUpdateCount=0,this.FNextID=0},this.$final=function(){this.FItemClass=void 0,this.FItems=void 0,n.$final.call(this)},this.GetCount=function(){var e=0,e=this.FItems.FCount;return e},this.InsertItem=function(e){if(!this.FItemClass.isPrototypeOf(e))return;this.FItems.Add(e),e.FCollection=this,e.FID=this.FNextID,this.FNextID+=1,this.SetItemName(e),this.Notify(e,0),this.Changed()},this.RemoveItem=function(e){var t=0;this.Notify(e,1),t=this.FItems.IndexOfItem(e,1),t!==-1&&this.FItems.Delete(t),e.FCollection=null,this.Changed()},this.DoClear=function(){for(var e=null;this.FItems.FCount>0;)e=rtl.getObject(this.FItems.Last()),e!=null&&e.$destroy("Destroy")},this.Changed=function(){this.FUpdateCount===0&&this.Update(null)},this.GetItem=function(e){var t=null,t=rtl.getObject(this.FItems.Get(e));return t},this.SetItemName=function(e){e===null},this.Update=function(e){e===null},this.Notify=function(e,t){e===null,t===0},this.Create$1=function(t){return e.Create.call(this),this.FItemClass=t,this.FItems=r.$create("Create"),this},this.Destroy=function(){this.FUpdateCount=1;try{this.DoClear()}finally{this.FUpdateCount=0}this.FItems!=null&&this.FItems.$destroy("Destroy"),e.Destroy.call(this)},this.Owner=function(){var e=null,e=this.GetOwner();return e},this.Add=function(){var e=null,e=this.FItemClass.$create("Create$1",[this]);return e},this.Assign=function(e){if(t=0,i.isPrototypeOf(e)){this.Clear();for(var t,s=0,o=e.GetCount()-1;s<=o;s++)t=s,this.Add().Assign(e.GetItem(t));return}n.Assign.call(this,e)},this.BeginUpdate=function(){this.FUpdateCount+=1},this.Clear=function(){if(this.FItems.FCount===0)return;this.BeginUpdate();try{this.DoClear()}finally{this.EndUpdate()}},this.EndUpdate=function(){this.FUpdateCount>0&&(this.FUpdateCount-=1),this.FUpdateCount===0&&this.Changed()}}),rtl.createClass(this,"TOwnedCollection",i,function(){z=this,this.$init=function(){i.$init.call(this),this.FOwner=null},this.$final=function(){this.FOwner=void 0,i.$final.call(this)},this.GetOwner=function(){var e=null,e=this.FOwner;return e},this.Create$2=function(e,t){return this.FOwner=e,i.Create$1.call(this,t),this}}),k=this.TOperation={0:"opInsert",opInsert:0,1:"opRemove",opRemove:1},w=this.TComponentStateItem={0:"csLoading",csLoading:0,1:"csReading",csReading:1,2:"csWriting",csWriting:2,3:"csDestroying",csDestroying:3,4:"csDesigning",csDesigning:4,5:"csAncestor",csAncestor:5,6:"csUpdating",csUpdating:6,7:"csFixups",csFixups:7,8:"csFreeNotification",csFreeNotification:8,9:"csInline",csInline:9,10:"csDesignInstance",csDesignInstance:10},L=this.TComponentStyleItem={0:"csInheritable",csInheritable:0,1:"csCheckPropAvail",csCheckPropAvail:1,2:"csSubComponent",csSubComponent:2,3:"csTransient",csTransient:3},rtl.createClass(this,"TComponent",n,function(){M=this,this.$init=function(){n.$init.call(this),this.FOwner=null,this.FName="",this.FTag=0,this.FComponents=null,this.FFreeNotifies=null,this.FComponentState={},this.FComponentStyle={}},this.$final=function(){this.FOwner=void 0,this.FComponents=void 0,this.FFreeNotifies=void 0,this.FComponentState=void 0,this.FComponentStyle=void 0,n.$final.call(this)},this.Insert=function(e){this.FComponents!=null||(this.FComponents=r.$create("Create")),this.FComponents.Add(e),e.FOwner=this},this.Remove=function(e){e.FOwner=null,this.FComponents!=null&&(this.FComponents.Remove(e),this.FComponents.FCount===0&&(this.FComponents.$destroy("Destroy"),this.FComponents=null))},this.RemoveNotification=function(e){this.FFreeNotifies!==null&&(this.FFreeNotifies.Remove(e),this.FFreeNotifies.FCount===0&&(this.FFreeNotifies.$destroy("Destroy"),this.FFreeNotifies=null,this.FComponentState=rtl.excludeSet(this.FComponentState,8)))},this.SetReference=function(e){var t=null,n=null,s=null;if(this.FName==="")return;this.FOwner!=null&&(s=this.FOwner,t=this.FOwner.$class.FieldAddress(this.FName),t!=null&&(e?n=this:n=null,s[""+t.name]=n))},this.ChangeName=function(e){this.FName=e},this.GetOwner=function(){var e=null,e=this.FOwner;return e},this.Notification=function(e,t){var n=0;if(t===1&&this.RemoveFreeNotification(e),this.FComponents==null)return;for(n=this.FComponents.FCount-1;n>=0;)rtl.getObject(this.FComponents.Get(n)).Notification(e,t),n-=1,n>=this.FComponents.FCount&&(n=this.FComponents.FCount-1)},this.SetDesigning=function(e,t){if(n=0,e?this.FComponentState=rtl.includeSet(this.FComponentState,4):this.FComponentState=rtl.excludeSet(this.FComponentState,4),this.FComponents!=null&&t)for(var n,s=0,o=this.FComponents.FCount-1;s<=o;s++)n=s,rtl.getObject(this.FComponents.Get(n)).SetDesigning(e,!0)},this.SetName=function(e){if(this.FName===e)return;if(e!==""&&!R(e,!1,!1))throw v.$create("CreateFmt",[rtl.getResStr(t,"SInvalidName"),h(18,e)]);this.FOwner!=null?this.FOwner.ValidateRename(this,this.FName,e):this.ValidateRename(null,this.FName,e),this.SetReference(!1),this.ChangeName(e),this.SetReference(!0)},this.ValidateRename=function(e,n,s){if(e!==null&&l(n,s)!==0&&e.FOwner===this&&this.FindComponent(s)!==null)throw v.$create("CreateFmt",[rtl.getResStr(t,"SDuplicateName"),h(18,s)]);4 in this.FComponentState&&this.FOwner!==null&&this.FOwner.ValidateRename(e,n,s)},this.ValidateContainer=function(e){e.ValidateInsert(this)},this.ValidateInsert=function(e){e===null},this.Create$1=function(e){return this.FComponentStyle=rtl.createSet(0),e!=null&&e.InsertComponent(this),this},this.Destroy=function(){var t=0,n=null;if(this.Destroying(),this.FFreeNotifies!=null){for(t=this.FFreeNotifies.FCount-1;t>=0;)n=rtl.getObject(this.FFreeNotifies.Get(t)),this.FFreeNotifies.Delete(t),n.Notification(this,1),this.FFreeNotifies===null?t=0:t>this.FFreeNotifies.FCount&&(t=this.FFreeNotifies.FCount),t-=1;d({p:this,get:function(){return this.p.FFreeNotifies},set:function(e){this.p.FFreeNotifies=e}})}this.DestroyComponents(),this.FOwner!==null&&this.FOwner.RemoveComponent(this),e.Destroy.call(this)},this.BeforeDestruction=function(){3 in this.FComponentState||this.Destroying()},this.DestroyComponents=function(){for(var e=null;this.FComponents!=null;)e=rtl.getObject(this.FComponents.Last()),this.Remove(e),e.$destroy("Destroy")},this.Destroying=function(){if(e=0,3 in this.FComponentState)return;if(this.FComponentState=rtl.includeSet(this.FComponentState,3),this.FComponents!=null)for(var e,t=0,n=this.FComponents.FCount-1;t<=n;t++)e=t,rtl.getObject(this.FComponents.Get(e)).Destroying()},this.FindComponent=function(e){if(t=null,n=0,t=null,e===""||this.FComponents==null)return t;for(var t,n,s=0,o=this.FComponents.FCount-1;s<=o;s++)if(n=s,l(rtl.getObject(this.FComponents.Get(n)).FName,e)===0)return t=rtl.getObject(this.FComponents.Get(n)),t;return t},this.FreeNotification=function(e){if(this.FOwner!==null&&e===this.FOwner)return;this.FFreeNotifies!=null||(this.FFreeNotifies=r.$create("Create")),this.FFreeNotifies.IndexOf(e)===-1&&(this.FFreeNotifies.Add(e),e.FreeNotification(this))},this.RemoveFreeNotification=function(e){this.RemoveNotification(e),e.RemoveNotification(this)},this.InsertComponent=function(e){e.ValidateContainer(this),this.ValidateRename(e,"",e.FName),e.FOwner!==null&&e.FOwner.RemoveComponent(e),this.Insert(e),4 in this.FComponentState&&e.SetDesigning(!0,!0),this.Notification(e,0)},this.RemoveComponent=function(e){this.Notification(e,1),this.Remove(e),e.SetDesigning(!1,!0),this.ValidateRename(e,e.FName,"")};var s=this.$rtti;s.addProperty("Name",6,rtl.string,"FName","SetName"),s.addProperty("Tag",0,rtl.nativeint,"FTag","FTag",{Default:0})}),rtl.createClass(this,"TLoadHelper",e,function(){x=this}),this.SetLoadHelperClass=function(e){var t=null,t=c.GlobalLoadHelper;return c.GlobalLoadHelper=e,t},g.$implcode=function(){c.GlobalLoadHelper=null,c.ClassList=null},g.$init=function(){c.ClassList=new Object}},[]),rtl.module("Rtl.BrowserLoadHelper",["System","Classes","SysUtils","JS","Web"],function(){"use strict";var n=this,e=null,t=pas.Classes,s=t.TLoadHelper,o=t.SetLoadHelperClass;rtl.createClass(this,"TBrowserLoadHelper",s,function(){e=this}),n.$init=function(){o(e)}}),rtl.module("browserconsole",["System","JS","Web","Rtl.BrowserLoadHelper","SysUtils"],function(){"use strict";var t=this,e=t.$impl,s=pas.System,o=s.SetWriteCallBack,i=pas.SysUtils,n=i.StringReplace;this.BrowserLineBreak=`
`,this.DefaultMaxConsoleLines=25,this.DefaultConsoleStyle=".pasconsole { "+this.BrowserLineBreak+"font-family: courier;"+this.BrowserLineBreak+"font-size: 14px;"+this.BrowserLineBreak+"background: #FFFFFF;"+this.BrowserLineBreak+"color: #000000;"+this.BrowserLineBreak+"display: block;"+this.BrowserLineBreak+"}",this.ConsoleElementID="",this.ConsoleStyle="",this.MaxConsoleLines=0,this.ConsoleLinesToBrowserLog=!1,this.ResetConsole=function(){if(e.LinesParent===null)return;for(;e.LinesParent.firstElementChild!==null;)e.LinesParent.removeChild(e.LinesParent.firstElementChild);e.AppendLine()},this.InitConsole=function(){if(e.ConsoleElement===null)return;if(e.ConsoleElement.nodeName.toLowerCase()!=="body")for(;e.ConsoleElement.firstElementChild!==null;)e.ConsoleElement.removeChild(e.ConsoleElement.firstElementChild);e.StyleElement=document.createElement("style"),e.StyleElement.innerText=t.ConsoleStyle,e.ConsoleElement.appendChild(e.StyleElement),e.LinesParent=document.createElement("div"),e.ConsoleElement.appendChild(e.LinesParent)},this.HookConsole=function(){if(e.ConsoleElement=null,t.ConsoleElementID!==""&&(e.ConsoleElement=document.getElementById(t.ConsoleElementID)),e.ConsoleElement===null&&(e.ConsoleElement=document.body),e.ConsoleElement===null)return;t.InitConsole(),t.ResetConsole(),o(e.WriteConsole)},t.$implcode=function(){e.LastLine=null,e.StyleElement=null,e.LinesParent=null,e.ConsoleElement=null,e.AppendLine=function(){for(var n=0,s=null,n=0,s=e.LinesParent.firstChild;s!=null;)n+=1,s=s.nextSibling;for(;n>t.MaxConsoleLines;)n-=1,e.LinesParent.removeChild(e.LinesParent.firstChild);e.LastLine=document.createElement("div"),e.LastLine.className="pasconsole",e.LinesParent.appendChild(e.LastLine)},e.EscapeString=function(e){var s="",t="",t=n(e,"<","&lt;",rtl.createSet(0)),t=n(t,">","&gt;",rtl.createSet(0)),t=n(t," ","&nbsp;",rtl.createSet(0)),t=n(t,`
`,"<br>",rtl.createSet(0)),t=n(t,`
`,"<br>",rtl.createSet(0)),t=n(t,``,"<br>",rtl.createSet(0)),s=t;return s},e.WriteConsole=function(n,s){var o="",o=e.LastLine.innerHTML,o=o+e.EscapeString(""+n);e.LastLine.innerHTML=o,s&&(t.ConsoleLinesToBrowserLog&&window.console.log(e.LastLine.innerText),e.AppendLine())}},t.$init=function(){t.ConsoleLinesToBrowserLog=!0,t.ConsoleElementID="pasjsconsole",t.ConsoleStyle=t.DefaultConsoleStyle,t.MaxConsoleLines=25,t.HookConsole()}},[]),rtl.module("CustApp",["System","Classes","SysUtils","Types","JS"],function(){"use strict";var i=this,t=null,n=pas.Classes,e=n.TComponent,s=pas.SysUtils,o=s.Exception;rtl.createClass(this,"TCustomApplication",e,function(){t=this,this.$init=function(){e.$init.call(this),this.FExceptObjectJS=void 0,this.FTerminated=!1,this.FOptionChar="",this.FCaseSensitiveOptions=!1,this.FStopOnException=!1,this.FExceptionExitCode=0,this.FExceptObject=null},this.$final=function(){this.FExceptObject=void 0,e.$final.call(this)},this.Create$1=function(t){return e.Create$1.call(this,t),this.FOptionChar="-",this.FCaseSensitiveOptions=!0,this.FStopOnException=!1,this},this.HandleException=function(e){this.ShowException(this.FExceptObject),this.FStopOnException&&this.Terminate$1(this.FExceptionExitCode),e===null},this.Initialize=function(){this.FTerminated=!1},this.Run=function(){do{this.FExceptObject=null,this.FExceptObjectJS=null;try{this.DoRun()}catch(t){if(o.isPrototypeOf(t)){var e=t;this.FExceptObject=e,this.FExceptObjectJS=e,this.HandleException(this)}else this.FExceptObject=null,this.FExceptObjectJS=t}break}while(!this.FTerminated)},this.Terminate$1=function(e){this.FTerminated=!0,rtl.exitcode=e}})}),rtl.module("browserapp",["System","Classes","SysUtils","Types","JS","Web","CustApp"],function(){"use strict";var s=this,e=s.$impl,a=null,r=pas.CustApp,o=r.TCustomApplication,n=pas.System,c=n.Writeln,t=pas.SysUtils,l=t.Exception,d=t.FreeAndNil,u=n.Copy,i=t.LowerCase;rtl.createClass(this,"TBrowserApplication",o,function(){a=this,this.GetHTMLElement=function(e){var t=null,t=document.getElementById(e);return t===null&&this.LogGetElementErrors()&&c("Could not find element with ID ",e),t},this.DoRun=function(){},this.LogGetElementErrors=function(){var e=!1,e=!0;return e},this.ShowException=function(e){var t="";e!==null?t=e.$classname+": "+e.fMessage:this.FExceptObjectJS&&(t=this.FExceptObjectJS.toString()),window.alert("Unhandled exception caught:"+t)},this.HandleException=function(e){l.isPrototypeOf(this.FExceptObject)&&this.ShowException(this.FExceptObject),o.HandleException.call(this,e)}}),this.ReloadEnvironmentStrings=function(){a=0,t="",s="",o=[],n=[],e.EnvNames!=null&&d({p:e,get:function(){return this.p.EnvNames},set:function(e){this.p.EnvNames=e}}),e.EnvNames=new Object,t=window.location.search,t=u(t,2,t.length-1),o=t.split("&");for(var t,n,s,o,a,r=0,c=rtl.length(o)-1;r<=c;r++)a=r,n=o[a].split("="),s=i(decodeURIComponent(n[0])),rtl.length(n)===2?e.EnvNames[s]=decodeURIComponent(n[1]):rtl.length(n)===1&&(e.EnvNames[s]="")},s.$implcode=function(){e.EnvNames=null,e.Params=[],e.ReloadParamStrings=function(){e.Params=rtl.arraySetLength(e.Params,"",1),e.Params[0]=window.location.pathname},e.GetParamCount=function(){var t=0,t=rtl.length(e.Params)-1;return t},e.GetParamStr=function(t){var n="",n=e.Params[t];return n},e.MyGetEnvironmentVariable=function(t){var n="",s="",s=i(t);return e.EnvNames.hasOwnProperty(s)?n=""+e.EnvNames[s]:n="",n},e.MyGetEnvironmentVariableCount=function(){var t=0,t=rtl.length(Object.getOwnPropertyNames(e.EnvNames));return t},e.MyGetEnvironmentString=function(t){var n="",n=""+e.EnvNames[Object.getOwnPropertyNames(e.EnvNames)[t]];return n}},s.$init=function(){n.IsConsole=!0,n.OnParamCount=e.GetParamCount,n.OnParamStr=e.GetParamStr,s.ReloadEnvironmentStrings(),e.ReloadParamStrings(),t.OnGetEnvironmentVariable=e.MyGetEnvironmentVariable,t.OnGetEnvironmentVariableCount=e.MyGetEnvironmentVariableCount,t.OnGetEnvironmentString=e.MyGetEnvironmentString}},["Rtl.BrowserLoadHelper"]),rtl.module("p2jsres",["System","Types"],function(){"use strict";var r=this,e=r.$impl,u=null,d=null,h=null,s=null,n=null,i=null,a=null,o=null,c=pas.System,t=c.Copy,l=c.Pos,u=this.TResourceSource={0:"rsJS",rsJS:0,1:"rsHTML",rsHTML:1};rtl.recNewT(this,"TResourceInfo",function(){d=this,this.name="",this.encoding="",this.resourceunit="",this.format="",this.data="",this.$eq=function(e){return this.name===e.name&&this.encoding===e.encoding&&this.resourceunit===e.resourceunit&&this.format===e.format&&this.data===e.data},this.$assign=function(e){return this.name=e.name,this.encoding=e.encoding,this.resourceunit=e.resourceunit,this.format=e.format,this.data=e.data,this}}),this.GetResourceInfo$1=function(t,n,s){var o=!1,i=t;return i===0?o=e.GetRTLResourceInfo(n,s):i===1&&(o=e.GetHTMLResourceInfo(n,s)),o},r.$implcode=function(){s=pas.SysUtils,n=s.LowerCase,i=pas.JS,a=i.isDefined,o=s.SameText,e.GetRTLResourceInfo=function(e,t){var o=!1,s=null,s=rtl.getResource(n(e)),o=s!=null;return o&&(t.name=s.name,t.encoding=s.encoding,t.format=s.format,t.resourceunit=s.unit,t.data=s.data),o},e.IDPrefix="resource-",e.GetHTMLResourceInfo=function(s,i){var d=!1,u=null,r="",c=0,d=!1;return a(document)?(u=document.getElementById(e.IDPrefix+n(s)),d=u!=null&&o(u.tagName,"link"),d&&(i.name=n(s),i.resourceunit=""+u.dataset.unit,r=u.href,r=t(r,6,r.length-5),c=l(",",r),i.data=t(r,c+1,r.length-1),r=t(r,1,c-1),c=l(";",r),c===0?i.encoding="":(i.encoding=t(r,c+1,r.length-1),r=t(r,1,c-1)),i.format=r,d)):d}}},["SysUtils","JS","Web"]),rtl.module("DateUtils",["System","SysUtils"],function(){"use strict";var s,j,c=this,t=c.$impl,l=null,e=pas.SysUtils,y=e.DecodeDate,f=e.FormatDateTime,v=e.Trim,o=e.StrToIntDef,i=pas.System,n=i.Copy,u=e.EncodeTime,h=e.EncodeDate,m=i.TObject,r=e.Format,a=i.VarRecs,p=e.SameText,g=e.Now,d=i.upcase,b=e.EConvertError;this.YearOf=function(e){var t=0,n=0,s=0;return y(e,{get:function(){return t},set:function(e){t=e}},{get:function(){return n},set:function(e){n=e}},{get:function(){return s},set:function(e){s=e}}),t},this.DateTimeToRFC3339=function(e){var t="",t=f('yyyy-mm-dd"T"hh":"nn":"ss"."zzz"Z"',e);return t},j={0:"ppTime",ppTime:0,1:"ppYear",ppYear:1,2:"ppMonth",ppMonth:2,3:"ppDay",ppDay:3,4:"ppHour",ppHour:4,5:"ppMinute",ppMinute:5,6:"ppSec",ppSec:6,7:"ppMSec",ppMSec:7},s=[11,1,6,9,12,15,18,21],this.TryRFC3339ToDateTime=function(e,t){var c=!1,l=0,d=0,m=0,a=0,r=0,i=0,f=0;return v(e)===""&&(c=!0,t.set(0)),l=o(n(e,s[1],4),-1),d=o(n(e,s[2],2),-1),m=o(n(e,s[3],2),-1),e.length>=s[0]?(a=o(n(e,s[4],2),-1),r=o(n(e,s[5],2),-1),e.length>=s[6]?i=o(n(e,s[6],2),-1):i=0,e.length>=s[7]&&(f=o(n(e,s[7],3),-1))):(a=0,r=0,i=0,f=0),c=l>=0&&d>=0&&m>=0&&a>=0&&r>=0&&i>=0&&f>=0,c?l===0||d===0||m===0?t.set(u(a,r,i,0)):t.set(h(l,d,m)+u(a,r,i,f)):t.set(0),c},rtl.createClass(this,"TDateTimeScanner",m,function(){l=this,this.$init=function(){m.$init.call(this),this.FPattern="",this.FText="",this.FPatternOffset=0,this.FLen=0,this.FPatternLen=0,this.FPatternPos=0,this.FPos=0,this.FY=0,this.FM=0,this.FD=0,this.FTimeval=0},this.ArrayMatchError=function(){t.raiseexception(r(t.SNoArrayMatch,a(0,this.FPatternPos+1,0,this.FPos)))},this.DoDateTime=function(){this.MatchPattern(e.ShortDateFormat),this.MatchPattern("	"),this.MatchPattern(e.LongTimeFormat),this.FPatternPos+=1},this.SetPattern=function(e){if(this.FPattern===e)return;this.FPattern=e,this.FPatternLen=this.FPattern.length},this.SetText=function(e){if(this.FText===e)return;this.FText=e,this.FLen=this.FText.length},this.ScanFixedInt=function(e){for(var n=0,o="",s="",i=0,n=0,i=this.FPos,o=this.FPattern.charAt(this.FPatternPos-1);this.FPatternPos<=this.FPatternLen&&this.FPattern.charAt(this.FPatternPos-1)===o;)this.FPatternPos+=1;for(s=this.FText.charAt(this.FPos-1);e>0&&this.FPos<=this.FLen&&s.charCodeAt()in rtl.createSet(null,48,57);)n=n*10+s.charCodeAt()-48,this.FPos+=1,e-=1,this.FPos<=this.FLen&&(s=this.FText.charAt(this.FPos-1));return i===this.FPos&&t.raiseexception(r(t.SPatternCharMismatch,a(9,o,0,i))),n},this.ScanPatternLength=function(){for(var t=0,n="",e=0,t=this.FPatternPos,e=this.FPatternPos,n=this.FPattern.charAt(e-1);e<=this.FPatternLen&&this.FPattern.charAt(e-1)===n;)e+=1;return t=e-t,t},this.MatchChar=function(e){var n="";this.FPos<=this.FLen?n=this.FText.charAt(this.FPos-1):n="?",n!==e&&t.raiseexception(r(t.SNoCharMatch,a(9,n,9,e,0,this.FPatternPos+this.FPatternOffset,0,this.FPos))),this.FPatternPos+=1,this.FPos+=1},this.FindIMatch=function(e,t){for(var o=0,i=0,s=0,o=-1,i=rtl.length(e)-1,s=0;s<=i&&o===-1;)p(n(t,1,e[s].length),e[s])&&(o=s),s+=1;return o},this.FindMatch=function(e){var t=0,t=this.FindIMatch(e,n(this.FText,this.FPos,this.FLen-this.FPos+1));return t===-1?this.ArrayMatchError():(this.FPos+=e[t].length+1,this.FPatternPos+=e[t].length+1,t+=1),t},this.MatchPattern=function(e){var t="",n=0,t=this.FPattern,n=this.FPatternPos;this.FPatternOffset=this.FPatternPos,this.FPattern=e,this.FPatternLen=e.length;try{this.Scan(-1)}finally{this.FPattern=t,this.FPatternLen=e.length,this.FPatternPos=n,this.FPatternOffset=0}},this.DoYear=function(){var n=0,t=0,n=this.ScanPatternLength();this.FY=this.ScanFixedInt(4),n<=2&&(t=c.YearOf(g())-e.TwoDigitYearCenturyWindow,this.FY+=rtl.trunc(t/100)*100,e.TwoDigitYearCenturyWindow>0&&this.FY<t&&(this.FY+=100))},this.DoMonth=function(){var n=0,n=this.ScanPatternLength(),t=n;t===1||t===2?this.FM=this.ScanFixedInt(2):t===3?this.FM=this.FindMatch(e.ShortMonthNames):t===4&&(this.FM=this.FindMatch(e.LongMonthNames))},this.DoDay=function(){var n=0,n=this.ScanPatternLength(),t=n;t===1||t===2?this.FD=this.ScanFixedInt(2):t===3?this.FD=this.FindMatch(e.ShortDayNames):t===4?this.FD=this.FindMatch(e.LongDayNames):t===5?this.MatchPattern(e.ShortDateFormat):t===6&&this.MatchPattern(e.LongDateFormat)},this.DoTime=function(){var t=0,t=this.ScanPatternLength(),n=t;n===1?this.MatchPattern(e.ShortTimeFormat):n===2&&this.MatchPattern(e.LongTimeFormat)},this.DoAMPM=function(){var i,a,r,s=0,s=this.FindIMatch(t.AMPMformatting,n(this.FPattern,this.FPatternPos,5)),o=s;o===0?(s=this.FindIMatch(["AM","PM"],n(this.FText,this.FPos,2)),i=s,i===0||(i===1?this.FTimeval=this.FTimeval+12*.041666666666666664:this.ArrayMatchError()),this.FPatternPos+=t.AMPMformatting[0].length,this.FPos+=2):o===1?(a=d(this.FText.charAt(this.FPos-1)),a==="A"||(a==="P"?this.FTimeval=this.FTimeval+12*.041666666666666664:this.ArrayMatchError()),this.FPatternPos+=t.AMPMformatting[1].length,this.FPos+=1):o===2?(s=this.FindIMatch([e.TimeAMString,e.TimePMString],n(this.FText,this.FPos,5)),r=s,r===0?this.FPos+=e.TimeAMString.length:r===1?(this.FTimeval=this.FTimeval+12*.041666666666666664,this.FPos+=e.TimePMString.length):this.ArrayMatchError(),this.FPatternPos+=t.AMPMformatting[2].length,this.FPatternPos+=2,this.FPos+=2):this.MatchChar(this.FPattern.charAt(this.FPatternPos-1))},this.Scan=function(n){var s,c=0,l="",i="",o="",u=0;for(n<1&&(n=1),this.FPos<n&&(this.FPos=n),this.FPatternPos=1,i="\0",l=" ";this.FPos<=this.FLen&&this.FPatternPos<=this.FPatternLen;)if(o=d(this.FPattern.charAt(this.FPatternPos-1)),i!=="\0")i!==o?this.MatchChar(o):(i="\0",this.FPatternPos+=1);else{if(o==="M"&&l==="H")u=this.ScanPatternLength(),u>2&&t.raiseexception(r(t.SHHMMError,a(0,this.FPatternOffset+this.FPatternPos+1))),this.FTimeval=this.FTimeval+this.ScanFixedInt(2)*.00069444444444444447;else if(s=o,s==="Y")this.DoYear();else if(s==="M")this.DoMonth();else if(s==="D")this.DoDay();else if(s==="T")this.DoTime();else if(s==="H")this.FTimeval=this.FTimeval+this.ScanFixedInt(2)*.041666666666666664;else if(s==="N")this.FTimeval=this.FTimeval+this.ScanFixedInt(2)*.00069444444444444447;else if(s==="S")this.FTimeval=this.FTimeval+this.ScanFixedInt(2)*.11574074074074073e-4;else if(s==="Z")this.FTimeval=this.FTimeval+this.ScanFixedInt(3)*.11574074074074074e-7;else if(s==="A")this.DoAMPM();else if(s==="/")this.MatchChar(e.DateSeparator);else if(s===":")this.MatchChar(e.TimeSeparator),o=l;else if(s==="'"||s==='"')i=o,this.FPatternPos+=1;else if(s==="C")this.DoDateTime();else if(s==="?")this.FPatternPos+=1,this.FPos+=1;else if(s==="	"){for(;this.FPos<=this.FLen&&this.FText.charCodeAt(this.FPos-1)in t.whitespace;)this.FPos+=1;this.FPatternPos+=1}else this.MatchChar(this.FPattern.charAt(this.FPatternPos-1));l=o}return c=this.FTimeval,this.FY>0&&this.FM>0&&this.FD>0&&(c=c+h(this.FY,this.FM,this.FD)),c}}),this.ScanDateTime=function(e,t,n){var o=0,s=null,s=l.$create("Create");try{s.SetPattern(e),s.SetText(t),o=s.Scan(n)}finally{s=rtl.freeLoc(s)}return o},c.$implcode=function(){t.whitespace=rtl.createSet(32,13,10),t.hrfactor=1/24,t.minfactor=1/(24*60),t.secfactor=1/(24*60*60),t.mssecfactor=1/(24*60*60*1e3),t.AMPMformatting=["am/pm","a/p","ampm"],t.raiseexception=function(e){throw b.$create("Create$1",[e])},t.SPatternCharMismatch='Pattern mismatch char "%s" at position %d.',t.SNoCharMatch='Mismatch char "%s" <> "%s" at pattern position %d, string position %d.',t.SHHMMError="mm in a sequence hh:mm is interpreted as minutes. No longer versions allowed! (Position : %d).",t.SNoArrayMatch="Can't match any allowed value at pattern position %d, string position %d."}},["JS","RTLConsts"]),rtl.module("DBConst",["System"],function(){"use strict";var e=this;e.$resourcestrings={SActiveDataset:{org:"Operation cannot be performed on an active dataset"},SDuplicateFieldName:{org:'Duplicate fieldname : "%s"'},SFieldNotFound:{org:'Field not found : "%s"'},SInactiveDataset:{org:"Operation cannot be performed on an inactive dataset"},SInvalidDisplayValues:{org:'"%s" are not valid boolean displayvalues'},SInvalidFieldSize:{org:"Invalid field size : %d"},SInvalidTypeConversion:{org:"Invalid type conversion to %s in field %s"},SNeedField:{org:"Field %s is required, but not supplied."},SNeedFieldName:{org:"Field needs a name"},SNoDataset:{org:'No dataset asssigned for field : "%s"'},SNoSuchRecord:{org:"Could not find the requested record."},SNotEditing:{org:'Operation not allowed, dataset "%s" is not in an edit or insert state.'},SRangeError:{org:"%f is not between %f and %f for %s"},SUniDirectional:{org:"Operation cannot be performed on an unidirectional dataset"},SUnknownFieldType:{org:"Unknown field type : %s"},SIndexNotFound:{org:"Index '%s' not found"},SFieldValueError:{org:"Invalid value for field '%s'"},SDuplicateName:{org:"Duplicate name '%s' in %s"},SLookupInfoError:{org:"Lookup information for field '%s' is incomplete"},SErrInvalidDateTime:{org:'Invalid date/time value : "%s"'},SErrInsertingSameRecordtwice:{org:"Attempt to insert the same record twice."},SNestedDataSetClass:{org:"Nested dataset must inherit from %s"},SCircularDataLink:{org:"Circular datalinks are not allowed"}}}),rtl.module("DB",["System","Classes","SysUtils","JS","Types","DateUtils"],function(){"use strict";var e=this,c=e.$impl,De=null,Te=null,_e=null,ye=null,g=null,G=null,ge=null,h=null,k=null,F=null,M=null,ce=null,Q=null,n=null,N=null,u=null,_=null,ee=null,se=null,L=null,oe=null,j=null,H=null,ie=null,A=null,I=null,S=null,re=null,ae=null,Se=null,de=null,C=null,ue=null,te=null,J=null,Y=null,Oe=null,d=null,pe=null,Ie=null,He=null,Re=null,ze=null,le=null,xe=null,a=null,b=null,je=null,ve=null,fe=null,Z=null,R=null,me=null,o=pas.SysUtils,he=o.Exception,l=pas.Classes,m=l.TCollectionItem,t=null,f=pas.System,s=f.VarRecs,T=l.TOwnedCollection,p=f.Copy,E=o.IntToStr,z=l.TCollection,ne=o.AnsiSameText,y=l.TPersistent,r=f.TObject,w=l.TFPList,i=l.TComponent,X=f.Pos,be=o.LowerCase,x=o.UpperCase,O=pas.JS,P=O.isNull,we=o.EVariantError,q=O.isUndefined,K=l.TAlignment,Ce=K.taLeftJustify,Ee=f.upcase,ke=o.StrToDateTime,Ae=o.StrToFloat,U=o.StrToInt,Me=o.StrToInt64,Fe=K.taRightJustify,v=O.isInteger,W=o.FloatToStr,D=O.isBoolean,Ne=o.FormatDateTime,Le=f.Assigned,$=o.FreeAndNil,Pe=o.Abort,V=l.TList,B=pas.DateUtils,Be=B.TryRFC3339ToDateTime,Ve=o.EConvertError,$e=O.isDate,We=o.JSDateToDateTime,Ue=B.DateTimeToRFC3339,Ke=o.IntToHex,qe=o.Format,Ye=o.Trim;this.YesNoChars=["N","Y"],De=this.TDataSetState={0:"dsInactive",dsInactive:0,1:"dsBrowse",dsBrowse:1,2:"dsEdit",dsEdit:2,3:"dsInsert",dsInsert:3,4:"dsSetKey",dsSetKey:4,5:"dsCalcFields",dsCalcFields:5,6:"dsFilter",dsFilter:6,7:"dsNewValue",dsNewValue:7,8:"dsOldValue",dsOldValue:8,9:"dsCurValue",dsCurValue:9,10:"dsBlockRead",dsBlockRead:10,11:"dsInternalCalc",dsInternalCalc:11,12:"dsOpening",dsOpening:12,13:"dsRefreshFields",dsRefreshFields:13},Te=this.TDataEvent={0:"deFieldChange",deFieldChange:0,1:"deRecordChange",deRecordChange:1,2:"deDataSetChange",deDataSetChange:2,3:"deDataSetScroll",deDataSetScroll:3,4:"deLayoutChange",deLayoutChange:4,5:"deUpdateRecord",deUpdateRecord:5,6:"deUpdateState",deUpdateState:6,7:"deCheckBrowseMode",deCheckBrowseMode:7,8:"dePropertyChange",dePropertyChange:8,9:"deFieldListChange",deFieldListChange:9,10:"deFocusControl",deFocusControl:10,11:"deParentScroll",deParentScroll:11,12:"deConnectChange",deConnectChange:12,13:"deReconcileError",deReconcileError:13,14:"deDisabledStateChange",deDisabledStateChange:14},_e=this.TUpdateStatus={0:"usModified",usModified:0,1:"usInserted",usInserted:1,2:"usDeleted",usDeleted:2},ye=this.TProviderFlag={0:"pfInUpdate",pfInUpdate:0,1:"pfInWhere",pfInWhere:1,2:"pfInKey",pfInKey:2,3:"pfHidden",pfHidden:3,4:"pfRefreshOnInsert",pfRefreshOnInsert:4,5:"pfRefreshOnUpdate",pfRefreshOnUpdate:5},this.$rtti.$Enum("TProviderFlag",{minvalue:0,maxvalue:5,ordtype:1,enumtype:this.TProviderFlag}),this.$rtti.$Set("TProviderFlags",{comptype:this.$rtti.TProviderFlag}),this.$rtti.$Class("TFieldDefs"),this.$rtti.$Class("TField"),this.$rtti.$Class("TDataSet"),this.$rtti.$Class("TDataSource"),rtl.createClass(this,"EDatabaseError",he,function(){g=this}),G=this.TFieldType={0:"ftUnknown",ftUnknown:0,1:"ftString",ftString:1,2:"ftInteger",ftInteger:2,3:"ftLargeInt",ftLargeInt:3,4:"ftBoolean",ftBoolean:4,5:"ftFloat",ftFloat:5,6:"ftDate",ftDate:6,7:"ftTime",ftTime:7,8:"ftDateTime",ftDateTime:8,9:"ftAutoInc",ftAutoInc:9,10:"ftBlob",ftBlob:10,11:"ftMemo",ftMemo:11,12:"ftFixedChar",ftFixedChar:12,13:"ftVariant",ftVariant:13,14:"ftDataset",ftDataset:14},this.$rtti.$Enum("TFieldType",{minvalue:0,maxvalue:14,ordtype:1,enumtype:this.TFieldType}),ge=this.TFieldAttribute={0:"faHiddenCol",faHiddenCol:0,1:"faReadonly",faReadonly:1,2:"faRequired",faRequired:2,3:"faLink",faLink:3,4:"faUnNamed",faUnNamed:4,5:"faFixed",faFixed:5},this.$rtti.$Enum("TFieldAttribute",{minvalue:0,maxvalue:5,ordtype:1,enumtype:this.TFieldAttribute}),this.$rtti.$Set("TFieldAttributes",{comptype:this.$rtti.TFieldAttribute}),rtl.createClass(this,"TNamedItem",m,function(){h=this,this.$init=function(){m.$init.call(this),this.FName=""},this.GetDisplayName=function(){var e="",e=this.FName;return e},this.SetDisplayName=function(n){var o=0;if(this.FName===n)return;n!==""&&M.isPrototypeOf(this.FCollection)&&(o=this.FCollection.IndexOf(n),o>=0&&o!==this.GetIndex()&&e.DatabaseErrorFmt(rtl.getResStr(t,"SDuplicateName"),s(18,n,18,this.FCollection.$classname))),this.FName=n,m.SetDisplayName.call(this,n)};var n=this.$rtti;n.addProperty("Name",2,rtl.string,"FName","SetDisplayName")}),rtl.createClass(this,"TDefCollection",T,function(){k=this,this.$init=function(){T.$init.call(this),this.FDataset=null},this.$final=function(){this.FDataset=void 0,T.$final.call(this)},this.SetItemName=function(e){var t=null,n="",t=rtl.as(e,h);t.FName===""?(n=p(this.$classname,2,5)+E(t.FID+1),this.FDataset!=null&&(n=this.FDataset.FName+n),t.SetDisplayName(n)):z.SetItemName.call(this,e)},this.create$3=function(e,t,n){return T.Create$2.call(this,t,n),this.FDataset=e,this},this.Find=function(e){t=null,n=0,t=null;for(var t,n,s=0,o=this.GetCount()-1;s<=o;s++)if(n=s,ne(this.GetItem(n).FName,e)){t=this.GetItem(n);break}return t},this.IndexOf=function(e){t=0,n=0,t=-1;for(var t,n,s=0,o=this.GetCount()-1;s<=o;s++)if(n=s,ne(this.GetItem(n).FName,e)){t=n;break}return t}}),rtl.createClass(this,"TFieldDef",h,function(){F=this,this.$init=function(){h.$init.call(this),this.FAttributes={},this.FDataType=0,this.FFieldNo=0,this.FInternalCalcField=!1,this.FPrecision=0,this.FRequired=!1,this.FSize=0},this.$final=function(){this.FAttributes=void 0,h.$final.call(this)},this.GetFieldClass=function(){var e=null;return this.FCollection!=null&&M.isPrototypeOf(this.FCollection)&&this.FCollection.FDataset!=null?e=this.FCollection.FDataset.GetFieldClass(this.FDataType):e=null,e},this.SetAttributes=function(e){this.FAttributes=rtl.refSet(e),this.Changed(!1)},this.SetDataType=function(e){this.FDataType=e,this.Changed(!1)},this.SetPrecision=function(e){this.FPrecision=e,this.Changed(!1)},this.SetSize=function(e){this.FSize=e,this.Changed(!1)},this.Create$1=function(e){return m.Create$1.call(this,e),this.FFieldNo=this.GetIndex()+1,this},this.Create$3=function(e,t,n,s,o,i){return m.Create$1.call(this,e),this.SetDisplayName(t),this.FDataType=n,this.FSize=s,this.FRequired=o,this.FPrecision=-1,this.FFieldNo=i,this},this.Destroy=function(){m.Destroy.call(this)},this.Assign=function(e){var t=null,t=null;if(F.isPrototypeOf(e)&&(t=rtl.as(e,F)),t!=null){this.FCollection.BeginUpdate();try{this.SetDisplayName(t.FName),this.SetDataType(t.FDataType),this.SetSize(t.FSize),this.SetPrecision(t.FPrecision),this.FRequired=t.FRequired}finally{this.FCollection.EndUpdate()}}else y.Assign.call(this,e)},this.CreateField=function(n){var o=null,i=null,i=this.GetFieldClass();i===null&&e.DatabaseErrorFmt(rtl.getResStr(t,"SUnknownFieldType"),s(18,this.FName)),o=i.$create("Create$1",[n]);try{o.FFieldDef=this,o.SetSize(this.FSize),o.FRequired=this.FRequired,o.FFieldName=this.FName,o.FDisplayLabel=this.GetDisplayName(),o.FFieldNo=this.FFieldNo,o.SetFieldType(this.FDataType),o.FReadOnly=1 in this.FAttributes,o.SetDataset(this.FCollection.FDataset),L.isPrototypeOf(o)&&o.SetPrecision(this.FPrecision)}catch(e){throw o=rtl.freeLoc(o),e}return o};var n=this.$rtti;n.addProperty("Attributes",2,e.$rtti.TFieldAttributes,"FAttributes","SetAttributes",{Default:{}}),n.addProperty("DataType",2,e.$rtti.TFieldType,"FDataType","SetDataType"),n.addProperty("Precision",2,rtl.longint,"FPrecision","SetPrecision",{Default:0}),n.addProperty("Size",2,rtl.longint,"FSize","SetSize",{Default:0})}),rtl.createClass(this,"TFieldDefs",k,function(){M=this,this.GetItem$1=function(e){var t=null,t=this.GetItem(e);return t},this.FieldDefClass=function(){var e=null,e=F;return e},this.Create$4=function(e){return k.create$3.call(this,e,this.Owner(),this.$class.FieldDefClass()),this},this.Add$2=function(e,t,n,s,o){var i=null,i=this.$class.FieldDefClass().$create("Create$3",[this,e,t,n,s,o]);return i},this.Add$3=function(n,s,o,i){n.length===0&&e.DatabaseError$1(rtl.getResStr(t,"SNeedFieldName"),this.FDataset),this.BeginUpdate();try{this.Add$2(n,s,o,i,this.GetCount()+1)}finally{this.EndUpdate()}},this.Add$4=function(e,t,n){this.Add$3(e,t,n,!1)},this.Assign$2=function(e){n=0,this.Clear();for(var t,n,s=0,o=e.GetCount()-1;s<=o;s++)n=s,t=e.GetItem$1(n),this.Add$3(t.FName,t.FDataType,t.FSize,t.FRequired)}}),ce=this.TFieldKind={0:"fkData",fkData:0,1:"fkCalculated",fkCalculated:1,2:"fkLookup",fkLookup:2,3:"fkInternalCalc",fkInternalCalc:3},this.$rtti.$Enum("TFieldKind",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TFieldKind}),this.$rtti.$MethodVar("TFieldNotifyEvent",{procsig:rtl.newTIProcSig([["Sender",this.$rtti.TField]]),methodkind:0}),this.$rtti.$MethodVar("TFieldGetTextEvent",{procsig:rtl.newTIProcSig([["Sender",this.$rtti.TField],["aText",rtl.string,1],["DisplayText",rtl.boolean]]),methodkind:0}),this.$rtti.$MethodVar("TFieldSetTextEvent",{procsig:rtl.newTIProcSig([["Sender",this.$rtti.TField],["aText",rtl.string,2]]),methodkind:0}),rtl.createClass(this,"TLookupList",r,function(){Q=this,this.$init=function(){r.$init.call(this),this.FList=null},this.$final=function(){this.FList=void 0,r.$final.call(this)},this.Create$1=function(){return this.FList=w.$create("Create"),this},this.Destroy=function(){this.Clear(),this.FList.$destroy("Destroy"),r.Destroy.call(this)},this.Clear=function(){this.FList.Clear()}}),rtl.createClass(this,"TField",i,function(){n=this,this.$init=function(){i.$init.call(this),this.FAlignment=0,this.FConstraintErrorMessage="",this.FCustomConstraint="",this.FDataSet=null,this.FDataType=0,this.FDefaultExpression="",this.FDisplayLabel="",this.FDisplayWidth=0,this.FFieldDef=null,this.FFieldKind=0,this.FFieldName="",this.FFieldNo=0,this.FFields=null,this.FHasConstraints=!1,this.FImportedConstraint="",this.FKeyFields="",this.FLookupCache=!1,this.FLookupDataSet=null,this.FLookupKeyfields="",this.FLookupresultField="",this.FLookupList=null,this.FOnChange=null,this.FOnGetText=null,this.FOnSetText=null,this.FOnValidate=null,this.FOrigin="",this.FReadOnly=!1,this.FRequired=!1,this.FSize=0,this.FValidChars=[],this.FValueBuffer=void 0,this.FValidating=!1,this.FVisible=!1,this.FProviderFlags={}},this.$final=function(){this.FDataSet=void 0,this.FFieldDef=void 0,this.FFields=void 0,this.FLookupDataSet=void 0,this.FLookupList=void 0,this.FOnChange=void 0,this.FOnGetText=void 0,this.FOnSetText=void 0,this.FOnValidate=void 0,this.FValidChars=void 0,this.FProviderFlags=void 0,i.$final.call(this)},this.GetIndex=function(){var e=0;return this.FDataSet!=null?e=this.FDataSet.FFieldList.IndexOf(this):e=-1,e},this.SetAlignment=function(e){this.FAlignment!==e&&(this.FAlignment=e,this.PropertyChanged(!1))},this.SetIndex=function(e){this.FFields!==null&&this.FFields.SetFieldIndex(this,e)},this.SetDisplayLabel=function(e){this.FDisplayLabel!==e&&(this.FDisplayLabel=e,this.PropertyChanged(!0))},this.SetDisplayWidth=function(e){this.FDisplayWidth!==e&&(this.FDisplayWidth=e,this.PropertyChanged(!0))},this.GetDisplayWidth=function(){var e=0;return this.FDisplayWidth===0?e=this.GetDefaultWidth():e=this.FDisplayWidth,e},this.SetReadOnly=function(e){this.FReadOnly!==e&&(this.FReadOnly=e,this.PropertyChanged(!0))},this.SetVisible=function(e){this.FVisible!==e&&(this.FVisible=e,this.PropertyChanged(!0))},this.IsDisplayLabelStored=function(){var e=!1,e=this.GetDisplayName()!==this.FFieldName;return e},this.IsDisplayWidthStored=function(){var e=!1,e=this.FDisplayWidth!==0;return e},this.GetLookupList=function(){var e=null;return this.FLookupList!=null||(this.FLookupList=Q.$create("Create$1")),e=this.FLookupList,e},this.CalcLookupValue=function(){this.FLookupDataSet!=null&&this.FLookupDataSet.GetActive()?this.SetAsJSValue(this.FLookupDataSet.Lookup(this.FLookupKeyfields,this.FDataSet.GetFieldValues(this.FKeyFields),this.FLookupresultField)):this.SetAsJSValue(null)},this.RaiseAccessError=function(e){var t=null,t=this.AccessError(e);throw t},this.AccessError=function(e){var n=null,n=g.$create("CreateFmt",[rtl.getResStr(t,"SInvalidTypeConversion"),s(18,e,18,this.FFieldName)]);return n},this.CheckInactive=function(){this.FDataSet!=null&&this.FDataSet.CheckInactive()},this.CheckTypeSize=function(n){n!==0&&!this.IsBlob()&&e.DatabaseErrorFmt(rtl.getResStr(t,"SInvalidFieldSize"),s(0,n))},this.Change=function(){this.FOnChange!=null&&this.FOnChange(this)},this.Bind=function(n){n&&this.FFieldKind===2&&((this.FLookupDataSet===null||this.FLookupKeyfields===""||this.FLookupresultField===""||this.FKeyFields==="")&&e.DatabaseErrorFmt(rtl.getResStr(t,"SLookupInfoError"),s(18,this.GetDisplayName())),this.FFields.CheckFieldNames(this.FKeyFields),this.FLookupDataSet.Open(),this.FLookupDataSet.FFieldList.CheckFieldNames(this.FLookupKeyfields),this.FLookupDataSet.FieldByName(this.FLookupresultField),this.FLookupCache&&this.RefreshLookupList())},this.GetAsBoolean=function(){var e=!1;return this.RaiseAccessError(c.SBoolean),e=!1,e},this.GetAsLargeInt=function(){var e=0;return this.RaiseAccessError(c.SLargeInt),e=0,e},this.GetAsDateTime=function(){var e=0;return this.RaiseAccessError(c.SDateTime),e=0,e},this.GetAsFloat=function(){var e=0;return this.RaiseAccessError(c.SDateTime),e=0,e},this.GetAsInteger=function(){var e=0;return this.RaiseAccessError(c.SInteger),e=0,e},this.GetAsJSValue=function(){var e=void 0,e=this.GetData();return e},this.GetAsString=function(){var e="",e=this.GetClassDesc();return e},this.GetClassDesc=function(){var e="",t="",t=p(this.$classname,2,X("Field",this.$classname)-2);return this.GetIsNull()?e="("+be(t)+")":e="("+x(t)+")",e},this.GetDefaultWidth=function(){var e=0,e=10;return e},this.GetDisplayName=function(){var e="";return this.FDisplayLabel!==""?e=this.FDisplayLabel:e=this.FFieldName,e},this.GetIsNull=function(){var e=!1,e=P(this.GetData());return e},this.Notification=function(e,t){i.Notification.call(this,e,t),t===1&&e===this.FLookupDataSet&&(this.FLookupDataSet=null)},this.PropertyChanged=function(e){this.FDataSet!==null&&this.FDataSet.GetActive()&&(e?this.FDataSet.DataEvent(4,0):this.FDataSet.DataEvent(2,0))},this.SetAsJSValue=function(n){if(P(n))this.Clear();else try{this.SetVarValue(n)}catch(n){if(we.isPrototypeOf(n))e.DatabaseErrorFmt(rtl.getResStr(t,"SFieldValueError"),s(18,this.GetDisplayName()));else throw n}},this.SetDataset=function(e){if(e===this.FDataSet)return;this.FDataSet!=null&&(this.FDataSet.CheckInactive(),this.FDataSet.FFieldList.Remove(this)),e!=null&&(e.CheckInactive(),e.FFieldList.Add(this)),this.FDataSet=e},this.SetDataType=function(e){this.FDataType=e},this.SetSize=function(e){this.CheckInactive(),this.$class.CheckTypeSize(e),this.FSize=e},this.SetVarValue=function(){this.RaiseAccessError(c.SJSValue)},this.Create$1=function(e){return i.Create$1.call(this,e),this.FVisible=!0,this.FValidChars=rtl.arraySetLength(this.FValidChars,"",255),this.FProviderFlags=rtl.createSet(0,1),this},this.Destroy=function(){this.FDataSet!=null&&(this.FDataSet.SetActive(!1),this.FFields!=null&&this.FFields.Remove(this)),rtl.free(this,"FLookupList"),i.Destroy.call(this)},this.Assign=function(e){e===null?this.Clear():n.isPrototypeOf(e)?this.SetAsJSValue(e.GetAsJSValue()):y.Assign.call(this,e)},this.Clear=function(){this.SetData(null)},this.GetData=function(){var n=void 0;return this.FDataSet===null&&e.DatabaseErrorFmt(rtl.getResStr(t,"SNoDataset"),s(18,this.FFieldName)),this.FValidating?n=this.FValueBuffer:(n=this.FDataSet.GetFieldData(this),q(n)&&(n=null)),n},this.IsBlob=function(){var e=!1,e=!1;return e},this.RefreshLookupList=function(){var e=!1;if(this.FLookupDataSet==null||this.FLookupKeyfields.length===0||this.FLookupresultField.length===0||this.FKeyFields.length===0)return;e=this.FLookupDataSet.GetActive();try{this.FLookupDataSet.SetActive(!0),this.FFields.CheckFieldNames(this.FKeyFields),this.FLookupDataSet.FFieldList.CheckFieldNames(this.FLookupKeyfields),this.FLookupDataSet.FieldByName(this.FLookupresultField),this.GetLookupList().Clear(),this.FLookupDataSet.DisableControls();try{for(this.FLookupDataSet.First();!this.FLookupDataSet.FEOF;)this.FLookupDataSet.Next()}finally{this.FLookupDataSet.EnableControls()}}finally{this.FLookupDataSet.SetActive(e)}},this.SetData=function(n){this.FDataSet!=null||e.DatabaseErrorFmt(rtl.getResStr(t,"SNoDataset"),s(18,this.FFieldName)),this.FDataSet.SetFieldData(this,n)},this.SetFieldType=function(){};var o=this.$rtti;o.addProperty("Alignment",2,l.$rtti.TAlignment,"FAlignment","SetAlignment",{Default:Ce}),o.addProperty("CustomConstraint",0,rtl.string,"FCustomConstraint","FCustomConstraint"),o.addProperty("ConstraintErrorMessage",0,rtl.string,"FConstraintErrorMessage","FConstraintErrorMessage"),o.addProperty("DefaultExpression",0,rtl.string,"FDefaultExpression","FDefaultExpression"),o.addProperty("DisplayLabel",15,rtl.string,"GetDisplayName","SetDisplayLabel",{stored:"IsDisplayLabelStored"}),o.addProperty("DisplayWidth",15,rtl.longint,"GetDisplayWidth","SetDisplayWidth",{stored:"IsDisplayWidthStored"}),o.addProperty("FieldKind",0,e.$rtti.TFieldKind,"FFieldKind","FFieldKind"),o.addProperty("FieldName",0,rtl.string,"FFieldName","FFieldName"),o.addProperty("HasConstraints",0,rtl.boolean,"FHasConstraints",""),o.addProperty("Index",3,rtl.longint,"GetIndex","SetIndex"),o.addProperty("ImportedConstraint",0,rtl.string,"FImportedConstraint","FImportedConstraint"),o.addProperty("KeyFields",0,rtl.string,"FKeyFields","FKeyFields"),o.addProperty("LookupCache",0,rtl.boolean,"FLookupCache","FLookupCache"),o.addProperty("LookupDataSet",0,e.$rtti.TDataSet,"FLookupDataSet","FLookupDataSet"),o.addProperty("LookupKeyFields",0,rtl.string,"FLookupKeyfields","FLookupKeyfields"),o.addProperty("LookupResultField",0,rtl.string,"FLookupresultField","FLookupresultField"),o.addProperty("Origin",0,rtl.string,"FOrigin","FOrigin"),o.addProperty("ProviderFlags",0,e.$rtti.TProviderFlags,"FProviderFlags","FProviderFlags"),o.addProperty("ReadOnly",2,rtl.boolean,"FReadOnly","SetReadOnly"),o.addProperty("Required",0,rtl.boolean,"FRequired","FRequired"),o.addProperty("Visible",2,rtl.boolean,"FVisible","SetVisible",{Default:!0}),o.addProperty("OnChange",0,e.$rtti.TFieldNotifyEvent,"FOnChange","FOnChange"),o.addProperty("OnGetText",0,e.$rtti.TFieldGetTextEvent,"FOnGetText","FOnGetText"),o.addProperty("OnSetText",0,e.$rtti.TFieldSetTextEvent,"FOnSetText","FOnSetText"),o.addProperty("OnValidate",0,e.$rtti.TFieldNotifyEvent,"FOnValidate","FOnValidate")}),rtl.createClass(this,"TStringField",n,function(){N=this,this.$init=function(){n.$init.call(this),this.FFixedChar=!1,this.FTransliterate=!1},this.CheckTypeSize=function(n){n<0&&e.DatabaseErrorFmt(rtl.getResStr(t,"SInvalidFieldSize"),s(0,n))},this.GetAsBoolean=function(){var n=!1,t="",t=this.GetAsString(),n=t.length>0&&Ee(t.charAt(0)).charCodeAt()in rtl.createSet(84,e.YesNoChars[1].charCodeAt());return n},this.GetAsDateTime=function(){var e=0,e=ke(this.GetAsString());return e},this.GetAsFloat=function(){var e=0,e=Ae(this.GetAsString());return e},this.GetAsInteger=function(){var e=0,e=U(this.GetAsString());return e},this.GetAsLargeInt=function(){var e=0,e=Me(this.GetAsString());return e},this.GetAsString=function(){var e="",t=void 0,t=this.GetData();return rtl.isString(t)?e=""+t:e="",e},this.GetAsJSValue=function(){var e=void 0,e=this.GetData();return e},this.GetDefaultWidth=function(){var e=0,e=this.FSize;return e},this.SetAsString=function(e){this.SetData(e)},this.SetVarValue=function(e){rtl.isString(e)?this.SetAsString(""+e):this.RaiseAccessError(rtl.getResStr(t,"SFieldValueError"))},this.Create$1=function(e){return n.Create$1.call(this,e),this.SetDataType(1),this.FFixedChar=!1,this.FTransliterate=!1,this.FSize=20,this},this.SetFieldType=function(e){e in rtl.createSet(1,12)&&this.SetDataType(e)};var o=this.$rtti;o.addProperty("Size",2,rtl.longint,"FSize","SetSize",{Default:20})}),rtl.createClass(this,"TNumericField",n,function(){u=this,this.$init=function(){n.$init.call(this),this.FDisplayFormat="",this.FEditFormat=""},this.CheckTypeSize=function(n){n>16&&e.DatabaseErrorFmt(rtl.getResStr(t,"SInvalidFieldSize"),s(0,n))},this.RangeError=function(n,o,i){e.DatabaseErrorFmt(rtl.getResStr(t,"SRangeError"),s(3,n,3,o,3,i,18,this.FFieldName))},this.SetDisplayFormat=function(e){this.FDisplayFormat!==e&&(this.FDisplayFormat=e,this.PropertyChanged(!0))},this.SetEditFormat=function(e){this.FEditFormat!==e&&(this.FEditFormat=e,this.PropertyChanged(!0))},this.GetAsBoolean=function(){var e=!1,e=this.GetAsInteger()!==0;return e},this.Create$1=function(e){return n.Create$1.call(this,e),this.SetAlignment(1),this};var o=this.$rtti;o.addProperty("Alignment",2,l.$rtti.TAlignment,"FAlignment","SetAlignment",{Default:Fe}),o.addProperty("DisplayFormat",2,rtl.string,"FDisplayFormat","SetDisplayFormat"),o.addProperty("EditFormat",2,rtl.string,"FEditFormat","SetEditFormat")}),rtl.createClass(this,"TIntegerField",u,function(){_=this,this.$init=function(){u.$init.call(this),this.FMinValue=0,this.FMaxValue=0,this.FMinRange=0,this.FMaxRange=0},this.SetMinValue=function(e){e>=this.FMinRange&&e<=this.FMaxRange?this.FMinValue=e:this.RangeError(e,this.FMinRange,this.FMaxRange)},this.SetMaxValue=function(e){e>=this.FMinRange&&e<=this.FMaxRange?this.FMaxValue=e:this.RangeError(e,this.FMinRange,this.FMaxRange)},this.GetAsFloat=function(){var e=0,e=this.GetAsInteger();return e},this.GetAsInteger=function(){var e=0;return this.GetValue({get:function(){return e},set:function(t){e=t}})||(e=0),e},this.GetAsString=function(){var e="",t=0;return this.GetValue({get:function(){return t},set:function(e){t=e}})?e=E(t):e="",e},this.GetAsJSValue=function(){var e=void 0,t=0;return this.GetValue({get:function(){return t},set:function(e){t=e}})?e=t:e=null,e},this.GetValue=function(e){var t=!1,n=void 0,n=this.GetData(),t=v(n);return t&&e.set(rtl.trunc(n)),t},this.SetAsInteger=function(e){this.CheckRange(e)?this.SetData(e):this.FMinValue!==0||this.FMaxValue!==0?this.RangeError(e,this.FMinValue,this.FMaxValue):this.RangeError(e,this.FMinRange,this.FMaxRange)},this.SetVarValue=function(e){v(e)?this.SetAsInteger(rtl.trunc(e)):this.RaiseAccessError(c.SInteger)},this.GetAsLargeInt=function(){var e=0,e=this.GetAsInteger();return e},this.Create$1=function(e){return u.Create$1.call(this,e),this.SetDataType(2),this.FMinRange=-2147483648,this.FMaxRange=2147483647,this},this.CheckRange=function(e){var t=!1;return this.FMinValue!==0||this.FMaxValue!==0?t=e>=this.FMinValue&&e<=this.FMaxValue:t=e>=this.FMinRange&&e<=this.FMaxRange,t};var e=this.$rtti;e.addProperty("MaxValue",2,rtl.longint,"FMaxValue","SetMaxValue",{Default:0}),e.addProperty("MinValue",2,rtl.longint,"FMinValue","SetMinValue",{Default:0})}),rtl.createClass(this,"TLargeintField",u,function(){ee=this,this.$init=function(){u.$init.call(this),this.FMinValue=0,this.FMaxValue=0,this.FMinRange=0,this.FMaxRange=0},this.SetMinValue=function(e){e>=this.FMinRange&&e<=this.FMaxRange?this.FMinValue=e:this.RangeError(e,this.FMinRange,this.FMaxRange)},this.SetMaxValue=function(e){e>=this.FMinRange&&e<=this.FMaxRange?this.FMaxValue=e:this.RangeError(e,this.FMinRange,this.FMaxRange)},this.GetAsFloat=function(){var e=0,e=this.GetAsLargeInt();return e},this.GetAsInteger=function(){var e=0,e=this.GetAsLargeInt();return e},this.GetAsLargeInt=function(){var e=0;return this.GetValue({get:function(){return e},set:function(t){e=t}})||(e=0),e},this.GetAsString=function(){var e="",t=0;return this.GetValue({get:function(){return t},set:function(e){t=e}})?e=E(t):e="",e},this.GetAsJSValue=function(){var e=void 0,t=0;return this.GetValue({get:function(){return t},set:function(e){t=e}})?e=t:e=null,e},this.GetValue=function(e){var t=!1,n=void 0,n=this.GetData(),t=v(n);return t&&e.set(rtl.trunc(n)),t},this.SetAsLargeInt=function(e){this.CheckRange(e)?this.SetData(e):this.RangeError(e,this.FMinValue,this.FMaxValue)},this.SetVarValue=function(e){v(e)?this.SetAsLargeInt(rtl.trunc(e)):this.RaiseAccessError(c.SLargeInt)},this.Create$1=function(e){return u.Create$1.call(this,e),this.SetDataType(3),this.FMinRange=-9007199254740991,this.FMaxRange=9007199254740991,this},this.CheckRange=function(e){var t=!1;return this.FMinValue!==0||this.FMaxValue!==0?t=e>=this.FMinValue&&e<=this.FMaxValue:t=e>=this.FMinRange&&e<=this.FMaxRange,t};var e=this.$rtti;e.addProperty("MaxValue",2,rtl.nativeint,"FMaxValue","SetMaxValue",{Default:0}),e.addProperty("MinValue",2,rtl.nativeint,"FMinValue","SetMinValue",{Default:0})}),rtl.createClass(this,"TAutoIncField",_,function(){se=this,this.SetAsInteger=function(){_.SetAsInteger.apply(this,arguments)},this.Create$1=function(e){return _.Create$1.call(this,e),this.SetDataType(9),this}}),rtl.createClass(this,"TFloatField",u,function(){L=this,this.$init=function(){u.$init.call(this),this.FCurrency=!1,this.FMaxValue=0,this.FMinValue=0,this.FPrecision=0},this.SetCurrency=function(e){if(this.FCurrency===e)return;this.FCurrency=e},this.SetPrecision=function(e){e===-1||e>1?this.FPrecision=e:this.FPrecision=2},this.GetAsFloat=function(){var e=0,t=void 0,t=this.GetData();return rtl.isNumber(t)?e=rtl.getNumber(t):e=0,e},this.GetAsLargeInt=function(){var e=0,e=Math.round(this.GetAsFloat());return e},this.GetAsInteger=function(){var e=0,e=Math.round(this.GetAsFloat());return e},this.GetAsJSValue=function(){var e=void 0,t=void 0,t=this.GetData();return rtl.isNumber(t)?e=t:e=null,e},this.GetAsString=function(){var e="",t=void 0,t=this.GetData();return rtl.isNumber(t)?e=W(rtl.getNumber(t)):e="",e},this.SetAsFloat=function(e){this.CheckRange(e)?this.SetData(e):this.RangeError(e,this.FMinValue,this.FMaxValue)},this.SetVarValue=function(e){rtl.isNumber(e)?this.SetAsFloat(rtl.getNumber(e)):this.RaiseAccessError("Float")},this.Create$1=function(e){return u.Create$1.call(this,e),this.SetDataType(5),this.FPrecision=15,this},this.CheckRange=function(e){var t=!1;return this.FMinValue!==0||this.FMaxValue!==0?t=e>=this.FMinValue&&e<=this.FMaxValue:t=!0,t};var e=this.$rtti;e.addProperty("Currency",2,rtl.boolean,"FCurrency","SetCurrency",{Default:!1}),e.addProperty("MaxValue",0,rtl.double,"FMaxValue","FMaxValue"),e.addProperty("MinValue",0,rtl.double,"FMinValue","FMinValue"),e.addProperty("Precision",2,rtl.longint,"FPrecision","SetPrecision",{Default:15})}),rtl.createClass(this,"TBooleanField",n,function(){oe=this,this.FDisplays$a$clone=function(e){var t,n=[];n.length=2;for(t=0;t<2;t++)n[t]=e[t].slice(0);return n},this.$init=function(){n.$init.call(this),this.FDisplayValues="",this.FDisplays=rtl.arraySetLength(null,"",2,2)},this.$final=function(){this.FDisplays=void 0,n.$final.call(this)},this.SetDisplayValues=function(n){var o=0;this.FDisplayValues!==n&&(o=X(";",n),(o<2||o===n.length)&&e.DatabaseErrorFmt(rtl.getResStr(t,"SInvalidDisplayValues"),s(18,n)),this.FDisplayValues=n,this.FDisplays[0][1]=p(n,1,o-1),this.FDisplays[1][1]=x(this.FDisplays[0][1]),this.FDisplays[0][0]=p(n,o+1,n.length-o),this.FDisplays[1][0]=x(this.FDisplays[0][0]),this.PropertyChanged(!0))},this.GetAsBoolean=function(){var e=!1,t=void 0,t=this.GetData();return D(t)?e=t!=!1:e=!1,e},this.GetAsString=function(){var e="",t=void 0,t=this.GetData();return D(t)?e=this.FDisplays[0][+(t!=!1)]:e="",e},this.GetAsJSValue=function(){var e=void 0,t=void 0,t=this.GetData();return D(t)?e=t!=!1:e=null,e},this.GetAsInteger=function(){var e=0,e=this.GetAsBoolean()+0;return e},this.GetDefaultWidth=function(){var e=0,e=this.FDisplays[0][0].length;return e<this.FDisplays[0][1].length&&(e=this.FDisplays[0][1].length),e},this.SetAsBoolean=function(e){this.SetData(e)},this.SetVarValue=function(e){D(e)?this.SetAsBoolean(e!=!1):rtl.isNumber(e)&&this.SetAsBoolean(rtl.getNumber(e)!==0)},this.Create$1=function(e){return n.Create$1.call(this,e),this.SetDataType(4),this.SetDisplayValues("True;False"),this};var o=this.$rtti;o.addProperty("DisplayValues",2,rtl.string,"FDisplayValues","SetDisplayValues")}),rtl.createClass(this,"TDateTimeField",n,function(){j=this,this.$init=function(){n.$init.call(this),this.FDisplayFormat=""},this.SetDisplayFormat=function(e){this.FDisplayFormat!==e&&(this.FDisplayFormat=e,this.PropertyChanged(!0))},this.ConvertToDateTime=function(e,t){var n=0;return P(e)?n=0:this.FDataSet!=null?n=this.FDataSet.ConvertToDateTime(this,e,t):n=b.DefaultConvertToDateTime(this,e,t),n},this.DateTimeToNativeDateTime=function(e){var t=void 0;return this.FDataSet!=null?t=this.FDataSet.ConvertDateTimeToNative(this,e):t=b.DefaultConvertDateTimeToNative(this,e),t},this.GetAsDateTime=function(){var e=0,e=this.ConvertToDateTime(this.GetData(),!1);return e},this.GetAsFloat=function(){var e=0,e=this.GetAsDateTime();return e},this.GetAsString=function(){var e="";return this.GetText({get:function(){return e},set:function(t){e=t}},!1),e},this.GetAsJSValue=function(){var e=void 0,e=this.GetData();return!rtl.isString(e)&&!rtl.isObject(e)&&(e=null),e},this.GetText=function(e,t){var i,s=0,n="",s=this.ConvertToDateTime(this.GetData(),!1);s===0?e.set(""):(t&&this.FDisplayFormat.length!==0?n=this.FDisplayFormat:(i=this.FDataType,i===7?n=o.LongTimeFormat:i===6?n=o.ShortDateFormat:n="c"),e.set(Ne(n,s)))},this.SetAsDateTime=function(e){this.SetData(this.DateTimeToNativeDateTime(e))},this.SetVarValue=function(e){this.SetAsDateTime(this.ConvertToDateTime(e,!0))},this.Create$1=function(e){return n.Create$1.call(this,e),this.SetDataType(8),this};var e=this.$rtti;e.addProperty("DisplayFormat",2,rtl.string,"FDisplayFormat","SetDisplayFormat")}),rtl.createClass(this,"TDateField",j,function(){H=this,this.Create$1=function(e){return j.Create$1.call(this,e),this.SetDataType(6),this}}),rtl.createClass(this,"TTimeField",j,function(){ie=this,this.Create$1=function(e){return j.Create$1.call(this,e),this.SetDataType(7),this}}),rtl.createClass(this,"TBinaryField",n,function(){A=this,this.CheckTypeSize=function(n){n<1&&e.DatabaseErrorFmt(rtl.getResStr(t,"SInvalidFieldSize"),s(0,n))},this.BlobToBytes=function(e){var t=[];return this.FDataSet!=null?t=this.FDataSet.BlobDataToBytes(e):t=b.DefaultBlobDataToBytes(e),t},this.BytesToBlob=function(e){var t=void 0;return this.FDataSet!=null?t=this.FDataSet.BytesToBlobData(rtl.arrayRef(e)):t=b.DefaultBytesToBlobData(rtl.arrayRef(e)),t},this.GetAsString=function(){if(e="",t=void 0,n=[],s=0,e="",t=this.GetData(),t!=null)if(this.FDataType===11)e=""+t;else{n=this.BlobToBytes(t);for(var e,t,n,s,o=0,i=rtl.length(n)-1;o<=i;o++)s=o,e=e.concat(String.fromCharCode(n[s]))}return e},this.GetAsJSValue=function(){var e=void 0,e=this.GetData();return e},this.SetAsString=function(e){if(t=[],n=0,this.FDataType===11)this.SetData(e);else{t=rtl.arraySetLength(t,0,e.length);for(var t,n,s=1,o=e.length;s<=o;s++)n=s,t[n-1]=e.charCodeAt(n-1);this.SetAsBytes(t)}},this.SetVarValue=function(e){if(t=[],n=0,s=0,rtl.isArray(e)){s=rtl.length(e),t=rtl.arraySetLength(t,0,s);for(var t,n,s,o=1,i=s-1;o<=i;o++)n=o,t[n]=e[n];this.SetAsBytes(t)}else rtl.isString(e)?this.SetAsString(""+e):this.RaiseAccessError("Blob")},this.GetAsBytes=function(){var e=[],t=void 0,t=this.GetData();return Le(t)?e=this.BlobToBytes(t):e=rtl.arraySetLength(e,0,0),e},this.SetAsBytes=function(e){this.SetData(this.BytesToBlob(rtl.arrayRef(e)))},this.Create$1=function(e){return n.Create$1.call(this,e),this};var o=this.$rtti;o.addProperty("Size",2,rtl.longint,"FSize","SetSize",{Default:16})}),I=this.TBlobDisplayValue={0:"dvClass",dvClass:0,1:"dvFull",dvFull:1,2:"dvClip",dvClip:2,3:"dvFit",dvFit:3},this.$rtti.$Enum("TBlobDisplayValue",{minvalue:0,maxvalue:3,ordtype:1,enumtype:this.TBlobDisplayValue}),this.$rtti.$Enum("TBlobType",{minvalue:10,maxvalue:11,ordtype:1,enumtype:this.TFieldType}),rtl.createClass(this,"TBlobField",A,function(){S=this,this.$init=function(){A.$init.call(this),this.FDisplayValue=0,this.FModified=!1},this.GetBlobType=function(){var e=G.ftBlob,e=10;return e},this.SetBlobType=function(e){this.SetFieldType(e)},this.SetDisplayValue=function(e){if(this.FDisplayValue===e)return;this.FDisplayValue=e,this.PropertyChanged(!1)},this.CheckTypeSize=function(n){n<0&&e.DatabaseErrorFmt(rtl.getResStr(t,"SInvalidFieldSize"),s(0,n))},this.GetBlobSize=function(){var e=0,t=[],t=this.GetAsBytes(),e=rtl.length(t);return e},this.GetIsNull=function(){var e=!1;return this.FModified?e=this.GetBlobSize()===0:e=n.GetIsNull.call(this),e},this.Create$1=function(e){return A.Create$1.call(this,e),this.SetDataType(10),this},this.Clear=function(){this.SetData(null)},this.IsBlob=function(){var e=!1,e=!0;return e},this.SetFieldType=function(t){t in e.ftBlobTypes&&this.SetDataType(t)};var o=this.$rtti;o.addProperty("DisplayValue",2,e.$rtti.TBlobDisplayValue,"FDisplayValue","SetDisplayValue",{Default:I.dvClass}),o.addProperty("BlobType",3,e.$rtti.TBlobType,"GetBlobType","SetBlobType"),o.addProperty("Size",2,rtl.longint,"FSize","SetSize",{Default:0})}),rtl.createClass(this,"TMemoField",S,function(){re=this,this.Create$1=function(e){return S.Create$1.call(this,e),this.SetDataType(11),this}}),rtl.createClass(this,"TVariantField",n,function(){ae=this,this.CheckTypeSize=function(){},this.GetAsBoolean=function(){var e=!1,e=this.GetAsJSValue()==!0;return e},this.GetAsDateTime=function(){var e=0,t=void 0,t=this.GetData();return this.FDataSet!=null?e=this.FDataSet.ConvertToDateTime(this,t,!0):e=b.DefaultConvertToDateTime(this,t,!0),e},this.GetAsFloat=function(){var t=0,e=void 0,e=this.GetData();return rtl.isNumber(e)?t=rtl.getNumber(e):rtl.isString(e)?t=parseFloat(""+e):this.RaiseAccessError("Variant"),t},this.GetAsInteger=function(){var t=0,e=void 0,e=this.GetData();return v(e)?t=rtl.trunc(e):rtl.isString(e)?t=parseInt(""+e):this.RaiseAccessError("Variant"),t},this.GetAsString=function(){var t="",e=void 0,e=this.GetData();return v(e)?t=E(rtl.trunc(e)):rtl.isNumber(e)?t=W(rtl.getNumber(e)):rtl.isString(e)?t=""+e:this.RaiseAccessError("Variant"),t},this.GetAsJSValue=function(){var e=void 0,e=this.GetData();return e},this.SetVarValue=function(e){this.SetData(e)},this.Create$1=function(e){return n.Create$1.call(this,e),this.SetDataType(13),this}}),rtl.createClass(this,"TDataSetField",n,function(){Se=this,this.$init=function(){n.$init.call(this),this.FNestedDataSet=null},this.$final=function(){this.FNestedDataSet=void 0,n.$final.call(this)},this.AssignNestedDataSet=function(e){this.FNestedDataSet!=null&&(this.FNestedDataSet.Close(),this.FNestedDataSet.FDataSetField=null,this.FDataSet!=null&&this.FDataSet.GetNestedDataSets().Remove(this.FNestedDataSet)),e!=null&&this.FDataSet.GetNestedDataSets().Add(e),this.FNestedDataSet=e},this.Bind=function(e){n.Bind.apply(this,arguments),this.FNestedDataSet!=null&&(e?this.FNestedDataSet.FState===0&&this.FNestedDataSet.Open():this.FNestedDataSet.Close())},this.Create$1=function(){return n.Create$1.apply(this,arguments),this.SetDataType(14),this},this.Destroy=function(){this.AssignNestedDataSet(null),n.Destroy.call(this)}}),de=this.TIndexOption={0:"ixPrimary",ixPrimary:0,1:"ixUnique",ixUnique:1,2:"ixDescending",ixDescending:2,3:"ixCaseInsensitive",ixCaseInsensitive:3,4:"ixExpression",ixExpression:4,5:"ixNonMaintained",ixNonMaintained:5},this.$rtti.$Enum("TIndexOption",{minvalue:0,maxvalue:5,ordtype:1,enumtype:this.TIndexOption}),this.$rtti.$Set("TIndexOptions",{comptype:this.$rtti.TIndexOption}),rtl.createClass(this,"TIndexDef",h,function(){C=this,this.$init=function(){h.$init.call(this),this.FCaseinsFields="",this.FDescFields="",this.FExpression="",this.FFields="",this.FOptions={},this.FSource=""},this.$final=function(){this.FOptions=void 0,h.$final.call(this)},this.GetExpression=function(){var e="",e=this.FExpression;return e},this.SetCaseInsFields=function(e){if(this.FCaseinsFields===e)return;e!==""&&(this.FOptions=rtl.unionSet(this.FOptions,rtl.createSet(3))),this.FCaseinsFields=e},this.SetDescFields=function(e){if(this.FDescFields===e)return;e!==""&&(this.FOptions=rtl.unionSet(this.FOptions,rtl.createSet(2))),this.FDescFields=e},this.SetExpression=function(e){this.FExpression=e},this.Assign=function(e){var t=null,t=null;C.isPrototypeOf(e)&&(t=rtl.as(e,C)),t!=null?(this.FName=t.FName,this.FFields=t.FFields,this.FOptions=rtl.refSet(t.FOptions),this.FCaseinsFields=t.FCaseinsFields,this.FDescFields=t.FDescFields,this.FSource=t.FSource,this.FExpression=t.GetExpression()):y.Assign.call(this,e)};var t=this.$rtti;t.addProperty("Expression",3,rtl.string,"GetExpression","SetExpression"),t.addProperty("Fields",0,rtl.string,"FFields","FFields"),t.addProperty("CaseInsFields",2,rtl.string,"FCaseinsFields","SetCaseInsFields"),t.addProperty("DescFields",2,rtl.string,"FDescFields","SetDescFields"),t.addProperty("Options",0,e.$rtti.TIndexOptions,"FOptions","FOptions"),t.addProperty("Source",0,rtl.string,"FSource","FSource")}),rtl.createClass(this,"TIndexDefs",k,function(){ue=this,this.GetItem$1=function(e){var t=null,t=rtl.as(z.GetItem.call(this,e),C);return t},this.Find$1=function(n){var o=null,o=rtl.as(k.Find.call(this,n),C);return o===null&&e.DatabaseErrorFmt$1(rtl.getResStr(t,"SIndexNotFound"),s(18,n),this.FDataset),o}}),rtl.createClass(this,"TCheckConstraint",m,function(){te=this,this.$init=function(){m.$init.call(this),this.FCustomConstraint="",this.FErrorMessage="",this.FFromDictionary=!1,this.FImportedConstraint=""},this.Assign=function(){};var e=this.$rtti;e.addProperty("CustomConstraint",0,rtl.string,"FCustomConstraint","FCustomConstraint"),e.addProperty("ErrorMessage",0,rtl.string,"FErrorMessage","FErrorMessage"),e.addProperty("FromDictionary",0,rtl.boolean,"FFromDictionary","FFromDictionary"),e.addProperty("ImportedConstraint",0,rtl.string,"FImportedConstraint","FImportedConstraint")}),rtl.createClass(this,"TCheckConstraints",z,function(){J=this,this.GetOwner=function(){var e=null,e=null;return e},this.Create$2=function(){return z.Create$1.call(this,te),this}}),rtl.createClass(this,"TFields",r,function(){Y=this,this.$init=function(){r.$init.call(this),this.FDataset=null,this.FFieldList=null,this.FOnChange=null,this.FValidFieldKinds={}},this.$final=function(){this.FDataset=void 0,this.FFieldList=void 0,this.FOnChange=void 0,this.FValidFieldKinds=void 0,r.$final.call(this)},this.ClearFieldDefs=function(){e=0;for(var e,t=0,n=this.GetCount()-1;t<=n;t++)e=t,this.GetField(e).FFieldDef=null},this.Changed=function(){this.FDataset!==null&&!(3 in this.FDataset.FComponentState)&&this.FDataset.DataEvent(9,0),this.FOnChange!=null&&this.FOnChange(this)},this.GetCount=function(){var e=0,e=this.FFieldList.FCount;return e},this.GetField=function(e){var t=null,t=rtl.getObject(this.FFieldList.Get(e));return t},this.SetFieldIndex=function(e,t){var n=0,n=this.FFieldList.IndexOf(e);if(n===-1)return;t<0&&(t=0),t>=this.GetCount()&&(t=this.GetCount()-1),t!==n&&(this.FFieldList.Delete(n),this.FFieldList.Insert(t,e),e.PropertyChanged(!0),this.Changed())},this.Create$1=function(e){return this.FDataset=e,this.FFieldList=w.$create("Create"),this.FValidFieldKinds=rtl.createSet(null,0,3),this},this.Destroy=function(){this.FFieldList!=null&&this.Clear(),$({p:this,get:function(){return this.p.FFieldList},set:function(e){this.p.FFieldList=e}}),r.Destroy.call(this)},this.Add=function(e){this.CheckFieldName(e.FFieldName),this.FFieldList.Add(e),e.FFields=this,this.Changed()},this.CheckFieldName=function(n){this.FindField(n)!==null&&e.DatabaseErrorFmt$1(rtl.getResStr(t,"SDuplicateFieldName"),s(18,n),this.FDataset)},this.CheckFieldNames=function(t){var s="",n=0;if(t==="")return;n=1;do s=e.ExtractFieldName(t,{get:function(){return n},set:function(e){n=e}}),this.FieldByName(s);while(!(n>t.length))},this.Clear=function(){for(var e=null;this.FFieldList.FCount>0;)e=rtl.getObject(this.FFieldList.Last()),e.FDataSet=null,e=rtl.freeLoc(e),this.FFieldList.Delete(this.FFieldList.FCount-1);this.Changed()},this.FindField=function(e){t=null,n="",s=0,n=x(e);for(var t,n,s,o=0,i=this.FFieldList.FCount-1;o<=i;o++)if(s=o,t=rtl.getObject(this.FFieldList.Get(s)),n===x(t.FFieldName))return t;return t=null,t},this.FieldByName=function(n){var o=null,o=this.FindField(n);return o===null&&e.DatabaseErrorFmt$1(rtl.getResStr(t,"SFieldNotFound"),s(18,n),this.FDataset),o},this.IndexOf=function(e){var t=0,t=this.FFieldList.IndexOf(e);return t},this.Remove=function(e){this.FFieldList.Remove(e),e.FFields=null,this.Changed()}}),Oe=this.TBookmarkFlag={0:"bfCurrent",bfCurrent:0,1:"bfBOF",bfBOF:1,2:"bfEOF",bfEOF:2,3:"bfInserted",bfInserted:3},rtl.recNewT(this,"TBookmark",function(){d=this,this.Data=void 0,this.$eq=function(e){return this.Data===e.Data},this.$assign=function(e){return this.Data=e.Data,this}}),pe=this.TGetMode={0:"gmCurrent",gmCurrent:0,1:"gmNext",gmNext:1,2:"gmPrior",gmPrior:2},Ie=this.TGetResult={0:"grOK",grOK:0,1:"grBOF",grBOF:1,2:"grEOF",grEOF:2,3:"grError",grError:3},He=this.TResyncMode$a={0:"rmExact",rmExact:0,1:"rmCenter",rmCenter:1},Re=this.TDataAction={0:"daFail",daFail:0,1:"daAbort",daAbort:1,2:"daRetry",daRetry:2},this.$rtti.$Enum("TDataAction",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TDataAction}),ze=this.TLocateOption={0:"loCaseInsensitive",loCaseInsensitive:0,1:"loPartialKey",loPartialKey:1,2:"loFromCurrent",loFromCurrent:2},this.$rtti.$MethodVar("TDataSetNotifyEvent",{procsig:rtl.newTIProcSig([["DataSet",this.$rtti.TDataSet]]),methodkind:0}),this.$rtti.$MethodVar("TDataSetErrorEvent",{procsig:rtl.newTIProcSig([["DataSet",this.$rtti.TDataSet],["E",this.$rtti.EDatabaseError],["DataAction",this.$rtti.TDataAction,1]]),methodkind:0}),le=this.TLoadOption={0:"loNoOpen",loNoOpen:0,1:"loNoEvents",loNoEvents:1,2:"loAtEOF",loAtEOF:2,3:"loCancelPending",loCancelPending:3},this.$rtti.$MethodVar("TFilterRecordEvent",{procsig:rtl.newTIProcSig([["DataSet",this.$rtti.TDataSet],["Accept",rtl.boolean,1]]),methodkind:0}),xe=this.TRecordState={0:"rsNew",rsNew:0,1:"rsClean",rsClean:1,2:"rsUpdate",rsUpdate:2,3:"rsDelete",rsDelete:3},rtl.recNewT(this,"TDataRecord",function(){a=this,this.data=void 0,this.state=0,this.bookmark=void 0,this.bookmarkFlag=0,this.$eq=function(e){return this.data===e.data&&this.state===e.state&&this.bookmark===e.bookmark&&this.bookmarkFlag===e.bookmarkFlag},this.$assign=function(e){return this.data=e.data,this.state=e.state,this.bookmark=e.bookmark,this.bookmarkFlag=e.bookmarkFlag,this}}),rtl.createClass(this,"TDataSet",i,function(){b=this,this.$init=function(){i.$init.call(this),this.FAfterLoad=null,this.FBeforeLoad=null,this.FBlockReadSize=0,this.FCalcBuffer=a.$new(),this.FCalcFieldsCount=0,this.FOnLoadFail=null,this.FOpenAfterRead=!1,this.FActiveRecord=0,this.FAfterCancel=null,this.FAfterClose=null,this.FAfterDelete=null,this.FAfterEdit=null,this.FAfterInsert=null,this.FAfterOpen=null,this.FAfterPost=null,this.FAfterScroll=null,this.FAutoCalcFields=!1,this.FBOF=!1,this.FBeforeCancel=null,this.FBeforeClose=null,this.FBeforeDelete=null,this.FBeforeEdit=null,this.FBeforeInsert=null,this.FBeforeOpen=null,this.FBeforePost=null,this.FBeforeScroll=null,this.FBlobFieldCount=0,this.FBuffers=[],this.FBufferCount=0,this.FConstraints=null,this.FDisableControlsCount=0,this.FDisableControlsState=0,this.FCurrentRecord=0,this.FDataSources=null,this.FDefaultFields=!1,this.FEOF=!1,this.FEnableControlsEvent=0,this.FFieldList=null,this.FFieldDefs=null,this.FFilterText="",this.FFiltered=!1,this.FInternalCalcFields=!1,this.FModified=!1,this.FOnCalcFields=null,this.FOnDeleteError=null,this.FOnEditError=null,this.FOnFilterRecord=null,this.FOnNewRecord=null,this.FOnPostError=null,this.FRecordCount=0,this.FIsUniDirectional=!1,this.FState=0,this.FInternalOpenComplete=!1,this.FDataProxy=null,this.FDataRequestID=0,this.FChangeList=null,this.FLoadCount=0,this.FMinLoadID=0,this.FDataSetField=null,this.FNestedDataSets=null,this.FNestedDataSetClass=null},this.$final=function(){this.FAfterLoad=void 0,this.FBeforeLoad=void 0,this.FCalcBuffer=void 0,this.FOnLoadFail=void 0,this.FAfterCancel=void 0,this.FAfterClose=void 0,this.FAfterDelete=void 0,this.FAfterEdit=void 0,this.FAfterInsert=void 0,this.FAfterOpen=void 0,this.FAfterPost=void 0,this.FAfterScroll=void 0,this.FBeforeCancel=void 0,this.FBeforeClose=void 0,this.FBeforeDelete=void 0,this.FBeforeEdit=void 0,this.FBeforeInsert=void 0,this.FBeforeOpen=void 0,this.FBeforePost=void 0,this.FBeforeScroll=void 0,this.FBuffers=void 0,this.FConstraints=void 0,this.FDataSources=void 0,this.FFieldList=void 0,this.FFieldDefs=void 0,this.FOnCalcFields=void 0,this.FOnDeleteError=void 0,this.FOnEditError=void 0,this.FOnFilterRecord=void 0,this.FOnNewRecord=void 0,this.FOnPostError=void 0,this.FDataProxy=void 0,this.FChangeList=void 0,this.FDataSetField=void 0,this.FNestedDataSets=void 0,this.FNestedDataSetClass=void 0,i.$final.call(this)},this.DoInternalOpen=function(){this.InternalOpen(),this.FInternalOpenComplete=!0,this.FRecordCount=0,this.RecalcBufListSize(),this.FBOF=!0,this.FEOF=this.FRecordCount===0,this.GetDataProxy()!=null&&this.InitChangeList()},this.GetDataProxy=function(){var e=null;return this.FDataProxy===null&&this.SetDataProxy(this.DoGetDataProxy()),e=this.FDataProxy,e},this.RegisterDataSource=function(e){this.FDataSources.Add(e),this.RecalcBufListSize()},this.SetDataProxy=function(e){if(e===this.FDataProxy)return;this.FDataProxy!=null&&this.FDataProxy.RemoveFreeNotification(this),this.FDataProxy=e,this.FDataProxy!=null&&this.FDataProxy.FreeNotification(this)},this.ShiftBuffersForward=function(){var e,n=a.$new(),t=0;n.$assign(this.FBuffers[this.FBufferCount]);for(e=this.FBufferCount;e>=1;e--)t=e,this.FBuffers[t].$assign(this.FBuffers[t-1]);this.FBuffers[0].$assign(n)},this.ShiftBuffersBackward=function(){t=a.$new(),e=0,t.$assign(this.FBuffers[0]);for(var e,t,n=1,s=this.FBufferCount;n<=s;n++)e=n,this.FBuffers[e-1].$assign(this.FBuffers[e]);this.FBuffers[this.FBufferCount].$assign(t)},this.TryDoing=function(e,t){for(var o,i,s=!1,n=0,s=!0,n=2;n===2;)try{return this.UpdateCursorPos(),e(),s}catch(e){if(g.isPrototypeOf(e)){if(i=e,n=0,t!=null&&t(this,i,{get:function(){return n},set:function(e){n=e}}),o=n,o===0)throw e;o===1&&Pe()}else throw e}return s},this.GetActive=function(){var e=!1,e=this.FState!==0&&this.FState!==12;return e},this.UnRegisterDataSource=function(e){this.FDataSources.Remove(e)},this.SetFieldDefs=function(e){this.FFieldList.ClearFieldDefs(),this.FFieldDefs.Assign$2(e)},this.HandleRequestResponse=function(e){var t,n=!1;if(e==null)return;if(e.FRequestID<=this.FMinLoadID){e.$destroy("Destroy");return}this.FLoadCount-=1,t=e.FSuccess,t===0?this.FOnLoadFail!=null&&this.FOnLoadFail(this,e.FRequestID,e.FErrorMsg):(t===1||t===2)&&(n=!1,e.FEvent!=null&&e.FEvent(this,e.FData),e.FSuccess!==1&&(n=this.DataPacketReceived(e)),this.GetActive()||0 in e.FLoadOptions?(2 in e.FLoadOptions&&n&&(this.FEOF=!1),1 in e.FLoadOptions||this.DoAfterLoad()):(1 in e.FLoadOptions||this.DoAfterLoad(),this.Open())),e.$destroy("Destroy")},this.GetNestedDataSets=function(){var e=null;return this.FNestedDataSets!=null||(this.FNestedDataSets=w.$create("Create")),e=this.FNestedDataSets,e},this.DataPacketReceived=function(){var t=!1,t=!1;return t},this.DoLoad=function(e,t){var s=!1,n=null;return 1 in e||this.DoBeforeLoad(),s=this.GetDataProxy()!==null,s&&(n=this.GetDataProxy().GetDataRequest(rtl.refSet(e),rtl.createCallback(this,"HandleRequestResponse"),t),n.FDataset=this,this.GetActive()&&n.FBookmark.$assign(this.GetBookmark()),this.FDataRequestID+=1,n.FRequestID=this.FDataRequestID,this.GetDataProxy().DoGetData(n)?this.FLoadCount+=1:n=rtl.freeLoc(n),s)},this.DoGetDataProxy=function(){var e=null,e=null;return e},this.InitChangeList=function(){this.DoneChangeList(),this.FChangeList=w.$create("Create")},this.DoneChangeList=function(){this.ClearChangeList(),$({p:this,get:function(){return this.p.FChangeList},set:function(e){this.p.FChangeList=e}})},this.ClearChangeList=function(){if(e=0,this.FChangeList==null)return;for(var e,t=0,n=this.FChangeList.FCount-1;t<=n;t++)e=t,rtl.getObject(this.FChangeList.Get(e)).$destroy("Destroy"),this.FChangeList.Put(e,null)},this.GetApplyUpdateData=function(e){var t=void 0,t=e.data;return t},this.IndexInChangeList=function(e){var t=0,t=-1;if(this.FChangeList==null)return t;for(t=this.FChangeList.FCount-1;t>=0&&this.CompareBookmarks(d.$clone(e),d.$clone(rtl.getObject(this.FChangeList.Get(t)).FBookmark))!==0;)t-=1;return t},this.AddToChangeList=function(n){var r,s=null,o=d.$new(),i=0,c=void 0,s=null;return this.FChangeList!=null?(o.$assign(this.GetBookmark()),i=this.IndexInChangeList(d.$clone(o)),i===-1?(c=this.GetApplyUpdateData(a.$clone(this.ActiveBuffer())),this.GetDataProxy()!=null?s=this.GetDataProxy().GetUpdateDescriptor(this,d.$clone(o),c,n):s=R.$create("Create$1",[null,this,d.$clone(o),c,n]),this.FChangeList.Add(s)):(s=rtl.getObject(this.FChangeList.Get(i)),r=n,r===2?s.FStatus===1?this.FChangeList.Delete(i):s.FStatus=2:r===1?e.DatabaseError$1(rtl.getResStr(t,"SErrInsertingSameRecordtwice"),this):r===0&&(s.FData=this.GetApplyUpdateData(a.$clone(this.ActiveBuffer())))),s):s},this.RecalcBufListSize=function(){if(t=0,o=0,e=0,n=null,!this.IsCursorOpen())return;this.FIsUniDirectional?e=1:e=10;for(var e,t,n,s,o,a,i=0,r=this.FDataSources.FCount-1;i<=r;i++){t=i;for(s=0,a=rtl.getObject(this.FDataSources.Get(t)).FDataLinks.GetCount()-1;s<=a;s++)o=s,n=rtl.getObject(rtl.getObject(this.FDataSources.Get(t)).FDataLinks.Get(o)),e<n.GetBufferCount()&&(e=n.GetBufferCount())}if(this.FBufferCount===e)return;this.SetBufListSize(e),this.GetNextRecords(),this.FRecordCount<this.FBufferCount&&!this.FIsUniDirectional&&(this.FActiveRecord=this.FActiveRecord+this.GetPriorRecords(),this.CursorPosChanged())},this.ActivateBuffers=function(){this.FBOF=!1,this.FEOF=!1,this.FActiveRecord=0},this.BindFields=function(n){r=0,a=0,i=null,o=null,this.FCalcFieldsCount=0,this.FBlobFieldCount=0;for(var o,i,a,r,c=0,l=this.FFieldList.GetCount()-1;c<=l;c++)r=c,o=this.FFieldList.GetField(r),o.FFieldDef=null,n?o.FFieldKind in rtl.createSet(1,2)?(o.FFieldNo=-1,this.FCalcFieldsCount+=1):(a=this.FFieldDefs.IndexOf(o.FFieldName),a===-1?e.DatabaseErrorFmt$1(rtl.getResStr(t,"SFieldNotFound"),s(18,o.FFieldName),this):(i=this.FFieldDefs.GetItem$1(a),o.FFieldDef=i,o.FFieldNo=i.FFieldNo,i.FInternalCalcField&&(this.FInternalCalcFields=!0),o.$class.IsBlob()&&(o.FSize=i.FSize,this.FBlobFieldCount+=1))):o.FFieldNo=0,o.Bind(n)},this.BlockReadNext=function(){this.MoveBy(1)};var n,o=rtl.createSet(1,2,3);this.BookmarkAvailable=function(){var e=!1,e=!this.IsEmpty()&&!this.FIsUniDirectional&&this.FState in o&&this.GetBookmarkFlag(a.$clone(this.ActiveBuffer()))===0;return e},this.CalculateFields=function(e){if(t=0,this.FCalcBuffer.$assign(e),this.FState!==11&&(this.ClearCalcFields(this.FCalcBuffer),!this.FIsUniDirectional))for(var t,n=0,s=this.FFieldList.GetCount()-1;n<=s;n++)t=n,this.FFieldList.GetField(t).FFieldKind===2&&this.FFieldList.GetField(t).CalcLookupValue();this.DoOnCalcFields()},this.CheckActive=function(){this.GetActive()||e.DatabaseError$1(rtl.getResStr(t,"SInactiveDataset"),this)},this.CheckInactive=function(){this.GetActive()&&e.DatabaseError$1(rtl.getResStr(t,"SActiveDataset"),this)},this.CheckBiDirectional=function(){this.FIsUniDirectional&&e.DatabaseError$1(rtl.getResStr(t,"SUniDirectional"),this)},this.ClearBuffers=function(){this.FRecordCount=0,this.FActiveRecord=0,this.FCurrentRecord=-1,this.FBOF=!0,this.FEOF=!0},this.ClearCalcFields=function(){},this.CloseCursor=function(){this.ClearBuffers(),this.SetBufListSize(0),this.FFieldList.ClearFieldDefs(),this.InternalClose(),this.FInternalOpenComplete=!1},this.CreateFields=function(){e=0;for(var e,n,t=0,s=this.FFieldDefs.GetCount()-1;t<=s;t++)e=t,n=this.FFieldDefs.GetItem$1(e),n.FDataType!==0&&n.CreateField(this)},this.DataEvent=function(e,t){n=this;function a(e){e.FFieldKind in rtl.createSet(0,3)&&n.SetModified(!0),n.FState!==4&&(e.FFieldKind===0&&(n.FInternalCalcFields?n.RefreshInternalCalcFields(n.FBuffers[n.FActiveRecord]):n.FAutoCalcFields&&n.FCalcFieldsCount!==0&&n.CalculateFields(n.FBuffers[n.FActiveRecord])),e.Change())}function r(){if(t=0,e=null,n.FState!==3&&n.UpdateCursorPos(),n.FNestedDataSets!=null)for(var e,t,s=0,o=n.GetNestedDataSets().FCount-1;s<=o;s++)t=s,e=rtl.getObject(n.GetNestedDataSets().Get(t)),e.GetActive()&&e.DataEvent(11,0)}if(o=0,s=e,s===0?a(rtl.getObject(t)):s===2||s===3?r():s===4&&(this.FEnableControlsEvent=4),!this.ControlsDisabled()&&this.FState!==10)for(var n,s,o,i=0,c=this.FDataSources.FCount-1;i<=c;i++)o=i,rtl.getObject(this.FDataSources.Get(o)).ProcessEvent(e,t)},this.DestroyFields=function(){this.FFieldList.Clear()},this.DoAfterCancel=function(){this.FAfterCancel!=null&&this.FAfterCancel(this)},this.DoAfterClose=function(){this.FAfterClose!=null&&!(3 in this.FComponentState)&&this.FAfterClose(this)},this.DoAfterOpen=function(){this.FAfterOpen!=null&&this.FAfterOpen(this)},this.DoAfterPost=function(){this.FAfterPost!=null&&this.FAfterPost(this)},this.DoAfterScroll=function(){this.FAfterScroll!=null&&this.FAfterScroll(this)},this.DoBeforeCancel=function(){this.FBeforeCancel!=null&&this.FBeforeCancel(this)},this.DoBeforeClose=function(){this.FBeforeClose!=null&&!(3 in this.FComponentState)&&this.FBeforeClose(this)},this.DoBeforeOpen=function(){this.FBeforeOpen!=null&&this.FBeforeOpen(this)},this.DoBeforePost=function(){this.FBeforePost!=null&&this.FBeforePost(this)},this.DoBeforeScroll=function(){this.FBeforeScroll!=null&&this.FBeforeScroll(this)},this.DoOnCalcFields=function(){this.FOnCalcFields!=null&&this.FOnCalcFields(this)},this.DoBeforeLoad=function(){this.FBeforeLoad!=null&&this.FBeforeLoad(this)},this.DoAfterLoad=function(){this.FAfterLoad!=null&&this.FAfterLoad(this)},this.GetCalcFields=function(e){var t=0;if(this.FCalcFieldsCount>0||this.FInternalCalcFields){t=this.FState,this.FState=5;try{this.CalculateFields(e)}finally{this.FState=t}}},this.GetFieldClass=function(t){var n=null,n=e.DefaultFieldClasses[t];return n},this.GetfieldCount=function(){var e=0,e=this.FFieldList.GetCount();return e},this.GetFieldValues=function(e){s=void 0,o=0,t=null,n=[],t=V.$create("Create$1");try{if(this.GetFieldList(t,e),t.GetCount()>1){n=rtl.arraySetLength(n,void 0,t.GetCount());for(var t,n,s,o,i=0,a=t.GetCount()-1;i<=a;i++)o=i,n[o]=rtl.getObject(t.Get(o)).GetAsJSValue();s=n}else s=this.FieldByName(e).GetAsJSValue()}finally{t=rtl.freeLoc(t)}return s},this.GetNextRecords=function(){for(var e=0,e=0;this.FRecordCount<this.FBufferCount&&this.GetNextRecord();)e+=1;return e},this.GetNextRecord=function(){var e=!1,t=a.$new();return this.FRecordCount>0&&this.SetCurrentRecord(this.FRecordCount-1),e=this.GetRecord(this.FBuffers[this.FBufferCount],1,!0)===0,e?(this.FRecordCount===0&&this.ActivateBuffers(),this.FRecordCount===this.FBufferCount?this.ShiftBuffersBackward():(this.FRecordCount+=1,this.FCurrentRecord=this.FRecordCount-1,t.$assign(this.FBuffers[this.FCurrentRecord]),this.FBuffers[this.FCurrentRecord].$assign(this.FBuffers[this.FBufferCount]),this.FBuffers[this.FBufferCount].$assign(t))):this.CursorPosChanged(),e},this.GetPriorRecords=function(){for(var e=0,e=0;this.FRecordCount<this.FBufferCount&&this.GetPriorRecord();)e+=1;return e},this.GetPriorRecord=function(){var e=!1;return this.CheckBiDirectional(),this.FRecordCount>0&&this.SetCurrentRecord(0),e=this.GetRecord(this.FBuffers[this.FBufferCount],2,!0)===0,e?(this.FRecordCount===0&&this.ActivateBuffers(),this.ShiftBuffersForward(),this.FRecordCount<this.FBufferCount&&(this.FRecordCount+=1)):this.CursorPosChanged(),e},this.InitRecord=function(e){this.InternalInitRecord(e),this.ClearCalcFields(e)},this.InternalCancel=function(){},this.OpenCursor=function(e){e?this.InternalInitFieldDefs():this.FState!==12&&this.DoInternalOpen()},this.OpenCursorcomplete=function(){try{this.FState===12&&this.DoInternalOpen()}finally{this.FInternalOpenComplete?(this.SetState(1),this.DoAfterOpen(),this.IsEmpty()||this.DoAfterScroll()):(this.SetState(0),this.CloseCursor())}},this.RefreshInternalCalcFields=function(){},this.RestoreState=function(e){this.FState=e,this.FDisableControlsCount-=1},this.SetActive=function(e){if(e&&this.FState===0){if(0 in this.FComponentState){this.FOpenAfterRead=!0;return}this.DoBeforeOpen(),this.FEnableControlsEvent=4,this.FInternalCalcFields=!1;try{this.FDefaultFields=this.GetfieldCount()===0,this.OpenCursor(!1)}finally{this.FState!==12&&this.OpenCursorcomplete()}this.FModified=!1}else!e&&this.FState!==0&&(this.DoBeforeClose(),this.SetState(0),this.DoneChangeList(),this.CloseCursor(),this.DoAfterClose(),this.FModified=!1)},this.SetBufListSize=function(e){if(t=0,e<0&&(e=0),e===this.FBufferCount)return;if(e>this.FBufferCount){this.FBuffers=rtl.arraySetLength(this.FBuffers,a,e+1);for(var t,n,o,s=this.FBufferCount,i=e;s<=i;s++)t=s,this.FBuffers[t].$assign(this.AllocRecordBuffer())}else if(e<this.FBufferCount&&e>=0&&this.FActiveRecord>e-1){for(n=0,o=this.FActiveRecord-e;n<=o;n++)t=n,this.ShiftBuffersBackward();this.FActiveRecord=e-1}this.FBuffers=rtl.arraySetLength(this.FBuffers,a,e+1),this.FBufferCount=e,this.FRecordCount>this.FBufferCount&&(this.FRecordCount=this.FBufferCount)},this.SetCurrentRecord=function(e){if(this.FCurrentRecord!==e){if(!this.FIsUniDirectional){var t=this.GetBookmarkFlag(a.$clone(this.FBuffers[e]));t===0?this.InternalSetToRecord(a.$clone(this.FBuffers[e])):t===1?this.InternalFirst():t===2&&this.InternalLast()}this.FCurrentRecord=e}},this.SetFiltered=function(e){e&&this.CheckBiDirectional(),this.FFiltered=e},this.SetFilterText=function(e){this.FFilterText=e},this.SetModified=function(e){this.FModified=e},this.SetName=function(e){n=this;function r(e){for(var t="",s=0,o=0,t=e,s=0,o=0;s<n.FFieldList.GetCount();)t===n.FFieldList.GetField(s).FFieldName?(o+=1,t=e+E(o)):s+=1;return t}if(t=0,s="",o="",n.FName===e)return;if(o=n.FName,i.SetName.call(this,e),4 in this.FComponentState)for(var t,n,s,o,a=0,c=this.FFieldList.GetCount()-1;a<=c;a++)t=a,s=o+this.FFieldList.GetField(t).FFieldName,p(this.FFieldList.GetField(t).FName,1,s.length)===s&&this.FFieldList.GetField(t).SetName(r(e+this.FFieldList.GetField(t).FFieldName))},this.SetOnFilterRecord=function(e){this.CheckBiDirectional(),this.FOnFilterRecord=e},this.SetState=function(e){e!==this.FState&&(this.FState=e,e===1&&(this.FModified=!1),this.DataEvent(6,0))},this.SetTempState=function(e){var t=0,t=this.FState;return this.FState=e,this.FDisableControlsCount+=1,t},this.AllocRecordBuffer=function(){var e=a.$new();return e.data=null,e.state=0,e},this.FreeRecordBuffer=function(){},this.GetBookmarkData=function(){},this.GetBookmarkFlag=function(){var t=0,t=0;return t},this.GetDataSource=function(){var e=null,e=null;return e},this.InternalFirst=function(){},this.InternalInitRecord=function(){},this.InternalLast=function(){},this.InternalPost=function(){var n=this;function o(){i=0;for(var o,i,a=0,r=n.FFieldList.GetCount()-1;a<=r;a++)i=a,o=n.FFieldList.GetField(i),o.FRequired&&!o.FReadOnly&&o.FFieldKind===0&&o.FDataType!==9&&o.GetIsNull()&&e.DatabaseErrorFmt$1(rtl.getResStr(t,"SNeedField"),s(18,o.GetDisplayName()),n)}o()},this.InternalSetToRecord=function(){},this.Notification=function(e,t){i.Notification.call(this,e,t),t===1&&e===this.FDataProxy&&(this.FDataProxy=null)},this.SetDataSetField=function(n){if(n===this.FDataSetField)return;n!==null&&(n.FDataSet===this||n.FDataSet.GetDataSource()!==null&&n.FDataSet.GetDataSource().FDataSet===this)&&e.DatabaseError$1(rtl.getResStr(t,"SCircularDataLink"),this),n!=null&&!this.$class.InheritsFrom(n.FDataSet.FNestedDataSetClass)&&e.DatabaseErrorFmt$1(rtl.getResStr(t,"SNestedDataSetClass"),s(18,n.FDataSet.FNestedDataSetClass.$classname),this),this.GetActive()&&this.Close(),this.FDataSetField!=null&&this.FDataSetField.AssignNestedDataSet(null),this.FDataSetField=n,n!=null&&(n.AssignNestedDataSet(this),n.FDataSet.GetActive()&&this.Open())},this.GetFieldData=function(e){var t=void 0,t=this.GetFieldData$1(e,a.$clone(this.ActiveBuffer()));return t},this.SetFieldData=function(e,t){this.SetFieldData$1(e,this.FBuffers[this.FActiveRecord],t)},this.GetFieldData$1=function(e,t){var n=void 0,n=t.data[e.FFieldName];return q(n)&&(n=null),n},this.SetFieldData$1=function(e,t,n){t.data[e.FFieldName]=n},this.FieldDefsClass=function(){var e=null,e=M;return e},this.FieldsClass=function(){var e=null,e=Y;return e},this.Create$1=function(e){return i.Create$1.call(this,e),this.FFieldDefs=this.$class.FieldDefsClass().$create("Create$4",[this]),this.FFieldList=this.$class.FieldsClass().$create("Create$1",[this]),this.FDataSources=w.$create("Create"),this.FConstraints=J.$create("Create$2",[this]),this.FBuffers=rtl.arraySetLength(this.FBuffers,a,1),this.FActiveRecord=0,this.FEOF=!0,this.FBOF=!0,this.FIsUniDirectional=!1,this.FAutoCalcFields=!0,this.FDataRequestID=0,this.FNestedDataSetClass=this.$class.ClassType(),this},this.Destroy=function(){for(t=0,this.SetActive(!1),this.SetDataSetField(null),rtl.free(this,"FFieldDefs"),rtl.free(this,"FFieldList"),rtl.free(this,"FNestedDataSets"),e=this.FDataSources;e.FCount>0;)rtl.getObject(e.Get(e.FCount-1)).SetDataSet(null);e.$destroy("Destroy");for(var e,t,n=0,s=this.FBufferCount;n<=s;n++)t=n,this.FreeRecordBuffer(this.FBuffers[t]);rtl.free(this,"FConstraints"),this.FBuffers=rtl.arraySetLength(this.FBuffers,a,1),i.Destroy.call(this)},this.ActiveBuffer=function(){var e=a.$new();return this.FActiveRecord!==-1?e.$assign(this.FBuffers[this.FActiveRecord]):e.$assign(a.$new()),e},this.ConvertToDateTime=function(e,t,n){var s=0,s=this.$class.DefaultConvertToDateTime(e,t,n);return s},this.ConvertDateTimeToNative=function(e,t){var n=void 0,n=this.$class.DefaultConvertDateTimeToNative(e,t);return n},this.DefaultConvertToDateTime=function(e,n){var i=0,i=0;if(rtl.isString(n)){if(!Be(""+n,{get:function(){return i},set:function(e){i=e}}))throw Ve.$create("CreateFmt",[rtl.getResStr(t,"SErrInvalidDateTime"),s(18,""+n)])}else rtl.isNumber(n)?i=rtl.getNumber(n):$e(n)&&(i=We(n));return i},this.DefaultConvertDateTimeToNative=function(e,t){var n=void 0,n=Ue(t);return n},this.BlobDataToBytes=function(e){var t=[],t=this.$class.DefaultBlobDataToBytes(e);return t},this.DefaultBlobDataToBytes=function(e){var t=[],s="",n=0,o=0,i=0,t=rtl.arraySetLength(t,0,0);if(rtl.isString(e))for(s=""+e,i=s.length,t=rtl.arraySetLength(t,0,rtl.trunc((i+1)/2)),n=1,o=0;n<i;)t[o]=U("$"+p(s,n,2)),n+=2,o+=1;return t},this.BytesToBlobData=function(e){var t=void 0,t=this.$class.DefaultBytesToBlobData(rtl.arrayRef(e));return t},this.DefaultBytesToBlobData=function(e){if(n=void 0,t="",s=0,rtl.length(e)===0)n=null;else{t="";for(var t,n,s,o=0,i=rtl.length(e)-1;o<=i;o++)s=o,t=t.concat(Ke(e[s],2));n=t}return n},this.Cancel=function(){this.FState in rtl.createSet(2,3)&&(this.DataEvent(7,0),this.DoBeforeCancel(),this.UpdateCursorPos(),this.InternalCancel(),this.FState===3&&this.FRecordCount===1?(this.FEOF=!0,this.FBOF=!0,this.FRecordCount=0,this.InitRecord(this.FBuffers[this.FActiveRecord]),this.SetState(1),this.DataEvent(2,0)):(this.SetState(1),this.SetCurrentRecord(this.FActiveRecord),this.Resync({})),this.DoAfterCancel())},this.CheckBrowseMode=function(){this.CheckActive(),this.DataEvent(7,0);var e=this.FState;e===2||e===3?(this.UpdateRecord(),this.FModified?this.Post():this.Cancel()):e===4&&this.Post()},this.Close=function(){this.SetActive(!1)},this.ControlsDisabled=function(){var e=!1,e=this.FDisableControlsCount>0;return e},this.CompareBookmarks=function(){var n=0,n=0;return n},this.CursorPosChanged=function(){this.FCurrentRecord=-1},this.DisableControls=function(){this.FDisableControlsCount===0&&(this.FDisableControlsState=this.FState,this.FEnableControlsEvent=2),this.FDisableControlsCount+=1},this.EnableControls=function(){this.FDisableControlsCount>0&&(this.FDisableControlsCount-=1),this.FDisableControlsCount===0&&(this.FState!==this.FDisableControlsState&&this.DataEvent(6,0),this.FState!==0&&this.FDisableControlsState!==0&&this.DataEvent(this.FEnableControlsEvent,0))},this.FieldByName=function(n){var o=null,o=this.FindField(n);return o===null&&e.DatabaseErrorFmt$1(rtl.getResStr(t,"SFieldNotFound"),s(18,n),this),o},this.FindField=function(e){var t=null,t=this.FFieldList.FindField(e);return t},this.First=function(){this.CheckBrowseMode(),this.DoBeforeScroll(),this.FIsUniDirectional?this.FBOF||(this.SetActive(!1),this.SetActive(!0)):this.ClearBuffers();try{this.InternalFirst(),this.FIsUniDirectional||this.GetNextRecords()}finally{this.FBOF=!0,this.DataEvent(2,0),this.DoAfterScroll()}},this.GetBookmark=function(){var e=d.$new();return this.BookmarkAvailable()?this.GetBookmarkData(a.$clone(this.ActiveBuffer()),e):e.Data=null,e},this.GetFieldList=function(t,n){var o=null,i="",s=0;if(n===""||t===null)return;s=1;do i=e.ExtractFieldName(n,{get:function(){return s},set:function(e){s=e}}),o=this.FieldByName(i),t.Add(o);while(!(s>n.length))},this.GetFieldList$1=function(t,n){var o=null,i="",s=0;if(n===""||t===null)return;s=1;do i=e.ExtractFieldName(n,{get:function(){return s},set:function(e){s=e}}),o=this.FieldByName(i),t.Add(o);while(!(s>n.length))},this.IsEmpty=function(){var e=!1,e=this.FBOF&&this.FEOF&&this.FState!==3;return e},this.Lookup=function(){var s=void 0;return this.CheckBiDirectional(),s=null,s},this.MoveBy=function(e){var s,t=this,o=0,n=0;function i(){var s=0,s=0;for(t.FBOF=!1;e>0&&!t.FEOF;)t.FActiveRecord<t.FRecordCount-1?(t.FActiveRecord+=1,e-=1,n+=1):t.GetNextRecord()?(e-=1,s-=1,n+=1):(t.FEOF=!0,t.DoLoad(rtl.createSet(0,2),null));return s}function a(){var s=0;for(t.CheckBiDirectional(),s=0,t.FEOF=!1;e<0&&!t.FBOF;)t.FActiveRecord>0?(t.FActiveRecord-=1,e+=1,n-=1):t.GetPriorRecord()?(e+=1,s+=1,n-=1):t.FBOF=!0;return s}if(s=0,this.CheckBrowseMode(),o=0,n=0,this.DoBeforeScroll(),e===0||e>0&&this.FEOF||e<0&&this.FBOF)return o;try{s=0,e>0?s=i():s=a()}finally{this.DataEvent(3,s),this.DoAfterScroll(),o=n}return o},this.Next=function(){this.FBlockReadSize>0?this.BlockReadNext():this.MoveBy(1)},this.Open=function(){this.SetActive(!0)},n=[0,1],this.Post=function(){var o=null,i=!1;if(this.UpdateRecord(),this.FState in rtl.createSet(2,3)){if(this.DataEvent(7,0),this.DoBeforePost(),i=this.FState===3,!this.TryDoing(rtl.createCallback(this,"InternalPost"),this.FOnPostError))return;this.CursorPosChanged(),this.SetState(1),this.Resync({}),o=this.AddToChangeList(n[+i]),o!=null&&o.FBookmark.$assign(this.GetBookmark()),this.DoAfterPost()}else this.FState!==4&&e.DatabaseErrorFmt$1(rtl.getResStr(t,"SNotEditing"),s(18,this.FName),this)},this.Resync=function(n){var s=0,o=0;if(this.FIsUniDirectional)return;if(this.GetRecord(this.FBuffers[0],0,!1)!==0)if(0 in n)e.DatabaseError$1(rtl.getResStr(t,"SNoSuchRecord"),this);else if(this.GetRecord(this.FBuffers[0],1,!0)!==0&&this.GetRecord(this.FBuffers[0],2,!0)!==0){this.ClearBuffers(),this.InternalInitRecord(this.FBuffers[this.FActiveRecord]),this.DataEvent(2,0);return}for(this.FCurrentRecord=0,this.FEOF=!1,this.FBOF=!1,(1 in n)?o=rtl.trunc(this.FRecordCount/2):o=this.FActiveRecord,s=0,this.FRecordCount=1,this.FActiveRecord=0;s<o&&this.GetPriorRecord();)s+=1;this.FActiveRecord=s,this.GetNextRecords(),this.FRecordCount<this.FBufferCount&&(this.FActiveRecord=this.FActiveRecord+this.GetPriorRecords()),this.DataEvent(2,0)},this.UpdateCursorPos=function(){this.FRecordCount>0&&this.SetCurrentRecord(this.FActiveRecord)},this.UpdateRecord=function(){this.FState in e.dsEditModes||e.DatabaseErrorFmt$1(rtl.getResStr(t,"SNotEditing"),s(18,this.FName),this),this.DataEvent(5,0)}}),rtl.createClass(this,"TDataLink",y,function(){je=this,this.$init=function(){y.$init.call(this),this.FFirstRecord=0,this.FBufferCount=0,this.FActive=!1,this.FDataSourceFixed=!1,this.FEditing=!1,this.FReadOnly=!1,this.FUpdatingRecord=!1,this.FVisualControl=!1,this.FDataSource=null},this.$final=function(){this.FDataSource=void 0,y.$final.call(this)},this.CalcFirstRecord=function(e){var t=0;return this.FDataSource.FDataSet.FActiveRecord>this.FFirstRecord+e+this.FBufferCount-1?t=this.FDataSource.FDataSet.FActiveRecord-(this.FFirstRecord+e+this.FBufferCount-1):this.FDataSource.FDataSet.FActiveRecord<this.FFirstRecord+e?t=this.FDataSource.FDataSet.FActiveRecord-(this.FFirstRecord+e):t=0,this.FFirstRecord+=e+t,t},this.CalcRange=function(){var e=0,t=0,t=this.GetDataset().FActiveRecord-this.FBufferCount+1;t<0&&(t=0),e=this.GetDataset().FBufferCount-this.FBufferCount,e<0&&(e=0),e>this.GetDataset().FActiveRecord&&(e=this.GetDataset().FActiveRecord),this.FFirstRecord<t&&(this.FFirstRecord=t),this.FFirstRecord>e&&(this.FFirstRecord=e),this.FFirstRecord!==0&&this.GetDataset().FActiveRecord-this.FFirstRecord<this.FBufferCount-1&&(this.FFirstRecord-=1)},this.CheckActiveAndEditing=function(){var t=!1,t=this.FDataSource!=null&&!(this.FDataSource.FState in rtl.createSet(0,12));this.SetActive(t),t=this.FDataSource!=null&&this.FDataSource.FState in e.dsEditModes&&!this.FReadOnly,t!==this.FEditing&&(this.FEditing=t,this.EditingChanged())},this.GetDataset=function(){var e=null;return this.FDataSource!=null?e=this.FDataSource.FDataSet:e=null,e},this.SetActive=function(e){this.FActive!==e&&(this.FActive=e,this.ActiveChanged())},this.SetDataSource=function(e){if(this.FDataSource===e)return;this.FDataSourceFixed||(this.FDataSource!=null&&(this.FDataSource.UnregisterDataLink(this),this.FDataSource=null,this.CheckActiveAndEditing()),this.FDataSource=e,this.FDataSource!=null&&(this.FDataSource.RegisterDataLink(this),this.CheckActiveAndEditing()))},this.ActiveChanged=function(){this.FFirstRecord=0},this.CheckBrowseMode=function(){},this.DataEvent=function(e,t){if(e===6)this.CheckActiveAndEditing();else if(this.FActive){var n=e;n===0||n===1?this.FUpdatingRecord||this.RecordChanged(rtl.getObject(t)):n===2?(this.SetActive(this.FDataSource.FDataSet.GetActive()),this.CalcRange(),this.CalcFirstRecord(rtl.trunc(t)),this.DataSetChanged()):n===3?this.DataSetScrolled(this.CalcFirstRecord(rtl.trunc(t))):n===4?(this.CalcFirstRecord(rtl.trunc(t)),this.LayoutChanged()):n===5?this.UpdateRecord():n===7?this.CheckBrowseMode():n===10&&this.FocusControl(t)}},this.DataSetChanged=function(){this.RecordChanged(null)},this.DataSetScrolled=function(){this.DataSetChanged()},this.EditingChanged=function(){},this.FocusControl=function(){},this.GetBufferCount=function(){var e=0,e=this.FBufferCount;return e},this.LayoutChanged=function(){this.DataSetChanged()},this.RecordChanged=function(){},this.UpdateData=function(){},this.Destroy=function(){this.FActive=!1,this.FEditing=!1,this.FDataSourceFixed=!1,this.SetDataSource(null),r.Destroy.call(this)},this.UpdateRecord=function(){this.FUpdatingRecord=!0;try{this.UpdateData()}finally{this.FUpdatingRecord=!1}}}),this.$rtti.$MethodVar("TDataChangeEvent",{procsig:rtl.newTIProcSig([["Sender",f.$rtti.TObject],["Field",this.$rtti.TField]]),methodkind:0}),rtl.createClass(this,"TDataSource",i,function(){ve=this,this.$init=function(){i.$init.call(this),this.FDataSet=null,this.FDataLinks=null,this.FEnabled=!1,this.FAutoEdit=!1,this.FState=0,this.FOnStateChange=null,this.FOnDataChange=null,this.FOnUpdateData=null},this.$final=function(){this.FDataSet=void 0,this.FDataLinks=void 0,this.FOnStateChange=void 0,this.FOnDataChange=void 0,this.FOnUpdateData=void 0,i.$final.call(this)},this.DistributeEvent=function(e,t){n=0,s=this.FDataLinks;for(var n,s,o,a,r,c,i=0,l=s.GetCount()-1;i<=l;i++)n=i,a=rtl.getObject(s.Get(n)),a.FVisualControl||a.DataEvent(e,t);for(o=0,c=s.GetCount()-1;o<=c;o++)n=o,r=rtl.getObject(s.Get(n)),r.FVisualControl&&r.DataEvent(e,t)},this.RegisterDataLink=function(e){this.FDataLinks.Add(e),this.FDataSet!=null&&this.FDataSet.RecalcBufListSize()};var t,n=rtl.createSet(1,2,3,4,6);this.ProcessEvent=function(e,t){var s=!1,o=0;if(e===6){if(s=this.FState===0,o=this.FState,this.FDataSet!=null&&this.FEnabled?this.FState=this.FDataSet.FState:this.FState=0,this.FState===o)return}else s=!0;this.DistributeEvent(e,t),3 in this.FComponentState||(e===6&&this.DoStateChange(),e in n&&s&&this.DoDataChange(null),e===0&&this.DoDataChange(t),e===5&&this.DoUpdateData())},this.SetDataSet=function(e){this.FDataSet!==null&&(this.FDataSet.UnRegisterDataSource(this),this.FDataSet=null,this.ProcessEvent(6,0)),e!==null&&(e.RegisterDataSource(this),this.FDataSet=e,this.ProcessEvent(6,0))},this.SetEnabled=function(e){this.FEnabled=e,this.ProcessEvent(6,0)},this.UnregisterDataLink=function(e){this.FDataLinks.Remove(e),this.FDataSet!==null&&this.FDataSet.RecalcBufListSize()},this.DoDataChange=function(e){this.FOnDataChange!=null&&this.FOnDataChange(this,e)},this.DoStateChange=function(){this.FOnStateChange!=null&&this.FOnStateChange(this)},this.DoUpdateData=function(){this.FOnUpdateData!=null&&this.FOnUpdateData(this)},this.Create$1=function(e){return i.Create$1.call(this,e),this.FDataLinks=V.$create("Create$1"),this.FEnabled=!0,this.FAutoEdit=!0,this},this.Destroy=function(){this.FOnStateChange=null,this.SetDataSet(null);for(var e=this.FDataLinks;e.GetCount()>0;)rtl.getObject(e.Get(e.GetCount()-1)).SetDataSource(null);rtl.free(this,"FDataLinks"),i.Destroy.call(this)},t=this.$rtti,t.addProperty("AutoEdit",0,rtl.boolean,"FAutoEdit","FAutoEdit",{Default:!0}),t.addProperty("DataSet",2,e.$rtti.TDataSet,"FDataSet","SetDataSet"),t.addProperty("Enabled",2,rtl.boolean,"FEnabled","SetEnabled",{Default:!0}),t.addProperty("OnStateChange",0,l.$rtti.TNotifyEvent,"FOnStateChange","FOnStateChange"),t.addProperty("OnDataChange",0,e.$rtti.TDataChangeEvent,"FOnDataChange","FOnDataChange"),t.addProperty("OnUpdateData",0,l.$rtti.TNotifyEvent,"FOnUpdateData","FOnUpdateData")}),fe=this.TDataRequestResult={0:"rrFail",rrFail:0,1:"rrEOF",rrEOF:1,2:"rrOK",rrOK:2},rtl.createClass(this,"TDataRequest",r,function(){Z=this,this.$init=function(){r.$init.call(this),this.FBookmark=d.$new(),this.FDataset=null,this.FErrorMsg="",this.FEvent=null,this.FLoadOptions={},this.FRequestID=0,this.FSuccess=0,this.FData=void 0,this.FAfterRequest=null,this.FDataProxy=null},this.$final=function(){this.FBookmark=void 0,this.FDataset=void 0,this.FEvent=void 0,this.FLoadOptions=void 0,this.FAfterRequest=void 0,this.FDataProxy=void 0,r.$final.call(this)},this.Create$1=function(e,t,n,s){return this.FDataProxy=e,this.FLoadOptions=rtl.refSet(t),this.FEvent=s,this.FAfterRequest=n,this}}),rtl.createClass(this,"TRecordUpdateDescriptor",r,function(){R=this,this.$init=function(){r.$init.call(this),this.FBookmark=d.$new(),this.FData=void 0,this.FDataset=null,this.FProxy=null,this.FStatus=0},this.$final=function(){this.FBookmark=void 0,this.FDataset=void 0,this.FProxy=void 0,r.$final.call(this)},this.Create$1=function(e,t,n,s,o){return this.FDataset=t,this.FBookmark.$assign(n),this.FData=s,this.FStatus=o,this.FProxy=e,this}}),rtl.createClass(this,"TDataProxy",i,function(){me=this,this.GetDataRequestClass=function(){var e=null,e=Z;return e},this.GetUpdateDescriptorClass=function(){var e=null,e=R;return e},this.GetDataRequest=function(e,t,n){var s=null,s=this.GetDataRequestClass().$create("Create$1",[this,rtl.refSet(e),t,n]);return s},this.GetUpdateDescriptor=function(e,t,n,s){var o=null,o=this.GetUpdateDescriptorClass().$create("Create$1",[this,e,d.$clone(t),n,s]);return o}}),this.Fieldtypenames=["Unknown","String","Integer","NativeInt","Boolean","Float","Date","Time","DateTime","AutoInc","Blob","Memo","FixedChar","Variant","Dataset"],this.DefaultFieldClasses=[n,N,_,ee,oe,L,H,ie,j,se,S,re,N,ae,null],this.dsEditModes=rtl.createSet(2,3,4),this.ftBlobTypes=rtl.createSet(10,11),this.DatabaseError=function(e){throw g.$create("Create$1",[e])},this.DatabaseError$1=function(t,n){if(n!=null&&n.FName!=="")throw g.$create("CreateFmt",["%s : %s",s(18,n.FName,18,t)]);e.DatabaseError(t)},this.DatabaseErrorFmt=function(e,t){throw g.$create("CreateFmt",[e,t])},this.DatabaseErrorFmt$1=function(t,n,o){if(o!=null)throw g.$create("CreateFmt",[qe("%s : %s",s(18,o.FName,18,t)),n]);e.DatabaseErrorFmt(t,n)},this.ExtractFieldName=function(e,t){for(var o="",n=0,s=0,n=t.get(),s=e.length;n<=s&&e.charAt(n-1)!==";";)n+=1;return o=Ye(p(e,t.get(),n-t.get())),n<=s&&e.charAt(n-1)===";"&&(n+=1),t.set(n),o},e.$implcode=function(){t=pas.DBConst,c.DefaultBufferCount=10,c.SBoolean="Boolean",c.SDateTime="TDateTime",c.SInteger="Integer",c.SLargeInt="NativeInt",c.SJSValue="JSValue"}},["DBConst","TypInfo"]),rtl.module("contnrs",["System","SysUtils","Classes"],function(){"use strict";var v,t=this,n=t.$impl,s=null,o=null,i=null,a=null,l=null,u=null,r=null,c=pas.System,e=c.TObject,h=pas.Classes,m=h.TFPList,f=c.VarRecs,d=pas.SysUtils,p=d.FreeAndNil,g=d.Exception;rtl.createClass(this,"TFPObjectList",e,function(){s=this,this.$init=function(){e.$init.call(this),this.FFreeObjects=!1,this.FList=null},this.$final=function(){this.FList=void 0,e.$final.call(this)},this.GetCount=function(){var e=0,e=this.FList.FCount;return e},this.GetItem=function(e){var t=null,t=rtl.getObject(this.FList.Get(e));return t},this.SetItem=function(e,t){var n=null;this.FFreeObjects?(n=rtl.getObject(this.FList.Get(e)),this.FList.Put(e,t),n=rtl.freeLoc(n)):this.FList.Put(e,t)},this.Create$1=function(){return e.Create.call(this),this.FList=m.$create("Create"),this.FFreeObjects=!0,this},this.Create$2=function(e){return this.Create$1(),this.FFreeObjects=e,this},this.Destroy=function(){this.FList!==null&&(this.Clear(),this.FList.$destroy("Destroy")),e.Destroy.call(this)},this.Clear=function(){var e,t=0,n=null;if(this.FFreeObjects)for(e=this.FList.FCount-1;e>=0;e--)t=e,n=rtl.getObject(this.FList.Get(t)),this.FList.Put(t,null),n=rtl.freeLoc(n);this.FList.Clear()},this.Add=function(e){var t=0,t=this.FList.Add(e);return t}}),rtl.createClass(this,"THTCustomNode",e,function(){o=this,this.$init=function(){e.$init.call(this),this.FKey=""},this.CreateWith=function(t){return e.Create.call(this),this.FKey=t,this}}),rtl.createClass(this,"TFPCustomHashTable",e,function(){i=this,this.$init=function(){e.$init.call(this),this.FHashTable=null,this.FHashFunction=null,this.FCount=0,this.FHashTableSize=0},this.$final=function(){this.FHashTable=void 0,this.FHashFunction=void 0,e.$final.call(this)},this.SetHashTableSize=function(e){var t=0,s=0;if(e!==this.FHashTableSize){for(t=0;n.PRIMELIST[t]<e&&t<27;)t+=1;s=n.PRIMELIST[t],this.FCount===0?(this.FHashTableSize=s,this.InitializeHashTable()):this.ChangeTableSize(s)}},this.InitializeHashTable=function(){if(t=0,this.FHashTableSize>0)for(var t,e=0,n=this.FHashTableSize-1;e<=n;e++)t=e,this.FHashTable.Add(null);this.FCount=0},this.Chain=function(e){var t=null,t=this.FHashTable.GetItem(e);return t},this.FindChainForAdd=function(e){if(n=null,o=0,i=0,o=this.FHashFunction(e,this.FHashTableSize),n=this.Chain(o),n!=null){if(n.GetCount()>0)for(var n,o,i,a=0,c=n.GetCount()-1;a<=c;a++)if(i=a,n.GetItem(i).FKey===e)throw r.$create("CreateFmt",[rtl.getResStr(t,"DuplicateMsg"),f(18,e)])}else this.FHashTable.SetItem(o,s.$create("Create$2",[!0])),n=this.Chain(o);return this.FCount+=1,n},this.Create$1=function(){return this.CreateWith(196613,t.RSHash),this},this.CreateWith=function(t,n){return e.Create.call(this),this.FHashTable=s.$create("Create$2",[!0]),this.SetHashTableSize(t),this.FHashFunction=n,this},this.Destroy=function(){rtl.free(this,"FHashTable"),e.Destroy.call(this)},this.ChangeTableSize=function(e){if(t=null,n=null,o=0,a=0,r=0,c=null,t=this.FHashTable,o=this.FHashTableSize,this.FHashTableSize=e,this.FHashTable=s.$create("Create$2",[!0]),this.InitializeHashTable(),o>0)for(var t,n,o,i,a,r,c,d,l=0,u=o-1;l<=u;l++)if(a=l,n=t.GetItem(a),n!=null)for(i=0,d=n.GetCount()-1;i<=d;i++)r=i,c=n.GetItem(r),this.AddNode(c);t=rtl.freeLoc(t)},this.Clear=function(){if(e=0,this.FHashTableSize>0)for(var e,t=0,n=this.FHashTableSize-1;t<=n;t++)e=t,this.Chain(e)!=null&&this.Chain(e).Clear();this.FCount=0},this.Find=function(e){if(s=null,o=0,t=null,n=0,o=this.FHashFunction(e,this.FHashTableSize),t=this.Chain(o),t!=null&&t.GetCount()>0)for(var t,n,s,o,i=0,a=t.GetCount()-1;i<=a;i++)if(n=i,t.GetItem(n).FKey===e)return t.GetItem(n);return s=null,s}}),rtl.createClass(this,"THTObjectNode",o,function(){a=this,this.$init=function(){o.$init.call(this),this.FData=null},this.$final=function(){this.FData=void 0,o.$final.call(this)}}),rtl.createClass(this,"THTOwnedObjectNode",a,function(){l=this,this.Destroy=function(){p({p:this,get:function(){return this.p.FData},set:function(e){this.p.FData=e}}),e.Destroy.call(this)}}),rtl.createClass(this,"TFPObjectHashTable",i,function(){u=this,this.$init=function(){i.$init.call(this),this.FOwnsObjects=!1},this.CreateNewNode=function(e){var t=null;return this.FOwnsObjects?t=l.$create("CreateWith",[e]):t=a.$create("CreateWith",[e]),t},this.AddNode=function(e){this.Add(e.FKey,e.FData)},this.GetData=function(e){var t=null,n=null,n=this.Find(e);return n!=null?t=n.FData:t=null,t},this.Create$2=function(e){return i.Create$1.call(this),this.FOwnsObjects=e,this},this.Add=function(e,t){var s=null,n=null,s=this.FindChainForAdd(e),n=this.CreateNewNode(e);n.FData=t,s.Add(n)}}),rtl.createClass(this,"EDuplicate",g,function(){r=this}),v=378551,this.RSHash=function(e,t){if(n=0,s=0,o=0,s=63689,n=0,e.length>0)for(var n,s,o,i=1,a=e.length;i<=a;i++)o=i,n=n*s+e.charCodeAt(o-1),s=s*378551;return n=rtl.lw(n&2147483647)%t,n},t.$implcode=function(){n.NPRIMES=28,n.PRIMELIST=[53,97,193,389,769,1543,3079,6151,12289,24593,49157,98317,196613,393241,786433,1572869,3145739,6291469,12582917,25165843,50331653,100663319,201326611,402653189,805306457,1610612741,3221225473,4294967291],t.$resourcestrings={DuplicateMsg:{org:"An item with key %0:s already exists"}}}},["JS"]),rtl.module("fpexprpars",["System","Classes","SysUtils","contnrs"],function(){"use strict";var n=this,e=n.$impl,De=null,Je=null,he=null,ue=null,et=null,t=null,i=null,c=null,z=null,ce=null,Q=null,U=null,T=null,F=null,we=null,P=null,x=null,k=null,de=null,ve=null,ke=null,Me=null,d=null,_e=null,ye=null,je=null,ge=null,fe=null,me=null,f=null,g=null,le=null,O=null,re=null,te=null,Z=null,G=null,Y=null,q=null,Se=null,V=null,v=null,nt=null,u=null,tt=null,E=null,H=null,b=null,X=null,p=null,j=null,J=null,ee=null,S=null,ne=null,se=null,oe=null,ie=null,ae=null,_=null,l=pas.System,m=l.TObject,s=pas.SysUtils,a=s.Format,o=l.VarRecs,y=s.LowerCase,L=l.upcase,pe=l.val$8,R=s.Exception,r=s.FreeAndNil,He=s.TrimLeft,D=s.IntToStr,I=s.FormatDateTime,C=pas.Classes,B=C.TCollectionItem,Oe=s.FloatToStr,ze=s.CurrToStr,Ce=s.StrToInt,Ee=s.StrToFloat,Xe=s.StrToCurr,Ae=s.StrToDateTime,$=null,w=null,ft=C.TPersistent,M=C.TCollection,xe=s.CompareText,h=C.TComponent,Ne=s.TryStrToInt64,Le=pas.contnrs,Re=Le.TFPObjectHashTable,Pe=s.TFormatSettings,be=l.Frac,Ie=l.Odd,Be=l.Sqr$1,Ve=l.Trunc,$e=l.Int,Qe=l.Copy,Ue=l.Delete,Ke=l.Pos,qe=s.UpperCase,Ye=s.StringReplace,Fe=s.Date,dt=s.Time,We=s.Now,Ze=s.DayOfWeek,N=s.DecodeDate,A=s.DecodeTime,K=s.EncodeDate,W=s.EncodeTime,st=s.StrToIntDef$1,ot=s.StrToFloatDef,it=s.DateToStr,at=s.TimeToStr,rt=s.StrToDate,ct=s.StrToDateDef,lt=s.StrToTime,Te=s.StrToTimeDef,ut=s.StrToDateTimeDef,ht=s.FormatFloat,mt=s.BoolToStr,Ge=s.StrToBool,pt=s.StrToBoolDef,De=this.TTokenType={0:"ttPlus",ttPlus:0,1:"ttMinus",ttMinus:1,2:"ttLessThan",ttLessThan:2,3:"ttLargerThan",ttLargerThan:3,4:"ttEqual",ttEqual:4,5:"ttDiv",ttDiv:5,6:"ttMod",ttMod:6,7:"ttMul",ttMul:7,8:"ttLeft",ttLeft:8,9:"ttRight",ttRight:9,10:"ttLessThanEqual",ttLessThanEqual:10,11:"ttLargerThanEqual",ttLargerThanEqual:11,12:"ttunequal",ttunequal:12,13:"ttNumber",ttNumber:13,14:"ttString",ttString:14,15:"ttIdentifier",ttIdentifier:15,16:"ttComma",ttComma:16,17:"ttAnd",ttAnd:17,18:"ttOr",ttOr:18,19:"ttXor",ttXor:19,20:"ttTrue",ttTrue:20,21:"ttFalse",ttFalse:21,22:"ttNot",ttNot:22,23:"ttif",ttif:23,24:"ttCase",ttCase:24,25:"ttPower",ttPower:25,26:"ttEOF",ttEOF:26};this.ttComparisons=rtl.createSet(3,2,11,10,4,12),this.$rtti.$Class("TFPExpressionParser"),this.$rtti.$ClassRef("TFPExprFunctionClass",{instancetype:this.$rtti.TFPExprFunction}),Je=this.TNumberKind={0:"nkDecimal",nkDecimal:0,1:"nkHex",nkHex:1,2:"nkOctal",nkOctal:2,3:"nkBinary",nkBinary:3},rtl.createClass(this,"TFPExpressionScanner",m,function(){he=this,this.$init=function(){m.$init.call(this),this.FSource="",this.LSource=0,this.FPos=0,this.FChar="",this.FToken="",this.FTokenType=0},this.GetCurrentChar=function(){var e="",e=this.FChar;return e},this.ScanError=function(e){throw ue.$create("Create$1",[e])},this.SetSource=function(t){this.FSource=t,this.LSource=this.FSource.length,this.FTokenType=26,this.LSource===0?(this.FPos=0,this.FChar=e.cNull):(this.FPos=1,this.FChar=this.FSource.charAt(0)),this.FToken=""},this.DoIdentifier=function(){for(var t=0,s="",i="",s=this.GetCurrentChar();!this.IsWordDelim(s)&&s!==e.cNull;){if(s!=='"')this.FToken=this.FToken+s;else{for(s=this.NextPos();!(s.charCodeAt()in rtl.createSet(e.cNull.charCodeAt(),34));)this.FToken=this.FToken+s,s=this.NextPos();s!=='"'&&this.ScanError(a(rtl.getResStr(n,"SErrUnterminatedIdentifier"),o(18,this.FToken)))}s=this.NextPos()}return i=y(this.FToken),i==="or"?t=18:i==="xor"?t=19:i==="and"?t=17:i==="true"?t=20:i==="false"?t=21:i==="not"?t=22:i==="if"?t=23:i==="case"?t=24:i==="mod"?t=6:t=15,t},this.DoNumber=function(t){var r,c=this,d=0,s="",u=0,l=0,i="";function h(t,n){var o,s=!1,s=c.IsDigit(t,n);return s||(o=n,o===0?s=c.FToken!==""&&L(t)==="E"||c.FToken!==""&&t.charCodeAt()in rtl.createSet(43,45)&&i==="E":o===1?s=t===e.cHexIdentifier&&i==="\0":o===2?s=t===e.cOctalIdentifier&&i==="\0":o===3&&(s=t===e.cBinaryIdentifier&&i==="\0")),s}for(s=this.GetCurrentChar(),i="\0";s!==e.cNull;){if(this.IsWordDelim(s))if(r=t,r===0){if(!(i.charCodeAt()in rtl.createSet(69,45,43)))break}else if(r===1||r===2)break;else if(r===3&&i!=="\0")break;h(s,t)||this.ScanError(a(rtl.getResStr(n,"SErrInvalidNumberChar"),o(9,s))),this.FToken=this.FToken+s,i=L(s),s=this.NextPos()}return pe(this.FToken,{get:function(){return u},set:function(e){u=e}},{get:function(){return l},set:function(e){l=e}}),l!==0&&this.ScanError(a(rtl.getResStr(n,"SErrInvalidNumber"),o(18,this.FToken))),d=13,d},this.DoDelimiter=function(){var t,e=0,r=!1,s="",i="",s=this.FChar;return this.FToken=s,r=s.charCodeAt()in rtl.createSet(60,62),i=s,s=this.NextPos(),r&&s.charCodeAt()in rtl.createSet(61,62)?(this.FToken=this.FToken+s,this.NextPos(),i===">"?e=11:s===">"?e=12:e=10):(t=i,t==="+"?e=0:t==="-"?e=1:t==="<"?e=2:t===">"?e=3:t==="="?e=4:t==="/"?e=5:t==="*"?e=7:t==="("?e=8:t===")"?e=9:t===","?e=16:t==="^"?e=25:this.ScanError(a(rtl.getResStr(n,"SUnknownDelimiter"),o(9,i)))),e},this.DoString=function(){var t,s=this,o=0;function i(t){var n=!1,n=t===e.cNull||t===e.cSingleQuote&&!(s.FPos<s.LSource&&s.FSource.charAt(s.FPos+1-1)===e.cSingleQuote);return n}for(t="",this.FToken="",t=this.NextPos();!i(t);)this.FToken=this.FToken+t,t===e.cSingleQuote&&this.NextPos(),t=this.NextPos();return t===e.cNull&&this.ScanError(rtl.getResStr(n,"SBadQuotes")),o=14,this.FTokenType=o,this.NextPos(),o},this.NextPos=function(){var t="";return this.FPos+=1,this.FPos>this.FSource.length?this.FChar=e.cNull:this.FChar=this.FSource.charAt(this.FPos-1),t=this.FChar,t},this.SkipWhiteSpace=function(){for(;this.FChar.charCodeAt()in e.WhiteSpace&&this.FPos<=this.LSource;)this.NextPos()},this.IsWordDelim=function(t){var n=!1,n=t.charCodeAt()in e.WordDelimiters;return n},this.IsDelim=function(t){var n=!1,n=t.charCodeAt()in e.Delimiters;return n},this.IsDigit=function(t,n){var s=!1,o=n;return o===0?s=t.charCodeAt()in e.Digits:o===1?s=t.charCodeAt()in e.HexDigits:o===2?s=t.charCodeAt()in e.OctalDigits:o===3&&(s=t.charCodeAt()in e.BinaryDigits),s},this.IsAlpha=function(e){var t=!1,t=e.charCodeAt()in rtl.createSet(null,65,90,null,97,122);return t},this.Create$1=function(){return this.SetSource(""),this},this.GetToken=function(){var s=0,t="";return this.FToken="",this.SkipWhiteSpace(),t=this.FChar,t===e.cNull?s=26:this.IsDelim(t)?s=this.DoDelimiter():t===e.cSingleQuote?s=this.DoString():t===e.cHexIdentifier?s=this.DoNumber(1):t===e.cOctalIdentifier?s=this.DoNumber(2):t===e.cBinaryIdentifier?s=this.DoNumber(3):this.IsDigit(t,0)?s=this.DoNumber(0):this.IsAlpha(t)||t==='"'||t==="_"?s=this.DoIdentifier():this.ScanError(a(rtl.getResStr(n,"SErrUnknownCharacter"),o(0,this.FPos,9,t))),this.FTokenType=s,s}}),rtl.createClass(this,"EExprScanner",R,function(){ue=this}),et=this.TResultType={0:"rtBoolean",rtBoolean:0,1:"rtInteger",rtInteger:1,2:"rtFloat",rtFloat:2,3:"rtDateTime",rtDateTime:3,4:"rtString",rtString:4,5:"rtCurrency",rtCurrency:5},this.$rtti.$Enum("TResultType",{minvalue:0,maxvalue:5,ordtype:1,enumtype:this.TResultType}),rtl.recNewT(this,"TFPExpressionResult",function(){t=this,this.ResultType=0,this.resValue=void 0,this.$eq=function(e){return this.ResultType===e.ResultType&&this.resValue===e.resValue},this.$assign=function(e){return this.ResultType=e.ResultType,this.resValue=e.resValue,this};var e=n.$rtti.$Record("TFPExpressionResult",{});e.addField("ResultType",n.$rtti.TResultType),e.addField("resValue",rtl.jsvalue)}),this.$rtti.$DynArray("TExprParameterArray",{eltype:this.$rtti.TFPExpressionResult}),rtl.createClass(this,"TFPExprNode",m,function(){i=this,this.CheckNodeType=function(t,s){var i="",a=0;if(t===null&&e.RaiseParserError(rtl.getResStr(n,"SErrNoNodeToCheck")),!(t.NodeType()in s)){i="";for(a=0;a<=5;a++)a in s&&(i!==""&&(i=i+","),i=i+n.ResultTypeName(a));e.RaiseParserError$1(rtl.getResStr(n,"SInvalidNodeType"),o(18,n.ResultTypeName(t.NodeType()),18,i,18,t.AsString()))}}}),rtl.createClass(this,"TFPBinaryOperation",i,function(){c=this,this.$init=function(){i.$init.call(this),this.FLeft=null,this.FRight=null},this.$final=function(){this.FLeft=void 0,this.FRight=void 0,i.$final.call(this)},this.CheckSameNodeTypes=function(){var t=0,s=0,t=this.FLeft.NodeType(),s=this.FRight.NodeType();s!==t&&e.RaiseParserError$1(rtl.getResStr(n,"SErrTypesDoNotMatch"),o(18,n.ResultTypeName(t),18,n.ResultTypeName(s),18,this.FLeft.AsString(),18,this.FRight.AsString()))},this.Create$1=function(e,t){return this.FLeft=e,this.FRight=t,this},this.Destroy=function(){r({p:this,get:function(){return this.p.FLeft},set:function(e){this.p.FLeft=e}}),r({p:this,get:function(){return this.p.FRight},set:function(e){this.p.FRight=e}}),m.Destroy.call(this)},this.Check=function(){this.FLeft!=null||e.RaiseParserError$1(rtl.getResStr(n,"SErrNoleftOperand"),o(18,this.$classname)),this.FRight!=null||e.RaiseParserError$1(rtl.getResStr(n,"SErrNoRightOperand"),o(18,this.$classname))}}),rtl.createClass(this,"TFPBooleanOperation",c,function(){z=this,this.Check=function(){c.Check.call(this),this.CheckNodeType(this.FLeft,rtl.createSet(1,0)),this.CheckNodeType(this.FRight,rtl.createSet(1,0)),this.CheckSameNodeTypes()},this.NodeType=function(){var e=0,e=this.FLeft.NodeType();return e}}),rtl.createClass(this,"TFPBinaryAndOperation",z,function(){ce=this,this.GetNodeValue=function(){var s,e=t.$new(),n=t.$new();return e.$assign(this.FLeft.GetNodeValue()),n.$assign(this.FRight.GetNodeValue()),s=e.ResultType,s===0?e.resValue=e.resValue!=!1&&n.resValue!=!1:s===1&&(e.resValue=rtl.and(rtl.trunc(e.resValue),rtl.trunc(n.resValue))),e},this.AsString=function(){var e="",e=this.FLeft.AsString()+" and "+this.FRight.AsString();return e}}),rtl.createClass(this,"TFPBinaryOrOperation",z,function(){Q=this,this.GetNodeValue=function(){var s,e=t.$new(),n=t.$new();return e.$assign(this.FLeft.GetNodeValue()),n.$assign(this.FRight.GetNodeValue()),s=e.ResultType,s===0?e.resValue=e.resValue!=!1||n.resValue!=!1:s===1&&(e.resValue=rtl.or(rtl.trunc(e.resValue),rtl.trunc(n.resValue))),e},this.AsString=function(){var e="",e=this.FLeft.AsString()+" or "+this.FRight.AsString();return e}}),rtl.createClass(this,"TFPBinaryXOrOperation",z,function(){U=this,this.GetNodeValue=function(){var s,e=t.$new(),n=t.$new();return e.$assign(this.FLeft.GetNodeValue()),n.$assign(this.FRight.GetNodeValue()),s=e.ResultType,s===0?e.resValue=e.resValue!=!1^n.resValue!=!1:s===1&&(e.resValue=rtl.xor(rtl.trunc(e.resValue),rtl.trunc(n.resValue))),e},this.AsString=function(){var e="",e=this.FLeft.AsString()+" xor "+this.FRight.AsString();return e}}),rtl.createClass(this,"TFPBooleanResultOperation",c,function(){T=this,this.Check=function(){c.Check.call(this),this.CheckSameNodeTypes()},this.NodeType=function(){var e=0,e=0;return e}}),rtl.createClass(this,"TFPEqualOperation",T,function(){F=this,this.GetNodeValue=function(){var e=t.$new(),n=t.$new();return e.$assign(this.FLeft.GetNodeValue()),n.$assign(this.FRight.GetNodeValue()),e.resValue=e.resValue==n.resValue,e.ResultType=0,e},this.AsString=function(){var e="",e=this.FLeft.AsString()+" = "+this.FRight.AsString();return e}}),rtl.createClass(this,"TFPUnequalOperation",F,function(){we=this,this.GetNodeValue=function(){var e=t.$new();return e.$assign(F.GetNodeValue.call(this)),e.resValue=!e.resValue,e},this.AsString=function(){var e="",e=this.FLeft.AsString()+" <> "+this.FRight.AsString();return e}}),rtl.createClass(this,"TFPOrderingOperation",T,function(){P=this;var e=rtl.createSet(1,2,5,3,4);this.Check=function(){this.CheckNodeType(this.FLeft,e),this.CheckNodeType(this.FRight,e),T.Check.call(this)}}),rtl.createClass(this,"TFPLessThanOperation",P,function(){x=this,this.GetNodeValue=function(){var s,e=t.$new(),n=t.$new();return e.$assign(this.FLeft.GetNodeValue()),n.$assign(this.FRight.GetNodeValue()),s=e.ResultType,s===1?e.resValue=rtl.trunc(e.resValue)<rtl.trunc(n.resValue):s===2?e.resValue=rtl.getNumber(e.resValue)<rtl.getNumber(n.resValue):s===5?e.resValue=rtl.trunc(e.resValue*1e4)<rtl.trunc(n.resValue*1e4):s===3?e.resValue=rtl.getNumber(e.resValue)<rtl.getNumber(n.resValue):s===4&&(e.resValue=""+e.resValue<""+n.resValue),e.ResultType=0,e},this.AsString=function(){var e="",e=this.FLeft.AsString()+" < "+this.FRight.AsString();return e}}),rtl.createClass(this,"TFPGreaterThanOperation",P,function(){k=this,this.GetNodeValue=function(){var s,o,i,a,e=t.$new(),n=t.$new();return e.$assign(this.FLeft.GetNodeValue()),n.$assign(this.FRight.GetNodeValue()),s=e.ResultType,s===1?(o=this.FRight.NodeType(),o===1?e.resValue=rtl.trunc(e.resValue)>rtl.trunc(n.resValue):o===2?e.resValue=rtl.trunc(e.resValue)>rtl.getNumber(n.resValue):o===5&&(e.resValue=rtl.trunc(e.resValue)*1e4>rtl.trunc(n.resValue*1e4))):s===2?(i=this.FRight.NodeType(),i===1?e.resValue=rtl.getNumber(e.resValue)>rtl.trunc(n.resValue):i===2?e.resValue=rtl.getNumber(e.resValue)>rtl.getNumber(n.resValue):i===5&&(e.resValue=rtl.getNumber(e.resValue)*1e4>rtl.trunc(n.resValue*1e4))):s===5?(a=this.FRight.NodeType(),a===1?e.resValue=rtl.trunc(e.resValue*1e4)>rtl.trunc(n.resValue)*1e4:a===2?e.resValue=rtl.trunc(e.resValue*1e4)>rtl.getNumber(n.resValue)*1e4:a===5&&(e.resValue=rtl.trunc(e.resValue*1e4)>rtl.trunc(n.resValue*1e4))):s===3?e.resValue=rtl.getNumber(e.resValue)>rtl.getNumber(n.resValue):s===4&&(e.resValue=""+e.resValue>""+n.resValue),e.ResultType=0,e},this.AsString=function(){var e="",e=this.FLeft.AsString()+" > "+this.FRight.AsString();return e}}),rtl.createClass(this,"TFPLessThanEqualOperation",k,function(){de=this,this.GetNodeValue=function(){var e=t.$new();return e.$assign(k.GetNodeValue.call(this)),e.resValue=!e.resValue,e},this.AsString=function(){var e="",e=this.FLeft.AsString()+" <= "+this.FRight.AsString();return e}}),rtl.createClass(this,"TFPGreaterThanEqualOperation",x,function(){ve=this,this.GetNodeValue=function(){var e=t.$new();return e.$assign(x.GetNodeValue.call(this)),e.resValue=!e.resValue,e},this.AsString=function(){var e="",e=this.FLeft.AsString()+" >= "+this.FRight.AsString();return e}}),rtl.createClass(this,"TIfOperation",c,function(){ke=this,this.$init=function(){c.$init.call(this),this.FCondition=null},this.$final=function(){this.FCondition=void 0,c.$final.call(this)},this.GetNodeValue=function(){var e=t.$new();return e.$assign(this.FCondition.GetNodeValue()),e.resValue==!1?e.$assign(this.FRight.GetNodeValue()):e.$assign(this.FLeft.GetNodeValue()),e},this.Check=function(){c.Check.call(this),this.FCondition.NodeType()!==0&&e.RaiseParserError$1(rtl.getResStr(n,"SErrIFNeedsBoolean"),o(18,this.FCondition.AsString())),this.CheckSameNodeTypes()},this.NodeType=function(){var e=0,e=this.FLeft.NodeType();return e},this.Create$2=function(e,t,n){return c.Create$1.call(this,t,n),this.FCondition=e,this},this.Destroy=function(){r({p:this,get:function(){return this.p.FCondition},set:function(e){this.p.FCondition=e}}),c.Destroy.call(this)},this.AsString=function(){var e="",e=a("if(%s , %s , %s)",o(18,this.FCondition.AsString(),18,this.FLeft.AsString(),18,this.FRight.AsString()));return e}}),rtl.createClass(this,"TCaseOperation",i,function(){Me=this,this.$init=function(){i.$init.call(this),this.FArgs=[]},this.$final=function(){this.FArgs=void 0,i.$final.call(this)},this.GetNodeValue=function(){var s,i=t.$new(),a=0,r=0,e=!1,n=t.$new(),o=t.$new();for(n.$assign(this.FArgs[0].GetNodeValue()),r=rtl.length(this.FArgs),a=2,e=!1;!e&&a<r;)i.$assign(this.FArgs[a].GetNodeValue()),s=n.ResultType,s===0?e=n.resValue==o.resValue:s===1?e=n.resValue==o.resValue:s===2?e=n.resValue==o.resValue:s===5?e=n.resValue==o.resValue:s===3?e=n.resValue==o.resValue:s===4&&(e=n.resValue==o.resValue),e||(a+=2);return i.ResultType=this.FArgs[1].NodeType(),e?i.$assign(this.FArgs[a+1].GetNodeValue()):r%2===0&&i.$assign(this.FArgs[1].GetNodeValue()),i},this.Check=function(){i=0,a=0,s=0,t=null,rtl.length(this.FArgs)<3&&e.RaiseParserError(rtl.getResStr(n,"SErrCaseNeeds3")),rtl.length(this.FArgs)%2===1&&e.RaiseParserError(rtl.getResStr(n,"SErrCaseEvenCount")),i=this.FArgs[0].NodeType(),a=this.FArgs[1].NodeType();for(var t,s,i,a,r=2,c=rtl.length(this.FArgs)-1;r<=c;r++)s=r,t=this.FArgs[s],s%2===0?(v.isPrototypeOf(t)||e.RaiseParserError$1(rtl.getResStr(n,"SErrCaseLabelNotAConst"),o(0,rtl.trunc(s/2),18,t.AsString())),t.NodeType()!==i&&e.RaiseParserError$1(rtl.getResStr(n,"SErrCaseLabelType"),o(0,rtl.trunc(s/2),18,t.AsString(),18,n.ResultTypeName(i),18,n.ResultTypeName(t.NodeType())))):t.NodeType()!==a&&e.RaiseParserError$1(rtl.getResStr(n,"SErrCaseValueType"),o(0,rtl.trunc((s-1)/2),18,t.AsString(),18,n.ResultTypeName(a),18,n.ResultTypeName(t.NodeType())))},this.NodeType=function(){var e=0,e=this.FArgs[1].NodeType();return e},this.Create$1=function(e){return this.FArgs=rtl.arrayRef(e),this},this.Destroy=function(){e=0;for(var e,t=0,n=rtl.length(this.FArgs)-1;t<=n;t++)e=t,r({a:e,p:this.FArgs,get:function(){return this.p[this.a]},set:function(e){this.p[this.a]=e}});m.Destroy.call(this)},this.AsString=function(){e="",t=0,e="";for(var e,t,n=0,s=rtl.length(this.FArgs)-1;n<=s;n++)t=n,e!==""&&(e=e+", "),e=e+this.FArgs[t].AsString();return e="Case("+e+")",e}}),rtl.createClass(this,"TMathOperation",c,function(){d=this;var e=rtl.createSet(1,2,5,3,4);this.Check=function(){c.Check.call(this),this.CheckNodeType(this.FLeft,e),this.CheckNodeType(this.FRight,e),this.CheckSameNodeTypes()},this.NodeType=function(){var e=0,e=this.FLeft.NodeType();return e}}),rtl.createClass(this,"TFPAddOperation",d,function(){_e=this,this.GetNodeValue=function(){var s,e=t.$new(),n=t.$new();return e.$assign(this.FLeft.GetNodeValue()),n.$assign(this.FRight.GetNodeValue()),s=e.ResultType,s===1?e.resValue=rtl.trunc(e.resValue)+rtl.trunc(n.resValue):s===4?e.resValue=""+e.resValue+(""+n.resValue):s===3?e.resValue=rtl.getNumber(e.resValue)+rtl.getNumber(n.resValue):s===2?e.resValue=rtl.getNumber(e.resValue)+rtl.getNumber(n.resValue):s===5&&(e.resValue=(rtl.trunc(e.resValue*1e4)+rtl.trunc(n.resValue*1e4))/1e4),e.ResultType=this.NodeType(),e},this.AsString=function(){var e="",e=this.FLeft.AsString()+" + "+this.FRight.AsString();return e}}),rtl.createClass(this,"TFPSubtractOperation",d,function(){ye=this;var e=rtl.createSet(1,2,5,3);this.Check=function(){this.CheckNodeType(this.FLeft,e),this.CheckNodeType(this.FRight,e),d.Check.call(this)},this.GetNodeValue=function(){var s,e=t.$new(),n=t.$new();return e.$assign(this.FLeft.GetNodeValue()),n.$assign(this.FRight.GetNodeValue()),s=e.ResultType,s===1?e.resValue=rtl.trunc(e.resValue)-rtl.trunc(n.resValue):s===3?e.resValue=rtl.getNumber(e.resValue)-rtl.getNumber(n.resValue):s===2?e.resValue=rtl.getNumber(e.resValue)-rtl.getNumber(n.resValue):s===5&&(e.resValue=(rtl.trunc(e.resValue*1e4)-rtl.trunc(n.resValue*1e4))/1e4),e},this.AsString=function(){var e="",e=this.FLeft.AsString()+" - "+this.FRight.AsString();return e}}),rtl.createClass(this,"TFPMultiplyOperation",d,function(){je=this;var e=rtl.createSet(1,5,2);this.Check=function(){this.CheckNodeType(this.FLeft,e),this.CheckNodeType(this.FRight,e),d.Check.call(this)},this.AsString=function(){var e="",e=this.FLeft.AsString()+" * "+this.FRight.AsString();return e},this.GetNodeValue=function(){var s,e=t.$new(),n=t.$new();return e.$assign(this.FLeft.GetNodeValue()),n.$assign(this.FRight.GetNodeValue()),s=e.ResultType,s===1?e.resValue=rtl.trunc(e.resValue)*rtl.trunc(n.resValue):s===2?e.resValue=rtl.getNumber(e.resValue)*rtl.getNumber(n.resValue):s===5&&(e.resValue=rtl.trunc(e.resValue*1e4)*rtl.trunc(n.resValue*1e4)/1e4/1e4),e}}),rtl.createClass(this,"TFPDivideOperation",d,function(){ge=this;var e=rtl.createSet(1,5,2);this.Check=function(){this.CheckNodeType(this.FLeft,e),this.CheckNodeType(this.FRight,e),d.Check.call(this)},this.AsString=function(){var e="",e=this.FLeft.AsString()+" / "+this.FRight.AsString();return e},this.NodeType=function(){var e=0;return this.FLeft.NodeType()===5&&this.FRight.NodeType()===5?e=5:e=2,e},this.GetNodeValue=function(){var s,e=t.$new(),n=t.$new();return e.$assign(this.FLeft.GetNodeValue()),n.$assign(this.FRight.GetNodeValue()),s=e.ResultType,s===1?e.resValue=rtl.trunc(e.resValue)/rtl.trunc(n.resValue):s===2?e.resValue=rtl.getNumber(e.resValue)/rtl.getNumber(n.resValue):s===5&&(this.NodeType()===5?e.resValue=rtl.trunc(rtl.trunc(e.resValue*1e4)/rtl.trunc(n.resValue*1e4)*1e4)/1e4:e.resValue=rtl.getNumber(e.resValue)/rtl.getNumber(n.resValue)),e.ResultType=this.NodeType(),e}}),rtl.createClass(this,"TFPModuloOperation",d,function(){fe=this,this.Check=function(){this.CheckNodeType(this.FLeft,rtl.createSet(1)),this.CheckNodeType(this.FRight,rtl.createSet(1)),d.Check.call(this)},this.AsString=function(){var e="",e=this.FLeft.AsString()+" mod "+this.FRight.AsString();return e},this.NodeType=function(){var e=0,e=1;return e},this.GetNodeValue=function(){var e=t.$new(),n=t.$new();return e.$assign(this.FLeft.GetNodeValue()),n.$assign(this.FRight.GetNodeValue()),e.resValue=rtl.trunc(e.resValue)%rtl.trunc(n.resValue),e.ResultType=1,e}}),rtl.createClass(this,"TFPPowerOperation",d,function(){me=this;var s=rtl.createSet(1,5,2);this.Check=function(){this.CheckNodeType(this.FLeft,s),this.CheckNodeType(this.FRight,s)},this.AsString=function(){var e="",e=this.FLeft.AsString()+"^"+this.FRight.AsString();return e},this.NodeType=function(){var e=0,e=2;return e},this.GetNodeValue=function(){var s=t.$new(),o=t.$new();return s.$assign(this.FLeft.GetNodeValue()),o.$assign(this.FRight.GetNodeValue()),s.resValue=e.power(n.ArgToFloat(t.$clone(s)),n.ArgToFloat(t.$clone(o))),s.ResultType=2,s}}),rtl.createClass(this,"TFPUnaryOperator",i,function(){f=this,this.$init=function(){i.$init.call(this),this.FOperand=null},this.$final=function(){this.FOperand=void 0,i.$final.call(this)},this.Create$1=function(e){return this.FOperand=e,this},this.Destroy=function(){r({p:this,get:function(){return this.p.FOperand},set:function(e){this.p.FOperand=e}}),m.Destroy.call(this)},this.Check=function(){this.FOperand!=null||e.RaiseParserError$1(rtl.getResStr(n,"SErrNoOperand"),o(18,this.$classname))}}),rtl.createClass(this,"TFPConvertNode",f,function(){g=this,this.AsString=function(){var e="",e=this.FOperand.AsString();return e}}),rtl.createClass(this,"TFPNotNode",f,function(){le=this,this.Check=function(){this.FOperand.NodeType()in rtl.createSet(1,0)||e.RaiseParserError$1(rtl.getResStr(n,"SErrNoNOTOperation"),o(18,n.ResultTypeName(this.FOperand.NodeType()),18,this.FOperand.AsString()))},this.NodeType=function(){var e=0,e=this.FOperand.NodeType();return e},this.GetNodeValue=function(){var n,e=t.$new();return e.$assign(this.FOperand.GetNodeValue()),n=e.ResultType,n===1?e.resValue=!e.resValue:n===0&&(e.resValue=!e.resValue),e},this.AsString=function(){var e="",e="not "+this.FOperand.AsString();return e}}),rtl.createClass(this,"TIntConvertNode",g,function(){O=this,this.Check=function(){f.Check.call(this),this.CheckNodeType(this.FOperand,rtl.createSet(1))}}),rtl.createClass(this,"TIntToFloatNode",O,function(){re=this,this.NodeType=function(){var e=0,e=2;return e},this.GetNodeValue=function(){var e=t.$new();return e.$assign(this.FOperand.GetNodeValue()),e.resValue=e.resValue,e.ResultType=2,e}}),rtl.createClass(this,"TIntToCurrencyNode",O,function(){te=this,this.NodeType=function(){var e=0,e=5;return e},this.GetNodeValue=function(){var e=t.$new();return e.$assign(this.FOperand.GetNodeValue()),e.resValue=e.resValue,e.ResultType=5,e}}),rtl.createClass(this,"TIntToDateTimeNode",O,function(){Z=this,this.NodeType=function(){var e=0,e=3;return e},this.GetNodeValue=function(){var e=t.$new();return e.$assign(this.FOperand.GetNodeValue()),e.ResultType=3,e}}),rtl.createClass(this,"TFloatToDateTimeNode",g,function(){G=this,this.Check=function(){f.Check.call(this),this.CheckNodeType(this.FOperand,rtl.createSet(2))},this.NodeType=function(){var e=0,e=3;return e},this.GetNodeValue=function(){var e=t.$new();return e.$assign(this.FOperand.GetNodeValue()),e.ResultType=3,e}}),rtl.createClass(this,"TFloatToCurrencyNode",g,function(){Y=this,this.Check=function(){this.CheckNodeType(this.FOperand,rtl.createSet(2))},this.NodeType=function(){var e=0,e=5;return e},this.GetNodeValue=function(){var e=t.$new();return e.$assign(this.FOperand.GetNodeValue()),e.ResultType=5,e.resValue=e.resValue,e}}),rtl.createClass(this,"TCurrencyToDateTimeNode",g,function(){q=this,this.Check=function(){f.Check.call(this),this.CheckNodeType(this.FOperand,rtl.createSet(5))},this.NodeType=function(){var e=0,e=3;return e},this.GetNodeValue=function(){var e=t.$new(),n=t.$new();return n.$assign(this.FOperand.GetNodeValue()),e.resValue=rtl.trunc(n.resValue*1e4)/1e4,e.ResultType=3,e}}),rtl.createClass(this,"TCurrencyToFloatNode",g,function(){Se=this,this.Check=function(){f.Check.call(this),this.CheckNodeType(this.FOperand,rtl.createSet(5))},this.NodeType=function(){var e=0,e=2;return e},this.GetNodeValue=function(){var e=t.$new();return e.$assign(this.FOperand.GetNodeValue()),e.resValue=rtl.trunc(e.resValue*1e4)/1e4,e.ResultType=2,e}}),rtl.createClass(this,"TFPNegateOperation",f,function(){V=this,this.Check=function(){f.Check.call(this),this.FOperand.NodeType()in rtl.createSet(1,2,5)||e.RaiseParserError$1(rtl.getResStr(n,"SErrNoNegation"),o(18,n.ResultTypeName(this.FOperand.NodeType()),18,this.FOperand.AsString()))},this.NodeType=function(){var e=0,e=this.FOperand.NodeType();return e},this.GetNodeValue=function(){var n,e=t.$new();return e.$assign(this.FOperand.GetNodeValue()),n=e.ResultType,n===1?e.resValue=-rtl.trunc(e.resValue):n===2?e.resValue=-rtl.getNumber(e.resValue):n===5&&(e.resValue=-rtl.trunc(e.resValue*1e4)/1e4),e},this.AsString=function(){var e="",e="-"+He(this.FOperand.AsString());return e}}),rtl.createClass(this,"TFPConstExpression",i,function(){v=this,this.$init=function(){i.$init.call(this),this.FValue=t.$new()},this.$final=function(){this.FValue=void 0,i.$final.call(this)},this.CreateString=function(e){return this.FValue.ResultType=4,this.FValue.resValue=e,this},this.CreateInteger=function(e){return this.FValue.ResultType=1,this.FValue.resValue=e,this},this.CreateFloat=function(e){return m.Create.call(this),this.FValue.ResultType=2,this.FValue.resValue=e,this},this.CreateBoolean=function(e){return this.FValue.ResultType=0,this.FValue.resValue=e,this},this.Check=function(){},this.NodeType=function(){var e=0,e=this.FValue.ResultType;return e},this.GetNodeValue=function(){var e=t.$new();return e.$assign(this.FValue),e},this.AsString=function(){var e="",t=this.NodeType();return t===4?e="'"+(""+this.FValue.resValue)+"'":t===1?e=D(rtl.trunc(this.FValue.resValue)):t===3?e="'"+I("cccc",rtl.getNumber(this.FValue.resValue))+"'":t===0?this.FValue.resValue==!1?e="False":e="True":t===2?e=rtl.floatToStr(rtl.getNumber(this.FValue.resValue)):t===5&&(e=rtl.floatToStr(rtl.trunc(this.FValue.resValue*1e4)/1e4)),e}}),nt=this.TIdentifierType={0:"itVariable",itVariable:0,1:"itFunctionHandler",itFunctionHandler:1,2:"itFunctionNode",itFunctionNode:2},this.$rtti.$Enum("TIdentifierType",{minvalue:0,maxvalue:2,ordtype:1,enumtype:this.TIdentifierType}),this.$rtti.$RefToProcVar("TFPExprFunctionEvent",{procsig:rtl.newTIProcSig([["Args",this.$rtti.TExprParameterArray,2]],this.$rtti.TFPExpressionResult)}),this.$rtti.$RefToProcVar("TFPExprVariableEvent",{procsig:rtl.newTIProcSig([["AName",rtl.string,2]],this.$rtti.TFPExpressionResult)}),rtl.createClass(this,"TFPExprIdentifierDef",B,function(){u=this,this.$init=function(){B.$init.call(this),this.FNodeType=null,this.FOnGetVarValue=null,this.FStringValue="",this.FValue=t.$new(),this.FArgumentTypes="",this.FIDType=0,this.FName="",this.FOnGetValue=null},this.$final=function(){this.FNodeType=void 0,this.FOnGetVarValue=void 0,this.FValue=void 0,this.FOnGetValue=void 0,B.$final.call(this)},this.GetResultType=function(){var e=0,e=this.FValue.ResultType;return e},this.GetValue=function(){var e="",t=this.FValue.ResultType;return t===0?this.FValue.resValue?e="True":e="False":t===1?e=D(rtl.trunc(this.FValue.resValue)):t===2?e=Oe(rtl.getNumber(this.FValue.resValue)):t===5?e=ze(rtl.trunc(this.FValue.resValue*1e4)):t===3?e=I("cccc",rtl.getNumber(this.FValue.resValue)):t===4&&(e=""+this.FValue.resValue),e},this.SetArgumentTypes=function(e){if(t=0,this.FArgumentTypes===e)return;for(var t,s=1,o=e.length;s<=o;s++)t=s,n.CharToResultType(e.charAt(t-1));this.FArgumentTypes=e},this.SetName=function(t){if(this.FName===t)return;t!==""&&this.FCollection!=null&&this.FCollection.IndexOfIdentifier(t)!==-1&&e.RaiseParserError$1(rtl.getResStr(n,"SErrDuplicateIdentifier"),o(18,t)),this.FName=t},this.SetResultType=function(e){e!==this.FValue.ResultType&&(this.FValue.ResultType=e,this.SetValue(this.FStringValue))},this.SetValue=function(e){if(this.FStringValue=e,e!==""){var t,n=this.FValue.ResultType;n===0?this.FValue.resValue=this.FStringValue==="True":n===1?this.FValue.resValue=Ce(e):n===2?this.FValue.resValue=Ee(e):n===5?this.FValue.resValue=Xe(e)/1e4:n===3?this.FValue.resValue=Ae(e):n===4&&(this.FValue.resValue=e)}else t=this.FValue.ResultType,t===0?this.FValue.resValue=!1:t===1?this.FValue.resValue=0:t===2?this.FValue.resValue=0:t===5?this.FValue.resValue=0:t===3?this.FValue.resValue=0:t===4&&(this.FValue.resValue="")},this.FetchValue=function(){var e=0,t=0,s=0,e=this.GetResultType();if(this.FOnGetVarValue!=null&&this.FValue.$assign(this.FOnGetVarValue(this.FName)),t=this.FValue.ResultType,t!==e)if(t===1&&e===2)this.FValue.ResultType=e,s=rtl.trunc(this.FValue.resValue),this.FValue.resValue=s;else throw this.FValue.ResultType=e,_.$create("CreateFmt",['Value handler for variable %s returned wrong type, expected "%s", got "%s"',o(18,this.FName,18,w(n.$rtti.TResultType,e),18,w(n.$rtti.TResultType,t))])},this.ArgumentCount=function(){var e=0,e=this.FArgumentTypes.length;return e},this.Assign=function(e){var t=null;u.isPrototypeOf(e)?(t=rtl.as(e,u),this.FStringValue=t.FStringValue,this.FValue.$assign(t.FValue),this.FArgumentTypes=t.FArgumentTypes,this.FIDType=t.FIDType,this.FName=t.FName,this.FOnGetValue=t.FOnGetValue,this.FOnGetVarValue=t.FOnGetVarValue):ft.Assign.call(this,e)},this.EventBasedVariable=function(){var e=!1,e=this.FOnGetVarValue!=null;return e};var s=this.$rtti;s.addProperty("IdentifierType",0,n.$rtti.TIdentifierType,"FIDType","FIDType"),s.addProperty("Name",2,rtl.string,"FName","SetName"),s.addProperty("Value",3,rtl.string,"GetValue","SetValue"),s.addProperty("ParameterTypes",2,rtl.string,"FArgumentTypes","SetArgumentTypes"),s.addProperty("ResultType",3,n.$rtti.TResultType,"GetResultType","SetResultType"),s.addProperty("OnGetFunctionValue",0,n.$rtti.TFPExprFunctionEvent,"FOnGetValue","FOnGetValue"),s.addProperty("OnGetVariableValue",0,n.$rtti.TFPExprVariableEvent,"FOnGetVarValue","FOnGetVarValue"),s.addProperty("NodeType",0,n.$rtti.TFPExprFunctionClass,"FNodeType","FNodeType")}),tt=this.TBuiltInCategory={0:"bcStrings",bcStrings:0,1:"bcDateTime",bcDateTime:1,2:"bcMath",bcMath:2,3:"bcBoolean",bcBoolean:3,4:"bcConversion",bcConversion:4,5:"bcData",bcData:5,6:"bcVaria",bcVaria:6,7:"bcUser",bcUser:7,8:"bcAggregate",bcAggregate:8},this.$rtti.$Enum("TBuiltInCategory",{minvalue:0,maxvalue:8,ordtype:1,enumtype:this.TBuiltInCategory}),this.$rtti.$Set("TBuiltInCategories",{comptype:this.$rtti.TBuiltInCategory}),rtl.createClass(this,"TFPBuiltInExprIdentifierDef",u,function(){E=this,this.$init=function(){u.$init.call(this),this.FCategory=0},this.Assign=function(e){u.Assign.call(this,e),E.isPrototypeOf(e)&&(this.FCategory=rtl.as(e,E).FCategory)};var e=this.$rtti;e.addProperty("Category",0,n.$rtti.TBuiltInCategory,"FCategory","FCategory")}),rtl.createClass(this,"TFPExprIdentifierDefs",M,function(){H=this,this.$init=function(){M.$init.call(this),this.FParser=null},this.$final=function(){this.FParser=void 0,M.$final.call(this)},this.GetI=function(e){var t=null,t=this.GetItem(e);return t},this.Update=function(e){M.Update.call(this,e),this.FParser!=null&&(this.FParser.FDirty=!0)},this.IndexOfIdentifier=function(e){for(var t=0,t=this.GetCount()-1;t>=0&&xe(this.GetI(t).FName,e)!==0;)t-=1;return t},this.AddVariable=function(e,t,n){var s=null,s=rtl.as(this.Add(),u);return s.FIDType=0,s.SetName(e),s.SetResultType(t),s.FOnGetVarValue=n,s},this.AddFloatVariable=function(e,t){var n=null,n=rtl.as(this.Add(),u);return n.FIDType=0,n.SetName(e),n.SetResultType(2),n.FValue.resValue=t,n},this.AddFunction=function(e,t,s,o){var i=null,i=rtl.as(this.Add(),u);return i.SetName(e),i.FIDType=1,i.SetArgumentTypes(s),i.SetResultType(n.CharToResultType(t)),i.FOnGetValue=o,i},this.AddFunction$1=function(e,t,s,o){var i=null,i=rtl.as(this.Add(),u);return i.SetName(e),i.FIDType=2,i.SetArgumentTypes(s),i.SetResultType(n.CharToResultType(t)),i.FNodeType=o,i}}),rtl.createClass(this,"TFPExprIdentifierNode",i,function(){b=this,this.$init=function(){i.$init.call(this),this.FID=null,this.PResult=null,this.FResultType=0},this.$final=function(){this.FID=void 0,i.$final.call(this)},this.CreateIdentifier=function(e){return m.Create.call(this),this.FID=e,this.PResult=this.FID.FValue,this.FResultType=this.FID.GetResultType(),this},this.NodeType=function(){var e=0,e=this.FResultType;return e},this.GetNodeValue=function(){var e=t.$new();return this.FID.EventBasedVariable()&&(this.FID.FetchValue(),this.PResult=this.FID.FValue),e.$assign(this.PResult),e.ResultType=this.FResultType,e}}),rtl.createClass(this,"TFPExprVariable",b,function(){X=this,this.Check=function(){},this.AsString=function(){var e="",e=this.FID.FName;return e}}),rtl.createClass(this,"TFPExprFunction",b,function(){p=this,this.$init=function(){b.$init.call(this),this.FArgumentNodes=[],this.FargumentParams=[]},this.$final=function(){this.FArgumentNodes=void 0,this.FargumentParams=void 0,b.$final.call(this)},this.CalcParams=function(){e=0;for(var e,t=0,n=rtl.length(this.FargumentParams)-1;t<=n;t++)e=t,this.FargumentParams[e].$assign(this.FArgumentNodes[e].GetNodeValue())},this.ConvertArgument=function(t,s,i){var r=null,a=null,a=ie.ConvertNode(s,i);return s===a&&e.RaiseParserError$1(rtl.getResStr(n,"SErrInvalidArgumentType"),o(0,t,18,n.ResultTypeName(i),18,n.ResultTypeName(s.NodeType()))),r=a,r},this.Check=function(){t=0,s=0,i=0,rtl.length(this.FArgumentNodes)!==this.FID.ArgumentCount()&&e.RaiseParserError$1(rtl.getResStr(n,"ErrInvalidArgumentCount"),o(18,this.FID.FName));for(var t,s,i,a=0,r=rtl.length(this.FArgumentNodes)-1;a<=r;a++)t=a,s=n.CharToResultType(this.FID.FArgumentTypes.charAt(t+1-1)),i=this.FArgumentNodes[t].NodeType(),s!==i&&(this.FArgumentNodes[t]=this.ConvertArgument(t+1,this.FArgumentNodes[t],s))},this.CreateFunction=function(e,n){return b.CreateIdentifier.call(this,e),this.FArgumentNodes=rtl.arrayRef(n),this.FargumentParams=rtl.arraySetLength(this.FargumentParams,t,rtl.length(n)),this},this.Destroy=function(){e=0;for(var e,t=0,n=rtl.length(this.FArgumentNodes)-1;t<=n;t++)e=t,r({a:e,p:this.FArgumentNodes,get:function(){return this.p[this.a]},set:function(e){this.p[this.a]=e}});m.Destroy.call(this)},this.AsString=function(){t="",e="",n=0,e="";for(var e,t,n,s=0,o=rtl.length(this.FArgumentNodes)-1;s<=o;s++)n=s,e!==""&&(e=e+","),e=e+this.FArgumentNodes[n].AsString();return e!==""&&(e="("+e+")"),t=this.FID.FName+e,t}}),rtl.createClass(this,"TAggregateExpr",p,function(){j=this,this.$init=function(){p.$init.call(this),this.FResult=t.$new()},this.$final=function(){this.FResult=void 0,p.$final.call(this)},this.GetNodeValue=function(){var e=t.$new();return e.$assign(this.FResult),e}}),rtl.createClass(this,"TAggregateMin",j,function(){J=this}),rtl.createClass(this,"TAggregateMax",j,function(){ee=this}),rtl.createClass(this,"TAggregateSum",j,function(){S=this,this.ConvertArgument=function(t,s,i){var a=null;return s.NodeType()in rtl.createSet(2,1,5)||e.RaiseParserError$1(rtl.getResStr(n,"SErrInvalidArgumentType"),o(0,t,18,n.ResultTypeName(i),18,n.ResultTypeName(s.NodeType()))),a=s,a}}),rtl.createClass(this,"TAggregateAvg",S,function(){ne=this,this.$init=function(){S.$init.call(this),this.FCount=0},this.GetNodeValue=function(){var n,s,e=t.$new();return e.$assign(j.GetNodeValue.call(this)),e.ResultType=this.FResult.ResultType,this.FCount===0?(n=this.FResult.ResultType,n===1?(e.ResultType=2,e.resValue=0):n===2?e.resValue=0:n===5&&(e.resValue=0)):(s=this.FResult.ResultType,s===1?(e.ResultType=2,e.resValue=rtl.trunc(this.FResult.resValue)/this.FCount):s===2?e.resValue=rtl.getNumber(this.FResult.resValue)/this.FCount:s===5&&(e.resValue=rtl.trunc(rtl.trunc(this.FResult.resValue*1e4)/this.FCount)/1e4)),e}}),rtl.createClass(this,"TAggregateCount",j,function(){se=this}),rtl.createClass(this,"TFPFunctionEventHandler",p,function(){oe=this,this.$init=function(){p.$init.call(this),this.FCallBack=null},this.$final=function(){this.FCallBack=void 0,p.$final.call(this)},this.CreateFunction=function(e){return p.CreateFunction.apply(this,arguments),this.FCallBack=e.FOnGetValue,this},this.GetNodeValue=function(){var e=t.$new();return rtl.length(this.FargumentParams)>0&&this.CalcParams(),e.$assign(this.FCallBack(this.FargumentParams)),e.ResultType=this.NodeType(),e}}),rtl.createClass(this,"TFPExpressionParser",h,function(){ie=this,this.$init=function(){h.$init.call(this),this.FBuiltIns={},this.FExpression="",this.FScanner=null,this.FExprNode=null,this.FIdentifiers=null,this.FHashList=null,this.FDirty=!1},this.$final=function(){this.FBuiltIns=void 0,this.FScanner=void 0,this.FExprNode=void 0,this.FIdentifiers=void 0,this.FHashList=void 0,h.$final.call(this)},this.CheckEOF=function(){this.TokenType()===26&&this.ParserError(rtl.getResStr(n,"SErrUnexpectedEndOfExpression"))},this.GetAsBoolean=function(){var n=!1,e=t.$new();return this.EvaluateExpression(e),this.CheckResultType(e,0),n=e.resValue!=!1,n},this.MatchNodes=function(e,t){var o,s=null,i=0,n=0,s=e,i=e.NodeType(),n=t.NodeType();return i!==n&&(o=i,o===1?n in rtl.createSet(2,5,3)&&(s=this.$class.ConvertNode(e,n)):o===2?n in rtl.createSet(5,3)&&(s=this.$class.ConvertNode(e,n)):o===5&&n in rtl.createSet(2,3)&&(s=this.$class.ConvertNode(e,n))),s},this.CheckNodes=function(e,t){e.set(this.MatchNodes(e.get(),t.get())),t.set(this.MatchNodes(t.get(),e.get()))},this.SetBuiltIns=function(e){if(rtl.eqSet(this.FBuiltIns,e))return;this.FBuiltIns=rtl.refSet(e),this.FDirty=!0},this.SetIdentifiers=function(e){this.FIdentifiers.Assign(e)},this.ParserError=function(e){throw _.$create("Create$1",[e])},this.SetExpression=function(e){if(this.FExpression===e)return;this.FExpression=e,this.FScanner.SetSource(e),this.FExprNode!=null&&r({p:this,get:function(){return this.p.FExprNode},set:function(e){this.p.FExprNode=e}}),this.FExpression!==""?(this.GetToken(),this.FExprNode=this.Level1(),this.TokenType()!==26&&this.ParserError(a(rtl.getResStr(n,"SErrUnterminatedExpression"),o(0,this.FScanner.FPos,18,this.CurrentToken()))),this.FExprNode.Check()):this.FExprNode=null},this.CheckResultType=function(t,s){t.ResultType!==s&&e.RaiseParserError$1(rtl.getResStr(n,"SErrInvalidResultType"),o(18,n.ResultTypeName(t.ResultType)))},this.ConvertNode=function(e,t){var s,i,a,n=null,n=e,o=e.NodeType();return o===1?(s=t,s===2?n=re.$create("Create$1",[n]):s===5?n=te.$create("Create$1",[n]):s===3&&(n=Z.$create("Create$1",[n]))):o===2?(i=t,i===5?n=Y.$create("Create$1",[n]):i===3&&(n=G.$create("Create$1",[n]))):o===5&&(a=t,a===2?n=Se.$create("Create$1",[n]):a===3&&(n=q.$create("Create$1",[n]))),n},this.BuiltinsManager=function(){var e=null,e=n.BuiltinIdentifiers();return e},this.Level1=function(){var s,e=null,o=0,t=null;this.TokenType()===22?(this.GetToken(),this.CheckEOF(),t=this.Level2(),e=le.$create("Create$1",[t])):e=this.Level2();try{for(;this.TokenType()in rtl.createSet(17,18,19);)o=this.TokenType(),this.GetToken(),this.CheckEOF(),t=this.Level2(),s=o,s===18?e=Q.$create("Create$1",[e,t]):s===17?e=ce.$create("Create$1",[e,t]):s===19?e=U.$create("Create$1",[e,t]):this.ParserError(rtl.getResStr(n,"SErrUnknownBooleanOp"))}catch(t){throw e=rtl.freeLoc(e),t}return e},this.Level2=function(){var s,e=null,o=null,i=0,t=null,e=this.Level3();try{this.TokenType()in n.ttComparisons&&(i=this.TokenType(),this.GetToken(),this.CheckEOF(),o=this.Level3(),this.CheckNodes({get:function(){return e},set:function(t){e=t}},{get:function(){return o},set:function(e){o=e}}),s=i,s===2?t=x:s===10?t=de:s===3?t=k:s===11?t=ve:s===4?t=F:s===12?t=we:this.ParserError(rtl.getResStr(n,"SErrUnknownComparison")),e=t.$create("Create$1",[e,o]))}catch(t){throw e=rtl.freeLoc(e),t}return e},this.Level3=function(){var n,e=null,s=0,t=null,e=this.Level4();try{for(;this.TokenType()in rtl.createSet(0,1);)s=this.TokenType(),this.GetToken(),this.CheckEOF(),t=this.Level4(),this.CheckNodes({get:function(){return e},set:function(t){e=t}},{get:function(){return t},set:function(e){t=e}}),n=s,n===0?e=_e.$create("Create$1",[e,t]):n===1&&(e=ye.$create("Create$1",[e,t]))}catch(t){throw e=rtl.freeLoc(e),t}return e},this.Level4=function(){var n,e=null,s=0,t=null,e=this.Level5();try{for(;this.TokenType()in rtl.createSet(7,5,6);)s=this.TokenType(),this.GetToken(),t=this.Level5(),this.CheckNodes({get:function(){return e},set:function(t){e=t}},{get:function(){return t},set:function(e){t=e}}),n=s,n===7?e=je.$create("Create$1",[e,t]):n===5?e=ge.$create("Create$1",[e,t]):n===6&&(e=fe.$create("Create$1",[e,t]))}catch(t){throw e=rtl.freeLoc(e),t}return e},this.Level5=function(){var e=null,t=!1,t=!1;return this.TokenType()in rtl.createSet(0,1)&&(t=this.TokenType()===1,this.GetToken()),e=this.Level6(),t&&(e=V.$create("Create$1",[e])),e},this.Level6=function(){var e=null,t=null,e=this.Level7();try{for(;this.TokenType()===25;)this.GetToken(),t=this.Level5(),this.CheckNodes({get:function(){return e},set:function(t){e=t}},{get:function(){return t},set:function(e){t=e}}),e=me.$create("Create$1",[e,t])}catch(t){throw e=rtl.freeLoc(e),t}return e},this.Level7=function(){var e=null;if(this.TokenType()===8){this.GetToken(),e=this.Level1();try{this.TokenType()!==9&&this.ParserError(a(rtl.getResStr(n,"SErrBracketExpected"),o(0,this.FScanner.FPos,18,this.CurrentToken()))),this.GetToken()}catch(t){throw e=rtl.freeLoc(e),t}}else e=this.Primitive();return e},this.Primitive=function(){var u,p,s=null,h=0,m=0,f=0,i=0,l=!1,d=!1,c=null,e=[],t=0,e=rtl.arraySetLength(e,null,0);if(this.TokenType()===13)Ne(this.CurrentToken(),{get:function(){return h},set:function(e){h=e}})?s=v.$create("CreateInteger",[h]):(pe(this.CurrentToken(),{get:function(){return f},set:function(e){f=e}},{get:function(){return m},set:function(e){m=e}}),m===0?s=v.$create("CreateFloat",[f]):this.ParserError(a(rtl.getResStr(n,"SErrInvalidFloat"),o(18,this.CurrentToken()))));else if(this.TokenType()===14)s=v.$create("CreateString",[this.CurrentToken()]);else if(this.TokenType()in rtl.createSet(20,21))s=v.$create("CreateBoolean",[this.TokenType()===20]);else if(this.TokenType()in rtl.createSet(15,23,24)){if(l=this.TokenType()===23,d=this.TokenType()===24,l||d||(c=this.IdentifierByName(this.CurrentToken()),c===null&&this.ParserError(a(rtl.getResStr(n,"SErrUnknownIdentifier"),o(18,this.CurrentToken())))),l?i=3:d?i=-4:c.FIDType in rtl.createSet(1,2)?i=c.ArgumentCount():i=0,i!==0){this.GetToken(),this.TokenType()!==8&&this.ParserError(a(rtl.getResStr(n,"SErrLeftBracketExpected"),o(0,this.FScanner.FPos,18,this.CurrentToken()))),e=rtl.arraySetLength(e,null,Math.abs(i)),t=0;try{do this.GetToken(),i<0&&t===rtl.length(e)&&(e=rtl.arraySetLength(e,null,t+1),e[t]=null),e[t]=this.Level1(),t+=1,this.TokenType()!==16&&t<Math.abs(i)&&this.ParserError(a(rtl.getResStr(n,"SErrCommaExpected"),o(0,this.FScanner.FPos,18,this.CurrentToken())));while(!(t===i||i<0&&this.TokenType()===9))this.TokenType()!==9&&this.ParserError(a(rtl.getResStr(n,"SErrBracketExpected"),o(0,this.FScanner.FPos,18,this.CurrentToken())))}catch(n){if(R.isPrototypeOf(n)){for(p=n,t-=1;t>=0;)r({a:t,p:e,get:function(){return this.p[this.a]},set:function(e){this.p[this.a]=e}}),t-=1;throw n}throw n}}l?s=ke.$create("Create$2",[e[0],e[1],e[2]]):d?s=Me.$create("Create$1",[rtl.arrayRef(e)]):(u=c.FIDType,u===0?s=X.$create("CreateIdentifier",[c]):u===1?s=oe.$create("CreateFunction",[c,e]):u===2&&(s=c.FNodeType.$create("CreateFunction",[c,e])))}else this.ParserError(a(rtl.getResStr(n,"SerrUnknownTokenAtPos"),o(0,this.FScanner.FPos,18,this.CurrentToken())));return this.GetToken(),s},this.GetToken=function(){var e=0,e=this.FScanner.GetToken();return e},this.TokenType=function(){var e=0,e=this.FScanner.FTokenType;return e},this.CurrentToken=function(){var e="",e=this.FScanner.FToken;return e},this.CreateHashList=function(){if(s=null,e=null,t=0,n=null,this.FHashList.Clear(),n=this.$class.BuiltinsManager(),rtl.neSet(this.FBuiltIns,{})&&n!=null)for(var e,t,n,s,o,a,i=0,r=n.GetCount()-1;i<=r;i++)t=i,e=n.GetI(t),e.FCategory in this.FBuiltIns&&this.FHashList.Add(y(e.FName),e);for(o=0,a=this.FIdentifiers.GetCount()-1;o<=a;o++)t=o,s=this.FIdentifiers.GetI(t),this.FHashList.Add(y(s.FName),s);this.FDirty=!1},this.Create$1=function(e){return h.Create$1.call(this,e),this.FIdentifiers=H.$create("Create$1",[u]),this.FIdentifiers.FParser=this,this.FScanner=he.$create("Create$1"),this.FHashList=Re.$create("Create$2",[!1]),this},this.Destroy=function(){r({p:this,get:function(){return this.p.FHashList},set:function(e){this.p.FHashList=e}}),r({p:this,get:function(){return this.p.FExprNode},set:function(e){this.p.FExprNode=e}}),r({p:this,get:function(){return this.p.FIdentifiers},set:function(e){this.p.FIdentifiers=e}}),r({p:this,get:function(){return this.p.FScanner},set:function(e){this.p.FScanner=e}}),h.Destroy.call(this)},this.IdentifierByName=function(e){var t=null;return this.FDirty&&this.CreateHashList(),t=this.FHashList.GetData(y(e)),t},this.EvaluateExpression=function(e){e.$assign(this.Evaluate$1())},this.Evaluate$1=function(){var e=t.$new();return this.FExpression===""&&this.ParserError(rtl.getResStr(n,"SErrInExpressionEmpty")),this.FExprNode!=null||this.ParserError(rtl.getResStr(n,"SErrInExpression")),e.$assign(this.FExprNode.GetNodeValue()),e};var s=this.$rtti;s.addProperty("Expression",2,rtl.string,"FExpression","SetExpression"),s.addProperty("Identifiers",2,n.$rtti.TFPExprIdentifierDefs,"FIdentifiers","SetIdentifiers"),s.addProperty("BuiltIns",2,n.$rtti.TBuiltInCategories,"FBuiltIns","SetBuiltIns")}),rtl.createClass(this,"TExprBuiltInManager",h,function(){ae=this,this.$init=function(){h.$init.call(this),this.FDefs=null},this.$final=function(){this.FDefs=void 0,h.$final.call(this)},this.GetCount=function(){var e=0,e=this.FDefs.GetCount();return e},this.GetI=function(e){var t=null,t=this.FDefs.GetI(e);return t},this.Create$1=function(e){return h.Create$1.call(this,e),this.FDefs=H.$create("Create$1",[E]),this},this.Destroy=function(){r({p:this,get:function(){return this.p.FDefs},set:function(e){this.p.FDefs=e}}),h.Destroy.call(this)},this.AddFloatVariable=function(e,t,n){var s=null,s=this.FDefs.AddFloatVariable(t,n);return s.FCategory=e,s},this.AddFunction=function(e,t,n,s,o){var i=null,i=this.FDefs.AddFunction(t,n,s,o);return i.FCategory=e,i},this.AddFunction$1=function(e,t,n,s,o){var i=null,i=this.FDefs.AddFunction$1(t,n,s,o);return i.FCategory=e,i}}),rtl.createClass(this,"EExprParser",R,function(){_=this}),this.AllBuiltIns=rtl.createSet(0,1,2,3,4,5,6,7,8),this.ResultTypeName=function(e){var t="",t=w(n.$rtti.TResultType,e);return t},this.CharToResultType=function(t){var s=0,i=L(t);return i==="S"?s=4:i==="D"?s=3:i==="B"?s=0:i==="I"?s=1:i==="F"?s=2:i==="C"?s=5:e.RaiseParserError$1(rtl.getResStr(n,"SErrInvalidResultCharacter"),o(9,t)),s},this.BuiltinIdentifiers=function(){var t=null;return e.BuiltIns===null&&(e.BuiltIns=ae.$create("Create$1",[null])),t=e.BuiltIns,t},this.RegisterStdBuiltins=function(t,n){2 in n&&(t.AddFloatVariable(2,"pi",Math.PI),t.AddFunction(2,"cos","F","F",e.BuiltInCos),t.AddFunction(2,"sin","F","F",e.BuiltInSin),t.AddFunction(2,"abs","F","F",e.BuiltInAbs),t.AddFunction(2,"sqr","F","F",e.BuiltInSqr),t.AddFunction(2,"sqrt","F","F",e.BuiltInSqrt),t.AddFunction(2,"exp","F","F",e.BuiltInExp),t.AddFunction(2,"ln","F","F",e.BuiltInLn),t.AddFunction(2,"log","F","F",e.BuiltInLog),t.AddFunction(2,"frac","F","F",e.BuiltInFrac),t.AddFunction(2,"int","F","F",e.BuiltInInt),t.AddFunction(2,"round","I","F",e.BuiltInRound),t.AddFunction(2,"trunc","I","F",e.BuiltInTrunc)),0 in n&&(t.AddFunction(0,"length","I","S",e.BuiltInLength),t.AddFunction(0,"copy","S","SII",e.BuiltInCopy),t.AddFunction(0,"delete","S","SII",e.BuiltInDelete),t.AddFunction(0,"pos","I","SS",e.BuiltInPos),t.AddFunction(0,"lowercase","S","S",e.BuiltInLowercase),t.AddFunction(0,"uppercase","S","S",e.BuiltInUppercase),t.AddFunction(0,"stringreplace","S","SSSBB",e.BuiltInStringReplace),t.AddFunction(0,"comparetext","I","SS",e.BuiltInCompareText)),1 in n&&(t.AddFunction(1,"date","D","",e.BuiltInDate),t.AddFunction(1,"time","D","",e.BuiltInTime),t.AddFunction(1,"now","D","",e.BuiltInNow),t.AddFunction(1,"dayofweek","I","D",e.BuiltInDayofWeek),t.AddFunction(1,"extractyear","I","D",e.BuiltInExtractYear),t.AddFunction(1,"extractmonth","I","D",e.BuiltInExtractMonth),t.AddFunction(1,"extractday","I","D",e.BuiltInExtractDay),t.AddFunction(1,"extracthour","I","D",e.BuiltInExtractHour),t.AddFunction(1,"extractmin","I","D",e.BuiltInExtractMin),t.AddFunction(1,"extractsec","I","D",e.BuiltInExtractSec),t.AddFunction(1,"extractmsec","I","D",e.BuiltInExtractMSec),t.AddFunction(1,"encodedate","D","III",e.BuiltInEncodedate),t.AddFunction(1,"encodetime","D","IIII",e.BuiltInEncodeTime),t.AddFunction(1,"encodedatetime","D","IIIIIII",e.BuiltInEncodeDateTime),t.AddFunction(1,"shortdayname","S","I",e.BuiltInShortDayName),t.AddFunction(1,"shortmonthname","S","I",e.BuiltInShortMonthName),t.AddFunction(1,"longdayname","S","I",e.BuiltInLongDayName),t.AddFunction(1,"longmonthname","S","I",e.BuiltInLongMonthName)),3 in n&&(t.AddFunction(3,"shl","I","II",e.BuiltInShl),t.AddFunction(3,"shr","I","II",e.BuiltInShr),t.AddFunction(3,"IFS","S","BSS",e.BuiltinIFS),t.AddFunction(3,"IFF","F","BFF",e.BuiltinIFF),t.AddFunction(3,"IFD","D","BDD",e.BuiltinIFD),t.AddFunction(3,"IFI","I","BII",e.BuiltinIFI)),4 in n&&(t.AddFunction(4,"inttostr","S","I",e.BuiltInIntToStr),t.AddFunction(4,"strtoint","I","S",e.BuiltInStrToInt),t.AddFunction(4,"strtointdef","I","SI",e.BuiltInStrToIntDef),t.AddFunction(4,"floattostr","S","F",e.BuiltInFloatToStr),t.AddFunction(4,"strtofloat","F","S",e.BuiltInStrToFloat),t.AddFunction(4,"strtofloatdef","F","SF",e.BuiltInStrToFloatDef),t.AddFunction(4,"booltostr","S","B",e.BuiltInBoolToStr),t.AddFunction(4,"strtobool","B","S",e.BuiltInStrToBool),t.AddFunction(4,"strtobooldef","B","SB",e.BuiltInStrToBoolDef),t.AddFunction(4,"datetostr","S","D",e.BuiltInDateToStr),t.AddFunction(4,"timetostr","S","D",e.BuiltInTimeToStr),t.AddFunction(4,"strtodate","D","S",e.BuiltInStrToDate),t.AddFunction(4,"strtodatedef","D","SD",e.BuiltInStrToDateDef),t.AddFunction(4,"strtotime","D","S",e.BuiltInStrToTime),t.AddFunction(4,"strtotimedef","D","SD",e.BuiltInStrToTimeDef),t.AddFunction(4,"strtodatetime","D","S",e.BuiltInStrToDateTime),t.AddFunction(4,"strtodatetimedef","D","SD",e.BuiltInStrToDateTimeDef),t.AddFunction(4,"formatfloat","S","SF",e.BuiltInFormatFloat),t.AddFunction(4,"formatdatetime","S","SD",e.BuiltInFormatDateTime)),8 in n&&(t.AddFunction$1(8,"count","I","",se),t.AddFunction$1(8,"sum","F","F",S),t.AddFunction$1(8,"avg","F","F",ne),t.AddFunction$1(8,"min","F","F",J),t.AddFunction$1(8,"max","F","F",ee))},this.ArgToFloat=function(e){var t=0;return e.ResultType===1?t=rtl.trunc(e.resValue):e.ResultType===5?t=rtl.trunc(e.resValue*1e4)/1e4:t=rtl.getNumber(e.resValue),t},n.$implcode=function(){$=pas.TypInfo,w=$.GetEnumName,e.cNull="\0",e.cSingleQuote="'",e.cHexIdentifier="$",e.cOctalIdentifier="&",e.cBinaryIdentifier="%",e.Digits=rtl.createSet(null,48,57,46),e.HexDigits=rtl.createSet(null,48,57,null,65,70,null,97,102),e.OctalDigits=rtl.createSet(null,48,55),e.BinaryDigits=rtl.createSet(48,49),e.WhiteSpace=rtl.createSet(32,13,10,9),e.Operators=rtl.createSet(43,45,60,62,61,47,42,94),e.Delimiters=rtl.unionSet(e.Operators,rtl.createSet(44,40,41)),e.Symbols=rtl.unionSet(rtl.createSet(37),e.Delimiters),e.WordDelimiters=rtl.unionSet(e.WhiteSpace,e.Symbols),e.FileFormatSettings=Pe.$new(),e.RaiseParserError=function(e){throw _.$create("Create$1",[e])},e.RaiseParserError$1=function(e,t){throw _.$create("CreateFmt",[e,t])},e.BuiltIns=null,e.power=function(e,t){var n=0,s=0;return t===0?n=1:e===0&&t>0?n=0:e<0&&be(t)===0?(s=Math.round(t),n=Math.exp(t*Math.log(-e)),Ie(s)&&(n=-n)):n=Math.exp(t*Math.log(e)),n},e.BuiltInCos=function(e){var s=t.$new();return s.ResultType=2,s.resValue=Math.cos(n.ArgToFloat(t.$clone(e[0]))),s},e.BuiltInSin=function(e){var s=t.$new();return s.ResultType=2,s.resValue=Math.sin(n.ArgToFloat(t.$clone(e[0]))),s},e.BuiltInAbs=function(e){var s=t.$new();return s.ResultType=2,s.resValue=Math.abs(n.ArgToFloat(t.$clone(e[0]))),s},e.BuiltInSqr=function(e){var s=t.$new();return s.ResultType=2,s.resValue=Be(n.ArgToFloat(t.$clone(e[0]))),s},e.BuiltInSqrt=function(e){var s=t.$new();return s.ResultType=2,s.resValue=Math.sqrt(n.ArgToFloat(t.$clone(e[0]))),s},e.BuiltInExp=function(e){var s=t.$new();return s.ResultType=2,s.resValue=Math.exp(n.ArgToFloat(t.$clone(e[0]))),s},e.BuiltInLn=function(e){var s=t.$new();return s.ResultType=2,s.resValue=Math.log(n.ArgToFloat(t.$clone(e[0]))),s},e.L10=0,e.BuiltInLog=function(s){var o=t.$new();return o.ResultType=2,o.resValue=Math.log(n.ArgToFloat(t.$clone(s[0])))/e.L10,o},e.BuiltInRound=function(e){var s=t.$new();return s.ResultType=1,s.resValue=Math.round(n.ArgToFloat(t.$clone(e[0]))),s},e.BuiltInTrunc=function(e){var s=t.$new();return s.ResultType=1,s.resValue=Ve(n.ArgToFloat(t.$clone(e[0]))),s},e.BuiltInInt=function(e){var s=t.$new();return s.ResultType=1,s.resValue=$e(n.ArgToFloat(t.$clone(e[0]))),s},e.BuiltInFrac=function(e){var s=t.$new();return s.ResultType=2,s.resValue=be(n.ArgToFloat(t.$clone(e[0]))),s},e.BuiltInLength=function(e){var n=t.$new();return n.ResultType=1,n.resValue=(""+e[0].resValue).length,n},e.BuiltInCopy=function(e){var n=t.$new();return n.ResultType=4,n.resValue=Qe(""+e[0].resValue,rtl.trunc(e[1].resValue),rtl.trunc(e[2].resValue)),n},e.BuiltInDelete=function(e){var s=t.$new(),n="";return s.ResultType=4,n=""+e[0].resValue,Ue({get:function(){return n},set:function(e){n=e}},rtl.trunc(e[1].resValue),rtl.trunc(e[2].resValue)),s.resValue=n,s},e.BuiltInPos=function(e){var n=t.$new();return n.ResultType=1,n.resValue=Ke(""+e[0].resValue,""+e[1].resValue),n},e.BuiltInUppercase=function(e){var n=t.$new();return n.ResultType=4,n.resValue=qe(""+e[0].resValue),n},e.BuiltInLowercase=function(e){var n=t.$new();return n.ResultType=4,n.resValue=y(""+e[0].resValue),n},e.BuiltInStringReplace=function(e){var s=t.$new(),n={};return s.ResultType=4,n={},e[3].resValue==!1||(n=rtl.includeSet(n,0)),e[4].resValue==!1||(n=rtl.includeSet(n,1)),s.resValue=Ye(""+e[0].resValue,""+e[1].resValue,""+e[2].resValue,rtl.refSet(n)),s},e.BuiltInCompareText=function(e){var n=t.$new();return n.ResultType=1,n.resValue=xe(""+e[0].resValue,""+e[1].resValue),n},e.BuiltInDate=function(e){var n=t.$new();return rtl.length(e)===0,n.ResultType=3,n.resValue=Fe(),n},e.BuiltInTime=function(e){var n=t.$new();return rtl.length(e)===0,n.ResultType=3,n.resValue=dt(),n},e.BuiltInNow=function(e){var n=t.$new();return rtl.length(e)===0,n.ResultType=3,n.resValue=We(),n},e.BuiltInDayofWeek=function(e){var n=t.$new();return n.ResultType=1,n.resValue=Ze(rtl.getNumber(e[0].resValue)),n},e.BuiltInExtractYear=function(e){var n=t.$new(),s=0,o=0,i=0;return n.ResultType=1,N(rtl.getNumber(e[0].resValue),{get:function(){return s},set:function(e){s=e}},{get:function(){return o},set:function(e){o=e}},{get:function(){return i},set:function(e){i=e}}),n.resValue=s,n},e.BuiltInExtractMonth=function(e){var n=t.$new(),o=0,s=0,i=0;return n.ResultType=1,N(rtl.getNumber(e[0].resValue),{get:function(){return o},set:function(e){o=e}},{get:function(){return s},set:function(e){s=e}},{get:function(){return i},set:function(e){i=e}}),n.resValue=s,n},e.BuiltInExtractDay=function(e){var n=t.$new(),o=0,i=0,s=0;return n.ResultType=1,N(rtl.getNumber(e[0].resValue),{get:function(){return o},set:function(e){o=e}},{get:function(){return i},set:function(e){i=e}},{get:function(){return s},set:function(e){s=e}}),n.resValue=s,n},e.BuiltInExtractHour=function(e){var n=t.$new(),s=0,o=0,i=0,a=0;return n.ResultType=1,A(rtl.getNumber(e[0].resValue),{get:function(){return s},set:function(e){s=e}},{get:function(){return o},set:function(e){o=e}},{get:function(){return i},set:function(e){i=e}},{get:function(){return a},set:function(e){a=e}}),n.resValue=s,n},e.BuiltInExtractMin=function(e){var n=t.$new(),o=0,s=0,i=0,a=0;return n.ResultType=1,A(rtl.getNumber(e[0].resValue),{get:function(){return o},set:function(e){o=e}},{get:function(){return s},set:function(e){s=e}},{get:function(){return i},set:function(e){i=e}},{get:function(){return a},set:function(e){a=e}}),n.resValue=s,n},e.BuiltInExtractSec=function(e){var n=t.$new(),o=0,i=0,s=0,a=0;return n.ResultType=1,A(rtl.getNumber(e[0].resValue),{get:function(){return o},set:function(e){o=e}},{get:function(){return i},set:function(e){i=e}},{get:function(){return s},set:function(e){s=e}},{get:function(){return a},set:function(e){a=e}}),n.resValue=s,n},e.BuiltInExtractMSec=function(e){var n=t.$new(),o=0,i=0,a=0,s=0;return n.ResultType=1,A(rtl.getNumber(e[0].resValue),{get:function(){return o},set:function(e){o=e}},{get:function(){return i},set:function(e){i=e}},{get:function(){return a},set:function(e){a=e}},{get:function(){return s},set:function(e){s=e}}),n.resValue=s,n},e.BuiltInEncodedate=function(e){var n=t.$new();return n.ResultType=3,n.resValue=K(rtl.trunc(e[0].resValue),rtl.trunc(e[1].resValue),rtl.trunc(e[2].resValue)),n},e.BuiltInEncodeTime=function(e){var n=t.$new();return n.ResultType=3,n.resValue=W(rtl.trunc(e[0].resValue),rtl.trunc(e[1].resValue),rtl.trunc(e[2].resValue),rtl.trunc(e[3].resValue)),n},e.BuiltInEncodeDateTime=function(e){var n=t.$new();return n.ResultType=3,n.resValue=K(rtl.trunc(e[0].resValue),rtl.trunc(e[1].resValue),rtl.trunc(e[2].resValue))+W(rtl.trunc(e[3].resValue),rtl.trunc(e[4].resValue),rtl.trunc(e[5].resValue),rtl.trunc(e[6].resValue)),n},e.BuiltInShortDayName=function(e){var n=t.$new();return n.ResultType=4,n.resValue=s.FormatSettings.ShortDayNames[rtl.trunc(e[0].resValue)],n},e.BuiltInShortMonthName=function(e){var n=t.$new();return n.ResultType=4,n.resValue=s.FormatSettings.ShortMonthNames[rtl.trunc(e[0].resValue)-1],n},e.BuiltInLongDayName=function(e){var n=t.$new();return n.resValue=s.FormatSettings.LongDayNames[rtl.trunc(e[0].resValue)],n},e.BuiltInLongMonthName=function(e){var n=t.$new();return n.ResultType=4,n.resValue=s.FormatSettings.LongMonthNames[rtl.trunc(e[0].resValue)-1],n},e.BuiltInFormatDateTime=function(e){var n=t.$new();return n.ResultType=4,n.resValue=I(""+e[0].resValue,rtl.getNumber(e[1].resValue)),n},e.BuiltInIntToStr=function(e){var n=t.$new();return n.ResultType=4,n.resValue=D(rtl.trunc(e[0].resValue)),n},e.BuiltInStrToInt=function(e){var n=t.$new();return n.ResultType=1,n.resValue=Ce(""+e[0].resValue),n},e.BuiltInStrToIntDef=function(e){var n=t.$new();return n.ResultType=1,n.resValue=st(""+e[0].resValue,rtl.trunc(e[1].resValue)),n},e.BuiltInFloatToStr=function(e){var n=t.$new();return n.ResultType=4,n.resValue=Oe(rtl.getNumber(e[0].resValue)),n},e.BuiltInStrToFloat=function(e){var n=t.$new();return n.ResultType=2,n.resValue=Ee(""+e[0].resValue),n},e.BuiltInStrToFloatDef=function(e){var n=t.$new();return n.ResultType=2,n.resValue=ot(""+e[0].resValue,rtl.getNumber(e[1].resValue)),n},e.BuiltInDateToStr=function(e){var n=t.$new();return n.ResultType=4,n.resValue=it(rtl.getNumber(e[0].resValue)),n},e.BuiltInTimeToStr=function(e){var n=t.$new();return n.ResultType=4,n.resValue=at(rtl.getNumber(e[0].resValue)),n},e.BuiltInStrToDate=function(e){var n=t.$new();return n.ResultType=3,n.resValue=rt(""+e[0].resValue),n},e.BuiltInStrToDateDef=function(e){var n=t.$new();return n.ResultType=3,n.resValue=ct(""+e[0].resValue,rtl.getNumber(e[1].resValue)),n},e.BuiltInStrToTime=function(e){var n=t.$new();return n.ResultType=3,n.resValue=lt(""+e[0].resValue),n},e.BuiltInStrToTimeDef=function(e){var n=t.$new();return n.ResultType=3,n.resValue=Te(""+e[0].resValue,rtl.getNumber(e[1].resValue)),n},e.BuiltInStrToDateTime=function(e){var n=t.$new();return n.ResultType=3,n.resValue=Ae(""+e[0].resValue),n},e.BuiltInStrToDateTimeDef=function(e){var n=t.$new();return n.ResultType=3,n.resValue=ut(""+e[0].resValue,rtl.getNumber(e[1].resValue)),n},e.BuiltInFormatFloat=function(e){var n=t.$new();return n.ResultType=4,n.resValue=ht(""+e[0].resValue,rtl.getNumber(e[1].resValue)),n},e.BuiltInBoolToStr=function(e){var n=t.$new();return n.ResultType=4,n.resValue=mt(e[0].resValue!=!1,!1),n},e.BuiltInStrToBool=function(e){var n=t.$new();return n.ResultType=0,n.resValue=Ge(""+e[0].resValue),n},e.BuiltInStrToBoolDef=function(e){var n=t.$new();return n.resValue=pt(""+e[0].resValue,e[1].resValue!=!1),n.ResultType=0,n},e.BuiltInShl=function(e){var n=t.$new();return n.ResultType=1,n.resValue=rtl.shl(rtl.trunc(e[0].resValue),rtl.trunc(e[1].resValue)),n},e.BuiltInShr=function(e){var n=t.$new();return n.ResultType=1,n.resValue=rtl.shr(rtl.trunc(e[0].resValue),rtl.trunc(e[1].resValue)),n},e.BuiltinIFS=function(e){var n=t.$new();return n.ResultType=4,e[0].resValue==!1?n.resValue=e[2].resValue:n.resValue=e[1].resValue,n},e.BuiltinIFI=function(e){var n=t.$new();return n.ResultType=1,e[0].resValue==!1?n.resValue=e[2].resValue:n.resValue=e[1].resValue,n},e.BuiltinIFF=function(e){var n=t.$new();return n.ResultType=2,e[0].resValue==!1?n.resValue=e[2].resValue:n.resValue=e[1].resValue,n},e.BuiltinIFD=function(e){var n=t.$new();return n.ResultType=3,e[0].resValue==!1?n.resValue=e[2].resValue:n.resValue=e[1].resValue,n},e.InitFileFormatSettings=function(){e.FileFormatSettings.$assign(s.FormatSettings),e.FileFormatSettings.DecimalSeparator=".",e.FileFormatSettings.DateSeparator="-",e.FileFormatSettings.TimeSeparator=":",e.FileFormatSettings.ShortDateFormat="yyyy-mm-dd",e.FileFormatSettings.LongTimeFormat="hh:nn:ss"},n.$resourcestrings={SBadQuotes:{org:"Unterminated string"},SUnknownDelimiter:{org:'Unknown delimiter character: "%s"'},SErrUnknownCharacter:{org:'Unknown character at pos %d: "%s"'},SErrUnexpectedEndOfExpression:{org:"Unexpected end of expression"},SErrUnknownComparison:{org:"Internal error: Unknown comparison"},SErrUnknownBooleanOp:{org:"Internal error: Unknown boolean operation"},SErrBracketExpected:{org:"Expected ) bracket at position %d, but got %s"},SerrUnknownTokenAtPos:{org:"Unknown token at pos %d : %s"},SErrLeftBracketExpected:{org:"Expected ( bracket at position %d, but got %s"},SErrInvalidFloat:{org:"%s is not a valid floating-point value"},SErrUnknownIdentifier:{org:"Unknown identifier: %s"},SErrInExpression:{org:"Cannot evaluate: error in expression"},SErrInExpressionEmpty:{org:"Cannot evaluate: empty expression"},SErrCommaExpected:{org:"Expected comma (,) at position %d, but got %s"},SErrInvalidNumberChar:{org:"Unexpected character in number : %s"},SErrInvalidNumber:{org:"Invalid numerical value : %s"},SErrUnterminatedIdentifier:{org:"Unterminated quoted identifier: %s"},SErrNoOperand:{org:"No operand for unary operation %s"},SErrNoleftOperand:{org:"No left operand for binary operation %s"},SErrNoRightOperand:{org:"No right operand for binary operation %s"},SErrNoNegation:{org:"Cannot negate expression of type %s : %s"},SErrNoNOTOperation:{org:'Cannot perform "not" on expression of type %s: %s'},SErrTypesDoNotMatch:{org:'Type mismatch: %s<>%s for expressions "%s" and "%s".'},SErrNoNodeToCheck:{org:"Internal error: No node to check !"},SInvalidNodeType:{org:"Node type (%s) not in allowed types (%s) for expression: %s"},SErrUnterminatedExpression:{org:"Badly terminated expression. Found token at position %d : %s"},SErrDuplicateIdentifier:{org:'An identifier with name "%s" already exists.'},SErrInvalidResultCharacter:{org:'"%s" is not a valid return type indicator'},ErrInvalidArgumentCount:{org:"Invalid argument count for function %s"},SErrInvalidArgumentType:{org:"Invalid type for argument %d: Expected %s, got %s"},SErrInvalidResultType:{org:"Invalid result type: %s"},SErrIFNeedsBoolean:{org:"First argument to IF must be of type boolean: %s"},SErrCaseNeeds3:{org:"Case statement needs to have at least 4 arguments"},SErrCaseEvenCount:{org:"Case statement needs to have an even number of arguments"},SErrCaseLabelNotAConst:{org:'Case label %d "%s" is not a constant expression'},SErrCaseLabelType:{org:'Case label %d "%s" needs type %s, but has type %s'},SErrCaseValueType:{org:'Case value %d "%s" needs type %s, but has type %s'}}},n.$init=function(){e.L10=Math.log(10),n.RegisterStdBuiltins(n.BuiltinIdentifiers(),n.AllBuiltIns),e.InitFileFormatSettings()}},["TypInfo"]),rtl.module("JSONDataset",["System","Types","JS","DB","Classes","SysUtils","TypInfo","fpexprpars"],function(){"use strict";var A=this,oe=A.$impl,Q=null,f=null,c=null,i=null,a=null,o=null,D=null,N=null,L=null,H=null,P=null,m=null,l=null,R=null,z=null,d=null,w=null,ne=null,x=null,O=null,I=null,b=pas.System,t=b.TObject,e=pas.DB,E=e.TDateField,k=e.TTimeField,_=e.TDateTimeField,te=b.Copy,r=pas.SysUtils,Y=r.CompareText,q=r.CompareStr,g=pas.JS,K=g.isDate,W=r.JSDateToDateTime,$=pas.Classes,p=$.TFPList,h=e.EDatabaseError,u=b.VarRecs,B=pas.TypInfo,X=B.GetEnumName,M=g.isUndefined,n=r.FreeAndNil,v=e.TIndexDef,U=e.TIndexDefs,s=e.TDataSet,T=pas.fpexprpars,F=T.TFPExpressionResult,G=e.DatabaseErrorFmt$1,V=T.TFPExpressionParser,j=e.TDataRecord,Z=e.TBookmark,J=e.DatabaseErrorFmt,y=null,S=null,C=null,se=r.FormatDateTime,ee=g.JSDelete,Q=this.TJSONRowType={0:"rtJSONObject",rtJSONObject:0,1:"rtJSONArray",rtJSONArray:1};rtl.createClass(this,"TJSONFieldMapper",t,function(){f=this,this.CopyRow=function(e){var t=void 0,t=JSON.parse(JSON.stringify(e));return t},this.GetJSONDataForField$1=function(e,t){var n=void 0,n=this.GetJSONDataForField(e.FFieldName,e.GetIndex(),t);return n},this.SetJSONDataForField$1=function(e,t,n){this.SetJSONDataForField(e.FFieldName,e.GetIndex(),t,n)}}),rtl.createClass(this,"TJSONDateField",E,function(){c=this,this.$init=function(){E.$init.call(this),this.FDateFormat=""};var e=this.$rtti;e.addProperty("DateFormat",0,rtl.string,"FDateFormat","FDateFormat")}),rtl.createClass(this,"TJSONTimeField",k,function(){i=this,this.$init=function(){k.$init.call(this),this.FTimeFormat=""};var e=this.$rtti;e.addProperty("TimeFormat",0,rtl.string,"FTimeFormat","FTimeFormat")}),rtl.createClass(this,"TJSONDateTimeField",_,function(){a=this,this.$init=function(){_.$init.call(this),this.FDateTimeFormat=""};var e=this.$rtti;e.addProperty("DateTimeFormat",0,rtl.string,"FDateTimeFormat","FDateTimeFormat")}),rtl.createClass(this,"TFieldComparer",t,function(){o=this,this.$init=function(){t.$init.call(this),this.FDesc=!1,this.FValue=void 0,this.FField=null,this.FOptions={},this.FDataset=null},this.$final=function(){this.FField=void 0,this.FOptions=void 0,this.FDataset=void 0,t.$final.call(this)},this.Create$1=function(e,t,n,s){return this.FField=t,this.FValue=n,this.FOptions=rtl.refSet(s),this.FDataset=e,this},this.GetFieldValue=function(e){var t=void 0,t=this.FDataset.FFieldMapper.GetJSONDataForField$1(this.FField,this.FDataset.FRows[e]);return t},this.CompareRows=function(e,t){var n=0,n=this.Compare(e,this.GetFieldValue(t));return n},this.Compare$1=function(e){var t=0,t=this.Compare(e,this.FValue);return t}}),rtl.createClass(this,"TStringFieldComparer",o,function(){D=this,this.Compare=function(e,t){var o=0,n="",s="",n=""+this.GetFieldValue(e),s=""+t;return 1 in this.FOptions&&(n=te(n,1,s.length)),0 in this.FOptions?o=Y(n,s):o=q(n,s),o}}),rtl.createClass(this,"TNativeIntFieldComparer",o,function(){N=this,this.Compare=function(e,t){var n=0,s=0,o=0,s=rtl.trunc(this.GetFieldValue(e)),o=rtl.trunc(t),n=s-o;return n}}),rtl.createClass(this,"TBooleanFieldComparer",o,function(){L=this,this.Compare=function(e,t){var n=0,s=!1,o=!1,s=this.GetFieldValue(e)!=!1,o=t!=!1,n=s+0-(o+0);return n}}),rtl.createClass(this,"TDateTimeFieldComparer",o,function(){H=this,this.Compare=function(e,t){var n=this,s=0,o=0,i=0;function a(e){var t=0;return K(e)?t=W(e):t=n.FDataset.ConvertDateTimeField(""+e,n.FField),t}return o=a(this.GetFieldValue(e)),i=a(t),s=Math.round(o-i),s}}),rtl.createClass(this,"TFloatFieldComparer",o,function(){P=this,this.Compare=function(e,t){var n=0,s=0,o=0,s=rtl.getNumber(this.GetFieldValue(e)),o=rtl.getNumber(t),n=Math.round(s-o);return n}}),rtl.createClass(this,"TRecordComparer",t,function(){m=this,this.$init=function(){t.$init.call(this),this.FDataset=null,this.FIndexBased=!1,this.FItems=[],this.FOptions={},this.FValues=[]},this.$final=function(){this.FDataset=void 0,this.FItems=void 0,this.FOptions=void 0,this.FValues=void 0,t.$final.call(this)},this.ConstructItems=function(t){n=null,i=null,s=null,o=0,n=p.$create("Create");try{if(this.FDataset.GetFieldList$1(n,t),!this.FIndexBased&&n.FCount!==rtl.length(this.FValues))throw h.$create("CreateFmt",["Array of values has different length (%d) from array of fields (%d)",u(19,rtl.length(this.FValues),0,n.FCount)]);this.FItems=rtl.arraySetLength(this.FItems,null,n.FCount);for(var n,s,o,i,a=0,r=n.FCount-1;a<=r;a++){if(o=a,s=rtl.getObject(n.Get(o)),i=this.DataTypeToComparerClass(s.FDataType),i===null)throw h.$create("CreateFmt",["Cannot locate on field %s of type %s)",u(18,s.FFieldName,18,X(e.$rtti.TFieldType,s.FDataType))]);this.FIndexBased?this.FItems[o]=i.$create("Create$1",[this.FDataset,s,null,rtl.refSet(this.FOptions)]):this.FItems[o]=i.$create("Create$1",[this.FDataset,s,this.FValues[o],rtl.refSet(this.FOptions)])}}finally{n=rtl.freeLoc(n)}},this.DataTypeToComparerClass=function(e){var n=null,t=e;return t===11||t===12||t===1?n=D:t===9||t===2||t===3?n=N:t===4?n=L:t===5?n=P:t===6||t===7||t===8?n=H:n=null,n},this.Compare=function(e){for(var t=0,n=0,s=0,t=0,n=0,s=rtl.length(this.FItems);t===0&&n<s;)t=this.FItems[n].Compare$1(e),n+=1;return t},this.CompareRows=function(e,t){for(var n=0,s=0,o=0,n=0,s=0,o=rtl.length(this.FItems);n===0&&s<o;)n=this.FItems[s].CompareRows(e,t),n!==0&&this.FItems[s].FDesc&&(n=-n),s+=1;return n},this.updateFromIndex=function(e){t=null,n=0,t=p.$create("Create");try{if(e.FCaseinsFields!==""){this.FDataset.GetFieldList$1(t,e.FCaseinsFields);for(var t,n,s,i,o=0,a=rtl.length(this.FItems)-1;o<=a;o++)n=o,t.IndexOf(this.FItems[n].FField)!==-1&&(this.FItems[n].FOptions=rtl.unionSet(this.FItems[n].FOptions,rtl.createSet(0)))}t.Clear(),this.FDataset.GetFieldList$1(t,e.FDescFields);for(s=0,i=rtl.length(this.FItems)-1;s<=i;s++)n=s,this.FItems[n].FDesc=2 in e.FOptions||t.IndexOf(this.FItems[n].FField)!==-1}finally{t=rtl.freeLoc(t)}},this.Create$1=function(e,t,n,s){return this.FDataset=e,rtl.isArray(n)?this.FValues=n:(this.FValues=rtl.arraySetLength(this.FValues,void 0,1),this.FValues[0]=n),this.FOptions=rtl.refSet(s),this.ConstructItems(t),this},this.Create$2=function(e,t){return this.FDataset=e,this.FIndexBased=!0,3 in t.FOptions&&(this.FOptions=rtl.createSet(0)),this.ConstructItems(t.FFields),this.updateFromIndex(t),this},this.Destroy=function(){e=0;for(var e,n=0,s=rtl.length(this.FItems)-1;n<=s;n++)e=n,rtl.free(this.FItems,e);t.Destroy.call(this)}}),rtl.createClass(this,"TJSONIndex",t,function(){l=this,this.$init=function(){t.$init.call(this),this.FList=null,this.FRows=null,this.FDataset=null},this.$final=function(){this.FList=void 0,this.FRows=void 0,this.FDataset=void 0,t.$final.call(this)},this.GetRecordIndex=function(e){var t=0;return M(this.FList[e])?t=-1:t=rtl.trunc(this.FList[e]),t},this.GetCount=function(){var e=0,e=this.FList.length;return e},this.ClearIndex=function(){this.FList.length=0},this.Create$1=function(e,t){return this.FRows=t,this.FList=new Array(this.FRows.length),this.FDataset=e,this.CreateIndex(),this},this.Insert=function(e,t){var n=0,n=this.Append(t);return n}}),rtl.createClass(this,"TDefaultJSONIndex",l,function(){R=this,this.CreateIndex=function(){e=0;for(var e,t=0,n=this.FRows.length-1;t<=n;t++)e=t,this.FList[e]=e},this.AppendToIndex=function(){e=0,t=0,t=this.FList.length,this.FList.length=this.FRows.length;for(var e,t,n=t,s=this.FRows.length-1;n<=s;n++)e=n,this.FList[e]=e},this.Append=function(e){var t=0,t=this.FList.push(e)-1;return t},this.Insert=function(e,t){var n=0;return this.FList.splice(e,0,t),n=e,n},this.FindRecord=function(e){var t=0,t=this.FList.indexOf(e);return t},this.Update=function(e){var t=0,t=e;return t}}),rtl.createClass(this,"TSortedJSONIndex",l,function(){z=this,this.$init=function(){l.$init.call(this),this.FComparer=null,this.FUnique=!1},this.$final=function(){this.FComparer=void 0,l.$final.call(this)},this.FindPos=function(e){var o=0,t=0,s=0,n=0,i=0;if(this.FComparer==null)return o;for(t=0,s=this.GetCount()-1;t<=s;)n=t+rtl.trunc((s-t)/2),i=this.FComparer.CompareRows(e,rtl.trunc(this.FList[n])),i>0?t=n+1:(s=n-1,i===0&&this.FUnique&&(t=n));return o=t,o},this.MergeSort=function(e){var o=null,u=null,i=0,t=0,n=0,r=0,l=0,a=0,d=0,s=0,c=0;if(e===null)return null;if(i=e.length,o=new Array(i),i===0)return o;a=1;do{for(t=0,l=0,d=0;t<i;){for(d+=1,s=i-t,a<s&&(s=a),n=t+s,c=a;s>0||c>0&&n<i;)s===0?(r=n,n+=1,c-=1):c===0||n>=i?(r=t,t+=1,s-=1):this.FComparer.CompareRows(rtl.trunc(e[t]),rtl.trunc(e[n]))<=0?(r=t,t+=1,s-=1):(r=n,n+=1,c-=1),o[l]=e[r],l+=1;t=n}if(d<=1)return o;a=a*2,u=o,o=e,e=u}while(!!1)return o},this.Destroy=function(){n({p:this,get:function(){return this.p.FComparer},set:function(e){this.p.FComparer=e}}),t.Destroy.call(this)},this.CreateComparer=function(e){n({p:this,get:function(){return this.p.FComparer},set:function(e){this.p.FComparer=e}}),this.FComparer=m.$create("Create$2",[this.FDataset,e])},this.CreateIndex=function(){var t=null,e=0;if(this.FComparer===null)return;for(e=this.FRows.length-1,t=new Array(e+1);e>=0;)t[e]=e,e-=1;this.FList=this.MergeSort(t)},this.AppendToIndex=function(){this.CreateIndex()},this.Append=function(e){var t=0,t=this.FindPos(e);return this.FList.splice(t,0,e),t},this.FindRecord=function(e){var t=0,t=this.FList.indexOf(e);return t},this.Update=function(e){var t=0,n=0,n=this.FindRecord(e),t=this.FindPos(e);return t!==n&&this.FList.splice(t,0,this.FList.splice(n,1)[0]),t}}),rtl.createClass(this,"TJSONIndexDef",v,function(){d=this,this.$init=function(){v.$init.call(this),this.FIndex=null},this.$final=function(){this.FIndex=void 0,v.$final.call(this)},this.ClearIndex=function(){n({p:this,get:function(){return this.p.FIndex},set:function(e){this.p.FIndex=e}})},this.BuildIndex=function(e){this.FIndex===null?this.FIndex=z.$create("Create$1",[e,e.FRows]):this.FIndex.ClearIndex(),this.FIndex.CreateComparer(this),this.FIndex.CreateIndex()}}),rtl.createClass(this,"TJSONIndexDefs",U,function(){w=this,this.GetD=function(e){var t=null,t=rtl.as(this.GetItem$1(e),d);return t}}),rtl.createClass(this,"TBaseJSONDataSet",s,function(){ne=this,this.$init=function(){s.$init.call(this),this.FActiveIndex="",this.FIndexes=null,this.FMUS=!1,this.FOwnsData=!1,this.FDefaultIndex=null,this.FCurrentIndex=null,this.FCurrent=0,this.FMetaData=null,this.FRows=null,this.FDeletedRows=null,this.FFieldMapper=null,this.FEditIdx=0,this.FEditRow=void 0,this.FFilterRow=void 0,this.FUseDateTimeFormatFields=!1,this.FRowType=0,this.FFilterExpression=null},this.$final=function(){this.FIndexes=void 0,this.FDefaultIndex=void 0,this.FCurrentIndex=void 0,this.FMetaData=void 0,this.FRows=void 0,this.FDeletedRows=void 0,this.FFieldMapper=void 0,this.FFilterExpression=void 0,s.$final.call(this)},this.GetFilterField=function(e){var s,t=F.$new(),n=null,o=0,n=this.FieldByName(e);return t.ResultType=this.FieldTypeToExpressionType(n.FDataType),s=t.ResultType,s===0?t.resValue=n.GetAsBoolean():s===1?t.resValue=n.GetAsLargeInt():s===2?t.resValue=n.GetAsFloat():s===3?t.resValue=n.GetAsDateTime():s===4?t.resValue=n.GetAsString():s===5&&(o=n.GetAsFloat()*1e4,t.resValue=o/1e4),t},this.SetActiveIndex=function(e){if(this.FActiveIndex===e)return;if(this.FActiveIndex=e,0 in this.FComponentState)return;this.ActivateIndex(this.GetActive())},this.SetIndexes=function(e){if(this.FIndexes===e)return;this.FIndexes.Assign(e),this.GetActive()&&this.BuildIndexes()},this.SetMetaData=function(e){this.CheckInactive(),this.FMetaData=e},this.SetRows=function(e){if(e===this.FRows)return;this.CheckInactive(),this.FRows=null,this.AddToRows(e)},this.RemoveCalcFields=function(e){t=0;for(var t,n=0,s=this.FFieldList.GetCount()-1;n<=s;n++)t=n,this.FFieldList.GetField(t).FFieldKind in rtl.createSet(1,3,2)&&this.FFieldMapper.RemoveField(this.FFieldList.GetField(t).FFieldName,this.FFieldList.GetField(t).GetIndex(),e)},this.ActivateIndex=function(e){var t=null;this.FActiveIndex!==""?t=rtl.as(this.FIndexes.Find$1(this.FActiveIndex),d):t=null,t===null?this.FCurrentIndex=this.FDefaultIndex:(t.FIndex===null&&e&&t.BuildIndex(this),this.FCurrentIndex=t.FIndex),this.GetActive()&&this.Resync(rtl.createSet(1))},this.FieldTypeToExpressionType=function(t){var s=0,n=t;return n===11||n===12||n===1?s=4:n===2||n===9||n===3?s=1:n===4?s=0:n===5?s=2:n===6||n===7||n===8?s=3:G("Fields of type %s are not supported in filter expressions.",u(18,e.Fieldtypenames[t]),this),s},this.GetFilterIsNull=function(e){var t=F.$new();return t.ResultType=0,t.resValue=this.FieldByName(""+e[0].resValue).GetIsNull(),t},this.FilterExpressionClass=function(){var e=null,e=V;return e},this.CreateFilterExpression=function(){e=null,t=0,e=this.FilterExpressionClass().$create("Create$1",[this]);for(var e,t,n=0,s=this.FFieldList.GetCount()-1;n<=s;n++)t=n,e.FIdentifiers.AddVariable(this.FFieldList.GetField(t).FFieldName,this.FieldTypeToExpressionType(this.FFieldList.GetField(t).FDataType),rtl.createCallback(this,"GetFilterField"));return e.FIdentifiers.AddFunction("IsNull","B","S",rtl.createCallback(this,"GetFilterIsNull")),e.SetExpression(this.FFilterText),e},this.DoFilterRecord=function(){var e=!1,t=0,e=!0,t=this.SetTempState(6);try{if(this.FOnFilterRecord!=null&&(this.FOnFilterRecord(this,{get:function(){return e},set:function(t){e=t}}),!e))return e;if(!this.FFiltered||this.FFilterText==="")return e;this.FFilterExpression===null&&(this.FFilterExpression=this.CreateFilterExpression()),e=this.FFilterExpression.GetAsBoolean()}finally{this.RestoreState(t)}return e},this.CreateIndexDefs=function(){var e=null,e=w.$create("create$3",[this,this,d]);return e},this.RecordComparerClass=function(){var e=null,e=m;return e},this.LocateRecordIndex=function(e,t,n){var i=0,a=null,s=0,o=0,i=-1,a=this.RecordComparerClass().$create("Create$1",[this,e,t,rtl.refSet(n)]);try{for((2 in n)?o=this.FCurrent:o=0,s=this.FCurrentIndex.GetRecordIndex(o);i===-1&&s!==-1;)a.Compare(s)===0&&(i=s),o+=1,s=this.FCurrentIndex.GetRecordIndex(o)}finally{a=rtl.freeLoc(a)}return i},this.AllocRecordBuffer=function(){var e=j.$new();return e.data=new Object,e.bookmark=null,e.state=0,e},this.FreeRecordBuffer=function(e){e.data=null,e.bookmark=null,e.state=0},this.InternalInitRecord=function(e){e.data=this.FFieldMapper.CreateRow(),e.bookmark=null,e.state=0},this.GetRecord=function(e,t){var i,s=0,a=0,o=!1,s=0;do o=!0,i=t,i===1?this.FCurrent<this.FCurrentIndex.GetCount()-1?this.FCurrent+=1:s=2:i===2?this.FCurrent>0?this.FCurrent-=1:s=1:i===0&&(this.FCurrent<0||this.FCurrent>=this.FCurrentIndex.GetCount())&&(s=2),s===0&&(a=this.FCurrentIndex.GetRecordIndex(this.FCurrent),e.data=this.FRows[a],e.bookmarkFlag=0,e.bookmark=a,this.GetCalcFields(e),this.FFiltered&&(this.FFilterRow=e.data,o=this.DoFilterRecord(),!o&&t===0&&(o=!0,s=2)));while(!o)return s},this.AddToRows=function(e){this.FRows===null?this.FRows=e:(this.FRows=this.FRows.concat(e),this.AppendToIndexes())},this.InternalClose=function(){this.BindFields(!1),this.FDefaultFields&&this.DestroyFields(),this.FreeData()},this.InternalFirst=function(){this.FCurrent=-1},this.InternalLast=function(){this.FCurrent=this.FCurrentIndex.GetCount()},this.InternalOpen=function(){n({p:this,get:function(){return this.p.FFieldMapper},set:function(e){this.p.FFieldMapper=e}}),this.FFieldMapper=this.CreateFieldMapper(),this.FRows===null&&(this.FRows=new Array,this.FOwnsData=!0),this.CreateIndexes(),this.InternalInitFieldDefs(),this.FDefaultFields&&this.CreateFields(),this.BindFields(!0),this.InitDateTimeFields(),this.FActiveIndex!==""&&this.ActivateIndex(!0),this.FCurrent=-1},this.InternalPost=function(){if(e=0,n=0,s=0,t=0,r=Z.$new(),s=-1,this.GetBookmarkData(j.$clone(this.ActiveBuffer()),r),this.FState===3)if(t=this.FRows.push(this.FEditRow)-1,this.GetBookmarkFlag(j.$clone(this.ActiveBuffer()))===2){this.FDefaultIndex.Append(t);for(var e,t,n,s,o,i,r,c,l,a=0,d=this.FIndexes.GetCount()-1;a<=d;a++)e=a,this.FIndexes.GetD(e).FIndex!=null&&(n=this.FIndexes.GetD(e).FIndex.Append(t),this.FIndexes.GetD(e).FIndex===this.FCurrentIndex&&(s=n))}else{this.FCurrent=this.FDefaultIndex.Insert(this.FCurrent,t);for(o=0,c=this.FIndexes.GetCount()-1;o<=c;o++)e=o,this.FIndexes.GetD(e).FIndex!=null&&(n=this.FIndexes.GetD(e).FIndex.Append(t),this.FIndexes.GetD(e).FIndex===this.FCurrentIndex&&(s=n))}else{this.FEditIdx===-1&&J("Failed to retrieve record index for record %d",u(0,this.FCurrent)),t=this.FEditIdx,this.FRows[t]=this.FEditRow,this.FDefaultIndex.Update(t);for(i=0,l=this.FIndexes.GetCount()-1;i<=l;i++)e=i,n=this.FCurrentIndex.Update(t),this.FIndexes.GetD(e).FIndex!=null&&this.FIndexes.GetD(e).FIndex===this.FCurrentIndex&&(s=n)}s!==-1&&(this.FCurrent=s),this.FEditIdx=-1,this.FEditRow=null},this.InternalCancel=function(){this.FEditIdx=-1,this.FEditRow=null},this.InternalInitFieldDefs=function(){if(this.FMetaData!=null&&this.MetaDataToFieldDefs(),this.FFieldDefs.GetCount()===0)throw I.$create("Create$1",["No fields found"])},this.InternalSetToRecord=function(e){this.FCurrent=this.FCurrentIndex.FindRecord(rtl.trunc(e.bookmark))},this.SetFilterText=function(e){s.SetFilterText.call(this,e),n({p:this,get:function(){return this.p.FFilterExpression},set:function(e){this.p.FFilterExpression=e}}),this.GetActive()&&this.Resync(rtl.createSet(1))},this.SetFiltered=function(e){s.SetFiltered.call(this,e),n({p:this,get:function(){return this.p.FFilterExpression},set:function(e){this.p.FFilterExpression=e}}),this.GetActive()&&this.Resync(rtl.createSet(1))},this.GetFieldClass=function(e){var n,t=null;return this.FUseDateTimeFormatFields&&e in rtl.createSet(6,8,7)?(n=e,n===6?t=c:n===8?t=a:n===7&&(t=i)):t=s.GetFieldClass.call(this,e),t},this.GetApplyUpdateData=function(e){var t=void 0,t=this.FFieldMapper.CopyRow(e.data);return this.RemoveCalcFields(t),t},this.IsCursorOpen=function(){var e=!1,e=this.FDefaultIndex!=null;return e},this.GetBookmarkData=function(e,t){t.Data=e.bookmark},this.GetBookmarkFlag=function(e){var t=0,t=e.bookmarkFlag;return t},this.BuildIndexes=function(){e=0;for(var e,t=0,n=this.FIndexes.GetCount()-1;t<=n;t++)e=t,this.FIndexes.GetD(e).BuildIndex(this)},this.FreeData=function(){e=0,this.FOwnsData&&(this.FRows=null,this.FMetaData=null);for(var e,t=0,s=this.FIndexes.GetCount()-1;t<=s;t++)e=t,this.FIndexes.GetD(e).ClearIndex();this.FCurrentIndex=null,n({p:this,get:function(){return this.p.FDefaultIndex},set:function(e){this.p.FDefaultIndex=e}}),n({p:this,get:function(){return this.p.FFieldMapper},set:function(e){this.p.FFieldMapper=e}}),this.FCurrentIndex=null,this.FDeletedRows=null},this.AppendToIndexes=function(){this.FDefaultIndex.AppendToIndex(),this.FCurrentIndex!=null&&this.FCurrentIndex!==this.FDefaultIndex&&this.FCurrentIndex.AppendToIndex()},this.CreateIndexes=function(){this.FDefaultIndex=R.$create("Create$1",[this,this.FRows]),this.AppendToIndexes(),this.FCurrentIndex===null&&(this.FCurrentIndex=this.FDefaultIndex)},this.InitDateTimeFields=function(){},this.ConvertDateTimeField=function(e,t){var s=0,n="",s=0,n="",o=t.FDataType;return o===6?c.isPrototypeOf(t)&&(n=rtl.as(t,c).FDateFormat):o===7?i.isPrototypeOf(t)&&(n=rtl.as(t,i).FTimeFormat):o===8&&a.isPrototypeOf(t)&&(n=rtl.as(t,a).FDateTimeFormat),n===""?s=this.$class.DefaultConvertToDateTime(t,e,!0):s=S(n,e,1),s},this.FormatDateTimeField=function(e,t){var s="",n="",s="",n="",o=t.FDataType;return o===6?c.isPrototypeOf(t)&&(n=t.FDateFormat):o===7?i.isPrototypeOf(t)&&(n=t.FTimeFormat):o===8&&a.isPrototypeOf(t)&&(n=t.FDateTimeFormat),n===""?s=C(e):s=se(n,e),s},this.CreateFieldMapper=function(){var e=null;return this.FRowType===1?e=O.$create("Create"):e=x.$create("Create"),e},this.Create$1=function(){return s.Create$1.apply(this,arguments),this.FOwnsData=!0,this.FUseDateTimeFormatFields=!1,this.FEditIdx=-1,this.FIndexes=this.CreateIndexDefs(),this},this.Destroy=function(){this.Close(),n({p:this,get:function(){return this.p.FFilterExpression},set:function(e){this.p.FFilterExpression=e}}),n({p:this,get:function(){return this.p.FIndexes},set:function(e){this.p.FIndexes=e}}),this.FEditIdx=-1,s.Destroy.call(this)},this.ConvertDateTimeToNative=function(e,t){var n=void 0;return isNaN(t)?n=null:n=this.FormatDateTimeField(t,e),n},this.Lookup=function(e,t,n){i=void 0,c=0,r=0,o=null,a=[],i=null,o=p.$create("Create");try{if(this.GetFieldList$1(o,n),i=s.Lookup.call(this,e,t,n),c=this.LocateRecordIndex(e,t,{}),c!==-1){a=rtl.arraySetLength(a,void 0,o.FCount);for(var o,i,a,r,c,l=0,d=o.FCount-1;l<=d;l++)r=l,a[r]=this.FFieldMapper.GetJSONDataForField$1(rtl.getObject(o.Get(r)),this.FRows[c]);o.FCount===1?i=a[r]:i=a}}finally{o=rtl.freeLoc(o)}return i},this.GetFieldData$1=function(e,t){var s=void 0,n=void 0;if(this.FState in rtl.createSet(5,11))n=this.FCalcBuffer.data;else if(this.FState===6)n=this.FFilterRow;else if(this.FEditIdx==t.bookmark)this.FState===8?n=t.data:n=this.FEditRow;else{if(this.FState===8)return null;n=t.data}return s=this.FFieldMapper.GetJSONDataForField$1(e,n),M(s)&&(s=null),s},this.SetFieldData$1=function(e,t,n){var s=void 0;this.FState in rtl.createSet(5,11)?s=this.FCalcBuffer.data:s=this.FEditRow,this.FFieldMapper.SetJSONDataForField$1(e,s,n),this.FState in rtl.createSet(5,11,6,7)||this.DataEvent(0,e),this.SetModified(!0)},this.CompareBookmarks=function(e,t){var n=0;return rtl.isNumber(e.Data)&&rtl.isNumber(t.Data)?n=rtl.trunc(t.Data)-rtl.trunc(e.Data):rtl.isNumber(e.Data)?n=-1:rtl.isNumber(t.Data)?n=1:n=0,n}}),rtl.createClass(this,"TJSONObjectFieldMapper",f,function(){x=this,this.RemoveField=function(e,t,n){ee(n,e)},this.SetJSONDataForField=function(e,t,n,s){n[e]=s},this.GetJSONDataForField=function(e,t,n){var s=void 0,s=n[e];return s},this.CreateRow=function(){var e=void 0,e=new Object;return e}}),rtl.createClass(this,"TJSONArrayFieldMapper",f,function(){O=this,this.RemoveField=function(e,t,n){n.splice(t,1)},this.SetJSONDataForField=function(e,t,n,s){n[t]=s},this.GetJSONDataForField=function(e,t,n){var s=void 0,s=n[t];return s},this.CreateRow=function(){var e=void 0,e=new Array;return e}}),rtl.createClass(this,"EJSONDataset",h,function(){I=this}),A.$implcode=function(){y=pas.DateUtils,S=y.ScanDateTime,C=y.DateTimeToRFC3339}},["DateUtils"]),rtl.module("ExtJSDataset",["System","Classes","SysUtils","DB","JS","JSONDataset"],function(){"use strict";var y=this,b=null,s=pas.JSONDataset,o=s.TBaseJSONDataSet,a=pas.SysUtils,u=a.SameText,r=pas.JS,l=r.isNull,e=pas.DB,m=e.DatabaseError,t=a.StringReplace,h=a.LowerCase,n=s.EJSONDataset,d=pas.System,i=d.VarRecs,f=r.isUndefined,p=s.TJSONDateField,g=s.TJSONTimeField,v=s.TJSONDateTimeField,c=r.toNumber,j=d.Trunc;rtl.createClass(this,"TExtJSJSONDataSet",o,function(){b=this,this.$init=function(){o.$init.call(this),this.FFields=null,this.FIDField="",this.FRoot=""},this.$final=function(){this.FFields=void 0,o.$final.call(this)},this.InternalOpen=function(){e=0,o.InternalOpen.call(this);for(var e,t=0,n=this.FFieldList.GetCount()-1;t<=n;t++)e=t,u(this.FFieldList.GetField(e).FFieldName,this.FIDField)&&(this.FFieldList.GetField(e).FProviderFlags=rtl.unionSet(this.FFieldList.GetField(e).FProviderFlags,rtl.createSet(2)))},this.DataPacketReceived=function(e){var n=!1,t=null,s=null,n=!1;return l(e.FData)?n:(rtl.isString(e.FData)?t=JSON.parse(""+e.FData):rtl.isObject(e.FData)?t=e.FData:m("Cannot handle data packet"),this.FRoot===""&&(this.FRoot="rows"),this.FIDField===""&&(this.FIDField="id"),t.hasOwnProperty("metaData")&&rtl.isObject(t.metaData)&&(this.GetActive()||this.SetMetaData(t.metaData),this.FMetaData.hasOwnProperty("root")&&rtl.isString(this.FMetaData.root)&&(this.FRoot=""+this.FMetaData.root),this.FMetaData.hasOwnProperty("idField")&&rtl.isString(this.FMetaData.idField)&&(this.FIDField=""+this.FMetaData.idField)),t.hasOwnProperty(this.FRoot)&&rtl.isArray(t[this.FRoot])&&(s=t[this.FRoot],n=s.length>0,this.AddToRows(s)),n)},this.ConvertDateFormat=function(e){var n="",n=t(e,"y","yy",rtl.createSet(0)),n=t(n,"Y","yyyy",rtl.createSet(0)),n=t(n,"g","h",rtl.createSet(0)),n=t(n,"G","hh",rtl.createSet(0)),n=t(n,"F","mmmm",rtl.createSet(0)),n=t(n,"M","mmm",rtl.createSet(0)),n=t(n,"n","m",rtl.createSet(0)),n=t(n,"D","ddd",rtl.createSet(0)),n=t(n,"j","d",rtl.createSet(0)),n=t(n,"l","dddd",rtl.createSet(0)),n=t(n,"i","nn",rtl.createSet(0)),n=t(n,"u","zzz",rtl.createSet(0)),n=t(n,"a","am/pm",rtl.createSet(0,1)),n=h(n);return n},this.MetaDataToFieldDefs=function(){if(s=null,o=null,t=0,r=0,c="",a=0,e=void 0,this.FFieldDefs.Clear(),e=this.FMetaData.fields,!rtl.isArray(e))throw n.$create("Create$1",["Invalid metadata object"]);s=e;for(var e,t,s,o,a,r,c,d=0,u=s.length-1;d<=u;d++){if(t=d,!rtl.isObject(s[t]))throw n.$create("CreateFmt",["Field definition %d in metadata is not an object",i(0,t)]);if(o=s[t],e=o.name,!rtl.isString(e))throw n.$create("CreateFmt",["Field definition %d in has no or invalid name property",i(0,t)]);if(c=""+e,e=o.type,l(e)||f(e))a=1;else if(rtl.isString(e))a=this.StringToFieldType(""+e);else throw n.$create("CreateFmt",["Field definition %d in has invalid type property",i(0,t)]);a===1?r=this.GetStringFieldLength(o,c,t):r=0,this.FFieldDefs.Add$4(c,a,r)}this.FFields=s},this.InitDateTimeFields=function(){if(n=null,e=null,o=0,s="",t=void 0,this.FFields===null)return;for(var e,t,n,s,o,i=0,a=this.FFields.length-1;i<=a;i++)o=i,n=this.FFields[o],t=n.type,rtl.isString(t)&&""+t==="date"&&(t=n.dateFormat,rtl.isString(t)&&(s=this.ConvertDateFormat(""+t),e=this.FindField(""+n.name),e!==null&&e.FDataType in rtl.createSet(6,7,8)&&e.FFieldKind===0&&(p.isPrototypeOf(e)?e.FDateFormat=s:g.isPrototypeOf(e)?e.FTimeFormat=s:v.isPrototypeOf(e)&&(e.FDateTimeFormat=s))))},this.StringToFieldType=function(e){var t=0;if(e==="int")t=3;else if(e==="float")t=5;else if(e==="boolean")t=4;else if(e==="date")t=8;else if(e==="string"||e==="auto"||e==="")t=1;else if(this.FMUS)t=1;else throw n.$create("CreateFmt",["Unknown JSON data type : %s",i(18,e)]);return t},this.GetStringFieldLength=function(e,t,s){if(o=0,l=0,r=0,a=void 0,o=0,a=e.maxlen,isNaN(c(a)))for(var o,a,r,l,d=0,u=this.FRows.length-1;d<=u;d++)l=d,a=this.FFieldMapper.GetJSONDataForField(t,s,this.FRows[l]),rtl.isString(a)&&(r=(""+a).length,r>o&&(o=r));else if(o=j(c(a)),o<=0)throw n.$create("CreateFmt",["Invalid maximum length specifier for field %s",i(18,t)]);return o===0&&(o=20),o},this.Create$1=function(e){return o.Create$1.call(this,e),this.FUseDateTimeFormatFields=!0,this};var a=this.$rtti;a.addProperty("FieldDefs",2,e.$rtti.TFieldDefs,"FFieldDefs","SetFieldDefs"),a.addProperty("Indexes",2,s.$rtti.TJSONIndexDefs,"FIndexes","SetIndexes"),a.addProperty("ActiveIndex",2,rtl.string,"FActiveIndex","SetActiveIndex"),a.addProperty("Active",3,rtl.boolean,"GetActive","SetActive",{Default:!1}),a.addProperty("BeforeOpen",0,e.$rtti.TDataSetNotifyEvent,"FBeforeOpen","FBeforeOpen"),a.addProperty("AfterOpen",0,e.$rtti.TDataSetNotifyEvent,"FAfterOpen","FAfterOpen"),a.addProperty("BeforeClose",0,e.$rtti.TDataSetNotifyEvent,"FBeforeClose","FBeforeClose"),a.addProperty("AfterClose",0,e.$rtti.TDataSetNotifyEvent,"FAfterClose","FAfterClose"),a.addProperty("BeforeInsert",0,e.$rtti.TDataSetNotifyEvent,"FBeforeInsert","FBeforeInsert"),a.addProperty("AfterInsert",0,e.$rtti.TDataSetNotifyEvent,"FAfterInsert","FAfterInsert"),a.addProperty("BeforeEdit",0,e.$rtti.TDataSetNotifyEvent,"FBeforeEdit","FBeforeEdit"),a.addProperty("AfterEdit",0,e.$rtti.TDataSetNotifyEvent,"FAfterEdit","FAfterEdit"),a.addProperty("BeforePost",0,e.$rtti.TDataSetNotifyEvent,"FBeforePost","FBeforePost"),a.addProperty("AfterPost",0,e.$rtti.TDataSetNotifyEvent,"FAfterPost","FAfterPost"),a.addProperty("BeforeCancel",0,e.$rtti.TDataSetNotifyEvent,"FBeforeCancel","FBeforeCancel"),a.addProperty("AfterCancel",0,e.$rtti.TDataSetNotifyEvent,"FAfterCancel","FAfterCancel"),a.addProperty("BeforeDelete",0,e.$rtti.TDataSetNotifyEvent,"FBeforeDelete","FBeforeDelete"),a.addProperty("AfterDelete",0,e.$rtti.TDataSetNotifyEvent,"FAfterDelete","FAfterDelete"),a.addProperty("BeforeScroll",0,e.$rtti.TDataSetNotifyEvent,"FBeforeScroll","FBeforeScroll"),a.addProperty("AfterScroll",0,e.$rtti.TDataSetNotifyEvent,"FAfterScroll","FAfterScroll"),a.addProperty("OnCalcFields",0,e.$rtti.TDataSetNotifyEvent,"FOnCalcFields","FOnCalcFields"),a.addProperty("OnDeleteError",0,e.$rtti.TDataSetErrorEvent,"FOnDeleteError","FOnDeleteError"),a.addProperty("OnEditError",0,e.$rtti.TDataSetErrorEvent,"FOnEditError","FOnEditError"),a.addProperty("OnFilterRecord",2,e.$rtti.TFilterRecordEvent,"FOnFilterRecord","SetOnFilterRecord"),a.addProperty("OnNewRecord",0,e.$rtti.TDataSetNotifyEvent,"FOnNewRecord","FOnNewRecord"),a.addProperty("OnPostError",0,e.$rtti.TDataSetErrorEvent,"FOnPostError","FOnPostError"),a.addProperty("OwnsData",0,rtl.boolean,"FOwnsData","FOwnsData")})}),rtl.module("ajaxlib",["System","Classes","SysUtils","Web","Types","JS"],function(){"use strict";var o=this,n=null,t=pas.Classes,e=t.TComponent,s=t.TStringList;rtl.createClass(this,"TWebRequest",e,function(){n=this,this.$init=function(){e.$init.call(this),this.FMethod="",this.FURI="",this.FCallback=null,this.FRequest=null,this.FHeaders=null},this.$final=function(){this.FCallback=void 0,this.FRequest=void 0,this.FHeaders=void 0,e.$final.call(this)},this.GetComplete=function(){var e=!1;return this.FRequest.readyState===4?e=!0:e=!1,e},this.GetResponseText=function(){var e="",e=this.FRequest.responseText;return e},this.GetStatus=function(){var e=0,e=this.FRequest.status;return e},this.SetCallback=function(e){if(rtl.eqCallback(this.FCallback,e))return;this.FCallback=e,this.FRequest.onreadystatechange=e},this.ProcessHeaders=function(){e=0;for(var e,t=0,n=this.FHeaders.GetCount()-1;t<=n;t++)e=t,this.FRequest.setRequestHeader(this.FHeaders.GetName(e),this.FHeaders.GetValueFromIndex(e))},this.Create$2=function(e,t,n){return this.FRequest=new XMLHttpRequest,this.FHeaders=s.$create("Create$1"),this.FMethod=t,this.FURI=n,this},this.DoRequest=function(){this.DoRequest$1("")},this.DoRequest$1=function(e){var t="";if(this.FMethod==="get"?t=this.FURI+"?"+e:t=this.FURI,this.FRequest.open(this.FMethod,t,!0),this.ProcessHeaders(),this.FMethod==="post"&&(this.FRequest.setRequestHeader("content-type","application/x-www-form-urlencoded"),e!=="")){this.FRequest.send(e),this.FHeaders.Clear();return}this.FRequest.send(),this.FHeaders.Clear()}})}),rtl.module("jsontable",["System","Classes","SysUtils","p2jsres","Web","ExtJSDataset","JS","ajaxlib"],function(){"use strict";var p=this,t=null,n=null,s=null,i=null,c=pas.SysUtils,a=c.Exception,r=pas.Classes,e=r.TComponent,o=pas.p2jsres,l=o.TResourceInfo,d=o.GetResourceInfo$1,u=pas.ajaxlib,h=u.TWebRequest,m=pas.ExtJSDataset,f=m.TExtJSJSONDataSet;rtl.createClass(this,"EJSONTable",a,function(){t=this}),rtl.createClass(this,"EBadDatafile",t,function(){n=this}),rtl.createClass(this,"ENoDataSet",t,function(){s=this}),rtl.createClass(this,"TJSONTable",e,function(){i=this,this.$init=function(){e.$init.call(this),this.FActive=!1,this.FDataSet=null,this.FDatafile="",this.FFilter="",this.FRequest=null,this.FOnSuccess=null,this.FOnFailure=null},this.$final=function(){this.FDataSet=void 0,this.FRequest=void 0,this.FOnSuccess=void 0,this.FOnFailure=void 0,e.$final.call(this)},this.GetDataSet=function(){var e=null;if(!this.FActive)throw s.$create("Create$1",["Dataset not available."]);return e=this.FDataSet,e},this.GetDates=function(e){var t=0,t=this.FDataSet.FieldByName(e).GetAsDateTime();return t},this.GetInts=function(e){var t=0,t=this.IntField(e);return t},this.GetStrings=function(e){var t="",t=this.StringField(e);return t},this.SetActive=function(e){if(this.FActive===e)return;if(e&&this.FDatafile==="")throw n.$create("Create$1",["Datafile is not set."]);e?this.OpenTable():this.CloseTable()},this.SetDatafile=function(e){if(this.FDatafile===e)return;if(this.FActive)throw n.$create("Create$1",["Datafile cannot be set while active."]);this.FDatafile=e},this.ParseJSON=function(){if(!this.FRequest.GetComplete())return;this.FRequest.GetStatus()!==200?this.FOnFailure!=null&&this.FOnFailure():(this.ParseTable(this.FRequest.GetResponseText()),this.FOnSuccess!=null&&this.FOnSuccess())},this.OpenTable=function(){var e=l.$new();d(0,this.FDatafile,e)?this.ParseTable(window.atob(e.data)):(this.FRequest=h.$create("Create$2",[this,"get",this.FDatafile+".json"]),this.FRequest.SetCallback(rtl.createSafeCallback(this,"ParseJSON")),this.FRequest.DoRequest())},this.CloseTable=function(){this.FDataSet.Close()},this.SetFilter=function(e){if(this.FFilter===e)return;if(!this.FActive)throw s.$create("Create$1",["Dataset is not active."]);e===""?this.FDataSet.SetFiltered(!1):(this.FDataSet.SetFilterText(e),this.FDataSet.SetFiltered(!0),this.FDataSet.First()),this.FFilter=e},this.StringField=function(e){var t="",t=this.FDataSet.FieldByName(e).GetAsString();return t},this.IntField=function(e){var t=0,t=this.FDataSet.FieldByName(e).GetAsInteger();return t},this.Create$1=function(t){return e.Create$1.call(this,t),this.FDataSet=f.$create("Create$1",[this]),this.FDatafile="",this},this.Destroy=function(){rtl.free(this,"FDataSet"),e.Destroy.call(this)},this.ParseTable=function(e){var n=null;if(this.FActive)throw t.$create("Create$1",["Cannot parse table with active dataset."]);n=JSON.parse(e),this.FDataSet.SetMetaData(n.metaData),this.FDataSet.SetRows(n.Data),this.FDataSet.Open(),this.FActive=!0}})}),rtl.module("models",["System","Classes","SysUtils","browserconsole","jsontable"],function(){"use strict";var s=this,t=null,n=pas.jsontable,e=n.TJSONTable;rtl.createClass(this,"TWebsiteDB",e,function(){t=this,this.Create$1=function(t){return e.Create$1.call(this,t),this.SetDatafile("website"),this.SetActive(!0),this}})}),rtl.module("strutils",["System","SysUtils","Types"],function(){"use strict";var e=this,t=e.$impl,n=pas.System,s=n.upcase,o=n.StringOfChar;this.Soundex=function(e,n){var i="",a="",l="",c=0,r=0,i="",l="\0";if(e.length>0)for(i=s(e.charAt(0)),c=2,r=e.length;c<=r&&i.length<n;)a=t.SScore.charAt(e.charCodeAt(c-1)-1),a.charCodeAt()in rtl.createSet(48,105,l.charCodeAt())||(i=i+a),a!=="i"&&(l=a),c+=1;return r=i.length,r<n&&(i=i+o("0",n-r)),i},this.SoundexSimilar=function(t,n,s){var o=!1,o=e.Soundex(t,s)===e.Soundex(n,s);return o},this.SoundexSimilar$1=function(t,n){var s=!1,s=e.SoundexSimilar(t,n,4);return s},this.SoundexProc=function(t,n){var s=!1,s=e.SoundexSimilar$1(t,n);return s},this.AnsiResemblesProc=null,this.ResemblesProc=null,this.RPosex$1=function(e,t,n){var s=0,s=new String(t).lastIndexOf(e,n-1)+1;return s},this.RPos=function(t,n){var s=0,s=e.RPosex$1(t,n,n.length);return s},e.$implcode=function(){t.SScore="00000000000000000000000000000000000000000000000000000000000000000123012i02245501262301i2i20000000123012i02245501262301i2i20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},e.$init=function(){e.AnsiResemblesProc=e.SoundexProc,e.ResemblesProc=e.SoundexProc}},["JS"]),rtl.module("webrouter",["System","Classes","SysUtils","Web"],function(){"use strict";var n=this,o=n.$impl,u=null,a=null,R=null,N=null,s=null,F=null,_=null,y=null,v=null,k=null,x=null,m=null,r=null,t=null,C=null,b=pas.SysUtils,T=b.Exception,d=pas.Classes,p=pas.System,l=p.TObject,e=p.Copy,c=p.Pos,E=d.TStringList,O=d.TCollectionItem,i=p.Delete,D=b.CompareText,A=null,S=null,z=d.TCollection,f=d.TComponent,j=p.VarRecs,M=b.FreeAndNil,w=null,h=null,L=b.IntToStr,g=null;rtl.createClass(this,"EHTTPRoute",T,function(){u=this}),rtl.recNewT(this,"TScrollPoint",function(){a=this,this.X=0,this.Y=0,this.$eq=function(e){return this.X===e.X&&this.Y===e.Y},this.$assign=function(e){return this.X=e.X,this.Y=e.Y,this}}),this.$rtti.$Class("TRoute"),this.$rtti.$RefToProcVar("TRouteEvent",{procsig:rtl.newTIProcSig([["URl",rtl.string],["aRoute",this.$rtti.TRoute],["Params",d.$rtti.TStrings]])}),R=this.TTransitionResult={0:"trOK",trOK:0,1:"trError",trError:1,2:"trAbort",trAbort:2},N=this.THistoryKind={0:"hkAuto",hkAuto:0,1:"hkAbstract",hkAbstract:1,2:"hkHash",hkHash:2,3:"hkHTML5",hkHTML5:3},rtl.createClass(this,"THistory",l,function(){s=this,this.$init=function(){l.$init.call(this),this.FOnAllow=null,this.FRouter=null,this.FOnChange=null,this.FOnReady=null,this.FOnError=null,this.FCurrent=null,this.FBase=""},this.$final=function(){this.FOnAllow=void 0,this.FRouter=void 0,this.FOnChange=void 0,this.FOnReady=void 0,this.FOnError=void 0,this.FCurrent=void 0,l.$final.call(this)},this.GetCurrent=function(){var e=null,e=this.FCurrent;return e},this.SetupListeners=function(){},this.Create$2=function(e,t){return this.FRouter=e,this.FBase=t,this},this.NormalizeHash=function(t){var n="",n=t;return e(n,1,1)!=="/"&&(n="/"+n),n},this.UpdateRoute=function(e){this.FCurrent=e,this.FOnChange!=null&&this.FOnChange(e)},this.Destroy=function(){l.Destroy.call(this)},this.ExpectScroll=function(){var e=!1,e=this.FRouter!=null&&this.FRouter.FOnScroll!=null;return e},this.SupportsScroll=function(){var e=!1,e=t.supportsPushState()&&this.ExpectScroll();return e},this.getLocation=function(t){var n="",s="",s=window.location.pathname;return t!==""&&c(t,s)===1&&(s=e(s,t.length+1,s.length-t.length)),n=s,n===""&&(n="/"),n=n+window.location.search+window.location.hash,n},this.Push=function(e){var t=0,n=null,n=this.GetCurrent(),t=this.TransitionTo(e);return t===0&&(t=this.doPush(e),t===0&&r.handle(this.FRouter,this.GetCurrent(),n,!1)),t},this.TransitionTo=function(e){var s,o=0,n=null,t=null,n=E.$create("Create$1");try{t=this.FRouter.FindHTTPRoute(e,n),s=this.ConfirmTransition(t,n),s===0?(t=this.FRouter.DoRouteRequest(t,e,n),this.UpdateRoute(t),this.FOnReady!=null&&this.FOnReady(this,e,t)):s===1&&this.FOnError!=null&&this.FOnError(this,e,t)}finally{n=rtl.freeLoc(n)}return o=0,o},this.ConfirmTransition=function(e,t){var s=0,o=null,n=!1,o=this.GetCurrent(),n=!0;return this.FOnAllow!=null&&this.FOnAllow(this,o,e,t,{get:function(){return n},set:function(e){n=e}}),n||(this.ensureURL(!1),s=2),s=0,s}}),rtl.createClass(this,"TAbstractHistory",s,function(){F=this,this.$init=function(){s.$init.call(this),this.FIndex=0,this.FStack=[]},this.$final=function(){this.FStack=void 0,s.$final.call(this)},this.MaybeGrow=function(e){e+1>rtl.length(this.FStack)&&(this.FStack=rtl.arraySetLength(this.FStack,"",e+1))},this.doPush=function(e){var t=0;return this.FIndex+=1,this.MaybeGrow(this.FIndex),this.FStack[this.FIndex]=e,t=0,t},this.Create$2=function(){return s.Create$2.apply(this,arguments),this.FStack=rtl.arraySetLength(this.FStack,"",0),this.FIndex=-1,this},this.GetCurrentLocation=function(){var e="",t=0,n="",t=rtl.length(this.FStack)-1;return t>=0?n=this.FStack[t]:e="/",e=n,e},this.ensureURL=function(e){e}}),rtl.createClass(this,"THashHistory",s,function(){_=this,this.$init=function(){s.$init.call(this),this.FlastHash=""},this.DoHashChange=function(){var e="",t=null,e=this.$class.NormalizeHash(this.$class.getHash());if(e===this.FlastHash)return;t=this.GetCurrent(),this.TransitionTo(e)===0?(r.handle(this.FRouter,this.GetCurrent(),t,!0),this.FlastHash=e):this.$class.replaceHash(this.FlastHash)},this.SetupListeners=function(){this.SupportsScroll()&&r.Setup(),t.supportsPushState()?window.addEventListener("popstate",rtl.createCallback(this,"DoHashChange")):window.addEventListener("hashchange",rtl.createCallback(this,"DoHashChange"))},this.doPush=function(e){var n=0,t="",t=this.$class.NormalizeHash(e);return this.FlastHash=t,this.$class.pushHash(t),n=0,n},this.ensureURL=function(e){var n="",t="",t=this.$class.NormalizeHash(this.FlastHash),n=this.$class.getHash();n!==t&&(e?this.$class.pushHash(t):this.$class.replaceHash(t))},this.GetCurrentLocation=function(){var e="",e=this.$class.getHash();return e},this.pushHash=function(e){t.supportsPushState()?t.PushState(this.getUrl(e),!1):window.location.hash=e},this.replaceHash=function(e){var n="",n=this.getHash();if(n===e)return;t.supportsPushState()?t.ReplaceState(this.getUrl(e)):window.location.replace(this.getUrl(e))},this.getUrl=function(t){var n="",s="",o=0,s=window.location.href,o=c("#",s);return o===0?n=s:n=e(s,1,o-1),n=n+"#"+t,n},this.getHash=function(){var s="",t="",n=0,t=window.location.href,n=c("#",t);return n===0?s="":s=e(t,n+1,t.length-n),s}}),rtl.createClass(this,"THTMLHistory",s,function(){y=this,this.$init=function(){s.$init.call(this),this.FlastLocation=""},this.DoStateChange=function(){var e="",t=null,e=this.$class.getLocation(this.FBase);if(e===this.FlastLocation)return;t=this.GetCurrent(),this.TransitionTo(e)===0?(r.handle(this.FRouter,this.GetCurrent(),t,!0),this.FlastLocation=e):this.$class.replaceState(this.FlastLocation)},this.SetupListeners=function(){window.addEventListener("popstate",rtl.createCallback(this,"DoStateChange"))},this.doPush=function(e){var t=0;return this.$class.pushState(this.getUrl(e),!1),t=0,t},this.ensureURL=function(e){var t="",s="",n="",s=this.GetCurrentLocation(),n=this.FlastLocation;s!==n&&(t=this.getUrl(n),e?this.$class.pushState(t,!1):this.$class.replaceState(t))},this.GetCurrentLocation=function(){var e="",e=window.location;return e},this.pushState=function(e,n){t.PushState(e,n)},this.replaceState=function(e){this.pushState(e,!0)},this.getUrl=function(t){for(var s="",s=n.IncludeHTTPPathDelimiter(this.FBase);t!==""&&e(t,1,1)==="/";)t=e(t,2,t.length-1);return s=this.FBase+t,s}}),rtl.createClass(this,"TRoute",O,function(){v=this,this.$init=function(){O.$init.call(this),this.FDefault=!1,this.FEvent=null,this.FURLPattern=""},this.$final=function(){this.FEvent=void 0,O.$final.call(this)},this.SetURLPattern=function(e){var t="",t=this.$class.NormalizeURLPattern(e);if(this.FURLPattern===t)return;this.FURLPattern=t},this.NormalizeURLPattern=function(e){var s="",t="",t=n.IncludeHTTPPathDelimiter(e);return t!=="/"&&t.charAt(0)==="/"&&i({get:function(){return t},set:function(e){t=e}},1,1),s=t,s},this.Matches=function(e){var t=!1,t=D(this.FURLPattern,this.$class.NormalizeURLPattern(e))===0;return t},this.MatchPattern=function(t,n){var s,o,a,r,d,u,h,m,p,y=this,l=!1;function f(e,t){var n=!1,n=t.length>0&&t.charAt(0)===e;return n}function v(e,t){var s=!1,n=0,n=t.length,s=n>0&&t.charAt(n-1)===e;return s}function j(t,n,s,o){var a=0;n.get()!==o&&(t.set(t.get()+n.get()),f(o,s.get())&&(t.set(t.get()+o),i(s,1,1))),a=c(o,s.get()),a===0&&(a=s.get().length+1),n.set(e(s.get(),1,a-1)),s.set(e(s.get(),a,2147483647))}function b(t,n,s,o){var a=0,r=0;n.get()!==o&&(s.set(n.get()+s.get()),r=t.get().length,v(o,t.get())&&(s.set(o+s.get()),i(t,r,1))),a=S(o,t.get()),n.set(e(t.get(),a+1,2147483647)),t.set(e(t.get(),1,a))}function g(e,t){n!=null&&n.SetValue(e,t)}if(m="",h="",o="",r="",u="",d="",a="",s="",p="",l=!1,this.FURLPattern==="")return l;m=t,h=this.FURLPattern,i({get:function(){return h},set:function(e){h=e}},c("?",h),2147483647),i({get:function(){return m},set:function(e){m=e}},c("?",m),2147483647),f("/",h)&&i({get:function(){return h},set:function(e){h=e}},1,1),f("/",m)&&i({get:function(){return m},set:function(e){m=e}},1,1),o="",u="",s="/",a="/",r=h,d=m;do{if(j({get:function(){return o},set:function(e){o=e}},{get:function(){return s},set:function(e){s=e}},{get:function(){return r},set:function(e){r=e}},"/"),j({get:function(){return u},set:function(e){u=e}},{get:function(){return a},set:function(e){a=e}},{get:function(){return d},set:function(e){d=e}},"/"),f(":",s))g(e(s,2,2147483647),a);else if(f("*",s)){p=e(s,2,2147483647),o=r,u=a+d,s="/",a="/",r="",d="",v("/",o)&&!v("/",u)&&i({get:function(){return o},set:function(e){o=e}},o.length,1);do{if(b({get:function(){return o},set:function(e){o=e}},{get:function(){return s},set:function(e){s=e}},{get:function(){return r},set:function(e){r=e}},"/"),b({get:function(){return u},set:function(e){u=e}},{get:function(){return a},set:function(e){a=e}},{get:function(){return d},set:function(e){d=e}},"/"),f(":",s))g(e(s,2,2147483647),a);else if(!(s===""&&o==="")&&s!==a)return l;if(o===""||u==="")return o===""&&(p!==""&&g(p,u+a),l=!0),l}while(!!1)}else if(s!==a)return l;if(r===""||d==="")return r===""&&d===""?l=!0:r==="/"&&(l=!0),l}while(!!1)return l};var t=this.$rtti;t.addProperty("Default",0,rtl.boolean,"FDefault","FDefault"),t.addProperty("URLPattern",2,rtl.string,"FURLPattern","SetURLPattern"),t.addProperty("Event",0,n.$rtti.TRouteEvent,"FEvent","FEvent")}),rtl.createClass(this,"TRouteList",z,function(){k=this,this.GetR=function(e){var t=null,t=rtl.as(this.GetItem(e),v);return t}}),rtl.recNewT(this,"TScrollParams",function(){x=this,this.selector="",this.$new=function(){var e=Object.create(this);return e.Position=a.$new(),e},this.$eq=function(e){return this.selector===e.selector&&this.Position.$eq(e.Position)},this.$assign=function(e){return this.selector=e.selector,this.Position.$assign(e.Position),this}}),rtl.createClass(this,"TRouter",f,function(){m=this,this.FService=null,this.FServiceClass=null,this.$init=function(){f.$init.call(this),this.FAfterRequest=null,this.FBeforeRequest=null,this.FHistory=null,this.FOnScroll=null,this.FRoutes=null},this.$final=function(){this.FAfterRequest=void 0,this.FBeforeRequest=void 0,this.FHistory=void 0,this.FOnScroll=void 0,this.FRoutes=void 0,f.$final.call(this)},this.GetHistory=function(){var e=null;return this.FHistory===null&&this.InitHistory(0,""),e=this.FHistory,e},this.CreateHTTPRoute=function(e,t,n){var s=null;return this.CheckDuplicate(t,n),s=e.$create("Create$1",[this.FRoutes]),s.SetURLPattern(t),s.FDefault=n,s},this.CreateRouteList=function(){var e=null,e=k.$create("Create$1",[v]);return e},this.CheckDuplicate=function(e,t){s=0,o=0,i=null,o=-1;for(var s,o,i,a=0,r=this.FRoutes.GetCount()-1;a<=r;a++)if(s=a,i=this.FRoutes.GetR(s),i.FDefault&&(o=s),i.Matches(e))throw u.$create("CreateFmt",[rtl.getResStr(n,"EDuplicateRoute"),j(18,e)]);if(t&&o!==-1)throw u.$create("CreateFmt",[rtl.getResStr(n,"EDuplicateDefaultRoute"),j(18,e)])},this.DoRouteRequest=function(e,t,n){var s=null,s=e;if(s!=null)s.HandleRequest(this,t,n);else throw u.$create("CreateFmt",["No route for URL: %s",j(18,t)]);return s},this.DoRouteRequest$1=function(e,t){var s=null,o="",n=null,o=e,n=E.$create("Create$1");try{s=this.GetRoute(o,n),t?this.Push(e):s=this.DoRouteRequest(s,o,n)}finally{n=rtl.freeLoc(n)}return s},this.Create$1=function(e){return f.Create$1.call(this,e),this.FRoutes=this.CreateRouteList(),this},this.Destroy=function(){M({p:this,get:function(){return this.p.FRoutes},set:function(e){this.p.FRoutes=e}}),f.Destroy.call(this)},this.InitHistory=function(e,n){M({p:this,get:function(){return this.p.FHistory},set:function(e){this.p.FHistory=e}});var s=e;s===1?this.FHistory=F.$create("Create$2",[this,n]):s===2?this.FHistory=_.$create("Create$2",[this,n]):s===3?this.FHistory=y.$create("Create$2",[this,n]):s===0&&(t.supportsPushState()?this.FHistory=y.$create("Create$2",[this,n]):this.FHistory=_.$create("Create$2",[this,n])),this.FHistory.SetupListeners()},this.SanitizeRoute=function(e){var t="",t=e;return t},this.Service=function(){var e=null;return this.FService===null&&(m.FService=this.ServiceClass().$create("Create$1",[null])),e=this.FService,e},this.ServiceClass=function(){var e=null;return this.FServiceClass===null&&(m.FServiceClass=m),e=this.FServiceClass,e},this.RegisterRoute=function(e,t,n){var s=null,s=this.CreateHTTPRoute(C,e,n);return s.FEvent=t,s},this.FindHTTPRoute=function(e,t){for(var n=null,s=0,o="",o=this.$class.SanitizeRoute(e),n=null,s=0;n===null&&s<this.FRoutes.GetCount();)n=this.FRoutes.GetR(s),n.MatchPattern(o,t)||(n=null),s+=1;return n},this.GetRoute=function(e,t){var n=null,n=this.FindHTTPRoute(e,t);if(n==null)throw u.$create("Create$1",["Not found"]);return n},this.RouteRequest=function(e,t){var s=null,n="",n=e;return this.FBeforeRequest!=null&&this.FBeforeRequest(this,{get:function(){return n},set:function(e){n=e}}),s=this.DoRouteRequest$1(n,t),this.FAfterRequest!=null&&this.FAfterRequest(this,n),s},this.RouteFromURL=function(){var e="",e=this.GetCurrentLocation();return e!==""&&n.Router().RouteRequest(e,!0),e},this.GetCurrentLocation=function(){var e="",e=this.GetHistory().GetCurrentLocation();return e},this.Push=function(e){var t=0,t=this.GetHistory().Push(e);return t}}),rtl.createClass(this,"TWebScroll",l,function(){r=this,this.scrollToPosition=function(e){var n=null,t=a.$new();e.selector!==""?(n=document.querySelector(e.selector),n!=null?t.$assign(o.getElementPosition(n,a.$clone(e.Position))):t.$assign(e.Position)):t.$assign(e.Position),window.scrollTo(Math.round(t.X),Math.round(t.Y))},this.getScrollPosition=function(){var e=a.$new(),n="",t=void 0,n=this.GetStateKey();return e.X=0,e.Y=0,n!==""&&(t=o.positionStore[n],rtl.isObject(t)&&(e.X=rtl.getNumber(t.x),e.Y=rtl.getNumber(t.y))),e},this.SaveScrollPosition=function(){var e="",e=this.GetStateKey();e!==""&&(o.positionStore[e]=h(["x",window.scrollX,"y",window.scrollY]))},this.Setup=function(){window.history.replaceState(h(["key",this.GetStateKey()]),""),window.addEventListener("popstate",rtl.createSafeCallback(o,"DoScroll"))},this.handle=function(e,t,n){var o=a.$new(),i=x.$new();if(e.FOnScroll==null)return;o.$assign(this.getScrollPosition()),i.$assign(e.FOnScroll(e,t,n,a.$clone(o))),this.scrollToPosition(x.$clone(i))},this.GetStateKey=function(){var e="",e=(new Date).toString();return e}}),rtl.createClass(this,"TBrowserState",l,function(){t=this,this.TheKey="",this.GenKey=function(){var e="",e=L(Date.now());return e},this.supportsPushState=function(){var s=this,e=!1,n="";function t(e){var t=!1,t=c(e,n)!==0;return t}return e=!1,g(window)&&g(window.navigator)&&(n=window.navigator.userAgent,e=!(t("Android 2.")||t("Android 4.0")||t("Mobile Safari")||t("Chrome")||t("Windows Phone"))),e&&(e=g(window.history)&&g(window.history)),e},this.GetStateKey=function(){var e="";return this.TheKey===""&&(t.TheKey=this.GenKey()),e=this.TheKey,e},this.SetStateKey=function(e){t.TheKey=e},this.PushState=function(e,t){var n=null;r.SaveScrollPosition();try{t||this.SetStateKey(this.GenKey()),n=h(["key",this.GetStateKey()]),t?window.history.replaceState(n,"",e):window.history.pushState(n,"",e)}catch{t?window.location.replace(e):window.location.assign(e)}},this.ReplaceState=function(e){this.PushState(e,!0)}}),this.Router=function(){var e=null,e=m.Service();return e},this.IncludeHTTPPathDelimiter=function(t){var n="";return e(t,t.length,1)==="/"?n=t:n=t+"/",n},n.$implcode=function(){A=pas.strutils,S=A.RPos,w=pas.JS,h=w.New,g=w.isDefined,rtl.createClass(o,"TRouteEventHandler",v,function(){C=this,this.HandleRequest=function(e,t,n){this.FEvent!=null&&this.FEvent(t,this,n)}}),o.DoScroll=function(){var t=!1;return r.SaveScrollPosition(),t=!0,t},o.positionStore=null,o.getElementPosition=function(e,t){var n=a.$new(),i=null,s=null,o=null,i=document.documentElement,s=i.getBoundingClientRect(),o=e.getBoundingClientRect();return n.X=o.left-s.left-t.X,n.Y=o.top-s.top-t.Y,n},n.$resourcestrings={EDuplicateRoute:{org:"Duplicate route pattern: %s"},EDuplicateDefaultRoute:{org:"Duplicate default route registered with pattern: %s"}}},n.$init=function(){o.positionStore=h([])}},["strutils","JS"]),rtl.module("program",["System","browserconsole","browserapp","JS","Classes","SysUtils","Web","models","DateUtils","webrouter"],function(){"use strict";var e=this,s=null,r=pas.browserapp,n=r.TBrowserApplication,o=pas.SysUtils,i=o.QuotedStr,a=o.FormatDateTime,c=pas.webrouter,t=c.Router,l=pas.models,d=l.TWebsiteDB;rtl.createClass(this,"TMyHomePage",n,function(){s=this,this.$init=function(){n.$init.call(this),this.FDatabase=null},this.$final=function(){this.FDatabase=void 0,n.$final.call(this)},this.HandleRoute=function(t){var o=0;if(this.FDatabase.SetFilter("Path="+i(t,"'")),this.FDatabase.GetDataSet().FEOF){this.GetHTMLElement("title").innerHTML=e.WEBSITE_TITLE,document.title="Resource not found",this.GetHTMLElement("modified").innerHTML="An error has occured.",this.GetHTMLElement("content").innerHTML="<h1>Resource not found.</h1>";return}this.GetHTMLElement("title").innerHTML=this.FDatabase.GetStrings("Title"),this.FDatabase.GetStrings("Title")!==e.WEBSITE_TITLE&&(document.title=this.FDatabase.GetStrings("Title")+" :: "+e.WEBSITE_TITLE),this.GetHTMLElement("modified").innerHTML=this.GetDateInfo(),o=this.FDatabase.GetInts("ContentType"),this.GetHTMLElement("content").innerHTML=this.RenderContent(o),o>99&&o<200?window.hljs.initHighlighting():o===50?window.eval(this.FDatabase.GetStrings("Content")):o===51&&window.eval("window.brython({pythonpath:['/pyapi']});")},this.GetDateInfo=function(){var t="",n=0,t=a(e.DATE_FORMAT,this.FDatabase.GetDates("Created")),n=this.FDatabase.GetDates("Modified")-this.FDatabase.GetDates("Created");return n>=1&&(t="<b>Created on</b> "+t+"<br/><b>Last Updated on</b> "+a(e.DATE_FORMAT,this.FDatabase.GetDates("Modified"))),t},this.CodeHighlight=function(e,t){var n="",n='<pre><code class="language-'+e+'">'+t+"</code></pre>";return n},this.RenderContent=function(e){var t="",n=e;return n===0?t=this.FDatabase.GetStrings("Content"):n===1?t=window.marked.parse(this.FDatabase.GetStrings("Content")):n===50?t="Loading JavaScript Application, please wait...":n===51?t='<script type="text/python">'+this.FDatabase.GetStrings("Content")+"<\/script>":n===100?t=this.CodeHighlight("pascal",this.FDatabase.GetStrings("Content")):n===101?t=this.CodeHighlight("bash",this.FDatabase.GetStrings("Content")):n===102?t=this.CodeHighlight("python",this.FDatabase.GetStrings("Content")):n===103?t=this.CodeHighlight("ruby",this.FDatabase.GetStrings("Content")):n===104?t=this.CodeHighlight("c",this.FDatabase.GetStrings("Content")):n===105?t=this.CodeHighlight("makefile",this.FDatabase.GetStrings("Content")):n===106?t=this.CodeHighlight("javascript",this.FDatabase.GetStrings("Content")):t="<b>Unknown Content-Type!</b>",t},this.HandleRequest=function(){this.GetContent("/NaR"),t().InitHistory(2,""),t().RegisterRoute("*",rtl.createCallback(this,"HandleRoute"),!1),this.AfterInit(!1)},this.DoRun=function(){this.FDatabase=d.$create("Create$1",[this]),this.HandleRequest()},this.GetContent=function(e){var t="";return this.FDatabase.SetFilter("Path="+i(e,"'")),this.FDatabase.GetDataSet().FEOF?t="":t=this.RenderContent(this.FDatabase.GetInts("ContentType")),t},this.AfterInit=function(e){if(!e)return;t().RouteFromURL()===""&&t().Push("/index")}}),this.WEBSITE_TITLE="kveroneau.github.io",this.DATE_FORMAT='dddd mmmm d, yyyy "at" hh:nn',this.Application=null,e.$main=function(){e.Application=s.$create("Create$1",[null]),e.Application.Initialize(),e.Application.Run()}}),initAPI=function(){window.GetContent=rtl.createSafeCallback(pas.program.Application,"GetContent"),AfterInit=rtl.createSafeCallback(pas.program.Application,"AfterInit"),AfterInit(!0)},SetTitle=function(e){document.getElementById("title").innerHTML=e},SetContent=function(e){document.getElementById("content").innerHTML=e}